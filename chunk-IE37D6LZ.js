import{a as m}from"./chunk-SSNXGR3A.js";import{a as u,b as f,c as k}from"./chunk-R6GE4XRP.js";import{F as p}from"./chunk-E57FTRWF.js";import"./chunk-U4J5SECU.js";import"./chunk-7EG726PT.js";import"./chunk-C7INQGWT.js";import"./chunk-WMHJC7XF.js";import"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import"./chunk-D2LVMNOU.js";import"./chunk-SNFOAZZQ.js";import"./chunk-QGVBCWUY.js";import{t as v}from"./chunk-HHDFN2GK.js";import"./chunk-47GHT6OF.js";import{a,b as r,f as c}from"./chunk-VTHXE323.js";function b(t,e,d){return c(this,null,function*(){let i=f(t),s=e.toJSON();e.validationSet&&(s.validationSet=JSON.stringify(e.validationSet));let n=r(a({},s),{returnEdits:!0,f:"json"}),l=k(a(a({},i.query),n)),o=u(l,r(a({},d),{method:"post"})),w=`${i.path}/validateNetworkTopology`,{data:y}=yield p(w,o);return m.fromJSON(g(y))})}function h(t,e,d){return c(this,null,function*(){if(!e.gdbVersion)throw new v("submit-validate-network-topology-job:missing-gdb-version","version is missing");let i=f(t),s=e.toJSON();e.validationSet&&(s.validationSet=JSON.stringify(e.validationSet));let n=u(i.query,r(a({query:k(r(a({},s),{returnEdits:!0,async:!0,f:"json"}))},d),{method:"post"})),l=`${i.path}/validateNetworkTopology`,{data:o}=yield p(l,n);return o?o.statusUrl:null})}function g(t){return t.serviceEdits&&(t.serviceEdits=t.serviceEdits.map(e=>(e.editedFeatures.spatialReference&&(e.editedFeatures.spatialReference={wkid:e.editedFeatures.spatialReference.wkid,wkt:e.editedFeatures.spatialReference.wkt,wkt2:e.editedFeatures.spatialReference.wkt2,latestWkid:e.editedFeatures.spatialReference.latestWkid,latestVcsWkid:e.editedFeatures.spatialReference.latestVcsWkid,vcsWkid:e.editedFeatures.spatialReference.vcsWkid}),e={layerId:e.id,editedFeatures:e.editedFeatures}))),t}export{g as handleValidateNetworkTopologyResult,h as submitValidateNetworkTopologyJob,b as validateNetworkTopology};
