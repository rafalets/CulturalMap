import{a as R,b as E}from"./chunk-I2HJDSJ4.js";import"./chunk-N7XX6O7L.js";import"./chunk-ZWYEIB75.js";import{a as y}from"./chunk-6D3BMGGD.js";import"./chunk-HIB3F52F.js";import"./chunk-Y34QJIHM.js";import"./chunk-PSIELDY2.js";import{a as V}from"./chunk-GFEJONAJ.js";import"./chunk-KLXERNY4.js";import{c as H}from"./chunk-WTJO2NGM.js";import"./chunk-3BZAI7HK.js";import"./chunk-LNYBTIG7.js";import"./chunk-RZU6EEB3.js";import"./chunk-SKMO433W.js";import"./chunk-2FO7ARYZ.js";import"./chunk-DJW5LMRG.js";import"./chunk-TCGGI7DC.js";import"./chunk-ALWV3RJ2.js";import"./chunk-7C6Z24SS.js";import"./chunk-5WKDXHVH.js";import"./chunk-PTZYZULI.js";import"./chunk-KZKWOEFD.js";import{a as F}from"./chunk-2BIJFS64.js";import"./chunk-SCKV27CX.js";import"./chunk-FXCL7YYQ.js";import{a as O}from"./chunk-HX2BGUTP.js";import"./chunk-XSTBHERR.js";import{a as T}from"./chunk-S7QYPX7J.js";import{a as J}from"./chunk-KWZIB4M6.js";import"./chunk-YQPWWSMJ.js";import"./chunk-JEIB6WNP.js";import"./chunk-6JJCXUHW.js";import"./chunk-CVRJ6GOM.js";import"./chunk-7B2UKJ5N.js";import"./chunk-RSDQHAJX.js";import{e as z,i as A,l as P}from"./chunk-TRZXSDYA.js";import{a as c}from"./chunk-OGS2SUK5.js";import{a as w,b as N}from"./chunk-TVHRLNTK.js";import"./chunk-JA3EMS2I.js";import"./chunk-HKHTIKVW.js";import"./chunk-XFESK2YB.js";import"./chunk-IJBTA53P.js";import"./chunk-QEBUS3TL.js";import{j as C}from"./chunk-IB2IUO7T.js";import"./chunk-MS3KE2OO.js";import"./chunk-NHSDW26F.js";import"./chunk-NMAGYK3Q.js";import"./chunk-GWBRHLNH.js";import"./chunk-J372WZPB.js";import"./chunk-6XFS4U2F.js";import"./chunk-XPRVY6JT.js";import"./chunk-7N3ZKWML.js";import"./chunk-E62WHYYG.js";import"./chunk-QDTU3MWT.js";import"./chunk-BCREO4Q5.js";import"./chunk-3SDSCSDJ.js";import"./chunk-I4M2OT5W.js";import{n as b}from"./chunk-NTVLK3P2.js";import"./chunk-WMQNRNIU.js";import"./chunk-HD52PWPC.js";import"./chunk-EIPVFA6F.js";import"./chunk-VOFKUGRY.js";import"./chunk-IG66NQHW.js";import"./chunk-ARRCN5K3.js";import"./chunk-5TW726OD.js";import"./chunk-VGD3XLDH.js";import{a as v,i as x}from"./chunk-LB5YQINJ.js";import{b as f}from"./chunk-EKMHQEJY.js";import"./chunk-VACZNAP3.js";import"./chunk-JKNCWG7E.js";import"./chunk-SLAWDKDA.js";import"./chunk-KTE5HCNJ.js";import"./chunk-F7VRLFCB.js";import"./chunk-7IPIJKWU.js";import"./chunk-7R33MKVL.js";import"./chunk-ISSJ3A6Y.js";import"./chunk-VDKRSX77.js";import"./chunk-WUA6PW3I.js";import"./chunk-E57FTRWF.js";import"./chunk-U4J5SECU.js";import{f as g}from"./chunk-7EG726PT.js";import{L as M,d as r}from"./chunk-C7INQGWT.js";import{H as n}from"./chunk-WMHJC7XF.js";import"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import{n as p}from"./chunk-D2LVMNOU.js";import"./chunk-SNFOAZZQ.js";import{a as e}from"./chunk-QGVBCWUY.js";import"./chunk-HHDFN2GK.js";import"./chunk-47GHT6OF.js";import{f as h}from"./chunk-VTHXE323.js";var l=class extends g.JSONSupportMixin(c.ClonableMixin(M)){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return p(this.position,t.position)&&p(this.elevationInfo,t.elevationInfo)&&R(this.feature,t.feature)}};e([r({type:b,json:{write:{isRequired:!0}}})],l.prototype,"position",void 0),e([r({type:O}),y()],l.prototype,"elevationInfo",void 0),e([r(E)],l.prototype,"feature",void 0),l=e([n("esri.analysis.LineOfSightAnalysisObserver")],l);var S=l;var m=class extends g.JSONSupportMixin(c){constructor(t){super(t),this.position=null,this.elevationInfo=null,this.feature=null}equals(t){return p(this.position,t.position)&&p(this.elevationInfo,t.elevationInfo)&&R(this.feature,t.feature)}};e([r({type:b,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),y()],m.prototype,"position",void 0),e([r({type:O}),y()],m.prototype,"elevationInfo",void 0),e([r(E)],m.prototype,"feature",void 0),m=e([n("esri.analysis.LineOfSightAnalysisTarget")],m);var L=m;var j=f.ofType(L),s=class extends V{constructor(t){super(t),this.type="line-of-sight",this.observer=null,this.extent=null}initialize(){this.addHandles(v(()=>this._computeExtent(),t=>{t?.pending==null&&this._set("extent",t!=null?t.extent:null)},x))}get targets(){return this._get("targets")||new j}set targets(t){this._set("targets",w(t,this.targets,j))}get spatialReference(){return this.observer?.position!=null?this.observer.position.spatialReference:null}get requiredPropertiesForEditing(){return[this.observer?.position]}waitComputeExtent(){return h(this,null,function*(){let t=this._computeExtent();return t!=null?t.pending:Promise.resolve()})}_computeExtent(){let t=this.spatialReference;if(this.observer?.position==null||t==null)return null;let i=u=>H(u.position,u.elevationInfo)==="absolute-height",a=this.observer.position,_=z(a.x,a.y,a.z,a.x,a.y,a.z);for(let u of this.targets)if(u.position!=null){let d=C(u.position,t);if(d.pending!=null)return{pending:d.pending,extent:null};if(d.geometry!=null){let{x:G,y:W,z:k}=d.geometry;P(_,[G,W,k])}}let I=A(_,t);return i(this.observer)&&this.targets.every(i)||(I.zmin=void 0,I.zmax=void 0),{pending:null,extent:I}}clear(){this.observer=null,this.targets.removeAll()}};e([r({type:["line-of-sight"]})],s.prototype,"type",void 0),e([r({type:S,json:{read:!0,write:!0}})],s.prototype,"observer",void 0),e([r({cast:N,type:j,nonNullable:!0,json:{read:!0,write:!0}})],s.prototype,"targets",null),e([r({value:null,readOnly:!0})],s.prototype,"extent",void 0),e([r({readOnly:!0})],s.prototype,"spatialReference",null),e([r({readOnly:!0})],s.prototype,"requiredPropertiesForEditing",null),s=e([n("esri.analysis.LineOfSightAnalysis")],s);var q=s;var B=f.ofType(L),o=class extends F(T(J)){constructor(t){super(t),this.type="line-of-sight",this.operationalLayerType="LineOfSightLayer",this.analysis=new q,this.opacity=1}initialize(){this.addHandles(v(()=>this.analysis,(t,i)=>{i!=null&&i.parent===this&&(i.parent=null),t!=null&&(t.parent=this)},x))}load(){return h(this,null,function*(){return this.analysis!=null&&this.addResolvingPromise(this.analysis.waitComputeExtent()),this})}get observer(){return this.analysis?.observer}set observer(t){let{analysis:i}=this;i&&(i.observer=t)}get targets(){return this.analysis!=null?this.analysis.targets:new f}set targets(t){w(t,this.analysis?.targets)}get fullExtent(){return this.analysis!=null?this.analysis.extent:null}get spatialReference(){return this.analysis!=null?this.analysis.spatialReference:null}releaseAnalysis(t){this.analysis===t&&(this.analysis=new q)}};e([r({json:{read:!1},readOnly:!0})],o.prototype,"type",void 0),e([r({type:["LineOfSightLayer"]})],o.prototype,"operationalLayerType",void 0),e([r({type:S,json:{read:!0,write:{isRequired:!0,ignoreOrigin:!0}}})],o.prototype,"observer",null),e([r({type:B,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],o.prototype,"targets",null),e([r({type:q,nonNullable:!0,json:{read:!1,write:!1}})],o.prototype,"analysis",void 0),e([r({readOnly:!0})],o.prototype,"fullExtent",null),e([r({readOnly:!0})],o.prototype,"spatialReference",null),e([r({readOnly:!0,json:{read:!1,write:!1,origins:{service:{read:!1,write:!1},"portal-item":{read:!1,write:!1},"web-document":{read:!1,write:!1}}}})],o.prototype,"opacity",void 0),e([r({type:["show","hide"]})],o.prototype,"listMode",void 0),o=e([n("esri.layers.LineOfSightLayer")],o);var re=o;export{re as default};
