import{o as l}from"./chunk-C7INQGWT.js";function u(n,o,e){return o.flatten(({sublayers:i})=>i).length!==n.length?!0:!!n.some(i=>i.originIdOf("minScale")>e||i.originIdOf("maxScale")>e||i.originIdOf("renderer")>e||i.originIdOf("labelingInfo")>e||i.originIdOf("opacity")>e||i.originIdOf("labelsVisible")>e||i.originIdOf("source")>e)||!a(n,o)}function c(n,o,e){return!!n.some(r=>{let i=r.source,t=!i||i.type==="map-layer"&&i.mapLayerId===r.id&&(i.gdbVersion==null||i.gdbVersion===e);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");let s=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!t||r.originIdOf("renderer")>l.SERVICE||r.originIdOf("labelingInfo")>l.SERVICE||r.originIdOf("opacity")>l.SERVICE||r.originIdOf("labelsVisible")>l.SERVICE||s&&r.originIdOf("orderBy")>l.SERVICE})||!a(n,o)}function a(n,o){if(!n?.length||o==null)return!0;let e=o.slice().reverse().flatten(({sublayers:t})=>t&&t.toArray().reverse()).map(t=>t.id).toArray();if(n.length>e.length)return!1;let r=0,i=e.length;for(let{id:t}of n){for(;r<i&&e[r]!==t;)r++;if(r>=i)return!1}return!0}function d(n){return!!n&&n.some(o=>o.minScale!=null||o.layerDefinition?.minScale!=null)}export{u as a,c as b,d as c};
