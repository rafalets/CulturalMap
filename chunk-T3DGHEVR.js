var I=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\xAB","\xBB"],["\xBB","\xAB"],["\u2039","\u203A"],["\u203A","\u2039"],["\u207D","\u207E"],["\u207E","\u207D"],["\u208D","\u208E"],["\u208E","\u208D"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232A"],["\u232A","\u2329"],["\uFE59","\uFE5A"],["\uFE5A","\uFE59"],["\uFE5B","\uFE5C"],["\uFE5C","\uFE5B"],["\uFE5D","\uFE5E"],["\uFE5E","\uFE5D"],["\uFE64","\uFE65"],["\uFE65","\uFE64"]],v=["\u0622","\u0623","\u0625","\u0627"],Z=["\uFEF5","\uFEF7","\uFEF9","\uFEFB"],$=["\uFEF6","\uFEF8","\uFEFA","\uFEFC"],O=["\u0627","\u0628","\u062A","\u062B","\u062C","\u062D","\u062E","\u062F","\u0630","\u0631","\u0632","\u0633","\u0634","\u0635","\u0636","\u0637","\u0638","\u0639","\u063A","\u0641","\u0642","\u0643","\u0644","\u0645","\u0646","\u0647","\u0648","\u064A","\u0625","\u0623","\u0622","\u0629","\u0649","\u0644","\u0645","\u0646","\u0647","\u0648","\u064A","\u0625","\u0623","\u0622","\u0629","\u0649","\u06CC","\u0626","\u0624"],G=["\uFE8D","\uFE8F","\uFE95","\uFE99","\uFE9D","\uFEA1","\uFEA5","\uFEA9","\uFEAB","\uFEAD","\uFEAF","\uFEB1","\uFEB5","\uFEB9","\uFEBD","\uFEC1","\uFEC5","\uFEC9","\uFECD","\uFED1","\uFED5","\uFED9","\uFEDD","\uFEE1","\uFEE5","\uFEE9","\uFEED","\uFEF1","\uFE87","\uFE83","\uFE81","\uFE93","\uFEEF","\uFBFC","\uFE89","\uFE85","\uFE70","\uFE72","\uFE74","\uFE76","\uFE78","\uFE7A","\uFE7C","\uFE7E","\uFE80","\uFE89","\uFE85"],H=["\uFE8E","\uFE90","\uFE96","\uFE9A","\uFE9E","\uFEA2","\uFEA6","\uFEAA","\uFEAC","\uFEAE","\uFEB0","\uFEB2","\uFEB6","\uFEBA","\uFEBE","\uFEC2","\uFEC6","\uFECA","\uFECE","\uFED2","\uFED6","\uFEDA","\uFEDE","\uFEE2","\uFEE6","\uFEEA","\uFEEE","\uFEF2","\uFE88","\uFE84","\uFE82","\uFE94","\uFEF0","\uFBFD","\uFE8A","\uFE86","\uFE70","\uFE72","\uFE74","\uFE76","\uFE78","\uFE7A","\uFE7C","\uFE7E","\uFE80","\uFE8A","\uFE86"],J=["\uFE8E","\uFE92","\uFE98","\uFE9C","\uFEA0","\uFEA4","\uFEA8","\uFEAA","\uFEAC","\uFEAE","\uFEB0","\uFEB4","\uFEB8","\uFEBC","\uFEC0","\uFEC4","\uFEC8","\uFECC","\uFED0","\uFED4","\uFED8","\uFEDC","\uFEE0","\uFEE4","\uFEE8","\uFEEC","\uFEEE","\uFEF4","\uFE88","\uFE84","\uFE82","\uFE94","\uFEF0","\uFBFF","\uFE8C","\uFE86","\uFE71","\uFE72","\uFE74","\uFE77","\uFE79","\uFE7B","\uFE7D","\uFE7F","\uFE80","\uFE8C","\uFE86"],K=["\uFE8D","\uFE91","\uFE97","\uFE9B","\uFE9F","\uFEA3","\uFEA7","\uFEA9","\uFEAB","\uFEAD","\uFEAF","\uFEB3","\uFEB7","\uFEBB","\uFEBF","\uFEC3","\uFEC7","\uFECB","\uFECF","\uFED3","\uFED7","\uFEDB","\uFEDF","\uFEE3","\uFEE7","\uFEEB","\uFEED","\uFEF3","\uFE87","\uFE83","\uFE81","\uFE93","\uFEEF","\uFBFE","\uFE8B","\uFE85","\uFE70","\uFE72","\uFE74","\uFE76","\uFE78","\uFE7A","\uFE7C","\uFE7E","\uFE80","\uFE8B","\uFE85"],W=["\u0621","\u0622","\u0623","\u0624","\u0625","\u0627","\u0629","\u062F","\u0630","\u0631","\u0632","\u0648","\u0649"],Q=["\u064B","\u064B","\u064C","\u061F","\u064D","\u061F","\u064E","\u064E","\u064F","\u064F","\u0650","\u0650","\u0651","\u0651","\u0652","\u0652","\u0621","\u0622","\u0622","\u0623","\u0623","\u0624","\u0624","\u0625","\u0625","\u0626","\u0626","\u0626","\u0626","\u0627","\u0627","\u0628","\u0628","\u0628","\u0628","\u0629","\u0629","\u062A","\u062A","\u062A","\u062A","\u062B","\u062B","\u062B","\u062B","\u062C","\u062C","\u062C","\u062C","\u062D","\u062D","\u062D","\u062D","\u062E","\u062E","\u062E","\u062E","\u062F","\u062F","\u0630","\u0630","\u0631","\u0631","\u0632","\u0632","\u0633","\u0633","\u0633","\u0633","\u0634","\u0634","\u0634","\u0634","\u0635","\u0635","\u0635","\u0635","\u0636","\u0636","\u0636","\u0636","\u0637","\u0637","\u0637","\u0637","\u0638","\u0638","\u0638","\u0638","\u0639","\u0639","\u0639","\u0639","\u063A","\u063A","\u063A","\u063A","\u0641","\u0641","\u0641","\u0641","\u0642","\u0642","\u0642","\u0642","\u0643","\u0643","\u0643","\u0643","\u0644","\u0644","\u0644","\u0644","\u0645","\u0645","\u0645","\u0645","\u0646","\u0646","\u0646","\u0646","\u0647","\u0647","\u0647","\u0647","\u0648","\u0648","\u0649","\u0649","\u064A","\u064A","\u064A","\u064A","\uFEF5","\uFEF6","\uFEF7","\uFEF8","\uFEF9","\uFEFA","\uFEFB","\uFEFC","\u061F","\u061F","\u061F"],Y=["\u0621","\u0641"],X=["\u063A","\u064A"],tt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],at=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],r=0,i=1,T=2,d=3,t=4,_=5,V=6,a=7,B=8,p=9,g=10,h=11,e=12,ht=13,At=14,bt=15,Lt=16,mt=17,c=18,rt=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],U=100,et=[U+0,r,r,r,r,U+1,U+2,U+3,i,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,U+4,t,t,t,r,t,r,t,r,t,t,t,r,r,t,t,r,r,r,r,r,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,r,r,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,r,r,t,t,r,r,t,t,r,r,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,r,r,r,U+5,a,a,U+6,U+7],st=[[c,c,c,c,c,c,c,c,c,V,_,V,B,_,c,c,c,c,c,c,c,c,c,c,c,c,c,c,_,_,_,V,B,t,t,h,h,h,t,t,t,t,t,g,p,g,p,p,T,T,T,T,T,T,T,T,T,T,p,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,c,c,c,c,c,c,_,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,c,p,t,h,h,h,h,t,t,t,t,r,t,t,c,t,t,h,h,T,T,t,r,t,t,t,T,r,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,r,r,r,r,r,r,r,r],[r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,r,r,r,r,r,r,r,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,r,t,t,t,t,t,t,t,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,i,e,i,e,e,i,e,e,i,e,t,t,t,t,t,t,t,t,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,t,t,t,t,t,i,i,i,i,i,t,t,t,t,t,t,t,t,t,t,t],[d,d,d,d,t,t,t,t,a,h,h,a,p,a,t,t,e,e,e,e,e,e,e,e,e,e,e,a,t,t,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,d,d,d,d,d,d,d,d,d,d,h,d,d,a,a,a,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,e,e,e,e,e,e,e,d,t,e,e,e,e,e,e,a,a,e,e,t,e,e,e,e,a,a,T,T,T,T,T,T,T,T,T,T,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,t,a,a,e,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,t,t,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,e,e,e,e,e,e,e,e,e,e,e,a,t,t,t,t,t,t,t,t,t,t,t,t,t,t,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,e,e,e,e,e,e,e,e,e,i,i,t,t,t,t,i,t,t,t,t,t],[B,B,B,B,B,B,B,B,B,B,B,c,c,c,r,i,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,B,_,ht,At,bt,Lt,mt,p,h,h,h,h,h,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,p,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,B,c,c,c,c,c,t,t,t,t,t,c,c,c,c,c,c,T,r,t,t,T,T,T,T,T,T,g,g,t,t,t,r,T,T,T,T,T,T,T,T,T,T,g,g,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t],[r,r,r,r,r,r,r,t,t,t,t,t,t,t,t,t,t,t,t,r,r,r,r,r,t,t,t,t,t,i,e,i,i,i,i,i,i,i,i,i,i,g,i,i,i,i,i,i,i,i,i,i,i,i,i,t,i,i,i,i,i,t,i,t,i,i,t,i,i,t,i,i,i,i,i,i,i,i,i,i,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a],[e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,e,e,e,e,e,e,e,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,p,t,p,t,t,p,t,t,t,t,t,t,t,t,t,h,t,t,g,g,t,t,t,t,t,h,h,t,t,t,t,t,a,a,a,a,a,t,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,t,t,c],[t,t,t,h,h,h,t,t,t,t,t,g,p,g,p,p,T,T,T,T,T,T,T,T,T,T,p,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,t,t,t,t,t,t,t,t,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,t,t,t,r,r,r,r,r,r,t,t,r,r,r,r,r,r,t,t,r,r,r,r,r,r,t,t,r,r,r,t,t,t,h,h,t,t,t,h,h,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t,t]];var nt=class{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(s,o,u){if(this.sourceToTarget=[],this.targetToSource=[],!s)return"";if(Ot(this.sourceToTarget,this.targetToSource,s.length),!this.checkParameters(o,u))return s;o=this.inputFormat,u=this.outputFormat;let l=s,f=yt,b=ut(o.charAt(1)),A=ut(u.charAt(1)),L=(o.charAt(0)==="I"?"L":o.charAt(0))+b,m=(u.charAt(0)==="I"?"L":u.charAt(0))+A,F=o.charAt(2)+u.charAt(2);f.defInFormat=L,f.defOutFormat=m,f.defSwap=F;let N=x(s,L,m,F,f),w=!1;return u.charAt(1)==="R"?w=!0:u.charAt(1)!=="C"&&u.charAt(1)!=="D"||(w=this.checkContextual(N)==="rtl"),this.sourceToTarget=R,this.targetToSource=xt(this.sourceToTarget),D=this.targetToSource,l=o.charAt(3)===u.charAt(3)?N:u.charAt(3)==="S"?Ft(w,N):Rt(N,w,!0),this.sourceToTarget=R,this.targetToSource=D,this.levels=M,l}_inputFormatSetter(s){if(!lt.test(s))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=s}_outputFormatSetter(s){if(!lt.test(s))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=s}checkParameters(s,o){return s?this._inputFormatSetter(s):s=this.inputFormat,o?this._outputFormatSetter(o):o=this.outputFormat,s!==o}checkContextual(s){let o=k(s);if(o!=="ltr"&&o!=="rtl"){try{o=document.dir.toLowerCase()}catch{}o!=="ltr"&&o!=="rtl"&&(o="ltr")}return o}hasBidiChar(s){return Dt.test(s)}};function x(n,s,o,u,l){let f=dt(n,{inFormat:s,outFormat:o,swap:u},l);if(f.inFormat===f.outFormat)return n;s=f.inFormat,o=f.outFormat,u=f.swap;let b=s.slice(0,1),A=s.slice(1,4),L=o.slice(0,1),m=o.slice(1,4);if(l.inFormat=s,l.outFormat=o,l.swap=u,b==="L"&&o==="VLTR"){if(A==="LTR")return l.dir=C,S(n,l);if(A==="RTL")return l.dir=y,S(n,l)}if(b==="V"&&L==="V")return l.dir=A==="RTL"?y:C,z(n,l);if(b==="L"&&o==="VRTL")return A==="LTR"?(l.dir=C,n=S(n,l)):(l.dir=y,n=S(n,l)),z(n);if(s==="VLTR"&&o==="LLTR")return l.dir=C,S(n,l);if(b==="V"&&L==="L"&&A!==m)return n=z(n),A==="RTL"?x(n,"LLTR","VLTR",u,l):x(n,"LRTL","VRTL",u,l);if(s==="VRTL"&&o==="LRTL")return x(n,"LRTL","VRTL",u,l);if(b==="L"&&L==="L"){let F=l.swap;return l.swap=F.slice(0,1)+"N",A==="RTL"?(l.dir=y,n=S(n,l),l.swap="N"+F.slice(1,3),l.dir=C,n=S(n,l)):(l.dir=C,n=S(n,l),l.swap="N"+F.slice(1,3),n=x(n,"VLTR","LRTL",l.swap,l)),n}return n}function dt(n,s,o){if(s.inFormat===void 0&&(s.inFormat=o.defInFormat),s.outFormat===void 0&&(s.outFormat=o.defOutFormat),s.swap===void 0&&(s.swap=o.defSwap),s.inFormat===s.outFormat)return s;let u=s.inFormat.slice(0,1),l=s.outFormat.slice(0,1),f,b=s.inFormat.slice(1,4),A=s.outFormat.slice(1,4);return b.charAt(0)==="C"&&(f=k(n),b=f==="ltr"||f==="rtl"?f.toUpperCase():s.inFormat.charAt(2)==="L"?"LTR":"RTL",s.inFormat=u+b),A.charAt(0)==="C"&&(f=k(n),f==="rtl"?A="RTL":f==="ltr"?(f=pt(n),A=f.toUpperCase()):A=s.outFormat.charAt(2)==="L"?"LTR":"RTL",s.outFormat=l+A),s}function Ft(n,s,o){if(s.length===0)return"";n===void 0&&(n=!0);let u=(s=String(s)).split(""),l=0,f=1,b=u.length;n||(l=u.length-1,f=-1,b=1);let A=Bt(u,l,f,b),L="";for(let m=0;m<u.length;m++)St(A,A.length,m)>-1?(Tt(D,m,!n,-1),R.splice(m,1)):L+=u[m];return L}function Bt(n,s,o,u,l){let f=0,b=[],A=0;for(let L=s;L*o<u;L+=o)if(ct(n[L])||j(n[L])){if(n[L]==="\u0644"&&Nt(n,L+o,o,u)){n[L]=It(n[L+o],f===0?Z:$),L+=o,Vt(n,L,o,u),b[A]=L,A++,f=0;continue}let m=n[L];f===1?n[L]=it(n,L+o,o,u)?Ct(n[L]):q(n[L],H):it(n,L+o,o,u)===!0?n[L]=q(n[L],K):n[L]=q(n[L],G),j(m)||(f=1),vt(m)===!0&&(f=0)}else f=0;return b}function k(n){let s=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(n);return s?s[0]<="z"?"ltr":"rtl":""}function pt(n){let s=n.split("");return s.reverse(),k(s.join(""))}function Rt(n,s,o){if(n.length===0)return"";s===void 0&&(s=!0);let u="",l=(n=String(n)).split("");for(let f=0;f<n.length;f++){let b=!1;if(l[f]>="\uFE70"&&l[f]<"\uFEFF"){let A=n.charCodeAt(f);l[f]>="\uFEF5"&&l[f]<="\uFEFC"?(s?(f>0&&o&&l[f-1]===" "?u=u.slice(0,-1)+"\u0644":(u+="\u0644",b=!0),u+=v[(A-65269)/2]):(u+=v[(A-65269)/2],u+="\u0644",f+1<n.length&&o&&l[f+1]===" "?f++:b=!0),b&&(Tt(D,f,!0,1),R.splice(f,0,R[f]))):u+=Q[A-65136]}else u+=l[f]}return u}function S(n,s){let o=n.split(""),u=[];return ft(o,u,s),Ut(o,u,s),ot(2,o,u,s),ot(1,o,u,s),M=u,o.join("")}function ft(n,s,o){let u=n.length,l=o.dir?at:tt,f=0,b=-1,A=[],L=[];o.hiLevel=o.dir,o.lastArabic=!1,o.hasUbatAl=!1,o.hasUbatB=!1,o.hasUbatS=!1;for(let m=0;m<u;m++)A[m]=_t(n[m]);for(let m=0;m<u;m++){let F=f,N=wt(n,A,L,m,o);L[m]=N,f=l[F][N];let w=240&f;f&=15;let P=l[f][jt];if(s[m]=P,w>0)if(w===16){for(let E=b;E<m;E++)s[E]=1;b=-1}else b=-1;if(l[f][kt])b===-1&&(b=m);else if(b>-1){for(let E=b;E<m;E++)s[E]=P;b=-1}A[m]===_&&(s[m]=0),o.hiLevel|=P}o.hasUbatS&&gt(A,s,u,o)}function gt(n,s,o,u){for(let l=0;l<o;l++)if(n[l]===V){s[l]=u.dir;for(let f=l-1;f>=0&&n[f]===B;f--)s[f]=u.dir}}function Ut(n,s,o){if(o.hiLevel!==0&&o.swap[0]!==o.swap[1])for(let u=0;u<n.length;u++)s[u]===1&&(n[u]=Et(n[u]))}function _t(n){let s=n.charCodeAt(0),o=et[s>>8];return o<U?o:st[o-U][255&s]}function z(n,s){let o=n.split("");if(s){let u=[];ft(o,u,s),M=u}return o.reverse(),R.reverse(),o.join("")}function St(n,s,o){for(let u=0;u<s;u++)if(n[u]===o)return u;return-1}function ct(n){for(let s=0;s<Y.length;s++)if(n>=Y[s]&&n<=X[s])return!0;return!1}function it(n,s,o,u){for(;s*o<u&&j(n[s]);)s+=o;return!!(s*o<u&&ct(n[s]))}function Nt(n,s,o,u){for(;s*o<u&&j(n[s]);)s+=o;let l=" ";if(!(s*o<u))return!1;l=n[s];for(let f=0;f<v.length;f++)if(v[f]===l)return!0;return!1}function ot(n,s,o,u){if(u.hiLevel<n)return;if(n===1&&u.dir===y&&!u.hasUbatB)return s.reverse(),void R.reverse();let l=s.length,f,b,A,L,m,F=0;for(;F<l;){if(o[F]>=n){for(f=F+1;f<l&&o[f]>=n;)f++;for(b=F,A=f-1;b<A;b++,A--)L=s[b],s[b]=s[A],s[A]=L,m=R[b],R[b]=R[A],R[A]=m;F=f}F++}}function wt(n,s,o,u,l){let f=s[u];return{UBAT_L:()=>(l.lastArabic=!1,r),UBAT_R:()=>(l.lastArabic=!1,i),UBAT_ON:()=>t,UBAT_AN:()=>d,UBAT_EN:()=>l.lastArabic?d:T,UBAT_AL:()=>(l.lastArabic=!0,l.hasUbatAl=!0,i),UBAT_WS:()=>t,UBAT_CS:()=>{let b,A;return u<1||u+1>=s.length||(b=o[u-1])!==T&&b!==d||(A=s[u+1])!==T&&A!==d?t:(l.lastArabic&&(A=d),A===b?A:t)},UBAT_ES:()=>(u>0?o[u-1]:_)===T&&u+1<s.length&&s[u+1]===T?T:t,UBAT_ET:()=>{if(u>0&&o[u-1]===T)return T;if(l.lastArabic)return t;let b=u+1,A=s.length;for(;b<A&&s[b]===h;)b++;return b<A&&s[b]===T?T:t},UBAT_NSM:()=>{if(l.inFormat==="VLTR"){let b=s.length,A=u+1;for(;A<b&&s[A]===e;)A++;if(A<b){let L=n[u].charCodeAt(0),m=L>=1425&&L<=2303||L===64286,F=s[A];if(m&&(F===i||F===a))return i}}return u<1||s[u-1]===_?t:o[u-1]},UBAT_B:()=>(l.lastArabic=!0,l.hasUbatB=!0,l.dir),UBAT_S:()=>(l.hasUbatS=!0,t),UBAT_LRE:()=>(l.lastArabic=!1,t),UBAT_RLE:()=>(l.lastArabic=!1,t),UBAT_LRO:()=>(l.lastArabic=!1,t),UBAT_RLO:()=>(l.lastArabic=!1,t),UBAT_PDF:()=>(l.lastArabic=!1,t),UBAT_BN:()=>t}[rt[f]]()}function Et(n){let s,o=0,u=I.length-1;for(;o<=u;)if(s=Math.floor((o+u)/2),n<I[s][0])u=s-1;else{if(!(n>I[s][0]))return I[s][1];o=s+1}return n}function vt(n){for(let s=0;s<W.length;s++)if(W[s]===n)return!0;return!1}function Ct(n){for(let s=0;s<O.length;s++)if(n===O[s])return J[s];return n}function q(n,s){for(let o=0;o<O.length;o++)if(n===O[o])return s[o];return n}function j(n){return n>="\u064B"&&n<="\u0655"}function ut(n){return n==="L"?"LTR":n==="R"?"RTL":n==="C"?"CLR":n==="D"?"CRL":""}function Vt(n,s,o,u){for(;s*o<u&&j(n[s]);)s+=o;return s*o<u&&(n[s]=" ",!0)}function It(n,s){for(let o=0;o<v.length;o++)if(n===v[o])return s[o];return n}function Ot(n,s,o){R=[],M=[];for(let u=0;u<o;u++)n[u]=u,s[u]=u,R[u]=u}function xt(n){let s=new Array(n.length);for(let o=0;o<n.length;o++)s[n[o]]=o;return s}function Tt(n,s,o,u){for(let l=0;l<n.length;l++)(n[l]>s||!o&&n[l]===s)&&(n[l]+=u)}var R=[],D=[],M=[],yt={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1,defOutFormat:""},jt=5,kt=6,C=0,y=1,lt=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,Dt=/[\u0591-\u06ff\ufb1d-\ufefc]/;export{nt as a};
