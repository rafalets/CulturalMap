import{a as Ku,b as UE,c as jE,d as zE,e as GE,f as WE}from"./chunk-DQZJXCCL.js";import"./chunk-5PZVB26A.js";import{$ as bu,$a as Pt,$b as Ot,A as Oa,Aa as hx,Ab as fi,Ac as et,B as ov,Ba as dr,Bb as v,Bc as Vx,C as Zt,Ca as rt,Cb as _,Cc as Mu,D as rv,Da as Cu,Db as F,Dc as wv,E as qr,Ea as fx,Eb as ih,Ec as ph,F as Va,Fa as uv,Fb as he,G as av,Ga as Jl,Gb as ur,H as ox,Ha as mi,Hb as P,I as sv,Ia as xu,Ib as k,J as rx,Ja as $l,Jb as _t,K as ax,Ka as Xl,Kb as Ee,L as lv,La as gx,Lb as gi,M as Zl,Ma as yx,Mb as Jt,N as Ht,Na as _x,Nb as le,O as Ei,Oa as vx,Ob as J,P as Ge,Pa as bx,Pb as $,Q as sx,Qa as Ax,Qb as kx,R as Rt,Ra as wx,Rb as Tx,S as We,Sa as Pn,Sb as Et,T as Yr,Ta as Gs,Tb as S,U as W,Ua as Cx,Ub as Ue,V as ce,Va as pv,Vb as Vo,W as lx,Wa as mv,Wb as yi,X as H,Xa as w,Xb as nh,Y as cv,Ya as Su,Yb as oh,Z as Fe,Za as ln,Zb as rh,_ as m,_a as Ni,_b as Ye,a as $e,aa as dv,ab as Y,ac as yv,b as tx,ba as Us,bb as Iu,bc as ah,c as Jn,ca as cx,cb as cn,cc as sh,d as ev,da as Xn,db as xx,dc as _v,e as tv,ea as Fo,eb as hv,ec as vv,f as Q,fa as ht,fb as Sx,fc as Dx,g as Bi,ga as B,gb as Ix,gc as Fx,h as Rn,ha as N,hb as U,hc as je,i as sn,ia as Ro,ib as de,ic as Rx,j as se,ja as Au,jb as ne,jc as me,k as Ns,ka as Kt,kb as Xe,kc as eo,l as iv,la as Te,lb as Mx,lc as Lo,m as ix,ma as La,mb as V,mc as pr,n as pi,na as dx,nb as fv,nc as lh,o as _e,oa as ux,ob as th,oc as ch,p as vu,pa as wu,pb as gv,pc as ec,q as $n,qa as q,qb as Zr,qc as Px,r as Xm,ra as pe,rb as ue,rc as Ox,s as Qr,sa as Ba,sb as E,sc as fe,t as eh,ta as px,tb as Oo,tc,u as nx,ua as oe,ub as te,uc as dh,v as Mi,va as js,vb as ri,vc as Ut,w as nt,wa as Po,wb as Ex,wc as bv,x as nv,xa as Kl,xb as j,xc as ic,y as Pa,ya as mx,yb as dn,yc as Av,z as Hs,za as zs,zb as hi,zc as uh}from"./chunk-2Z6MC4QX.js";import{a as ef,b as OE,c as VE,d as LE,e as BE,f as sf,g as Sc,h as fb,i as Zu,j as Ar,k as Ic,l as ta,m as Ja,n as NE,o as lf,u as cf,v as df,w as HE}from"./chunk-GL53GSPS.js";import{a as af}from"./chunk-SMLANMHE.js";import{a as PE}from"./chunk-MOZNSKZG.js";import"./chunk-RCUBR556.js";import"./chunk-4HNMM765.js";import"./chunk-SSNXGR3A.js";import"./chunk-DXESEXTD.js";import{b as mE,c as hE}from"./chunk-7QX65YW7.js";import"./chunk-HYDGCQTC.js";import{a as ea}from"./chunk-G4MSHRJ3.js";import{a as FE,b as RE,d as xc}from"./chunk-G4BV3YO7.js";import{a as DE,b as mb}from"./chunk-QZT7QMTB.js";import"./chunk-QW25UBG2.js";import{b as hb}from"./chunk-OTO4USI3.js";import"./chunk-OSKPIRVE.js";import"./chunk-2AZGC46B.js";import"./chunk-HR4LHAHO.js";import"./chunk-DJ6TVMFM.js";import"./chunk-3PSFVK5X.js";import"./chunk-A6AUN6JK.js";import"./chunk-OGTXAEI4.js";import"./chunk-QXCWUIQ2.js";import"./chunk-OC2XJJQU.js";import{a as TE,c as pb}from"./chunk-E6JHCD7G.js";import{a as br,b as pE,c as tf,d as nf}from"./chunk-DIWV6SBV.js";import{a as ME}from"./chunk-EG4FJL5O.js";import{a as Yu,d as kE}from"./chunk-NSDBF4VB.js";import"./chunk-IL63CQ3W.js";import{c as EE,d as Ka}from"./chunk-LK4L5XN7.js";import"./chunk-BYX5KLGZ.js";import"./chunk-5IRLA4AM.js";import"./chunk-AVLSWJCG.js";import"./chunk-FKL22O54.js";import"./chunk-IOI3V6WL.js";import"./chunk-IAM754TS.js";import"./chunk-DLMQHZTF.js";import"./chunk-QAJCY744.js";import{a as IE}from"./chunk-XE6PIB3P.js";import{a as al,b as Cc,c as ub}from"./chunk-2XQT24NO.js";import{a as Jv,b as dM,c as Nu,d as Hu,f as cE,g as dE,h as wc}from"./chunk-BGDWAR5T.js";import{g as uE,h as Ac}from"./chunk-MUJBU3Y2.js";import{a as cb}from"./chunk-PUWPAT3A.js";import{c as fE,d as gE,f as yE,g as _E}from"./chunk-WN44NZXY.js";import{a as db}from"./chunk-43SGVIEU.js";import"./chunk-Y4OUS3AZ.js";import{a as xE,b as SE}from"./chunk-CCGZQUKC.js";import{a as wE,b as CE}from"./chunk-NKCIC566.js";import{a as AE}from"./chunk-7LVUNMSI.js";import{a as bE}from"./chunk-4H6RA546.js";import{b as Ke,c as cM,d as zo}from"./chunk-5K5ZHVX6.js";import"./chunk-SNPAQLOL.js";import{b as rf}from"./chunk-SNL6C5QO.js";import{a as Xr,b as of,v as vE}from"./chunk-7HLFOT25.js";import"./chunk-67ZC4UJG.js";import"./chunk-S5WFBHUR.js";import"./chunk-EY7OVTAY.js";import"./chunk-YO56ZRXD.js";import"./chunk-3XU3H6IS.js";import{a as sE,b as sb,c as lb,d as lE}from"./chunk-CU7B2I5A.js";import{A as Kh,B as MM,C as Jh,D as EM,E as kM,F as TM,G as DM,H as tb,I as Wu,J as FM,K as ib,L as rl,M as RM,N as nb,O as ob,P as PM,Q as OM,R as VM,S as Qu,T as LM,U as BM,V as NM,W as HM,X as UM,Y as jM,Z as rE,_ as aE,a as $v,c as uM,e as fM,f as Uu,g as ju,h as zu,i as gM,j as yM,k as _M,l as vM,m as Xv,n as bM,o as AM,p as $r,q as wM,r as CM,s as xM,t as SM,u as IM,v as eb,w as qa,x as Ya,y as Za,z as Gu}from"./chunk-6SDD2S5F.js";import{a as ol,b as vr,c as Yh,d as pM}from"./chunk-LZ2LEOYK.js";import{a as li,b as _r}from"./chunk-PMOAKYXH.js";import{p as Zh}from"./chunk-AA5W2OSC.js";import"./chunk-RXT2WPNA.js";import{b as qu}from"./chunk-2ZKDDIFZ.js";import{a as be}from"./chunk-FHBFWDFD.js";import{a as mM,b as hM}from"./chunk-5WVYBDFE.js";import{a as ct,b as Xh,c as zM,d as so,f as GM,g as WM,i as QM,j as qM,k as YM,l as ZM,m as KM,n as JM,o as $M,p as XM,q as eE,r as rb,s as tE,u as iE,v as ab,w as nE,y as oE}from"./chunk-TZ5TEUYV.js";import{a as $h}from"./chunk-WBPLJNRU.js";import"./chunk-5X2QFKFJ.js";import"./chunk-YYA5WIRF.js";import{h as aM,i as yr,j as sM}from"./chunk-R3KYOH5H.js";import{b as Kv}from"./chunk-3RCM37YV.js";import"./chunk-FTQ4RHIU.js";import{a as $I,b as XI}from"./chunk-EG4E2T2R.js";import{a as rM}from"./chunk-3QCWBHPT.js";import{a as oM}from"./chunk-4D3QHJI2.js";import{c as eM,e as tM,g as iM,j as nM}from"./chunk-E2J2V7JN.js";import{a as vt}from"./chunk-7X55A7Q6.js";import{a as Gh,b as Wh}from"./chunk-L755QJ73.js";import{a as ao}from"./chunk-VU33T72I.js";import"./chunk-7EKEC7JO.js";import{a as GI}from"./chunk-4I3TP4TP.js";import{a as jo}from"./chunk-XA3H5C5C.js";import{a as zI}from"./chunk-OYERMUCP.js";import"./chunk-OCNYIIP3.js";import{b as jI}from"./chunk-HUWVQAJL.js";import{b as Vu}from"./chunk-THX6XNHV.js";import{a as UI}from"./chunk-J3BDQLVD.js";import"./chunk-X7BNFUFQ.js";import{a as bc}from"./chunk-P6M7OD5Q.js";import{c as Ou,d as HI}from"./chunk-NFWLUI2Z.js";import"./chunk-WRYEUJBQ.js";import"./chunk-DQOFEB5P.js";import{a as Wa}from"./chunk-ELQ6TEDY.js";import{a as NI,b as Qv,c as qv}from"./chunk-JMMCRVVF.js";import"./chunk-LFET65NO.js";import"./chunk-4Y7EKSO4.js";import"./chunk-YYSOEVU6.js";import"./chunk-E56W4PK4.js";import"./chunk-IPGHBSHO.js";import"./chunk-XPXAET6Q.js";import{b as Wv}from"./chunk-37H4LYIE.js";import"./chunk-BUZBVNOM.js";import"./chunk-VYZHOYXV.js";import{a as jh}from"./chunk-ICWXUNPZ.js";import"./chunk-VC7OIMIK.js";import"./chunk-NIYDRLW4.js";import{j as zh}from"./chunk-WTJO2NGM.js";import{a as ro,b as Gv}from"./chunk-3Q427ME6.js";import"./chunk-3BZAI7HK.js";import"./chunk-LNYBTIG7.js";import"./chunk-EXXSZWI5.js";import"./chunk-YW3L7OMP.js";import{i as VI,j as LI,k as BI}from"./chunk-RDQOYLXB.js";import"./chunk-WX65JST5.js";import{a as Uh}from"./chunk-6AT6XDV7.js";import"./chunk-62JLC2SG.js";import"./chunk-ME2CO5SA.js";import"./chunk-QS52XG5C.js";import"./chunk-2KE2TI42.js";import"./chunk-RZU6EEB3.js";import"./chunk-EUD3KSLO.js";import{a as lM}from"./chunk-2ILDS6SI.js";import"./chunk-FVILOOND.js";import{a as sI,b as Bv,c as lI,d as cI,e as Hh,g as dI,h as Hv}from"./chunk-CBJBOHLC.js";import"./chunk-MBXIYNFL.js";import"./chunk-6UPV5F42.js";import"./chunk-VCIZNKS7.js";import"./chunk-JMDXNNBI.js";import"./chunk-QSLLT3AX.js";import"./chunk-5RQDVVYC.js";import{a as pI}from"./chunk-2QPXVV2N.js";import"./chunk-J75YI66W.js";import"./chunk-5E3QY4A2.js";import"./chunk-JHANZXTD.js";import"./chunk-ISL7QCEH.js";import"./chunk-2EUOCJVM.js";import"./chunk-WYYRYCXY.js";import"./chunk-ODTAY6YM.js";import"./chunk-FW7D7QLC.js";import"./chunk-KCSRPDMA.js";import"./chunk-YVRSGFS3.js";import"./chunk-XX2QGXLG.js";import"./chunk-YNPFZOJD.js";import"./chunk-XGP6WN73.js";import"./chunk-3ZX35QIC.js";import{a as bI,b as Uv}from"./chunk-7PERXXHH.js";import"./chunk-QYRRGSBK.js";import"./chunk-5PVZ33WG.js";import"./chunk-DCKTHYU4.js";import"./chunk-525N4T6K.js";import"./chunk-EBK2L6ZQ.js";import"./chunk-ZMJUEIM7.js";import"./chunk-6WHBFKHR.js";import"./chunk-VGCEVKYN.js";import{a as uI,c as Nv}from"./chunk-6T37AWU6.js";import"./chunk-XC4BCVYU.js";import"./chunk-V7IMCFL4.js";import"./chunk-XD6QSICT.js";import"./chunk-FTOLVNUN.js";import{d as yI}from"./chunk-EOLWCIYR.js";import"./chunk-YOMR2DCD.js";import"./chunk-KDF3RZ2K.js";import"./chunk-AFSNSPOG.js";import"./chunk-6N6OLOP3.js";import"./chunk-LPCVOXF2.js";import"./chunk-4AIH3WFI.js";import"./chunk-3G7BLSJZ.js";import"./chunk-JOGV3DWE.js";import"./chunk-HM5RIVQC.js";import"./chunk-SKMO433W.js";import{a as _c}from"./chunk-2FO7ARYZ.js";import"./chunk-VLECDDLP.js";import"./chunk-HE4N5PN6.js";import"./chunk-ALCGI4NA.js";import"./chunk-NOQEJXLK.js";import{b as kI,c as TI,h as DI,i as zv,j as FI}from"./chunk-DJW5LMRG.js";import{a as vc,b as RI,d as PI,i as OI,s as il}from"./chunk-QXXXCEV5.js";import"./chunk-QMKRRCM3.js";import"./chunk-TCGGI7DC.js";import"./chunk-ALWV3RJ2.js";import"./chunk-7C6Z24SS.js";import{m as EI}from"./chunk-5WKDXHVH.js";import"./chunk-JEGXFID4.js";import{a as mI,d as hI,h as fI,i as gI}from"./chunk-SU5S5XU7.js";import"./chunk-E4VXIIFB.js";import"./chunk-B5LBE5HD.js";import"./chunk-F6A6XWW4.js";import{a as Fh}from"./chunk-AESEF3B2.js";import"./chunk-A2ZJFGPE.js";import"./chunk-ZQFOJVRP.js";import{d as _I}from"./chunk-74LTYPBC.js";import"./chunk-3BDL2KTL.js";import"./chunk-TGPGCQ44.js";import{h as vI}from"./chunk-BBB7KLHV.js";import{a as dt}from"./chunk-PWU2QHPV.js";import{p as mc}from"./chunk-WUJRCGDY.js";import{c as Th}from"./chunk-QPGCDGIN.js";import"./chunk-JH4RD366.js";import"./chunk-7Y6S2GNA.js";import"./chunk-VOB6IBIW.js";import"./chunk-63B3IOWG.js";import"./chunk-PTZYZULI.js";import"./chunk-KZKWOEFD.js";import{c as OS,f as kh}from"./chunk-LNVVFNTC.js";import{D as MI,m as Ga,n as Pu,o as II}from"./chunk-HXMLP37S.js";import{b as jv}from"./chunk-NHQ2XIW3.js";import{a as AI,b as wI,d as CI,g as xI,h as SI}from"./chunk-MBE3KZ4V.js";import{b as Lv}from"./chunk-EWGQ3XHW.js";import{a as eI,b as Bh,c as tI,d as iI}from"./chunk-T75TNV4S.js";import{a as WS}from"./chunk-2DUCS3UE.js";import{a as dc}from"./chunk-UILAW2FP.js";import{a as Ks}from"./chunk-QR6GP2OF.js";import{a as Ru}from"./chunk-WDTJILD4.js";import"./chunk-MAVVUPFJ.js";import{a as el,b as tl}from"./chunk-BVXSAX5Q.js";import"./chunk-V2JYXY4D.js";import"./chunk-OOAI5LGC.js";import"./chunk-5TMYC5PF.js";import"./chunk-RCDSCJMH.js";import"./chunk-QJADLTFR.js";import"./chunk-IWPCZHB6.js";import"./chunk-2BIJFS64.js";import"./chunk-SCKV27CX.js";import"./chunk-FXCL7YYQ.js";import"./chunk-HX2BGUTP.js";import"./chunk-XSTBHERR.js";import{a as QS}from"./chunk-S7QYPX7J.js";import{a as nI}from"./chunk-KWZIB4M6.js";import{a as tn}from"./chunk-YQPWWSMJ.js";import"./chunk-JEIB6WNP.js";import{a as KS}from"./chunk-6JJCXUHW.js";import{a as en}from"./chunk-CVRJ6GOM.js";import"./chunk-X7QUUHRV.js";import"./chunk-7B2UKJ5N.js";import{a as Lh,c as ZS}from"./chunk-RSDQHAJX.js";import"./chunk-GJHJGJCY.js";import"./chunk-YHWE4TIZ.js";import"./chunk-QSMPW36A.js";import"./chunk-3HCMTURP.js";import{c as aI}from"./chunk-VT67LWCR.js";import"./chunk-K27GONOJ.js";import"./chunk-6KRFVLII.js";import"./chunk-JR22Z7I2.js";import{f as rI}from"./chunk-3QNSJ5HY.js";import"./chunk-UNVICPIE.js";import{c as oI}from"./chunk-BGICKEJR.js";import"./chunk-TRZXSDYA.js";import{a as Tt}from"./chunk-OGS2SUK5.js";import{a as cc}from"./chunk-TVHRLNTK.js";import{a as JS,b as $S}from"./chunk-JA3EMS2I.js";import{$ as JI,C as QI,E as qI,I as qh,J as nl,K as Qa,L as YI,O as Bu,P as Yv,Q as Zv,W as ZI,Y as KI,h as VS,i as Du,j as LS,l as WI,o as Lu,u as Qh}from"./chunk-HKHTIKVW.js";import{b as Dh}from"./chunk-XFESK2YB.js";import"./chunk-IJBTA53P.js";import{b as Nh}from"./chunk-ZHUXSQTN.js";import{b as za}from"./chunk-YLZWDFCJ.js";import{d as hc}from"./chunk-TLMADEUL.js";import{a as Fi}from"./chunk-WNSGKHQ6.js";import{a as oo}from"./chunk-J5MXC6AL.js";import{b as Js,d as Gt}from"./chunk-OLOKUDVI.js";import"./chunk-RJWOVI3M.js";import{a as fc,b as gc,c as yc}from"./chunk-R6GE4XRP.js";import{a as BS,b as uc,e as NS,g as Ri,h as Lt,i as HS,j as US,p as jS,q as zS,s as Ho,t as Uo,u as Rh,v as GS}from"./chunk-MDL4XPLR.js";import"./chunk-ZM7LRSXS.js";import{a as XS}from"./chunk-LDPKBMTU.js";import{g as YS}from"./chunk-ILKINAL7.js";import{a as Fu}from"./chunk-HVKMTRIC.js";import{c as gr}from"./chunk-AZS4Q4RE.js";import{a as si}from"./chunk-QEBUS3TL.js";import{c as Ph,e as qS,g as Oh,h as pc,r as Vh}from"./chunk-IB2IUO7T.js";import"./chunk-MS3KE2OO.js";import"./chunk-NHSDW26F.js";import"./chunk-NMAGYK3Q.js";import"./chunk-GWBRHLNH.js";import{a as io}from"./chunk-WAGBL553.js";import"./chunk-WKJJQIBC.js";import{a as Fv}from"./chunk-VDADRLEF.js";import"./chunk-CNQVGGE6.js";import"./chunk-JGD7UKVF.js";import"./chunk-X5AA4JDN.js";import{a as $s,d as Vv,g as Xs}from"./chunk-J372WZPB.js";import"./chunk-6XFS4U2F.js";import"./chunk-XPRVY6JT.js";import{h as ja}from"./chunk-7N3ZKWML.js";import{c as DS}from"./chunk-E62WHYYG.js";import"./chunk-QDTU3MWT.js";import"./chunk-BCREO4Q5.js";import{a as no,d as FS,j as RS,k as PS}from"./chunk-3SDSCSDJ.js";import{a as Eh,c as TS,j as Di}from"./chunk-I4M2OT5W.js";import{d as Pv,e as Ov,g as ES,j as lc,l as kS,n as xe}from"./chunk-NTVLK3P2.js";import{a as Vt}from"./chunk-WMQNRNIU.js";import{a as Ti}from"./chunk-HD52PWPC.js";import{a as ai}from"./chunk-EIPVFA6F.js";import{b as Ev,d as Tu,f as Jr,g as iS,k as bh,p as nS,q as oS,t as rS}from"./chunk-VOFKUGRY.js";import{B as IS,D as MS,a as CS,ia as Mh,m as sc,p as No,r as xS,t as Sh,v as Ih,x as Rv,y as SS}from"./chunk-IG66NQHW.js";import"./chunk-ARRCN5K3.js";import{c as wS}from"./chunk-MDSLION2.js";import{a as Ch,b as Tv,c as we,d as Ze,e as ye}from"./chunk-7ZYPJJID.js";import{b as Dv,g,h as On}from"./chunk-UAKHZRKN.js";import{e as Ua,g as bS,j as AS,l as ac}from"./chunk-HAHX77IL.js";import{a as vi}from"./chunk-IXCTZWTQ.js";import{b as gS}from"./chunk-6PN3I333.js";import{b as yS}from"./chunk-ZTJLFKGG.js";import{c as fS}from"./chunk-5TW726OD.js";import{a as rc,b as mS,c as kv,h as hS}from"./chunk-VGD3XLDH.js";import{a as T,b as qe,c as lt,d as He,e as vS,g as Xt,h as re,i as gt}from"./chunk-LB5YQINJ.js";import{b as ee}from"./chunk-EKMHQEJY.js";import{a as zt}from"./chunk-VACZNAP3.js";import{c as _S,e as Ui}from"./chunk-JKNCWG7E.js";import{b as Ha}from"./chunk-SLAWDKDA.js";import{a as Xi}from"./chunk-KTE5HCNJ.js";import"./chunk-F7VRLFCB.js";import"./chunk-7IPIJKWU.js";import{a as pS,c as wh}from"./chunk-7R33MKVL.js";import{a as ki}from"./chunk-ISSJ3A6Y.js";import{a as xh}from"./chunk-VDKRSX77.js";import{a as fr}from"./chunk-WUA6PW3I.js";import{F as pn,c as uS,s as oc}from"./chunk-E57FTRWF.js";import{A as Ah,D as lS,I as cS,R as dS,a as sS}from"./chunk-U4J5SECU.js";import{c as aS,f as K}from"./chunk-7EG726PT.js";import{C as eS,D as tS,E as Mv,F as vh,L as R,b as fh,d as l,f as gh,g as jx,h as zx,l as Gx,m as Iv,n as yh,t as Eu,w as Xx}from"./chunk-C7INQGWT.js";import{B as Sv,H as b,a as Hx,c as jt,i as Ux,j as to,r as wn,s as hh}from"./chunk-WMHJC7XF.js";import{b as Jx,c as Bo,f as $x}from"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import{B as Zs,C as un,D as Hi,E as ku,F as Yx,H as _h,J as Zx,K as hr,M as _i,N as $t,a as ve,d as $i,f as Na,i as Ne,k as Ct,l as ft,o as Qs,p as mr,r as Wx,t as qs,u as Le,w as Ys,x as Qx,y as qx,z as Kr}from"./chunk-D2LVMNOU.js";import{a as Kx}from"./chunk-SNFOAZZQ.js";import{a as s}from"./chunk-QGVBCWUY.js";import{b as Qe,i as mh,k as Ws,o as nc,p as xv,r as z,t as D}from"./chunk-HHDFN2GK.js";import{a as kt,b as Lx,g as Bx,i as Nx,j as Cv,t as ot}from"./chunk-47GHT6OF.js";import"./chunk-5RWLLGQU.js";import{a as x,b as O,c as Fn,e as Kn,f}from"./chunk-VTHXE323.js";var $u=class{},pf=class{},ci=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let o=e.slice(0,n),r=e.slice(n+1).trim();this.addHeaderEntry(o,r)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(i.name,e);let o=(i.op==="a"?this.headers.get(e):void 0)||[];o.push(...n),this.headers.set(e,o);break;case"d":let r=i.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let a=this.headers.get(e);if(!a)return;a=a.filter(c=>r.indexOf(c)===-1),a.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}break}}addHeaderEntry(i,e){let n=i.toLowerCase();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(i,e){let n=(Array.isArray(e)?e:[e]).map(r=>r.toString()),o=i.toLowerCase();this.headers.set(o,n),this.maybeSetNormalizedName(i,o)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var yb=class{encodeKey(i){return QE(i)}encodeValue(i){return QE(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function DL(t,i){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(o=>{let r=o.indexOf("="),[a,c]=r==-1?[i.decodeKey(o),""]:[i.decodeKey(o.slice(0,r)),i.decodeValue(o.slice(r+1))],d=e.get(a)||[];d.push(c),e.set(a,d)}),e}var FL=/%(\d[a-f0-9])/gi,RL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function QE(t){return encodeURIComponent(t).replace(FL,(i,e)=>RL[e]??i)}function uf(t){return`${t}`}var $a=class t{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new yb,i.fromString){if(i.fromObject)throw new We(2805,!1);this.map=DL(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let n=i.fromObject[e],o=Array.isArray(n)?n.map(uf):[uf(n)];this.map.set(e,o)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(n=>{let o=i[n];Array.isArray(o)?o.forEach(r=>{e.push({param:n,value:r,op:"a"})}):e.push({param:n,value:o,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(uf(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let n=this.map.get(i.param)||[],o=n.indexOf(uf(i.value));o!==-1&&n.splice(o,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var _b=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function PL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function qE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function YE(t){return typeof Blob<"u"&&t instanceof Blob}function ZE(t){return typeof FormData<"u"&&t instanceof FormData}function OL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var KE="Content-Type",JE="Accept",tk="X-Request-URL",ik="text/plain",nk="application/json",VL=`${nk}, ${ik}, */*`,Ju=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,n,o){this.url=e,this.method=i.toUpperCase();let r;if(PL(this.method)||o?(this.body=n!==void 0?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new ci,this.context??=new _b,!this.params)this.params=new $a,this.urlWithParams=e;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),d=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||qE(this.body)||YE(this.body)||ZE(this.body)||OL(this.body)?this.body:this.body instanceof $a?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ZE(this.body)?null:YE(this.body)?this.body.type||null:qE(this.body)?null:typeof this.body=="string"?ik:this.body instanceof $a?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?nk:null}clone(i={}){let e=i.method||this.method,n=i.url||this.url,o=i.responseType||this.responseType,r=i.transferCache??this.transferCache,a=i.body!==void 0?i.body:this.body,c=i.withCredentials??this.withCredentials,d=i.reportProgress??this.reportProgress,u=i.headers||this.headers,p=i.params||this.params,h=i.context??this.context;return i.setHeaders!==void 0&&(u=Object.keys(i.setHeaders).reduce((y,A)=>y.set(A,i.setHeaders[A]),u)),i.setParams&&(p=Object.keys(i.setParams).reduce((y,A)=>y.set(A,i.setParams[A]),p)),new t(e,n,a,{params:p,headers:u,context:h,reportProgress:d,responseType:o,withCredentials:c,transferCache:r})}},Mc=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mc||{}),Xu=class{headers;status;statusText;url;ok;type;constructor(i,e=200,n="OK"){this.headers=i.headers||new ci,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},vb=class t extends Xu{constructor(i={}){super(i)}type=Mc.ResponseHeader;clone(i={}){return new t({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},mf=class t extends Xu{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=Mc.Response;clone(i={}){return new t({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},hf=class extends Xu{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},LL=200,BL=204;function gb(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var xt=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,o={}){let r;if(e instanceof Ju)r=e;else{let d;o.headers instanceof ci?d=o.headers:d=new ci(o.headers);let u;o.params&&(o.params instanceof $a?u=o.params:u=new $a({fromObject:o.params})),r=new Ju(e,n,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=se(r).pipe(Hs(d=>this.handler.handle(d)));if(e instanceof Ju||o.observe==="events")return a;let c=a.pipe(nt(d=>d instanceof mf));switch(o.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(_e(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new We(2806,!1);return d.body}));case"blob":return c.pipe(_e(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new We(2807,!1);return d.body}));case"text":return c.pipe(_e(d=>{if(d.body!==null&&typeof d.body!="string")throw new We(2808,!1);return d.body}));case"json":default:return c.pipe(_e(d=>d.body))}case"response":return c;default:throw new We(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new $a().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,o={}){return this.request("PATCH",e,gb(o,n))}post(e,n,o={}){return this.request("POST",e,gb(o,n))}put(e,n,o={}){return this.request("PUT",e,gb(o,n))}static \u0275fac=function(n){return new(n||t)(Fe($u))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();var NL=new H("");function ok(t,i){return i(t)}function HL(t,i){return(e,n)=>i.intercept(e,{handle:o=>t(o,n)})}function UL(t,i,e){return(n,o)=>Fo(e,()=>i(n,r=>t(r,o)))}var jL=new H(""),bb=new H(""),zL=new H(""),rk=new H("",{providedIn:"root",factory:()=>!0});function GL(){let t=null;return(i,e)=>{t===null&&(t=(m(jL,{optional:!0})??[]).reduceRight(HL,ok));let n=m(wu);if(m(rk)){let r=n.add();return t(i,e).pipe(qr(()=>n.remove(r)))}else return t(i,e)}}var $E=(()=>{class t extends $u{backend;injector;chain=null;pendingTasks=m(wu);contributeToStability=m(rk);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(bb),...this.injector.get(zL,[])]));this.chain=n.reduceRight((o,r)=>UL(o,r,this.injector),ok)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,o=>this.backend.handle(o)).pipe(qr(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(Fe(pf),Fe(Xn))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();var WL=/^\)\]\}',?\n/,QL=RegExp(`^${tk}:`,"m");function qL(t){return"responseURL"in t&&t.responseURL?t.responseURL:QL.test(t.getAllResponseHeaders())?t.getResponseHeader(tk):null}var XE=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new We(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?sn(n.\u0275loadImpl()):se(null)).pipe(Ei(()=>new Jn(r=>{let a=n.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((M,I)=>a.setRequestHeader(M,I.join(","))),e.headers.has(JE)||a.setRequestHeader(JE,VL),!e.headers.has(KE)){let M=e.detectContentTypeHeader();M!==null&&a.setRequestHeader(KE,M)}if(e.responseType){let M=e.responseType.toLowerCase();a.responseType=M!=="json"?M:"text"}let c=e.serializeBody(),d=null,u=()=>{if(d!==null)return d;let M=a.statusText||"OK",I=new ci(a.getAllResponseHeaders()),G=qL(a)||e.url;return d=new vb({headers:I,status:a.status,statusText:M,url:G}),d},p=()=>{let{headers:M,status:I,statusText:G,url:X}=u(),L=null;I!==BL&&(L=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=L?LL:0);let Z=I>=200&&I<300;if(e.responseType==="json"&&typeof L=="string"){let ge=L;L=L.replace(WL,"");try{L=L!==""?JSON.parse(L):null}catch(Ce){L=ge,Z&&(Z=!1,L={error:Ce,text:L})}}Z?(r.next(new mf({body:L,headers:M,status:I,statusText:G,url:X||void 0})),r.complete()):r.error(new hf({error:L,headers:M,status:I,statusText:G,url:X||void 0}))},h=M=>{let{url:I}=u(),G=new hf({error:M,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});r.error(G)},y=!1,A=M=>{y||(r.next(u()),y=!0);let I={type:Mc.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(I.total=M.total),e.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),r.next(I)},C=M=>{let I={type:Mc.UploadProgress,loaded:M.loaded};M.lengthComputable&&(I.total=M.total),r.next(I)};return a.addEventListener("load",p),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),e.reportProgress&&(a.addEventListener("progress",A),c!==null&&a.upload&&a.upload.addEventListener("progress",C)),a.send(c),r.next({type:Mc.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",p),a.removeEventListener("timeout",h),e.reportProgress&&(a.removeEventListener("progress",A),c!==null&&a.upload&&a.upload.removeEventListener("progress",C)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(n){return new(n||t)(Fe(ph))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),ak=new H(""),YL="XSRF-TOKEN",ZL=new H("",{providedIn:"root",factory:()=>YL}),KL="X-XSRF-TOKEN",JL=new H("",{providedIn:"root",factory:()=>KL}),ff=class{},$L=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,o){this.doc=e,this.platform=n,this.cookieName=o}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=dh(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(Fe(fe),Fe(dr),Fe(ZL))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function XL(t,i){let e=t.url.toLowerCase();if(!m(ak)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return i(t);let n=m(ff).getToken(),o=m(JL);return n!=null&&!t.headers.has(o)&&(t=t.clone({headers:t.headers.set(o,n)})),i(t)}var sk=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(sk||{});function eB(t,i){return{\u0275kind:t,\u0275providers:i}}function Ab(...t){let i=[xt,XE,$E,{provide:$u,useExisting:$E},{provide:pf,useFactory:()=>m(NL,{optional:!0})??m(XE)},{provide:bb,useValue:XL,multi:!0},{provide:ak,useValue:!0},{provide:ff,useClass:$L}];for(let e of t)i.push(...e.\u0275providers);return Us(i)}var ek=new H("");function tB(){return eB(sk.LegacyInterceptors,[{provide:ek,useFactory:GL},{provide:bb,useExisting:ek,multi:!0}])}var lk=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[Ab(tB())]})}return t})();var Cb=class extends Ox{supportsDOMEvents=!0},xb=class t extends Cb{static makeCurrent(){Px(new t)}onAndCancel(i,e,n,o){return i.addEventListener(e,n,o),()=>{i.removeEventListener(e,n,o)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=nB();return e==null?null:oB(e)}resetBaseElement(){ep=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return dh(document.cookie,i)}},ep=null;function nB(){return ep=ep||document.querySelector("base"),ep?ep.getAttribute("href"):null}function oB(t){return new URL(t,document.baseURI).pathname}var rB=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),Sb=new H(""),mk=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,o,r){return this._findPluginFor(n).addEventListener(e,n,o,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(r=>r.supports(e)),!n)throw new We(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(Fe(Sb),Fe(pe))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),yf=class{_doc;constructor(i){this._doc=i}manager},gf="ng-app-id";function ck(t){for(let i of t)i.remove()}function dk(t,i){let e=i.createElement("style");return e.textContent=t,e}function aB(t,i,e,n){let o=t.head?.querySelectorAll(`style[${gf}="${i}"],link[${gf}="${i}"]`);if(o)for(let r of o)r.removeAttribute(gf),r instanceof HTMLLinkElement?n.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function Ib(t,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var hk=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,o,r={}){this.doc=e,this.appId=n,this.nonce=o,this.isServer=wv(r),aB(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let o of e)this.addUsage(o,this.inline,dk);n?.forEach(o=>this.addUsage(o,this.external,Ib))}removeStyles(e,n){for(let o of e)this.removeUsage(o,this.inline);n?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,n,o){let r=n.get(e);r?r.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(e,this.doc)))})}removeUsage(e,n){let o=n.get(e);o&&(o.usage--,o.usage<=0&&(ck(o.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])ck(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:o}]of this.inline)o.push(this.addElement(e,dk(n,this.doc)));for(let[n,{elements:o}]of this.external)o.push(this.addElement(e,Ib(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(gf,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(Fe(fe),Fe(zs),Fe(Cu,8),Fe(dr))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),wb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},kb=/%COMP%/g;var fk="%COMP%",sB=`_nghost-${fk}`,lB=`_ngcontent-${fk}`,cB=!0,dB=new H("",{providedIn:"root",factory:()=>cB});function uB(t){return lB.replace(kb,t)}function pB(t){return sB.replace(kb,t)}function gk(t,i){return i.map(e=>e.replace(kb,t))}var _f=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,o,r,a,c,d,u=null,p=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=a,this.platformId=c,this.ngZone=d,this.nonce=u,this.tracingService=p,this.platformIsServer=wv(c),this.defaultRenderer=new tp(e,a,d,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===xu.ShadowDom&&(n=O(x({},n),{encapsulation:xu.Emulated}));let o=this.getOrCreateRenderer(e,n);return o instanceof vf?o.applyToHost(e):o instanceof ip&&o.applyStyles(),o}getOrCreateRenderer(e,n){let o=this.rendererByCompId,r=o.get(n.id);if(!r){let a=this.doc,c=this.ngZone,d=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,h=this.platformIsServer,y=this.tracingService;switch(n.encapsulation){case xu.Emulated:r=new vf(d,u,n,this.appId,p,a,c,h,y);break;case xu.ShadowDom:return new Mb(d,u,e,n,a,c,this.nonce,h,y);default:r=new ip(d,u,n,p,a,c,h,y);break}o.set(n.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(Fe(mk),Fe(hk),Fe(zs),Fe(dB),Fe(fe),Fe(dr),Fe(pe),Fe(Cu),Fe(fx,8))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),tp=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,n,o,r){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(wb[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(uk(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(uk(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){e.remove()}selectRootElement(i,e){let n=typeof i=="string"?this.doc.querySelector(i):i;if(!n)throw new We(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,o){if(o){e=o+":"+e;let r=wb[o];r?i.setAttributeNS(r,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){let o=wb[n];o?i.removeAttributeNS(o,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,o){o&(Su.DashCase|Su.Important)?i.style.setProperty(e,n,o&Su.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&Su.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){i!=null&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n,o){if(typeof i=="string"&&(i=ec().getGlobalEventTarget(this.doc,i),!i))throw new We(5102,!1);let r=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(i,e,r)),this.eventManager.addEventListener(i,e,r,o)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function uk(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Mb=class extends tp{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,n,o,r,a,c,d,u){super(i,r,a,d,u),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let p=o.styles;p=gk(o.id,p);for(let y of p){let A=document.createElement("style");c&&A.setAttribute("nonce",c),A.textContent=y,this.shadowRoot.appendChild(A)}let h=o.getExternalStyles?.();if(h)for(let y of h){let A=Ib(y,r);c&&A.setAttribute("nonce",c),this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ip=class extends tp{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,n,o,r,a,c,d,u){super(i,r,a,c,d),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let p=n.styles;this.styles=u?gk(u,p):p,this.styleUrls=n.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vf=class extends ip{contentAttr;hostAttr;constructor(i,e,n,o,r,a,c,d,u){let p=o+"-"+n.id;super(i,e,n,r,a,c,d,u,p),this.contentAttr=uB(p),this.hostAttr=pB(p)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}},mB=(()=>{class t extends yf{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,o,r){return e.addEventListener(n,o,r),()=>this.removeEventListener(e,n,o,r)}removeEventListener(e,n,o,r){return e.removeEventListener(n,o,r)}static \u0275fac=function(n){return new(n||t)(Fe(fe))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),pk=["alt","control","meta","shift"],hB={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fB={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},gB=(()=>{class t extends yf{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,o,r){let a=t.parseEventName(n),c=t.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ec().onAndCancel(e,a.domEventName,c,r))}static parseEventName(e){let n=e.toLowerCase().split("."),o=n.shift();if(n.length===0||!(o==="keydown"||o==="keyup"))return null;let r=t._normalizeKey(n.pop()),a="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),a="code."),pk.forEach(u=>{let p=n.indexOf(u);p>-1&&(n.splice(p,1),a+=u+".")}),a+=r,n.length!=0||r.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(e,n){let o=hB[e.key]||e.key,r="";return n.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),pk.forEach(a=>{if(a!==o){let c=fB[a];c(e)&&(r+=a+".")}}),r+=o,r===n)}static eventCallback(e,n,o){return r=>{t.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>n(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(Fe(fe))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function yk(t,i){return Rx(x({rootComponent:t},yB(i)))}function yB(t){return{appProviders:[...wB,...t?.providers??[]],platformProviders:AB}}function _B(){xb.makeCurrent()}function vB(){return new Ba}function bB(){return mx(document),document}var AB=[{provide:dr,useValue:Vx},{provide:hx,useValue:_B,multi:!0},{provide:fe,useFactory:bB,deps:[]}];var wB=[{provide:cx,useValue:"root"},{provide:Ba,useFactory:vB,deps:[]},{provide:Sb,useClass:mB,multi:!0,deps:[fe]},{provide:Sb,useClass:gB,multi:!0,deps:[fe]},_f,hk,mk,{provide:Ni,useExisting:_f},{provide:ph,useClass:rB,deps:[]},[]];var _k=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(Fe(fe))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ec=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:function(n){let o=null;return n?o=new(n||t):o=Fe(CB),o},providedIn:"root"})}return t})(),CB=(()=>{class t extends Ec{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case Pn.NONE:return n;case Pn.HTML:return Xl(n,"HTML")?$l(n):wx(this._doc,String(n)).toString();case Pn.STYLE:return Xl(n,"Style")?$l(n):n;case Pn.SCRIPT:if(Xl(n,"Script"))return $l(n);throw new We(5200,!1);case Pn.URL:return Xl(n,"URL")?$l(n):Ax(String(n));case Pn.RESOURCE_URL:if(Xl(n,"ResourceURL"))return $l(n);throw new We(5201,!1);default:throw new We(5202,!1)}}bypassSecurityTrustHtml(e){return gx(e)}bypassSecurityTrustStyle(e){return yx(e)}bypassSecurityTrustScript(e){return _x(e)}bypassSecurityTrustUrl(e){return vx(e)}bypassSecurityTrustResourceUrl(e){return bx(e)}static \u0275fac=function(n){return new(n||t)(Fe(fe))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Re="primary",yp=Symbol("RouteTitle"),Ob=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Pc(t){return new Ob(t)}function xB(t,i,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(i.hasChildren()||n.length<t.length))return null;let o={};for(let r=0;r<n.length;r++){let a=n[r],c=t[r];if(a[0]===":")o[a.substring(1)]=c;else if(a!==c.path)return null}return{consumed:t.slice(0,n.length),posParams:o}}function SB(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!wr(t[e],i[e]))return!1;return!0}function wr(t,i){let e=t?Vb(t):void 0,n=i?Vb(i):void 0;if(!e||!n||e.length!=n.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!Ik(t[o],i[o]))return!1;return!0}function Vb(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ik(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;let e=[...t].sort(),n=[...i].sort();return e.every((o,r)=>n[r]===o)}else return t===i}function Mk(t){return t.length>0?t[t.length-1]:null}function es(t){return iv(t)?t:th(t)?sn(Promise.resolve(t)):se(t)}var IB={exact:kk,subset:Tk},Ek={exact:MB,subset:EB,ignored:()=>!0};function vk(t,i,e){return IB[e.paths](t.root,i.root,e.matrixParams)&&Ek[e.queryParams](t.queryParams,i.queryParams)&&!(e.fragment==="exact"&&t.fragment!==i.fragment)}function MB(t,i){return wr(t,i)}function kk(t,i,e){if(!ll(t.segments,i.segments)||!wf(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(let n in i.children)if(!t.children[n]||!kk(t.children[n],i.children[n],e))return!1;return!0}function EB(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>Ik(t[e],i[e]))}function Tk(t,i,e){return Dk(t,i,i.segments,e)}function Dk(t,i,e,n){if(t.segments.length>e.length){let o=t.segments.slice(0,e.length);return!(!ll(o,e)||i.hasChildren()||!wf(o,e,n))}else if(t.segments.length===e.length){if(!ll(t.segments,e)||!wf(t.segments,e,n))return!1;for(let o in i.children)if(!t.children[o]||!Tk(t.children[o],i.children[o],n))return!1;return!0}else{let o=e.slice(0,t.segments.length),r=e.slice(t.segments.length);return!ll(t.segments,o)||!wf(t.segments,o,n)||!t.children[Re]?!1:Dk(t.children[Re],i,r,n)}}function wf(t,i,e){return i.every((n,o)=>Ek[e](t[o].parameters,n.parameters))}var oa=class{root;queryParams;fragment;_queryParamMap;constructor(i=new ut([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){return DB.serialize(this)}},ut=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}},sl=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=Pc(this.parameters),this._parameterMap}toString(){return Rk(this)}};function kB(t,i){return ll(t,i)&&t.every((e,n)=>wr(e.parameters,i[n].parameters))}function ll(t,i){return t.length!==i.length?!1:t.every((e,n)=>e.path===i[n].path)}function TB(t,i){let e=[];return Object.entries(t.children).forEach(([n,o])=>{n===Re&&(e=e.concat(i(o,n)))}),Object.entries(t.children).forEach(([n,o])=>{n!==Re&&(e=e.concat(i(o,n)))}),e}var lA=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:()=>new sp,providedIn:"root"})}return t})(),sp=class{parse(i){let e=new Bb(i);return new oa(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${np(i.root,!0)}`,n=PB(i.queryParams),o=typeof i.fragment=="string"?`#${FB(i.fragment)}`:"";return`${e}${n}${o}`}},DB=new sp;function Cf(t){return t.segments.map(i=>Rk(i)).join("/")}function np(t,i){if(!t.hasChildren())return Cf(t);if(i){let e=t.children[Re]?np(t.children[Re],!1):"",n=[];return Object.entries(t.children).forEach(([o,r])=>{o!==Re&&n.push(`${o}:${np(r,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=TB(t,(n,o)=>o===Re?[np(t.children[Re],!1)]:[`${o}:${np(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Re]!=null?`${Cf(t)}/${e[0]}`:`${Cf(t)}/(${e.join("//")})`}}function Fk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bf(t){return Fk(t).replace(/%3B/gi,";")}function FB(t){return encodeURI(t)}function Lb(t){return Fk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xf(t){return decodeURIComponent(t)}function bk(t){return xf(t.replace(/\+/g,"%20"))}function Rk(t){return`${Lb(t.path)}${RB(t.parameters)}`}function RB(t){return Object.entries(t).map(([i,e])=>`;${Lb(i)}=${Lb(e)}`).join("")}function PB(t){let i=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(o=>`${bf(e)}=${bf(o)}`).join("&"):`${bf(e)}=${bf(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var OB=/^[^\/()?;#]+/;function Db(t){let i=t.match(OB);return i?i[0]:""}var VB=/^[^\/()?;=#]+/;function LB(t){let i=t.match(VB);return i?i[0]:""}var BB=/^[^=?&#]+/;function NB(t){let i=t.match(BB);return i?i[0]:""}var HB=/^[^&#]+/;function UB(t){let i=t.match(HB);return i?i[0]:""}var Bb=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ut([],{}):new ut([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[Re]=new ut(i,e)),n}parseSegment(){let i=Db(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new We(4009,!1);return this.capture(i),new sl(xf(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=LB(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=Db(this.remaining);o&&(n=o,this.capture(n))}i[xf(e)]=xf(n)}parseQueryParam(i){let e=NB(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let a=UB(this.remaining);a&&(n=a,this.capture(n))}let o=bk(e),r=bk(n);if(i.hasOwnProperty(o)){let a=i[o];Array.isArray(a)||(a=[a],i[o]=a),a.push(r)}else i[o]=r}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Db(this.remaining),o=this.remaining[n.length];if(o!=="/"&&o!==")"&&o!==";")throw new We(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):i&&(r=Re);let a=this.parseChildren();e[r]=Object.keys(a).length===1?a[Re]:new ut([],a),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new We(4011,!1)}};function Pk(t){return t.segments.length>0?new ut([],{[Re]:t}):t}function Ok(t){let i={};for(let[n,o]of Object.entries(t.children)){let r=Ok(o);if(n===Re&&r.segments.length===0&&r.hasChildren())for(let[a,c]of Object.entries(r.children))i[a]=c;else(r.segments.length>0||r.hasChildren())&&(i[n]=r)}let e=new ut(t.segments,i);return jB(e)}function jB(t){if(t.numberOfChildren===1&&t.children[Re]){let i=t.children[Re];return new ut(t.segments.concat(i.segments),i.children)}return t}function lp(t){return t instanceof oa}function zB(t,i,e=null,n=null){let o=Vk(t);return Lk(o,i,e,n)}function Vk(t){let i;function e(r){let a={};for(let d of r.children){let u=e(d);a[d.outlet]=u}let c=new ut(r.url,a);return r===t&&(i=c),c}let n=e(t.root),o=Pk(n);return i??o}function Lk(t,i,e,n){let o=t;for(;o.parent;)o=o.parent;if(i.length===0)return Fb(o,o,o,e,n);let r=GB(i);if(r.toRoot())return Fb(o,o,new ut([],{}),e,n);let a=WB(r,o,t),c=a.processChildren?rp(a.segmentGroup,a.index,r.commands):Nk(a.segmentGroup,a.index,r.commands);return Fb(o,a.segmentGroup,c,e,n)}function If(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cp(t){return typeof t=="object"&&t!=null&&t.outlets}function Fb(t,i,e,n,o){let r={};n&&Object.entries(n).forEach(([d,u])=>{r[d]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`});let a;t===i?a=e:a=Bk(t,i,e);let c=Pk(Ok(a));return new oa(c,r,o)}function Bk(t,i,e){let n={};return Object.entries(t.children).forEach(([o,r])=>{r===i?n[o]=e:n[o]=Bk(r,i,e)}),new ut(t.segments,n)}var Mf=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&If(n[0]))throw new We(4003,!1);let o=n.find(cp);if(o&&o!==Mk(n))throw new We(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GB(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Mf(!0,0,t);let i=0,e=!1,n=t.reduce((o,r,a)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let c={};return Object.entries(r.outlets).forEach(([d,u])=>{c[d]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:c}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:a===0?(r.split("/").forEach((c,d)=>{d==0&&c==="."||(d==0&&c===""?e=!0:c===".."?i++:c!=""&&o.push(c))}),o):[...o,r]},[]);return new Mf(e,i,n)}var Dc=class{segmentGroup;processChildren;index;constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}};function WB(t,i,e){if(t.isAbsolute)return new Dc(i,!0,0);if(!e)return new Dc(i,!1,NaN);if(e.parent===null)return new Dc(e,!0,0);let n=If(t.commands[0])?0:1,o=e.segments.length-1+n;return QB(e,o,t.numberOfDoubleDots)}function QB(t,i,e){let n=t,o=i,r=e;for(;r>o;){if(r-=o,n=n.parent,!n)throw new We(4005,!1);o=n.segments.length}return new Dc(n,!1,o-r)}function qB(t){return cp(t[0])?t[0].outlets:{[Re]:t}}function Nk(t,i,e){if(t??=new ut([],{}),t.segments.length===0&&t.hasChildren())return rp(t,i,e);let n=YB(t,i,e),o=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let r=new ut(t.segments.slice(0,n.pathIndex),{});return r.children[Re]=new ut(t.segments.slice(n.pathIndex),t.children),rp(r,0,o)}else return n.match&&o.length===0?new ut(t.segments,{}):n.match&&!t.hasChildren()?Nb(t,i,e):n.match?rp(t,0,o):Nb(t,i,e)}function rp(t,i,e){if(e.length===0)return new ut(t.segments,{});{let n=qB(e),o={};if(Object.keys(n).some(r=>r!==Re)&&t.children[Re]&&t.numberOfChildren===1&&t.children[Re].segments.length===0){let r=rp(t.children[Re],i,e);return new ut(t.segments,r.children)}return Object.entries(n).forEach(([r,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(o[r]=Nk(t.children[r],i,a))}),Object.entries(t.children).forEach(([r,a])=>{n[r]===void 0&&(o[r]=a)}),new ut(t.segments,o)}}function YB(t,i,e){let n=0,o=i,r={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(n>=e.length)return r;let a=t.segments[o],c=e[n];if(cp(c))break;let d=`${c}`,u=n<e.length-1?e[n+1]:null;if(o>0&&d===void 0)break;if(d&&u&&typeof u=="object"&&u.outlets===void 0){if(!wk(d,u,a))return r;n+=2}else{if(!wk(d,{},a))return r;n++}o++}return{match:!0,pathIndex:o,commandIndex:n}}function Nb(t,i,e){let n=t.segments.slice(0,i),o=0;for(;o<e.length;){let r=e[o];if(cp(r)){let d=ZB(r.outlets);return new ut(n,d)}if(o===0&&If(e[0])){let d=t.segments[i];n.push(new sl(d.path,Ak(e[0]))),o++;continue}let a=cp(r)?r.outlets[Re]:`${r}`,c=o<e.length-1?e[o+1]:null;a&&c&&If(c)?(n.push(new sl(a,Ak(c))),o+=2):(n.push(new sl(a,{})),o++)}return new ut(n,{})}function ZB(t){let i={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(i[e]=Nb(new ut([],{}),0,n))}),i}function Ak(t){let i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function wk(t,i,e){return t==e.path&&wr(i,e.parameters)}var Sf="imperative",ji=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ji||{}),lo=class{id;url;constructor(i,e){this.id=i,this.url=e}},dp=class extends lo{type=ji.NavigationStart;navigationTrigger;restoredState;constructor(i,e,n="imperative",o=null){super(i,e),this.navigationTrigger=n,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cl=class extends lo{urlAfterRedirects;type=ji.NavigationEnd;constructor(i,e,n){super(i,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ln=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ln||{}),Hb=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Hb||{}),na=class extends lo{reason;code;type=ji.NavigationCancel;constructor(i,e,n,o){super(i,e),this.reason=n,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},dl=class extends lo{reason;code;type=ji.NavigationSkipped;constructor(i,e,n,o){super(i,e),this.reason=n,this.code=o}},up=class extends lo{error;target;type=ji.NavigationError;constructor(i,e,n,o){super(i,e),this.error=n,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ef=class extends lo{urlAfterRedirects;state;type=ji.RoutesRecognized;constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ub=class extends lo{urlAfterRedirects;state;type=ji.GuardsCheckStart;constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jb=class extends lo{urlAfterRedirects;state;shouldActivate;type=ji.GuardsCheckEnd;constructor(i,e,n,o,r){super(i,e),this.urlAfterRedirects=n,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},zb=class extends lo{urlAfterRedirects;state;type=ji.ResolveStart;constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gb=class extends lo{urlAfterRedirects;state;type=ji.ResolveEnd;constructor(i,e,n,o){super(i,e),this.urlAfterRedirects=n,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wb=class{route;type=ji.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Qb=class{route;type=ji.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},qb=class{snapshot;type=ji.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yb=class{snapshot;type=ji.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zb=class{snapshot;type=ji.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kb=class{snapshot;type=ji.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pp=class{},Oc=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function KB(t,i){return t.providers&&!t._injector&&(t._injector=Ix(t.providers,i,`Route: ${t.path}`)),t._injector??i}function Go(t){return t.outlet||Re}function JB(t,i){let e=t.filter(n=>Go(n)===i);return e.push(...t.filter(n=>Go(n)!==i)),e}function _p(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Jb=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return _p(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new Of(this.rootInjector)}},Of=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let o=this.getOrCreateContext(e);o.outlet=n,this.contexts.set(e,o)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Jb(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(Fe(Xn))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kf=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=$b(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){let e=$b(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=Xb(i,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==i)}pathFromRoot(i){return Xb(i,this._root).map(e=>e.value)}};function $b(t,i){if(t===i.value)return i;for(let e of i.children){let n=$b(t,e);if(n)return n}return null}function Xb(t,i){if(t===i.value)return[i];for(let e of i.children){let n=Xb(t,e);if(n.length)return n.unshift(i),n}return[]}var Vn=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function Tc(t){let i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}var Tf=class extends kf{snapshot;constructor(i,e){super(i),this.snapshot=e,cA(this,i)}toString(){return this.snapshot.toString()}};function Hk(t){let i=$B(t),e=new Bi([new sl("",{})]),n=new Bi({}),o=new Bi({}),r=new Bi({}),a=new Bi(""),c=new Vc(e,n,r,a,o,Re,t,i.root);return c.snapshot=i.root,new Tf(new Vn(c,[]),i)}function $B(t){let i={},e={},n={},o="",r=new Fc([],i,n,o,e,Re,t,null,{});return new Ff("",new Vn(r,[]))}var Vc=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,n,o,r,a,c,d){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=o,this.dataSubject=r,this.outlet=a,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(_e(u=>u[yp]))??se(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(i=>Pc(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(i=>Pc(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Df(t,i,e="emptyOnly"){let n,{routeConfig:o}=t;return i!==null&&(e==="always"||o?.path===""||!i.component&&!i.routeConfig?.loadComponent)?n={params:x(x({},i.params),t.params),data:x(x({},i.data),t.data),resolve:x(x(x(x({},t.data),i.data),o?.data),t._resolvedData)}:n={params:x({},t.params),data:x({},t.data),resolve:x(x({},t.data),t._resolvedData??{})},o&&jk(o)&&(n.resolve[yp]=o.title),n}var Fc=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yp]}constructor(i,e,n,o,r,a,c,d,u){this.url=i,this.params=e,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=a,this.component=c,this.routeConfig=d,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pc(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pc(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},Ff=class extends kf{url;constructor(i,e){super(e),this.url=i,cA(this,e)}toString(){return Uk(this._root)}};function cA(t,i){i.value._routerState=t,i.children.forEach(e=>cA(t,e))}function Uk(t){let i=t.children.length>0?` { ${t.children.map(Uk).join(", ")} } `:"";return`${t.value}${i}`}function Rb(t){if(t.snapshot){let i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,wr(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),wr(i.params,e.params)||t.paramsSubject.next(e.params),SB(i.url,e.url)||t.urlSubject.next(e.url),wr(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eA(t,i){let e=wr(t.params,i.params)&&kB(t.url,i.url),n=!t.parent!=!i.parent;return e&&!n&&(!t.parent||eA(t.parent,i.parent))}function jk(t){return typeof t.title=="string"||t.title===null}var XB=new H(""),dA=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Re;activateEvents=new q;deactivateEvents=new q;attachEvents=new q;detachEvents=new q;routerOutletData=px(void 0);parentContexts=m(Of);location=m(cn);changeDetector=m(je);inputBinder=m(uA,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:o}=e.name;if(n)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new We(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new We(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new We(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new We(4013,!1);this._activatedRoute=e;let o=this.location,a=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new tA(e,c,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ht]})}return t})(),tA=class t{route;childContexts;parent;outletData;__ngOutletInjector(i){return new t(this.route,this.childContexts,i,this.outletData)}constructor(i,e,n,o){this.route=i,this.childContexts=e,this.parent=n,this.outletData=o}get(i,e){return i===Vc?this.route:i===Of?this.childContexts:i===XB?this.outletData:this.parent.get(i,e)}},uA=new H("");function eN(t,i,e){let n=mp(t,i._root,e?e._root:void 0);return new Tf(n,i)}function mp(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=i.value;let o=tN(t,i,e);return new Vn(n,o)}else{if(t.shouldAttach(i.value)){let r=t.retrieve(i.value);if(r!==null){let a=r.route;return a.value._futureSnapshot=i.value,a.children=i.children.map(c=>mp(t,c)),a}}let n=iN(i.value),o=i.children.map(r=>mp(t,r));return new Vn(n,o)}}function tN(t,i,e){return i.children.map(n=>{for(let o of e.children)if(t.shouldReuseRoute(n.value,o.value.snapshot))return mp(t,n,o);return mp(t,n)})}function iN(t){return new Vc(new Bi(t.url),new Bi(t.params),new Bi(t.queryParams),new Bi(t.fragment),new Bi(t.data),t.outlet,t.component,t)}var hp=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},zk="ngNavigationCancelingError";function Rf(t,i){let{redirectTo:e,navigationBehaviorOptions:n}=lp(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,o=Gk(!1,Ln.Redirect);return o.url=e,o.navigationBehaviorOptions=n,o}function Gk(t,i){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[zk]=!0,e.cancellationCode=i,e}function nN(t){return Wk(t)&&lp(t.url)}function Wk(t){return!!t&&t[zk]}var oN=(t,i,e,n)=>_e(o=>(new iA(i,o.targetRouterState,o.currentRouterState,e,n).activate(t),o)),iA=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,n,o,r){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=o,this.inputBindingEnabled=r}activate(i){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),Rb(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){let o=Tc(e);i.children.forEach(r=>{let a=r.value.outlet;this.deactivateRoutes(r,o[a],n),delete o[a]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(i,e,n){let o=i.value,r=e?e.value:null;if(o===r)if(o.component){let a=n.getContext(o.outlet);a&&this.deactivateChildRoutes(i,e,a.children)}else this.deactivateChildRoutes(i,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let n=e.getContext(i.value.outlet),o=n&&i.value.component?n.children:e,r=Tc(i);for(let a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);if(n&&n.outlet){let a=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:a,route:i,contexts:c})}}deactivateRouteAndOutlet(i,e){let n=e.getContext(i.value.outlet),o=n&&i.value.component?n.children:e,r=Tc(i);for(let a of Object.values(r))this.deactivateRouteAndItsChildren(a,o);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){let o=Tc(e);i.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],n),this.forwardEvent(new Kb(r.value.snapshot))}),i.children.length&&this.forwardEvent(new Yb(i.value.snapshot))}activateRoutes(i,e,n){let o=i.value,r=e?e.value:null;if(Rb(o),o===r)if(o.component){let a=n.getOrCreateContext(o.outlet);this.activateChildRoutes(i,e,a.children)}else this.activateChildRoutes(i,e,n);else if(o.component){let a=n.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),a.children.onOutletReAttached(c.contexts),a.attachRef=c.componentRef,a.route=c.route.value,a.outlet&&a.outlet.attach(c.componentRef,c.route.value),Rb(c.route.value),this.activateChildRoutes(i,null,a.children)}else a.attachRef=null,a.route=o,a.outlet&&a.outlet.activateWith(o,a.injector),this.activateChildRoutes(i,null,a.children)}else this.activateChildRoutes(i,null,n)}},Pf=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},Rc=class{component;route;constructor(i,e){this.component=i,this.route=e}};function rN(t,i,e){let n=t._root,o=i?i._root:null;return op(n,o,e,[n.value])}function aN(t){let i=t.routeConfig?t.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:t,guards:i}}function Bc(t,i){let e=Symbol(),n=i.get(t,e);return n===e?typeof t=="function"&&!lx(t)?t:i.get(t):n}function op(t,i,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Tc(i);return t.children.forEach(a=>{sN(a,r[a.value.outlet],e,n.concat([a.value]),o),delete r[a.value.outlet]}),Object.entries(r).forEach(([a,c])=>ap(c,e.getContext(a),o)),o}function sN(t,i,e,n,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=t.value,a=i?i.value:null,c=e?e.getContext(t.value.outlet):null;if(a&&r.routeConfig===a.routeConfig){let d=lN(a,r,r.routeConfig.runGuardsAndResolvers);d?o.canActivateChecks.push(new Pf(n)):(r.data=a.data,r._resolvedData=a._resolvedData),r.component?op(t,i,c?c.children:null,n,o):op(t,i,e,n,o),d&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new Rc(c.outlet.component,a))}else a&&ap(i,c,o),o.canActivateChecks.push(new Pf(n)),r.component?op(t,null,c?c.children:null,n,o):op(t,null,e,n,o);return o}function lN(t,i,e){if(typeof e=="function")return e(t,i);switch(e){case"pathParamsChange":return!ll(t.url,i.url);case"pathParamsOrQueryParamsChange":return!ll(t.url,i.url)||!wr(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eA(t,i)||!wr(t.queryParams,i.queryParams);case"paramsChange":default:return!eA(t,i)}}function ap(t,i,e){let n=Tc(t),o=t.value;Object.entries(n).forEach(([r,a])=>{o.component?i?ap(a,i.children.getContext(r),e):ap(a,null,e):ap(a,i,e)}),o.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new Rc(i.outlet.component,o)):e.canDeactivateChecks.push(new Rc(null,o)):e.canDeactivateChecks.push(new Rc(null,o))}function vp(t){return typeof t=="function"}function cN(t){return typeof t=="boolean"}function dN(t){return t&&vp(t.canLoad)}function uN(t){return t&&vp(t.canActivate)}function pN(t){return t&&vp(t.canActivateChild)}function mN(t){return t&&vp(t.canDeactivate)}function hN(t){return t&&vp(t.canMatch)}function Qk(t){return t instanceof ix||t?.name==="EmptyError"}var Af=Symbol("INITIAL_VALUE");function Lc(){return Ei(t=>vu(t.map(i=>i.pipe(Zt(1),Ht(Af)))).pipe(_e(i=>{for(let e of i)if(e!==!0){if(e===Af)return Af;if(e===!1||fN(e))return e}return!0}),nt(i=>i!==Af),Zt(1)))}function fN(t){return lp(t)||t instanceof hp}function gN(t,i){return $n(e=>{let{targetSnapshot:n,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:a}}=e;return a.length===0&&r.length===0?se(O(x({},e),{guardsResult:!0})):yN(a,n,o,t).pipe($n(c=>c&&cN(c)?_N(n,r,t,i):se(c)),_e(c=>O(x({},e),{guardsResult:c})))})}function yN(t,i,e,n){return sn(t).pipe($n(o=>CN(o.component,o.route,e,i,n)),Va(o=>o!==!0,!0))}function _N(t,i,e,n){return sn(i).pipe(Hs(o=>Xm(bN(o.route.parent,n),vN(o.route,n),wN(t,o.path,e),AN(t,o.route,e))),Va(o=>o!==!0,!0))}function vN(t,i){return t!==null&&i&&i(new Zb(t)),se(!0)}function bN(t,i){return t!==null&&i&&i(new qb(t)),se(!0)}function AN(t,i,e){let n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||n.length===0)return se(!0);let o=n.map(r=>Qr(()=>{let a=_p(i)??e,c=Bc(r,a),d=uN(c)?c.canActivate(i,t):Fo(a,()=>c(i,t));return es(d).pipe(Va())}));return se(o).pipe(Lc())}function wN(t,i,e){let n=i[i.length-1],r=i.slice(0,i.length-1).reverse().map(a=>aN(a)).filter(a=>a!==null).map(a=>Qr(()=>{let c=a.guards.map(d=>{let u=_p(a.node)??e,p=Bc(d,u),h=pN(p)?p.canActivateChild(n,t):Fo(u,()=>p(n,t));return es(h).pipe(Va())});return se(c).pipe(Lc())}));return se(r).pipe(Lc())}function CN(t,i,e,n,o){let r=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!r||r.length===0)return se(!0);let a=r.map(c=>{let d=_p(i)??o,u=Bc(c,d),p=mN(u)?u.canDeactivate(t,i,e,n):Fo(d,()=>u(t,i,e,n));return es(p).pipe(Va())});return se(a).pipe(Lc())}function xN(t,i,e,n){let o=i.canLoad;if(o===void 0||o.length===0)return se(!0);let r=o.map(a=>{let c=Bc(a,t),d=dN(c)?c.canLoad(i,e):Fo(t,()=>c(i,e));return es(d)});return se(r).pipe(Lc(),qk(n))}function qk(t){return tx(Rt(i=>{if(typeof i!="boolean")throw Rf(t,i)}),_e(i=>i===!0))}function SN(t,i,e,n){let o=i.canMatch;if(!o||o.length===0)return se(!0);let r=o.map(a=>{let c=Bc(a,t),d=hN(c)?c.canMatch(i,e):Fo(t,()=>c(i,e));return es(d)});return se(r).pipe(Lc(),qk(n))}var fp=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},gp=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function kc(t){return Ns(new fp(t))}function IN(t){return Ns(new We(4e3,!1))}function MN(t){return Ns(Gk(!1,Ln.GuardRejected))}var nA=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],o=e.root;for(;;){if(n=n.concat(o.segments),o.numberOfChildren===0)return se(n);if(o.numberOfChildren>1||!o.children[Re])return IN(`${i.redirectTo}`);o=o.children[Re]}}applyRedirectCommands(i,e,n,o,r){if(typeof e!="string"){let c=e,{queryParams:d,fragment:u,routeConfig:p,url:h,outlet:y,params:A,data:C,title:M}=o,I=Fo(r,()=>c({params:A,data:C,queryParams:d,fragment:u,routeConfig:p,url:h,outlet:y,title:M}));if(I instanceof oa)throw new gp(I);e=I}let a=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e[0]==="/")throw new gp(a);return a}applyRedirectCreateUrlTree(i,e,n,o){let r=this.createSegmentGroup(i,e.root,n,o);return new oa(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let n={};return Object.entries(i).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let c=r.substring(1);n[o]=e[c]}else n[o]=r}),n}createSegmentGroup(i,e,n,o){let r=this.createSegments(i,e.segments,n,o),a={};return Object.entries(e.children).forEach(([c,d])=>{a[c]=this.createSegmentGroup(i,d,n,o)}),new ut(r,a)}createSegments(i,e,n,o){return e.map(r=>r.path[0]===":"?this.findPosParam(i,r,o):this.findOrReturn(r,n))}findPosParam(i,e,n){let o=n[e.path.substring(1)];if(!o)throw new We(4001,!1);return o}findOrReturn(i,e){let n=0;for(let o of e){if(o.path===i.path)return e.splice(n),o;n++}return i}},oA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EN(t,i,e,n,o){let r=Yk(t,i,e);return r.matched?(n=KB(i,n),SN(n,i,e,o).pipe(_e(a=>a===!0?r:x({},oA)))):se(r)}function Yk(t,i,e){if(i.path==="**")return kN(e);if(i.path==="")return i.pathMatch==="full"&&(t.hasChildren()||e.length>0)?x({},oA):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(i.matcher||xB)(e,t,i);if(!o)return x({},oA);let r={};Object.entries(o.posParams??{}).forEach(([c,d])=>{r[c]=d.path});let a=o.consumed.length>0?x(x({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:o.posParams??{}}}function kN(t){return{matched:!0,parameters:t.length>0?Mk(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Ck(t,i,e,n){return e.length>0&&FN(t,e,n)?{segmentGroup:new ut(i,DN(n,new ut(e,t.children))),slicedSegments:[]}:e.length===0&&RN(t,e,n)?{segmentGroup:new ut(t.segments,TN(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new ut(t.segments,t.children),slicedSegments:e}}function TN(t,i,e,n){let o={};for(let r of e)if(Vf(t,i,r)&&!n[Go(r)]){let a=new ut([],{});o[Go(r)]=a}return x(x({},n),o)}function DN(t,i){let e={};e[Re]=i;for(let n of t)if(n.path===""&&Go(n)!==Re){let o=new ut([],{});e[Go(n)]=o}return e}function FN(t,i,e){return e.some(n=>Vf(t,i,n)&&Go(n)!==Re)}function RN(t,i,e){return e.some(n=>Vf(t,i,n))}function Vf(t,i,e){return(t.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function PN(t,i,e){return i.length===0&&!t.children[e]}var rA=class{};function ON(t,i,e,n,o,r,a="emptyOnly"){return new aA(t,i,e,n,o,a,r).recognize()}var VN=31,aA=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,n,o,r,a,c){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=a,this.urlSerializer=c,this.applyRedirects=new nA(this.urlSerializer,this.urlTree)}noMatchError(i){return new We(4002,`'${i.segmentGroup}'`)}recognize(){let i=Ck(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(_e(({children:e,rootSnapshot:n})=>{let o=new Vn(n,e),r=new Ff("",o),a=zB(n,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(a),{state:r,tree:a}}))}match(i){let e=new Fc([],Object.freeze({}),Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Re,e).pipe(_e(n=>({children:n,rootSnapshot:e})),Pa(n=>{if(n instanceof gp)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof fp?this.noMatchError(n):n}))}processSegmentGroup(i,e,n,o,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(i,e,n,r):this.processSegment(i,e,n,n.segments,o,!0,r).pipe(_e(a=>a instanceof Vn?[a]:[]))}processChildren(i,e,n,o){let r=[];for(let a of Object.keys(n.children))a==="primary"?r.unshift(a):r.push(a);return sn(r).pipe(Hs(a=>{let c=n.children[a],d=JB(e,a);return this.processSegmentGroup(i,d,c,a,o)}),rx((a,c)=>(a.push(...c),a)),ov(null),ox(),$n(a=>{if(a===null)return kc(n);let c=Zk(a);return LN(c),se(c)}))}processSegment(i,e,n,o,r,a,c){return sn(e).pipe(Hs(d=>this.processSegmentAgainstRoute(d._injector??i,e,d,n,o,r,a,c).pipe(Pa(u=>{if(u instanceof fp)return se(null);throw u}))),Va(d=>!!d),Pa(d=>{if(Qk(d))return PN(n,o,r)?se(new rA):kc(n);throw d}))}processSegmentAgainstRoute(i,e,n,o,r,a,c,d){return Go(n)!==a&&(a===Re||!Vf(o,r,n))?kc(o):n.redirectTo===void 0?this.matchSegmentAgainstRoute(i,o,n,r,a,d):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(i,o,e,n,r,a,d):kc(o)}expandSegmentAgainstRouteUsingRedirect(i,e,n,o,r,a,c){let{matched:d,parameters:u,consumedSegments:p,positionalParamSegments:h,remainingSegments:y}=Yk(e,o,r);if(!d)return kc(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>VN&&(this.allowRedirects=!1));let A=new Fc(r,u,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,xk(o),Go(o),o.component??o._loadedComponent??null,o,Sk(o)),C=Df(A,c,this.paramsInheritanceStrategy);A.params=Object.freeze(C.params),A.data=Object.freeze(C.data);let M=this.applyRedirects.applyRedirectCommands(p,o.redirectTo,h,A,i);return this.applyRedirects.lineralizeSegments(o,M).pipe($n(I=>this.processSegment(i,n,e,I.concat(y),a,!1,c)))}matchSegmentAgainstRoute(i,e,n,o,r,a){let c=EN(e,n,o,i,this.urlSerializer);return n.path==="**"&&(e.children={}),c.pipe(Ei(d=>d.matched?(i=n._injector??i,this.getChildConfig(i,n,o).pipe(Ei(({routes:u})=>{let p=n._loadedInjector??i,{parameters:h,consumedSegments:y,remainingSegments:A}=d,C=new Fc(y,h,Object.freeze(x({},this.urlTree.queryParams)),this.urlTree.fragment,xk(n),Go(n),n.component??n._loadedComponent??null,n,Sk(n)),M=Df(C,a,this.paramsInheritanceStrategy);C.params=Object.freeze(M.params),C.data=Object.freeze(M.data);let{segmentGroup:I,slicedSegments:G}=Ck(e,y,A,u);if(G.length===0&&I.hasChildren())return this.processChildren(p,u,I,C).pipe(_e(L=>new Vn(C,L)));if(u.length===0&&G.length===0)return se(new Vn(C,[]));let X=Go(n)===r;return this.processSegment(p,u,I,G,X?Re:r,!0,C).pipe(_e(L=>new Vn(C,L instanceof Vn?[L]:[])))}))):kc(e)))}getChildConfig(i,e,n){return e.children?se({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?se({routes:e._loadedRoutes,injector:e._loadedInjector}):xN(i,e,n,this.urlSerializer).pipe($n(o=>o?this.configLoader.loadChildren(i,e).pipe(Rt(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):MN(e))):se({routes:[],injector:i})}};function LN(t){t.sort((i,e)=>i.value.outlet===Re?-1:e.value.outlet===Re?1:i.value.outlet.localeCompare(e.value.outlet))}function BN(t){let i=t.value.routeConfig;return i&&i.path===""}function Zk(t){let i=[],e=new Set;for(let n of t){if(!BN(n)){i.push(n);continue}let o=i.find(r=>n.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...n.children),e.add(o)):i.push(n)}for(let n of e){let o=Zk(n.children);i.push(new Vn(n.value,o))}return i.filter(n=>!e.has(n))}function xk(t){return t.data||{}}function Sk(t){return t.resolve||{}}function NN(t,i,e,n,o,r){return $n(a=>ON(t,i,e,n,a.extractedUrl,o,r).pipe(_e(({state:c,tree:d})=>O(x({},a),{targetSnapshot:c,urlAfterRedirects:d}))))}function HN(t,i){return $n(e=>{let{targetSnapshot:n,guards:{canActivateChecks:o}}=e;if(!o.length)return se(e);let r=new Set(o.map(d=>d.route)),a=new Set;for(let d of r)if(!a.has(d))for(let u of Kk(d))a.add(u);let c=0;return sn(a).pipe(Hs(d=>r.has(d)?UN(d,n,t,i):(d.data=Df(d,d.parent,t).resolve,se(void 0))),Rt(()=>c++),av(1),$n(d=>c===a.size?se(e):Rn))})}function Kk(t){let i=t.children.map(e=>Kk(e)).flat();return[t,...i]}function UN(t,i,e,n){let o=t.routeConfig,r=t._resolve;return o?.title!==void 0&&!jk(o)&&(r[yp]=o.title),jN(r,t,i,n).pipe(_e(a=>(t._resolvedData=a,t.data=Df(t,t.parent,e).resolve,null)))}function jN(t,i,e,n){let o=Vb(t);if(o.length===0)return se({});let r={};return sn(o).pipe($n(a=>zN(t[a],i,e,n).pipe(Va(),Rt(c=>{if(c instanceof hp)throw Rf(new sp,c);r[a]=c}))),av(1),_e(()=>r),Pa(a=>Qk(a)?Rn:Ns(a)))}function zN(t,i,e,n){let o=_p(i)??n,r=Bc(t,o),a=r.resolve?r.resolve(i,e):Fo(o,()=>r(i,e));return es(a)}function Pb(t){return Ei(i=>{let e=t(i);return e?sn(e).pipe(_e(()=>i)):se(i)})}var Jk=(()=>{class t{buildTitle(e){let n,o=e.root;for(;o!==void 0;)n=this.getResolvedTitleForRoute(o)??n,o=o.children.find(r=>r.outlet===Re);return n}getResolvedTitleForRoute(e){return e.data[yp]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:()=>m(GN),providedIn:"root"})}return t})(),GN=(()=>{class t extends Jk{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(Fe(_k))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pA=new H("",{providedIn:"root",factory:()=>({})}),WN=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,o){n&1&&F(0,"router-outlet")},dependencies:[dA],encapsulation:2})}return t})();function mA(t){let i=t.children&&t.children.map(mA),e=i?O(x({},t),{children:i}):x({},t);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Re&&(e.component=WN),e}var hA=new H(""),QN=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=m(vv);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return se(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=es(e.loadComponent()).pipe(_e($k),Rt(r=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=r}),qr(()=>{this.componentLoaders.delete(e)})),o=new tv(n,()=>new Q).pipe(ev());return this.componentLoaders.set(e,o),o}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return se({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let r=qN(n,this.compiler,e,this.onLoadEndListener).pipe(qr(()=>{this.childrenLoaders.delete(n)})),a=new tv(r,()=>new Q).pipe(ev());return this.childrenLoaders.set(n,a),a}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qN(t,i,e,n){return es(t.loadChildren()).pipe(_e($k),$n(o=>o instanceof Sx||Array.isArray(o)?se(o):sn(i.compileModuleAsync(o))),_e(o=>{n&&n(t);let r,a,c=!1;return Array.isArray(o)?(a=o,c=!0):(r=o.create(e).injector,a=r.get(hA,[],{optional:!0,self:!0}).flat()),{routes:a.map(mA),injector:r}}))}function YN(t){return t&&typeof t=="object"&&"default"in t}function $k(t){return YN(t)?t.default:t}var fA=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:()=>m(ZN),providedIn:"root"})}return t})(),ZN=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KN=new H("");var JN=new H(""),$N=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Q;transitionAbortSubject=new Q;configLoader=m(QN);environmentInjector=m(Xn);destroyRef=m(dx);urlSerializer=m(lA);rootContexts=m(Of);location=m(tc);inputBindingEnabled=m(uA,{optional:!0})!==null;titleStrategy=m(Jk);options=m(pA,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=m(fA);createViewTransition=m(KN,{optional:!0});navigationErrorHandler=m(JN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>se(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Wb(o)),n=o=>this.events.next(new Qb(o));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(O(x({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new Bi(null),this.transitions.pipe(nt(n=>n!==null),Ei(n=>{let o=!1,r=!1;return se(n).pipe(Ei(a=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",Ln.SupersededByNewNavigation),Rn;this.currentTransition=n,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?O(x({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&d!=="reload"){let u="";return this.events.next(new dl(a.id,this.urlSerializer.serialize(a.rawUrl),u,Hb.IgnoredSameUrlNavigation)),a.resolve(!1),Rn}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return se(a).pipe(Ei(u=>(this.events.next(new dp(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Rn:Promise.resolve(u))),NN(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(u=>{n.targetSnapshot=u.targetSnapshot,n.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=O(x({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let p=new Ef(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:u,extractedUrl:p,source:h,restoredState:y,extras:A}=a,C=new dp(u,this.urlSerializer.serialize(p),h,y);this.events.next(C);let M=Hk(this.rootComponentType).snapshot;return this.currentTransition=n=O(x({},a),{targetSnapshot:M,urlAfterRedirects:p,extras:O(x({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,se(n)}else{let u="";return this.events.next(new dl(a.id,this.urlSerializer.serialize(a.extractedUrl),u,Hb.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Rn}}),Rt(a=>{let c=new Ub(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),_e(a=>(this.currentTransition=n=O(x({},a),{guards:rN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),n)),gN(this.environmentInjector,a=>this.events.next(a)),Rt(a=>{if(n.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Rf(this.urlSerializer,a.guardsResult);let c=new jb(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(c)}),nt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Ln.GuardRejected),!1)),Pb(a=>{if(a.guards.canActivateChecks.length!==0)return se(a).pipe(Rt(c=>{let d=new zb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Ei(c=>{let d=!1;return se(c).pipe(HN(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Ln.NoDataFromResolver)}}))}),Rt(c=>{let d=new Gb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),Pb(a=>{let c=d=>{let u=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(d.routeConfig).pipe(Rt(p=>{d.component=p}),_e(()=>{})));for(let p of d.children)u.push(...c(p));return u};return vu(c(a.targetSnapshot.root)).pipe(ov(null),Zt(1))}),Pb(()=>this.afterPreactivation()),Ei(()=>{let{currentSnapshot:a,targetSnapshot:c}=n,d=this.createViewTransition?.(this.environmentInjector,a.root,c.root);return d?sn(d).pipe(_e(()=>n)):se(n)}),_e(a=>{let c=eN(e.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=n=O(x({},a),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,n}),Rt(()=>{this.events.next(new pp)}),oN(this.rootContexts,e.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Zt(1),Rt({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Ge(this.transitionAbortSubject.pipe(Rt(a=>{throw a}))),qr(()=>{!o&&!r&&this.cancelNavigationTransition(n,"",Ln.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),Pa(a=>{if(this.destroyed)return n.resolve(!1),Rn;if(r=!0,Wk(a))this.events.next(new na(n.id,this.urlSerializer.serialize(n.extractedUrl),a.message,a.cancellationCode)),nN(a)?this.events.next(new Oc(a.url,a.navigationBehaviorOptions)):n.resolve(!1);else{let c=new up(n.id,this.urlSerializer.serialize(n.extractedUrl),a,n.targetSnapshot??void 0);try{let d=Fo(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(d instanceof hp){let{message:u,cancellationCode:p}=Rf(this.urlSerializer,d);this.events.next(new na(n.id,this.urlSerializer.serialize(n.extractedUrl),u,p)),this.events.next(new Oc(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(c),a}catch(d){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(d)}}return Rn}))}))}cancelNavigationTransition(e,n,o){let r=new na(e.id,this.urlSerializer.serialize(e.extractedUrl),n,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XN(t){return t!==Sf}var e3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:()=>m(t3),providedIn:"root"})}return t})(),sA=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},t3=(()=>{class t extends sA{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xk=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:()=>m(i3),providedIn:"root"})}return t})(),i3=(()=>{class t extends Xk{location=m(tc);urlSerializer=m(lA);options=m(pA,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=m(fA);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new oa;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Hk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof dp)this.stateMemento=this.createStateMemento();else if(e instanceof dl)this.rawUrlTree=n.initialUrl;else if(e instanceof Ef){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??o,n)}}else e instanceof pp?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof na&&(e.code===Ln.GuardRejected||e.code===Ln.NoDataFromResolver)?this.restoreHistory(n):e instanceof up?this.restoreHistory(n,!0):e instanceof cl&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let o=e instanceof oa?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||n.extras.replaceUrl){let r=this.browserPageId,a=x(x({},n.extras.state),this.generateNgRouterState(n.id,r));this.location.replaceState(o,"",a)}else{let r=x(x({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(o,"",r)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.currentUrlTree===e.finalUrl&&r===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function n3(t,i){t.events.pipe(nt(e=>e instanceof cl||e instanceof na||e instanceof up||e instanceof dl),_e(e=>e instanceof cl||e instanceof dl?0:(e instanceof na?e.code===Ln.Redirect||e.code===Ln.SupersededByNewNavigation:!1)?2:1),nt(e=>e!==2),Zt(1)).subscribe(()=>{i()})}var o3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},r3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},eT=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=m(fv);stateManager=m(Xk);options=m(pA,{optional:!0})||{};pendingTasks=m(wu);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=m($N);urlSerializer=m(lA);location=m(tc);urlHandlingStrategy=m(fA);_events=new Q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=m(e3);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=m(hA,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!m(uA,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new $e;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let o=this.navigationTransitions.currentTransition,r=this.navigationTransitions.currentNavigation;if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(n,r),n instanceof na&&n.code!==Ln.Redirect&&n.code!==Ln.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof cl)this.navigated=!0;else if(n instanceof Oc){let a=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,o.currentRawUrl),d=x({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XN(o.source)},a);this.scheduleNavigation(c,Sf,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}s3(n)&&this._events.next(n)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,o){let r={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=x({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(r.state=d)}let c=this.parseUrl(e);this.scheduleNavigation(c,n,a,r)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(mA),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:o,queryParams:r,fragment:a,queryParamsHandling:c,preserveFragment:d}=n,u=d?this.currentUrlTree.fragment:a,p=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":p=x(x({},this.currentUrlTree.queryParams),r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}p!==null&&(p=this.removeEmptyProps(p));let h;try{let y=o?o.snapshot:this.routerState.snapshot.root;h=Vk(y)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return Lk(h,e,p,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){let o=lp(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,Sf,null,n)}navigate(e,n={skipLocationChange:!1}){return a3(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let o;if(n===!0?o=x({},o3):n===!1?o=x({},r3):o=n,lp(e))return vk(this.currentUrlTree,e,o);let r=this.parseUrl(e);return vk(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((n,[o,r])=>(r!=null&&(n[o]=r),n),{})}scheduleNavigation(e,n,o,r,a){if(this.disposed)return Promise.resolve(!1);let c,d,u;a?(c=a.resolve,d=a.reject,u=a.promise):u=new Promise((h,y)=>{c=h,d=y});let p=this.pendingTasks.add();return n3(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:c,reject:d,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function a3(t){for(let i=0;i<t.length;i++)if(t[i]==null)throw new We(4008,!1)}function s3(t){return!(t instanceof pp)&&!(t instanceof Oc)}var l3=new H("");function tT(t,...i){return Us([{provide:hA,multi:!0,useValue:t},[],{provide:Vc,useFactory:c3,deps:[eT]},{provide:gv,multi:!0,useFactory:d3},i.map(e=>e.\u0275providers)])}function c3(t){return t.routerState.root}function d3(){let t=m(Te);return i=>{let e=t.get(Zr);if(i!==e.components[0])return;let n=t.get(eT),o=t.get(u3);t.get(p3)===1&&n.initialNavigation(),t.get(m3,null,cv.Optional)?.setUpPreloading(),t.get(l3,null,cv.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var u3=new H("",{factory:()=>new Q}),p3=new H("",{providedIn:"root",factory:()=>1});var m3=new H("");var gA;try{gA=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gA=!1}var De=(()=>{class t{_platformId=m(dr);isBrowser=this._platformId?Mu(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||gA)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bp;function iT(){if(bp==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bp=!0}))}finally{bp=bp||!1}return bp}function ts(t){return iT()?t:!!t.capture}var Wo=function(t){return t[t.NORMAL=0]="NORMAL",t[t.NEGATED=1]="NEGATED",t[t.INVERTED=2]="INVERTED",t}(Wo||{}),Lf,ul;function Bf(){if(ul==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ul=!1,ul;if("scrollBehavior"in document.documentElement.style)ul=!0;else{let t=Element.prototype.scrollTo;t?ul=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ul=!1}}return ul}function Nc(){if(typeof document!="object"||!document)return Wo.NORMAL;if(Lf==null){let t=document.createElement("div"),i=t.style;t.dir="rtl",i.width="1px",i.overflow="auto",i.visibility="hidden",i.pointerEvents="none",i.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",t.appendChild(e),document.body.appendChild(t),Lf=Wo.NORMAL,t.scrollLeft===0&&(t.scrollLeft=1,Lf=t.scrollLeft===0?Wo.NEGATED:Wo.INVERTED),t.remove()}return Lf}var yA;function nT(){if(yA==null){let t=typeof document<"u"?document.head:null;yA=!!(t&&(t.createShadowRoot||t.attachShadow))}return yA}function _A(t){if(nT()){let i=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&i instanceof ShadowRoot)return i}return null}function ra(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let i=t.shadowRoot.activeElement;if(i===t)break;t=i}return t}function mn(t){return t.composedPath?t.composedPath()[0]:t.target}function vA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function St(t,i,e,n,o){let r=parseInt(_v.major),a=parseInt(_v.minor);return r>19||r===19&&a>0||r===0&&a===0?t.listen(i,e,n,o):(i.addEventListener(e,n,o),()=>{i.removeEventListener(e,n,o)})}var Hc,oT=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bA(){if(Hc)return Hc;if(typeof document!="object"||!document)return Hc=new Set(oT),Hc;let t=document.createElement("input");return Hc=new Set(oT.filter(i=>(t.setAttribute("type",i),t.type===i))),Hc}function Ap(t){return t.buttons===0||t.detail===0}function wp(t){let i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!i&&i.identifier===-1&&(i.radiusX==null||i.radiusX===1)&&(i.radiusY==null||i.radiusY===1)}function Qo(t,i=0){return rT(t)?Number(t):arguments.length===2?i:0}function rT(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function hn(t){return t instanceof oe?t.nativeElement:t}var aT=new H("cdk-input-modality-detector-options"),sT={ignoreKeys:[18,17,224,91,16]},lT=650,AA={passive:!0,capture:!0},cT=(()=>{class t{_platform=m(De);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new Bi(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(n=>n===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mn(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<lT||(this._modality.next(Ap(e)?"keyboard":"mouse"),this._mostRecentTarget=mn(e))};_onTouchstart=e=>{if(wp(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mn(e)};constructor(){let e=m(pe),n=m(fe),o=m(aT,{optional:!0});if(this._options=x(x({},sT),o),this.modalityDetected=this._modality.pipe(Zl(1)),this.modalityChanged=this.modalityDetected.pipe(rv()),this._platform.isBrowser){let r=m(Ni).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[St(r,n,"keydown",this._onKeydown,AA),St(r,n,"mousedown",this._onMousedown,AA),St(r,n,"touchstart",this._onTouchstart,AA)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cp=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Cp||{}),dT=new H("cdk-focus-monitor-default-options"),Nf=ts({passive:!0,capture:!0}),aa=(()=>{class t{_ngZone=m(pe);_platform=m(De);_inputModalityDetector=m(cT);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=m(fe,{optional:!0});_stopInputModalityDetector=new Q;constructor(){let e=m(dT,{optional:!0});this._detectionMode=e?.detectionMode||Cp.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let n=mn(e);for(let o=n;o;o=o.parentElement)e.type==="focus"?this._onFocus(e,o):this._onBlur(e,o)};monitor(e,n=!1){let o=hn(e);if(!this._platform.isBrowser||o.nodeType!==1)return se();let r=_A(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return n&&(a.checkChildren=!0),a.subject;let c={checkChildren:n,subject:new Q,rootNode:r};return this._elementInfo.set(o,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let n=hn(e),o=this._elementInfo.get(n);o&&(o.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(o))}focusVia(e,n,o){let r=hn(e),a=this._getDocument().activeElement;r===a?this._getClosestElementsInfo(r).forEach(([c,d])=>this._originChanged(c,n,d)):(this._setOrigin(n),typeof r.focus=="function"&&r.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Cp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===Cp.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?lT:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(e,n){let o=this._elementInfo.get(n),r=mn(e);!o||!o.checkChildren&&n!==r||this._originChanged(n,this._getFocusOrigin(r),o)}_onBlur(e,n){let o=this._elementInfo.get(n);!o||o.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(o,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,o=this._rootNodeFocusListenerCount.get(n)||0;o||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nf),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nf)}),this._rootNodeFocusListenerCount.set(n,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ge(this._stopInputModalityDetector)).subscribe(r=>{this._setOrigin(r,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let o=this._rootNodeFocusListenerCount.get(n);o>1?this._rootNodeFocusListenerCount.set(n,o-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nf),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nf),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,o){this._setClasses(e,n),this._emitOrigin(o,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((o,r)=>{(r===e||o.checkChildren&&r.contains(e))&&n.push([r,o])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let r=e.labels;if(r){for(let a=0;a<r.length;a++)if(r[a].contains(n))return!0}return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xp=(()=>{class t{_elementRef=m(oe);_focusMonitor=m(aa);_monitorSubscription;_focusOrigin=null;cdkFocusChange=new q;constructor(){}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,e.nodeType===1&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(n=>{this._focusOrigin=n,this.cdkFocusChange.emit(n)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]})}return t})();var Hf=new WeakMap,Bt=(()=>{class t{_appRef;_injector=m(Te);_environmentInjector=m(Xn);load(e){let n=this._appRef=this._appRef||this._injector.get(Zr),o=Hf.get(n);o||(o={loaders:new Set,refs:[]},Hf.set(n,o),n.onDestroy(()=>{Hf.get(n)?.refs.forEach(r=>r.destroy()),Hf.delete(n)})),o.loaders.has(e)||(o.loaders.add(e),o.refs.push(ch(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(n,o){},styles:[".cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}"],encapsulation:2,changeDetection:0})}return t})();function Uc(t){return Array.isArray(t)?t:[t]}var uT=new Set,pl,mT=(()=>{class t{_platform=m(De);_nonce=m(Cu,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):f3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&h3(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function h3(t,i){if(!uT.has(t))try{pl||(pl=document.createElement("style"),i&&pl.setAttribute("nonce",i),pl.setAttribute("type","text/css"),document.head.appendChild(pl)),pl.sheet&&(pl.sheet.insertRule(`@media ${t} {body{ }}`,0),uT.add(t))}catch(e){console.error(e)}}function f3(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Sp=(()=>{class t{_mediaMatcher=m(mT);_zone=m(pe);_queries=new Map;_destroySubject=new Q;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pT(Uc(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let o=pT(Uc(e)).map(a=>this._registerQuery(a).observable),r=vu(o);return r=Xm(r.pipe(Zt(1)),r.pipe(Zl(1),Oa(0))),r.pipe(_e(a=>{let c={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:u})=>{c.matches=c.matches||d,c.breakpoints[u]=d}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),r={observable:new Jn(a=>{let c=d=>this._zone.run(()=>a.next(d));return n.addListener(c),()=>{n.removeListener(c)}}).pipe(Ht(n),_e(({matches:a})=>({query:e,matches:a})),Ge(this._destroySubject)),mql:n};return this._queries.set(e,r),r}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pT(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}function g3(t){if(t.type==="characterData"&&t.target instanceof Comment)return!0;if(t.type==="childList"){for(let i=0;i<t.addedNodes.length;i++)if(!(t.addedNodes[i]instanceof Comment))return!1;for(let i=0;i<t.removedNodes.length;i++)if(!(t.removedNodes[i]instanceof Comment))return!1;return!0}return!1}var wA=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),CA=(()=>{class t{_mutationObserverFactory=m(wA);_observedElements=new Map;_ngZone=m(pe);constructor(){}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=hn(e);return new Jn(o=>{let a=this._observeElement(n).pipe(_e(c=>c.filter(d=>!g3(d))),nt(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{o.next(c)})});return()=>{a.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new Q,o=this._mutationObserverFactory.create(r=>n.next(r));o&&o.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:o,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:o}=this._observedElements.get(e);n&&n.disconnect(),o.complete(),this._observedElements.delete(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xA=(()=>{class t{_contentObserver=m(CA);_elementRef=m(oe);event=new q;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}_disabled=!1;get debounce(){return this._debounce}set debounce(e){this._debounce=Qo(e),this._subscribe()}_debounce;_currentSubscription=null;constructor(){}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(Oa(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",me],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]})}return t})(),Ip=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[wA]})}return t})();var jf=(()=>{class t{_platform=m(De);constructor(){}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return _3(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=y3(I3(e));if(n&&(hT(n)===-1||!this.isVisible(n)))return!1;let o=e.nodeName.toLowerCase(),r=hT(e);return e.hasAttribute("contenteditable")?r!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!x3(e)?!1:o==="audio"?e.hasAttribute("controls")?r!==-1:!1:o==="video"?r===-1?!1:r!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return S3(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function y3(t){try{return t.frameElement}catch{return null}}function _3(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function v3(t){let i=t.nodeName.toLowerCase();return i==="input"||i==="select"||i==="button"||i==="textarea"}function b3(t){return w3(t)&&t.type=="hidden"}function A3(t){return C3(t)&&t.hasAttribute("href")}function w3(t){return t.nodeName.toLowerCase()=="input"}function C3(t){return t.nodeName.toLowerCase()=="a"}function yT(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let i=t.getAttribute("tabindex");return!!(i&&!isNaN(parseInt(i,10)))}function hT(t){if(!yT(t))return null;let i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function x3(t){let i=t.nodeName.toLowerCase(),e=i==="input"&&t.type;return e==="text"||e==="password"||i==="select"||i==="textarea"}function S3(t){return b3(t)?!1:v3(t)||A3(t)||t.hasAttribute("contenteditable")||yT(t)}function I3(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var Uf=class{_element;_checker;_ngZone;_document;_injector;_startAnchor;_endAnchor;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_enabled=!0;constructor(i,e,n,o,r=!1,a){this._element=i,this._checker=e,this._ngZone=n,this._document=o,this._injector=a,r||this.attachAnchors()}destroy(){let i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(i)))})}focusFirstTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(i)))})}focusLastTabbableElementWhenReady(i){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(i)))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);return i=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(i){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(i),!!n}return e.focus(i),!0}return this.focusFirstTabbableElement(i)}focusFirstTabbableElement(i){let e=this._getRegionBoundary("start");return e&&e.focus(i),!!e}focusLastTabbableElement(i){let e=this._getRegionBoundary("end");return e&&e.focus(i),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=0;n<e.length;n++){let o=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(o)return o}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children;for(let n=e.length-1;n>=0;n--){let o=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(o)return o}return null}_createAnchor(){let i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._injector?mi(i,{injector:this._injector}):setTimeout(i)}},zf=(()=>{class t{_checker=m(jf);_ngZone=m(pe);_document=m(fe);_injector=m(Te);constructor(){m(Bt).load(qo)}create(e,n=!1){return new Uf(e,this._checker,this._ngZone,this._document,n,this._injector)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),IA=(()=>{class t{_elementRef=m(oe);_focusTrapFactory=m(zf);focusTrap;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(e){this.focusTrap&&(this.focusTrap.enabled=e)}autoCapture;constructor(){m(De).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(e){let n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=ra(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",me],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",me]},exportAs:["cdkTrapFocus"],features:[ht]})}return t})(),_T=new H("liveAnnouncerElement",{providedIn:"root",factory:vT});function vT(){return null}var bT=new H("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),M3=0,Mp=(()=>{class t{_ngZone=m(pe);_defaultOptions=m(bT,{optional:!0});_liveElement;_document=m(fe);_previousTimeout;_currentPromise;_currentResolve;constructor(){let e=m(_T,{optional:!0});this._liveElement=e||this._createLiveElement()}announce(e,...n){let o=this._defaultOptions,r,a;return n.length===1&&typeof n[0]=="number"?a=n[0]:[r,a]=n,this.clear(),clearTimeout(this._previousTimeout),r||(r=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",r),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(c=>this._currentResolve=c)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let e="cdk-live-announcer-element",n=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let r=0;r<n.length;r++)n[r].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${M3++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){let n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let r=n[o],a=r.getAttribute("aria-owns");a?a.indexOf(e)===-1&&r.setAttribute("aria-owns",a+" "+e):r.setAttribute("aria-owns",e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var is=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(is||{}),fT="cdk-high-contrast-black-on-white",gT="cdk-high-contrast-white-on-black",SA="cdk-high-contrast-active",Gf=(()=>{class t{_platform=m(De);_hasCheckedHighContrastMode;_document=m(fe);_breakpointSubscription;constructor(){this._breakpointSubscription=m(Sp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return is.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,o=n&&n.getComputedStyle?n.getComputedStyle(e):null,r=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return is.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return is.BLACK_ON_WHITE}return is.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(SA,fT,gT),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===is.BLACK_ON_WHITE?e.add(SA,fT):n===is.WHITE_ON_BLACK&&e.add(SA,gT)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jc=(()=>{class t{constructor(){m(Gf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Ip]})}return t})();var MA={},Dt=(()=>{class t{_appId=m(zs);getId(e){return this._appId!=="ng"&&(e+=this._appId),MA.hasOwnProperty(e)||(MA[e]=0),`${e}${MA[e]++}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var E3=200,Wf=class{_letterKeyStream=new Q;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new Q;selectedItem=this._selectedItem;constructor(i,e){let n=typeof e?.debounceInterval=="number"?e.debounceInterval:E3;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(i),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(i){this._selectedItemIndex=i}setItems(i){this._items=i}handleKey(i){let e=i.keyCode;i.key&&i.key.length===1?this._letterKeyStream.next(i.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(i){this._letterKeyStream.pipe(Rt(e=>this._pressedLetters.push(e)),Oa(i),nt(()=>this._pressedLetters.length>0),_e(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let n=1;n<this._items.length+1;n++){let o=(this._selectedItemIndex+n)%this._items.length,r=this._items[o];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(e)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}};function bt(t,...i){return i.length?i.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var zc=class{_items;_activeItemIndex=-1;_activeItem=Po(null);_wrap=!1;_typeaheadSubscription=$e.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=i=>i.disabled;constructor(i,e){this._items=i,i instanceof Kl?this._itemChangesSubscription=i.changes.subscribe(n=>this._itemsChanged(n.toArray())):js(i)&&(this._effectRef=lh(()=>this._itemsChanged(i()),{injector:e}))}tabOut=new Q;change=new Q;skipPredicate(i){return this._skipPredicateFn=i,this}withWrap(i=!0){return this._wrap=i,this}withVerticalOrientation(i=!0){return this._vertical=i,this}withHorizontalOrientation(i){return this._horizontal=i,this}withAllowedModifierKeys(i){return this._allowedModifierKeys=i,this}withTypeAhead(i=200){this._typeaheadSubscription.unsubscribe();let e=this._getItemsArray();return this._typeahead=new Wf(e,{debounceInterval:typeof i=="number"?i:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(i=!0){return this._homeAndEnd=i,this}withPageUpDown(i=!0,e=10){return this._pageUpAndDown={enabled:i,delta:e},this}setActiveItem(i){let e=this._activeItem();this.updateActiveItem(i),this._activeItem()!==e&&this.change.next(this._activeItemIndex)}onKeydown(i){let e=i.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!i[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(e){case 9:this.tabOut.next();return;case 40:if(this._vertical&&o){this.setNextItemActive();break}else return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&o){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&o){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&o){let r=this._activeItemIndex+this._pageUpAndDown.delta,a=this._getItemsArray().length;this._setActiveItemByIndex(r<a?r:a-1,-1);break}else return;default:(o||bt(i,"shiftKey"))&&this._typeahead?.handleKey(i);return}this._typeahead?.reset(),i.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(i){let e=this._getItemsArray(),n=typeof i=="number"?i:e.indexOf(i),o=e[n];this._activeItem.set(o??null),this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(i){this._wrap?this._setActiveInWrapMode(i):this._setActiveInDefaultMode(i)}_setActiveInWrapMode(i){let e=this._getItemsArray();for(let n=1;n<=e.length;n++){let o=(this._activeItemIndex+i*n+e.length)%e.length,r=e[o];if(!this._skipPredicateFn(r)){this.setActiveItem(o);return}}}_setActiveInDefaultMode(i){this._setActiveItemByIndex(this._activeItemIndex+i,i)}_setActiveItemByIndex(i,e){let n=this._getItemsArray();if(n[i]){for(;this._skipPredicateFn(n[i]);)if(i+=e,!n[i])return;this.setActiveItem(i)}}_getItemsArray(){return js(this._items)?this._items():this._items instanceof Kl?this._items.toArray():this._items}_itemsChanged(i){this._typeahead?.setItems(i);let e=this._activeItem();if(e){let n=i.indexOf(e);n>-1&&n!==this._activeItemIndex&&(this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n))}}};var Tp=class extends zc{setActiveItem(i){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(i),this.activeItem&&this.activeItem.setActiveStyles()}};var Dp=class extends zc{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}};var CT=" ";function TA(t,i,e){let n=Zf(t,i);e=e.trim(),!n.some(o=>o.trim()===e)&&(n.push(e),t.setAttribute(i,n.join(CT)))}function Kf(t,i,e){let n=Zf(t,i);e=e.trim();let o=n.filter(r=>r!==e);o.length?t.setAttribute(i,o.join(CT)):t.removeAttribute(i)}function Zf(t,i){return t.getAttribute(i)?.match(/\S+/g)??[]}var xT="cdk-describedby-message",Yf="cdk-describedby-host",kA=0,ST=(()=>{class t{_platform=m(De);_document=m(fe);_messageRegistry=new Map;_messagesContainer=null;_id=`${kA++}`;constructor(){m(Bt).load(qo),this._id=m(zs)+"-"+kA++}describe(e,n,o){if(!this._canBeDescribed(e,n))return;let r=EA(n,o);typeof n!="string"?(wT(n,this._id),this._messageRegistry.set(r,{messageElement:n,referenceCount:0})):this._messageRegistry.has(r)||this._createMessageElement(n,o),this._isElementDescribedByMessage(e,r)||this._addMessageReference(e,r)}removeDescription(e,n,o){if(!n||!this._isElementNode(e))return;let r=EA(n,o);if(this._isElementDescribedByMessage(e,r)&&this._removeMessageReference(e,r),typeof n=="string"){let a=this._messageRegistry.get(r);a&&a.referenceCount===0&&this._deleteMessageElement(r)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let e=this._document.querySelectorAll(`[${Yf}="${this._id}"]`);for(let n=0;n<e.length;n++)this._removeCdkDescribedByReferenceIds(e[n]),e[n].removeAttribute(Yf);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,n){let o=this._document.createElement("div");wT(o,this._id),o.textContent=e,n&&o.setAttribute("role",n),this._createMessagesContainer(),this._messagesContainer.appendChild(o),this._messageRegistry.set(EA(e,n),{messageElement:o,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;let e="cdk-describedby-message-container",n=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let r=0;r<n.length;r++)n[r].remove();let o=this._document.createElement("div");o.style.visibility="hidden",o.classList.add(e),o.classList.add("cdk-visually-hidden"),this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._messagesContainer=o}_removeCdkDescribedByReferenceIds(e){let n=Zf(e,"aria-describedby").filter(o=>o.indexOf(xT)!=0);e.setAttribute("aria-describedby",n.join(" "))}_addMessageReference(e,n){let o=this._messageRegistry.get(n);TA(e,"aria-describedby",o.messageElement.id),e.setAttribute(Yf,this._id),o.referenceCount++}_removeMessageReference(e,n){let o=this._messageRegistry.get(n);o.referenceCount--,Kf(e,"aria-describedby",o.messageElement.id),e.removeAttribute(Yf)}_isElementDescribedByMessage(e,n){let o=Zf(e,"aria-describedby"),r=this._messageRegistry.get(n),a=r&&r.messageElement.id;return!!a&&o.indexOf(a)!=-1}_canBeDescribed(e,n){if(!this._isElementNode(e))return!1;if(n&&typeof n=="object")return!0;let o=n==null?"":`${n}`.trim(),r=e.getAttribute("aria-label");return o?!r||r.trim()!==o:!1}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function EA(t,i){return typeof t=="string"?`${i||""}/${t}`:t}function wT(t,i){t.id||(t.id=`${xT}-${i}-${kA++}`)}var IT=new H("cdk-dir-doc",{providedIn:"root",factory:k3});function k3(){return m(fe)}var T3=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function D3(t){let i=t?.toLowerCase()||"";return i==="auto"&&typeof navigator<"u"&&navigator?.language?T3.test(navigator.language)?"rtl":"ltr":i==="rtl"?"rtl":"ltr"}var Nt=(()=>{class t{value="ltr";change=new q;constructor(){let e=m(IT,{optional:!0});if(e){let n=e.body?e.body.dir:null,o=e.documentElement?e.documentElement.dir:null;this.value=D3(n||o||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ca=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({})}return t})();var Pe=(()=>{class t{constructor(){m(Gf)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[ca,ca]})}return t})();var F3=["*",[["mat-toolbar-row"]]],R3=["*","mat-toolbar-row"],P3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return t})(),Cr=(()=>{class t{_elementRef=m(oe);_platform=m(De);_document=m(fe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-toolbar"]],contentQueries:function(n,o,r){if(n&1&&Jt(r,P3,5),n&2){let a;J(a=$())&&(o._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,o){n&2&&(ri(o.color?"mat-"+o.color:""),te("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:R3,decls:2,vars:0,template:function(n,o){n&1&&(_t(F3),Ee(0),Ee(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}"],encapsulation:2,changeDetection:0})}return t})();var xr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Pe]})}return t})();var Jf;function O3(){if(Jf===void 0&&(Jf=null,typeof window<"u")){let t=window;t.trustedTypes!==void 0&&(Jf=t.trustedTypes.createPolicy("angular#components",{createHTML:i=>i}))}return Jf}function Rp(t){return O3()?.createHTML(t)||t}function MT(t){return Error(`Unable to find icon with the name "${t}"`)}function V3(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function ET(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function kT(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}var da=class{url;svgText;options;svgElement;constructor(i,e,n){this.url=i,this.svgText=e,this.options=n}},DT=(()=>{class t{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,n,o,r){this._httpClient=e,this._sanitizer=n,this._errorHandler=r,this._document=o}addSvgIcon(e,n,o){return this.addSvgIconInNamespace("",e,n,o)}addSvgIconLiteral(e,n,o){return this.addSvgIconLiteralInNamespace("",e,n,o)}addSvgIconInNamespace(e,n,o,r){return this._addSvgIconConfig(e,n,new da(o,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,o,r){let a=this._sanitizer.sanitize(Pn.HTML,o);if(!a)throw kT(o);let c=Rp(a);return this._addSvgIconConfig(e,n,new da("",c,r))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,o){return this._addSvgIconSetConfig(e,new da(n,null,o))}addSvgIconSetLiteralInNamespace(e,n,o){let r=this._sanitizer.sanitize(Pn.HTML,n);if(!r)throw kT(n);let a=Rp(r);return this._addSvgIconSetConfig(e,new da("",a,o))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(Pn.RESOURCE_URL,e);if(!n)throw ET(e);let o=this._cachedIconsByUrl.get(n);return o?se($f(o)):this._loadSvgIconFromConfig(new da(e,null)).pipe(Rt(r=>this._cachedIconsByUrl.set(n,r)),_e(r=>$f(r)))}getNamedSvgIcon(e,n=""){let o=TT(n,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(n,e),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let a=this._iconSetConfigs.get(n);return a?this._getSvgFromIconSetConfigs(e,a):Ns(MT(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?se($f(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(_e(n=>$f(n)))}_getSvgFromIconSetConfigs(e,n){let o=this._extractIconWithNameFromAnySet(e,n);if(o)return se(o);let r=n.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Pa(c=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(Pn.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(u)),se(null)})));return eh(r).pipe(_e(()=>{let a=this._extractIconWithNameFromAnySet(e,n);if(!a)throw MT(e);return a}))}_extractIconWithNameFromAnySet(e,n){for(let o=n.length-1;o>=0;o--){let r=n[o];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(r),c=this._extractSvgIconFromSet(a,e,r.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Rt(n=>e.svgText=n),_e(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?se(null):this._fetchIcon(e).pipe(Rt(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,o){let r=e.querySelector(`[id="${n}"]`);if(!r)return null;let a=r.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let c=this._svgElementFromString(Rp("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,o)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let o=n.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let n=this._svgElementFromString(Rp("<svg></svg>")),o=e.attributes;for(let r=0;r<o.length;r++){let{name:a,value:c}=o[r];a!=="id"&&n.setAttribute(a,c)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[r].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:o}=e,r=o?.withCredentials??!1;if(!this._httpClient)throw V3();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let a=this._sanitizer.sanitize(Pn.RESOURCE_URL,n);if(!a)throw ET(n);let c=this._inProgressUrlFetches.get(a);if(c)return c;let d=this._httpClient.get(a,{responseType:"text",withCredentials:r}).pipe(_e(u=>Rp(u)),qr(()=>this._inProgressUrlFetches.delete(a)),ax());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(e,n,o){return this._svgIconConfigs.set(TT(e,n),o),this}_addSvgIconSetConfig(e,n){let o=this._iconSetConfigs.get(e);return o?o.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](n,e);if(r)return L3(r)?new da(r.url,null,r.options):new da(r,null)}}static \u0275fac=function(n){return new(n||t)(Fe(xt,8),Fe(Ec),Fe(fe,8),Fe(Ba))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $f(t){return t.cloneNode(!0)}function TT(t,i){return t+":"+i}function L3(t){return!!(t.url&&t.options)}var B3=["*"],FT=new H("MAT_ICON_DEFAULT_OPTIONS"),RT=new H("mat-icon-location",{providedIn:"root",factory:PT});function PT(){let t=m(fe),i=t?t.location:null;return{getPathname:()=>i?i.pathname+i.search:""}}var OT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],N3=OT.map(t=>`[${t}]`).join(", "),H3=/^url\(['"]?#(.*?)['"]?\)$/,zi=(()=>{class t{_elementRef=m(oe);_iconRegistry=m(DT);_location=m(RT);_errorHandler=m(Ba);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=$e.EMPTY;constructor(){let e=m(new La("aria-hidden"),{optional:!0}),n=m(FT,{optional:!0});n&&(n.color&&(this.color=this._defaultColor=n.color),n.fontSet&&(this.fontSet=n.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let o=e.childNodes[n];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),n.forEach(o=>e.classList.add(o)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((o,r)=>{o.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(N3),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<n.length;r++)OT.forEach(a=>{let c=n[r],d=c.getAttribute(a),u=d?d.match(H3):null;if(u){let p=o.get(c);p||(p=[],o.set(c,p)),p.push({name:a,value:u[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,o]=this._splitIconName(e);n&&(this._svgNamespace=n),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,n).pipe(Zt(1)).subscribe(r=>this._setSvgElement(r),r=>{let a=`Error retrieving icon ${n}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,o){n&2&&(ue("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),ri(o.color?"mat-"+o.color:""),te("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",me],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:B3,decls:1,vars:0,template:function(n,o){n&1&&(_t(),Ee(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return t})(),ei=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Pe]})}return t})();function ti(t){return t==null?"":typeof t=="string"?t:`${t}px`}function ua(t){return t!=null&&`${t}`!="false"}function VT(t,i=/\s+/){let e=[];if(t!=null){let n=Array.isArray(t)?t:`${t}`.split(i);for(let o of n){let r=`${o}`.trim();r&&e.push(r)}}return e}var co=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(co||{}),DA=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=co.HIDDEN;constructor(i,e,n,o=!1){this._renderer=i,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=o}fadeOut(){this._renderer.fadeOutRipple(this)}},LT=ts({passive:!0,capture:!0}),FA=class{_events=new Map;addHandler(i,e,n,o){let r=this._events.get(e);if(r){let a=r.get(n);a?a.add(o):r.set(n,new Set([o]))}else this._events.set(e,new Map([[n,new Set([o])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,LT)})}removeHandler(i,e,n){let o=this._events.get(i);if(!o)return;let r=o.get(e);r&&(r.delete(n),r.size===0&&o.delete(e),o.size===0&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,LT)))}_delegateEventHandler=i=>{let e=mn(i);e&&this._events.get(i.type)?.forEach((n,o)=>{(o===e||o.contains(e))&&n.forEach(r=>r.handleEvent(i))})}},Pp={enterDuration:225,exitDuration:150},U3=800,BT=ts({passive:!0,capture:!0}),NT=["mousedown","touchstart"],HT=["mouseup","mouseleave","touchend","touchcancel"],j3=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}"],encapsulation:2,changeDetection:0})}return t})(),Op=class t{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new FA;constructor(i,e,n,o,r){this._target=i,this._ngZone=e,this._platform=o,o.isBrowser&&(this._containerElement=hn(n)),r&&r.get(Bt).load(j3)}fadeInRipple(i,e,n={}){let o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=x(x({},Pp),n.animation);n.centered&&(i=o.left+o.width/2,e=o.top+o.height/2);let a=n.radius||z3(i,e,o),c=i-o.left,d=e-o.top,u=r.enterDuration,p=document.createElement("div");p.classList.add("mat-ripple-element"),p.style.left=`${c-a}px`,p.style.top=`${d-a}px`,p.style.height=`${a*2}px`,p.style.width=`${a*2}px`,n.color!=null&&(p.style.backgroundColor=n.color),p.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(p);let h=window.getComputedStyle(p),y=h.transitionProperty,A=h.transitionDuration,C=y==="none"||A==="0s"||A==="0s, 0s"||o.width===0&&o.height===0,M=new DA(this,p,n,C);p.style.transform="scale3d(1, 1, 1)",M.state=co.FADING_IN,n.persistent||(this._mostRecentTransientRipple=M);let I=null;return!C&&(u||r.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let G=()=>{I&&(I.fallbackTimer=null),clearTimeout(L),this._finishRippleTransition(M)},X=()=>this._destroyRipple(M),L=setTimeout(X,u+100);p.addEventListener("transitionend",G),p.addEventListener("transitioncancel",X),I={onTransitionEnd:G,onTransitionCancel:X,fallbackTimer:L}}),this._activeRipples.set(M,I),(C||!u)&&this._finishRippleTransition(M),M}fadeOutRipple(i){if(i.state===co.FADING_OUT||i.state===co.HIDDEN)return;let e=i.element,n=x(x({},Pp),i.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=co.FADING_OUT,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){let e=hn(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,NT.forEach(n=>{t._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){i.type==="mousedown"?this._onMousedown(i):i.type==="touchstart"?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{HT.forEach(e=>{this._triggerElement.addEventListener(e,this,BT)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){i.state===co.FADING_IN?this._startFadeOutTransition(i):i.state===co.FADING_OUT&&this._destroyRipple(i)}_startFadeOutTransition(i){let e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=co.VISIBLE,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){let e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=co.HIDDEN,e!==null&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),i.element.remove()}_onMousedown(i){let e=Ap(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+U3;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!wp(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=i.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{let e=i.state===co.VISIBLE||i.config.terminateOnPointerUp&&i.state===co.FADING_IN;!i.config.persistent&&e&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let i=this._triggerElement;i&&(NT.forEach(e=>t._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&(HT.forEach(e=>i.removeEventListener(e,this,BT)),this._pointerUpEventsRegistered=!1))}};function z3(t,i,e){let n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),o=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+o*o)}var Xf=new H("mat-ripple-global-options"),Vp=(()=>{class t{_elementRef=m(oe);_animationMode=m(rt,{optional:!0});color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let e=m(pe),n=m(De),o=m(Xf,{optional:!0}),r=m(Te);this._globalOptions=o||{},this._rippleRenderer=new Op(this,e,this._elementRef,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:x(x(x({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,o){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,x(x({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,x(x({},this.rippleConfig),e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,o){n&2&&te("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return t})();var G3={capture:!0},W3=["focus","mousedown","mouseenter","touchstart"],RA="mat-ripple-loader-uninitialized",PA="mat-ripple-loader-class-name",UT="mat-ripple-loader-centered",eg="mat-ripple-loader-disabled",jT=(()=>{class t{_document=m(fe);_animationMode=m(rt,{optional:!0});_globalRippleOptions=m(Xf,{optional:!0});_platform=m(De);_ngZone=m(pe);_injector=m(Te);_eventCleanups;_hosts=new Map;constructor(){let e=m(Ni).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>W3.map(n=>St(e,this._document,n,this._onInteraction,G3)))}ngOnDestroy(){let e=this._hosts.keys();for(let n of e)this.destroyRipple(n);this._eventCleanups.forEach(n=>n())}configureRipple(e,n){e.setAttribute(RA,this._globalRippleOptions?.namespace??""),(n.className||!e.hasAttribute(PA))&&e.setAttribute(PA,n.className||""),n.centered&&e.setAttribute(UT,""),n.disabled&&e.setAttribute(eg,"")}setDisabled(e,n){let o=this._hosts.get(e);o?(o.target.rippleDisabled=n,!n&&!o.hasSetUpEvents&&(o.hasSetUpEvents=!0,o.renderer.setupTriggerEvents(e))):n?e.setAttribute(eg,""):e.removeAttribute(eg)}_onInteraction=e=>{let n=mn(e);if(n instanceof HTMLElement){let o=n.closest(`[${RA}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}};_createRipple(e){if(!this._document||this._hosts.has(e))return;e.querySelector(".mat-ripple")?.remove();let n=this._document.createElement("span");n.classList.add("mat-ripple",e.getAttribute(PA)),e.append(n);let o=this._animationMode==="NoopAnimations",r=this._globalRippleOptions,a=o?0:r?.animation?.enterDuration??Pp.enterDuration,c=o?0:r?.animation?.exitDuration??Pp.exitDuration,d={rippleDisabled:o||r?.disabled||e.hasAttribute(eg),rippleConfig:{centered:e.hasAttribute(UT),terminateOnPointerUp:r?.terminateOnPointerUp,animation:{enterDuration:a,exitDuration:c}}},u=new Op(d,this._ngZone,n,this._platform,this._injector),p=!d.rippleDisabled;p&&u.setupTriggerEvents(e),this._hosts.set(e,{target:d,renderer:u,hasSetUpEvents:p}),e.removeAttribute(RA)}destroyRipple(e){let n=this._hosts.get(e);n&&(n.renderer._removeTriggerEvents(),this._hosts.delete(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var os=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["structural-styles"]],decls:0,vars:0,template:function(n,o){},styles:['.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}'],encapsulation:2,changeDetection:0})}return t})();var Q3=["mat-icon-button",""],q3=["*"];var zT=new H("MAT_BUTTON_CONFIG");var Y3=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Lp=(()=>{class t{_elementRef=m(oe);_ngZone=m(pe);_animationMode=m(rt,{optional:!0});_focusMonitor=m(aa);_rippleLoader=m(jT);_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;constructor(){m(Bt).load(os);let e=m(zT,{optional:!0}),n=this._elementRef.nativeElement,o=n.classList;this.disabledInteractive=e?.disabledInteractive??!1,this.color=e?.color??null,this._rippleLoader?.configureRipple(n,{className:"mat-mdc-button-ripple"});for(let{attribute:r,mdcClasses:a}of Y3)n.hasAttribute(r)&&o.add(...a)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",n){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,n):this._elementRef.nativeElement.focus(n)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",me],disabled:[2,"disabled","disabled",me],ariaDisabled:[2,"aria-disabled","ariaDisabled",me],disabledInteractive:[2,"disabledInteractive","disabledInteractive",me]}})}return t})();var Sr=(()=>{class t extends Lp{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(ue("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ri(o.color?"mat-"+o.color:""),te("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Xe],attrs:Q3,ngContentSelectors:q3,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(_t(),F(0,"span",0),Ee(1),F(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 40px);height:var(--mdc-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 40px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size, 24px);color:var(--mdc-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display, block)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})();var Gc=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Pe]})}return t})();var Z3=["mat-button",""],OA=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],VA=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var K3=["mat-fab",""],J3=["mat-mini-fab",""],$3='.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}',uo=(()=>{class t extends Lp{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275cmp=U({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(n,o){n&2&&(ue("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ri(o.color?"mat-"+o.color:""),te("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Xe],attrs:Z3,ngContentSelectors:VA,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(_t(OA),F(0,"span",0),Ee(1),v(2,"span",1),Ee(3,1),_(),Ee(4,2),F(5,"span",2)(6,"span",3)),n&2&&te("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 12px);height:var(--mdc-text-button-container-height, 40px);font-family:var(--mdc-text-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-text-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-text-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight, var(--mat-sys-label-large-weight))}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, var(--mat-sys-primary))}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 16px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, -4px);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, -4px)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display, block)}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-filled-button-container-height, 40px);font-family:var(--mdc-filled-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-filled-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-filled-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-filled-button-horizontal-padding, 24px)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -8px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -8px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color, var(--mat-sys-on-primary))}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-unelevated-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-unelevated-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-unelevated-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display, block)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, var(--mat-sys-on-primary));background-color:var(--mdc-filled-button-container-color, var(--mat-sys-primary))}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-filled-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);box-shadow:var(--mdc-protected-button-container-elevation-shadow, var(--mat-sys-level1));height:var(--mdc-protected-button-container-height, 40px);font-family:var(--mdc-protected-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-protected-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-protected-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight, var(--mat-sys-label-large-weight));padding:0 var(--mat-protected-button-horizontal-padding, 24px)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -8px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -8px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-raised-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-raised-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-raised-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display, block)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, var(--mat-sys-primary));background-color:var(--mdc-protected-button-container-color, var(--mat-sys-surface))}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mat-sys-corner-full))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow, var(--mat-sys-level2))}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow, var(--mat-sys-level1))}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mdc-protected-button-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow, var(--mat-sys-level0))}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mdc-outlined-button-container-height, 40px);font-family:var(--mdc-outlined-button-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-outlined-button-label-text-size, var(--mat-sys-label-large-size));letter-spacing:var(--mdc-outlined-button-label-text-tracking, var(--mat-sys-label-large-tracking));text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight, var(--mat-sys-label-large-weight));border-radius:var(--mdc-outlined-button-container-shape, var(--mat-sys-corner-full));border-width:var(--mdc-outlined-button-outline-width, 1px);padding:0 var(--mat-outlined-button-horizontal-padding, 24px)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -8px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -8px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color, color-mix(in srgb, var(--mat-sys-primary) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color, var(--mat-sys-primary))}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-outlined-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-outlined-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-outlined-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display, block)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, var(--mat-sys-primary));border-color:var(--mdc-outlined-button-outline-color, var(--mat-sys-outline))}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));border-color:var(--mdc-outlined-button-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-focus-indicator,.mat-mdc-unelevated-button .mat-focus-indicator,.mat-mdc-raised-button .mat-focus-indicator,.mat-mdc-outlined-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus>.mat-focus-indicator::before,.mat-mdc-unelevated-button:focus>.mat-focus-indicator::before,.mat-mdc-raised-button:focus>.mat-focus-indicator::before,.mat-mdc-outlined-button:focus>.mat-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-focus-indicator::before,.mat-mdc-raised-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}',"@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}"],encapsulation:2,changeDetection:0})}return t})();var LA=new H("mat-mdc-fab-default-options",{providedIn:"root",factory:BA});function BA(){return{color:"accent"}}var tg=BA(),Bp=(()=>{class t extends Lp{_options=m(LA,{optional:!0});_isFab=!0;extended;constructor(){super(),this._options=this._options||tg,this.color=this._options.color||tg.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(n,o){n&2&&(ue("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ri(o.color?"mat-"+o.color:""),te("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:[2,"extended","extended",me]},exportAs:["matButton"],features:[Xe],attrs:K3,ngContentSelectors:VA,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(_t(OA),F(0,"span",0),Ee(1),v(2,"span",1),Ee(3,1),_(),Ee(4,2),F(5,"span",2)(6,"span",3)),n&2&&te("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-fab-base{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus>.mat-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-container-shape, var(--mat-sys-corner-large));color:var(--mat-fab-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display, block)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color, var(--mat-sys-primary-container));border-radius:var(--mdc-fab-small-container-shape, var(--mat-sys-corner-medium));color:var(--mat-fab-small-foreground-color, var(--mat-sys-on-primary-container, inherit));box-shadow:var(--mdc-fab-small-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent));background-color:var(--mat-fab-small-disabled-state-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color, color-mix(in srgb, var(--mat-sys-on-primary-container) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color, var(--mat-sys-on-primary-container))}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-mini-fab.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-mini-fab:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;height:var(--mdc-extended-fab-container-height, 56px);border-radius:var(--mdc-extended-fab-container-shape, var(--mat-sys-corner-large));font-family:var(--mdc-extended-fab-label-text-font, var(--mat-sys-label-large-font));font-size:var(--mdc-extended-fab-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-extended-fab-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-extended-fab-label-text-tracking, var(--mat-sys-label-large-tracking));box-shadow:var(--mdc-extended-fab-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow, var(--mat-sys-level4))}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow, var(--mat-sys-level3))}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return t})(),fl=(()=>{class t extends Lp{_options=m(LA,{optional:!0});_isFab=!0;constructor(){super(),this._options=this._options||tg,this.color=this._options.color||tg.color}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["button","mat-mini-fab",""]],hostVars:14,hostBindings:function(n,o){n&2&&(ue("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ri(o.color?"mat-"+o.color:""),te("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],features:[Xe],attrs:J3,ngContentSelectors:VA,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(n,o){n&1&&(_t(OA),F(0,"span",0),Ee(1),v(2,"span",1),Ee(3,1),_(),Ee(4,2),F(5,"span",2)(6,"span",3)),n&2&&te("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:[$3],encapsulation:2,changeDetection:0})}return t})();var Pi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Gc,Pe]})}return t})();var Wc=class{_attachedHost;attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;i!=null&&(this._attachedHost=null,i.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},fn=class extends Wc{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(i,e,n,o,r){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.projectableNodes=r}},Cn=class extends Wc{templateRef;viewContainerRef;context;injector;constructor(i,e,n,o){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=o}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}},ig=class extends Wc{element;constructor(i){super(),this.element=i instanceof oe?i.nativeElement:i}},pa=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(i){if(i instanceof fn)return this._attachedPortal=i,this.attachComponentPortal(i);if(i instanceof Cn)return this._attachedPortal=i,this.attachTemplatePortal(i);if(this.attachDomPortal&&i instanceof ig)return this._attachedPortal=i,this.attachDomPortal(i)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Hp=class extends pa{outletElement;_appRef;_defaultInjector;_document;constructor(i,e,n,o,r){super(),this.outletElement=i,this._appRef=n,this._defaultInjector=o,this._document=r}attachComponentPortal(i){let e;if(i.viewContainerRef){let n=i.injector||i.viewContainerRef.injector,o=n.get(hv,null,{optional:!0})||void 0;e=i.viewContainerRef.createComponent(i.component,{index:i.viewContainerRef.length,injector:n,ngModuleRef:o,projectableNodes:i.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else{let n=this._appRef,o=i.injector||this._defaultInjector||Te.NULL,r=o.get(Xn,n.injector);e=ch(i.component,{elementInjector:o,environmentInjector:r,projectableNodes:i.projectableNodes||void 0}),n.attachView(e.hostView),this.setDisposeFn(()=>{n.viewCount>0&&n.detachView(e.hostView),e.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=i,e}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(o=>this.outletElement.appendChild(o)),n.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(n);o!==-1&&e.remove(o)}),this._attachedPortal=i,n}attachDomPortal=i=>{let e=i.element;e.parentNode;let n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=i,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}};var NA=(()=>{class t extends Cn{constructor(){let e=m(ln),n=m(cn);super(e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[Xe]})}return t})();var gn=(()=>{class t extends pa{_moduleRef=m(hv,{optional:!0});_document=m(fe);_viewContainerRef=m(cn);_isInitialized=!1;_attachedRef;constructor(){super()}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}attached=new q;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);let n=e.viewContainerRef!=null?e.viewContainerRef:this._viewContainerRef,o=n.createComponent(e.component,{index:n.length,injector:e.injector||n.injector,projectableNodes:e.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return n!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);let n=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=n,this.attached.emit(n),n}attachDomPortal=e=>{let n=e.element;n.parentNode;let o=this._document.createComment("dom-portal");e.setAttachedHost(this),n.parentNode.insertBefore(o,n),this._getRootNode().appendChild(n),this._attachedPortal=e,super.setDisposeFn(()=>{o.parentNode&&o.parentNode.replaceChild(n,o)})};_getRootNode(){let e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Xe]})}return t})();var rs=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({})}return t})();var GT=20,gl=(()=>{class t{_ngZone=m(pe);_platform=m(De);_renderer=m(Ni).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new Q;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=GT){return this._platform.isBrowser?new Jn(n=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let o=e>0?this._scrolled.pipe(nv(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):se()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let o=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(nt(r=>!r||o.indexOf(r)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((o,r)=>{this._scrollableContainsElement(r,e)&&n.push(r)}),n}_scrollableContainsElement(e,n){let o=hn(n),r=e.getElementRef().nativeElement;do if(o==r)return!0;while(o=o.parentElement);return!1}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qc=(()=>{class t{elementRef=m(oe);scrollDispatcher=m(gl);ngZone=m(pe);dir=m(Nt,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new Q;_renderer=m(Pt);_cleanupScroll;_elementScrolled=new Q;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",e=>this._elementScrolled.next(e))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,o=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=o?e.end:e.start),e.right==null&&(e.right=o?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),o&&Nc()!=Wo.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),Nc()==Wo.INVERTED?e.left=e.right:Nc()==Wo.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;Bf()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",o="right",r=this.elementRef.nativeElement;if(e=="top")return r.scrollTop;if(e=="bottom")return r.scrollHeight-r.clientHeight-r.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?o:n:e=="end"&&(e=a?n:o),a&&Nc()==Wo.INVERTED?e==n?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:a&&Nc()==Wo.NEGATED?e==n?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:e==n?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return t})(),WT=20,ma=(()=>{class t{_platform=m(De);_listeners;_viewportSize;_change=new Q;_document=m(fe,{optional:!0});constructor(){let e=m(pe),n=m(Ni).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let o=r=>this._change.next(r);this._listeners=[n.listen("window","resize",o),n.listen("window","orientationchange",o)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+n,height:o,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),o=e.documentElement,r=o.getBoundingClientRect(),a=-r.top||e.body.scrollTop||n.scrollY||o.scrollTop||0,c=-r.left||e.body.scrollLeft||n.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(e=WT){return e>0?this._change.pipe(nv(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var po=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({})}return t})(),ng=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[ca,po,ca,po]})}return t})();var QT=Bf(),og=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(i,e){this._viewportRuler=i,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=ti(-this._previousScrollPosition.left),i.style.top=ti(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let i=this._document.documentElement,e=this._document.body,n=i.style,o=e.style,r=n.scrollBehavior||"",a=o.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),QT&&(n.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),QT&&(n.scrollBehavior=r,o.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}};var rg=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(i,e,n,o){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=o}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(this._scrollSubscription)return;let i=this._scrollDispatcher.scrolled(0).pipe(nt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},Up=class{enable(){}disable(){}attach(){}};function HA(t,i){return i.some(e=>{let n=t.bottom<e.top,o=t.top>e.bottom,r=t.right<e.left,a=t.left>e.right;return n||o||r||a})}function qT(t,i){return i.some(e=>{let n=t.top<e.top,o=t.bottom>e.bottom,r=t.left<e.left,a=t.right>e.right;return n||o||r||a})}var ag=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(i,e,n,o){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=o}attach(i){this._overlayRef,this._overlayRef=i}enable(){if(!this._scrollSubscription){let i=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(i).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:o}=this._viewportRuler.getViewportSize();HA(e,[{width:n,height:o,bottom:o,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},XT=(()=>{class t{_scrollDispatcher=m(gl);_viewportRuler=m(ma);_ngZone=m(pe);_document=m(fe);constructor(){}noop=()=>new Up;close=e=>new rg(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new og(this._viewportRuler,this._document);reposition=e=>new ag(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mo=class{positionStrategy;scrollStrategy=new Up;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(i){if(i){let e=Object.keys(i);for(let n of e)i[n]!==void 0&&(this[n]=i[n])}}};var sg=class{connectionPair;scrollableViewProperties;constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}};var eD=(()=>{class t{_attachedOverlays=[];_document=m(fe);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),tD=(()=>{class t extends eD{_ngZone=m(pe);_renderer=m(Ni).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let n=this._attachedOverlays;for(let o=n.length-1;o>-1;o--)if(n[o]._keydownEvents.observers.length>0){this._ngZone.run(()=>n[o]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),iD=(()=>{class t extends eD{_platform=m(De);_ngZone=m(pe);_renderer=m(Ni).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let n=this._document.body,o={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[St(this._renderer,n,"pointerdown",this._pointerDownListener,o),St(this._renderer,n,"click",this._clickListener,o),St(this._renderer,n,"auxclick",this._clickListener,o),St(this._renderer,n,"contextmenu",this._clickListener,o)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=mn(e)};_clickListener=e=>{let n=mn(e),o=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:n;this._pointerDownEventTarget=null;let r=this._attachedOverlays.slice();for(let a=r.length-1;a>-1;a--){let c=r[a];if(c._outsidePointerEvents.observers.length<1||!c.hasAttached())continue;if(YT(c.overlayElement,n)||YT(c.overlayElement,o))break;let d=c._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(e)):d.next(e)}};static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function YT(t,i){let e=typeof ShadowRoot<"u"&&ShadowRoot,n=i;for(;n;){if(n===t)return!0;n=e&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var nD=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return t})(),jp=(()=>{class t{_platform=m(De);_containerElement;_document=m(fe);_styleLoader=m(Bt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||vA()){let o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let r=0;r<o.length;r++)o[r].remove()}let n=this._document.createElement("div");n.classList.add(e),vA()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}_loadStyles(){this._styleLoader.load(nD)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UA=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(i,e,n,o){this._renderer=e,this._ngZone=n,this.element=i.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",o)}detach(){this._ngZone.runOutsideAngular(()=>{let i=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(i,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),i.style.pointerEvents="none",i.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},_l=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new Q;_attachments=new Q;_detachments=new Q;_positionStrategy;_scrollStrategy;_locationChanges=$e.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new Q;_outsidePointerEvents=new Q;_renders=new Q;_afterRenderRef;_afterNextRenderRef;constructor(i,e,n,o,r,a,c,d,u,p=!1,h,y){this._portalOutlet=i,this._host=e,this._pane=n,this._config=o,this._ngZone=r,this._keyboardDispatcher=a,this._document=c,this._location=d,this._outsideClickDispatcher=u,this._animationsDisabled=p,this._injector=h,this._renderer=y,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=Lo(()=>Jl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=mi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){let i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,i&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config=x(x({},this._config),i),this._updateElementSize()}setDirection(i){this._config=O(x({},this._config),{direction:i}),this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){let i=this._config.direction;return i?typeof i=="string"?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let i=this._pane.style;i.width=ti(this._config.width),i.height=ti(this._config.height),i.minWidth=ti(this._config.minWidth),i.minHeight=ti(this._config.minHeight),i.maxWidth=ti(this._config.maxWidth),i.maxHeight=ti(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){let i="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new UA(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(i))}):this._backdropRef.element.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(i,e,n){let o=Uc(e||[]).filter(r=>!!r);o.length&&(n?i.classList.add(...o):i.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let i=this._renders.pipe(Ge(Mi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){let i=this._scrollStrategy;i?.disable(),i?.detach?.()}},ZT="cdk-overlay-connected-position-bounding-box",X3=/([A-Za-z%]+)$/,qc=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new Q;_resizeSubscription=$e.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(i,e,n,o,r){this._viewportRuler=e,this._document=n,this._platform=o,this._overlayContainer=r,this.setOrigin(i)}attach(i){this._overlayRef&&this._overlayRef,this._validatePositions(),i.hostElement.classList.add(ZT),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._originRect,e=this._overlayRect,n=this._viewportRect,o=this._containerRect,r=[],a;for(let c of this._preferredPositions){let d=this._getOriginPoint(i,o,c),u=this._getOverlayPoint(d,e,c),p=this._getOverlayFit(u,e,n,c);if(p.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,d);return}if(this._canFitWithFlexibleDimensions(p,u,n)){r.push({position:c,origin:d,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(d,c)});continue}(!a||a.overlayFit.visibleArea<p.visibleArea)&&(a={overlayFit:p,overlayPoint:u,originPoint:d,position:c,overlayRect:e})}if(r.length){let c=null,d=-1;for(let u of r){let p=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);p>d&&(d=p,c=u)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&yl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ZT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,i.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let o;if(n.originX=="center")o=i.left+i.width/2;else{let a=this._isRtl()?i.right:i.left,c=this._isRtl()?i.left:i.right;o=n.originX=="start"?a:c}e.left<0&&(o-=e.left);let r;return n.originY=="center"?r=i.top+i.height/2:r=n.originY=="top"?i.top:i.bottom,e.top<0&&(r-=e.top),{x:o,y:r}}_getOverlayPoint(i,e,n){let o;n.overlayX=="center"?o=-e.width/2:n.overlayX==="start"?o=this._isRtl()?-e.width:0:o=this._isRtl()?0:-e.width;let r;return n.overlayY=="center"?r=-e.height/2:r=n.overlayY=="top"?0:-e.height,{x:i.x+o,y:i.y+r}}_getOverlayFit(i,e,n,o){let r=JT(e),{x:a,y:c}=i,d=this._getOffset(o,"x"),u=this._getOffset(o,"y");d&&(a+=d),u&&(c+=u);let p=0-a,h=a+r.width-n.width,y=0-c,A=c+r.height-n.height,C=this._subtractOverflows(r.width,p,h),M=this._subtractOverflows(r.height,y,A),I=C*M;return{visibleArea:I,isCompletelyWithinViewport:r.width*r.height===I,fitsInViewportVertically:M===r.height,fitsInViewportHorizontally:C==r.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){let o=n.bottom-e.y,r=n.right-e.x,a=KT(this._overlayRef.getConfig().minHeight),c=KT(this._overlayRef.getConfig().minWidth),d=i.fitsInViewportVertically||a!=null&&a<=o,u=i.fitsInViewportHorizontally||c!=null&&c<=r;return d&&u}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};let o=JT(e),r=this._viewportRect,a=Math.max(i.x+o.width-r.width,0),c=Math.max(i.y+o.height-r.height,0),d=Math.max(r.top-n.top-i.y,0),u=Math.max(r.left-n.left-i.x,0),p=0,h=0;return o.width<=r.width?p=u||-a:p=i.x<this._viewportMargin?r.left-n.left-i.x:0,o.height<=r.height?h=d||-c:h=i.y<this._viewportMargin?r.top-n.top-i.y:0,this._previousPushAmount={x:p,y:h},{x:i.x+p,y:i.y+h}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(i!==this._lastPosition||!this._lastScrollVisibility||!e2(this._lastScrollVisibility,n)){let o=new sg(i,n);this._positionChanges.next(o)}this._lastScrollVisibility=n}this._lastPosition=i,this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,o=i.overlayY;i.overlayX==="center"?n="center":this._isRtl()?n=i.overlayX==="start"?"right":"left":n=i.overlayX==="start"?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${o}`}_calculateBoundingBoxRect(i,e){let n=this._viewportRect,o=this._isRtl(),r,a,c;if(e.overlayY==="top")a=i.y,r=n.height-a+this._viewportMargin;else if(e.overlayY==="bottom")c=n.height-i.y+this._viewportMargin*2,r=n.height-c+this._viewportMargin;else{let A=Math.min(n.bottom-i.y+n.top,i.y),C=this._lastBoundingBoxSize.height;r=A*2,a=i.y-A,r>C&&!this._isInitialRender&&!this._growAfterOpen&&(a=i.y-C/2)}let d=e.overlayX==="start"&&!o||e.overlayX==="end"&&o,u=e.overlayX==="end"&&!o||e.overlayX==="start"&&o,p,h,y;if(u)y=n.width-i.x+this._viewportMargin*2,p=i.x-this._viewportMargin;else if(d)h=i.x,p=n.right-i.x;else{let A=Math.min(n.right-i.x+n.left,i.x),C=this._lastBoundingBoxSize.width;p=A*2,h=i.x-A,p>C&&!this._isInitialRender&&!this._growAfterOpen&&(h=i.x-C/2)}return{top:a,left:h,bottom:c,right:y,width:p,height:r}}_setBoundingBoxStyles(i,e){let n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;o.height=ti(n.height),o.top=ti(n.top),o.bottom=ti(n.bottom),o.width=ti(n.width),o.left=ti(n.left),o.right=ti(n.right),e.overlayX==="center"?o.alignItems="center":o.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?o.justifyContent="center":o.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",r&&(o.maxHeight=ti(r)),a&&(o.maxWidth=ti(a))}this._lastBoundingBoxSize=n,yl(this._boundingBox.style,o)}_resetBoundingBoxStyles(){yl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){yl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){let n={},o=this._hasExactPosition(),r=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(o){let p=this._viewportRuler.getViewportScrollPosition();yl(n,this._getExactOverlayY(e,i,p)),yl(n,this._getExactOverlayX(e,i,p))}else n.position="static";let c="",d=this._getOffset(e,"x"),u=this._getOffset(e,"y");d&&(c+=`translateX(${d}px) `),u&&(c+=`translateY(${u}px)`),n.transform=c.trim(),a.maxHeight&&(o?n.maxHeight=ti(a.maxHeight):r&&(n.maxHeight="")),a.maxWidth&&(o?n.maxWidth=ti(a.maxWidth):r&&(n.maxWidth="")),yl(this._pane.style,n)}_getExactOverlayY(i,e,n){let o={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,i);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),i.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;o.bottom=`${a-(r.y+this._overlayRect.height)}px`}else o.top=ti(r.y);return o}_getExactOverlayX(i,e,n){let o={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,i);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let a;if(this._isRtl()?a=i.overlayX==="end"?"left":"right":a=i.overlayX==="end"?"right":"left",a==="right"){let c=this._document.documentElement.clientWidth;o.right=`${c-(r.x+this._overlayRect.width)}px`}else o.left=ti(r.x);return o}_getScrollVisibility(){let i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:qT(i,n),isOriginOutsideView:HA(i,n),isOverlayClipped:qT(e,n),isOverlayOutsideView:HA(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,o)=>n-Math.max(o,0),i)}_getNarrowedViewportRect(){let i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return e==="x"?i.offsetX==null?this._offsetX:i.offsetX:i.offsetY==null?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&Uc(i).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){let i=this._origin;if(i instanceof oe)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();let e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}};function yl(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function KT(t){if(typeof t!="number"&&t!=null){let[i,e]=t.split(X3);return!e||e==="px"?parseFloat(i):null}return t||null}function JT(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function e2(t,i){return t===i?!0:t.isOriginClipped===i.isOriginClipped&&t.isOriginOutsideView===i.isOriginOutsideView&&t.isOverlayClipped===i.isOverlayClipped&&t.isOverlayOutsideView===i.isOverlayOutsideView}var $T="cdk-global-overlay-wrapper",lg=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(i){let e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add($T),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:o,height:r,maxWidth:a,maxHeight:c}=n,d=(o==="100%"||o==="100vw")&&(!a||a==="100%"||a==="100vw"),u=(r==="100%"||r==="100vh")&&(!c||c==="100%"||c==="100vh"),p=this._xPosition,h=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",A="",C="",M="";d?M="flex-start":p==="center"?(M="center",y?C=h:A=h):y?p==="left"||p==="end"?(M="flex-end",A=h):(p==="right"||p==="start")&&(M="flex-start",C=h):p==="left"||p==="start"?(M="flex-start",A=h):(p==="right"||p==="end")&&(M="flex-end",C=h),i.position=this._cssPosition,i.marginLeft=d?"0":A,i.marginTop=u?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=d?"0":C,e.justifyContent=M,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove($T),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}},oD=(()=>{class t{_viewportRuler=m(ma);_document=m(fe);_platform=m(De);_overlayContainer=m(jp);constructor(){}global(){return new lg}flexibleConnectedTo(e){return new qc(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yt=(()=>{class t{scrollStrategies=m(XT);_overlayContainer=m(jp);_positionBuilder=m(oD);_keyboardDispatcher=m(tD);_injector=m(Te);_ngZone=m(pe);_document=m(fe);_directionality=m(Nt);_location=m(tc);_outsideClickDispatcher=m(iD);_animationsModuleType=m(rt,{optional:!0});_idGenerator=m(Dt);_renderer=m(Ni).createRenderer(null,null);_appRef;_styleLoader=m(Bt);constructor(){}create(e){this._styleLoader.load(nD);let n=this._createHostElement(),o=this._createPaneElement(n),r=this._createPortalOutlet(o),a=new mo(e);return a.direction=a.direction||this._directionality.value,new _l(r,n,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Xn),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let n=this._document.createElement("div");return n.id=this._idGenerator.getId("cdk-overlay-"),n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Zr)),new Hp(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t2=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],rD=new H("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.reposition()}}),Yc=(()=>{class t{elementRef=m(oe);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return t})(),cg=(()=>{class t{_overlay=m(yt);_dir=m(Nt,{optional:!0});_overlayRef;_templatePortal;_backdropSubscription=$e.EMPTY;_attachSubscription=$e.EMPTY;_detachSubscription=$e.EMPTY;_positionSubscription=$e.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=m(rD);_disposeOnNavigation=!1;_ngZone=m(pe);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}backdropClick=new q;positionChange=new q;attach=new q;detach=new q;overlayKeydown=new q;overlayOutsideClick=new q;constructor(){let e=m(ln),n=m(cn);this._templatePortal=new Cn(e,n),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=t2);let e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(n=>{this.overlayKeydown.next(n),n.keyCode===27&&!this.disableClose&&!bt(n)&&(n.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(n=>{let o=this._getOriginElement(),r=mn(n);(!o||o!==r&&!o.contains(r))&&this.overlayOutsideClick.next(n)})}_buildConfig(){let e=this._position=this.positionStrategy||this._createPositionStrategy(),n=new mo({direction:this._dir||"ltr",positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(n.width=this.width),(this.height||this.height===0)&&(n.height=this.height),(this.minWidth||this.minWidth===0)&&(n.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(n.minHeight=this.minHeight),this.backdropClass&&(n.backdropClass=this.backdropClass),this.panelClass&&(n.panelClass=this.panelClass),n}_updatePositionStrategy(e){let n=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(n).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Yc?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Yc?this.origin.elementRef.nativeElement:this.origin instanceof oe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(sx(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",me],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",me],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",me],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",me],push:[2,"cdkConnectedOverlayPush","push",me],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",me]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[ht]})}return t})();function i2(t){return()=>t.scrollStrategies.reposition()}var n2={provide:rD,deps:[yt],useFactory:i2},ho=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[yt,n2],imports:[ca,rs,ng,ng]})}return t})();var d2=new H("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.reposition()}});function u2(t){return()=>t.scrollStrategies.reposition()}var p2={provide:d2,deps:[yt],useFactory:u2};var dg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[p2],imports:[Gc,Pe,ho,po,Pe]})}return t})(),aD={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},RJ=aD.fadeInItems,PJ=aD.transformMenu;var m2=["determinateSpinner"];function h2(t,i){if(t&1&&(Ro(),v(0,"svg",11),F(1,"circle",12),_()),t&2){let e=k();ue("viewBox",e._viewBox()),w(),Oo("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),ue("r",e._circleRadius())}}var f2=new H("mat-progress-spinner-default-options",{providedIn:"root",factory:g2});function g2(){return{diameter:sD}}var sD=100,y2=10,ug=(()=>{class t{_elementRef=m(oe);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=m(rt,{optional:!0}),n=m(f2);this._noopAnimations=e==="NoopAnimations"&&!!n&&!n._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=sD;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-y2)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,o){if(n&1&&le(m2,5),n&2){let r;J(r=$())&&(o._determinateCircle=r.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,o){n&2&&(ue("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),ri("mat-"+o.color),Oo("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),te("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",eo],diameter:[2,"diameter","diameter",eo],strokeWidth:[2,"strokeWidth","strokeWidth",eo]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,o){if(n&1&&(V(0,h2,2,8,"ng-template",null,0,sh),v(2,"div",2,1),Ro(),v(4,"svg",3),F(5,"circle",4),_()(),Au(),v(6,"div",5)(7,"div",6)(8,"div",7),ih(9,8),_(),v(10,"div",9),ih(11,8),_(),v(12,"div",10),ih(13,8),_()()()),n&2){let r=Et(1);w(4),ue("viewBox",o._viewBox()),w(),Oo("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),ue("r",o._circleRadius()),w(4),E("ngTemplateOutlet",r),w(2),E("ngTemplateOutlet",r),w(2),E("ngTemplateOutlet",r)}},dependencies:[uh],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return t})();var pg=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe]})}return t})();var _2=["tooltip"],jA=20;var zA=new H("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.reposition({scrollThrottle:jA})}});function uD(t){return()=>t.scrollStrategies.reposition({scrollThrottle:jA})}var pD={provide:zA,deps:[yt],useFactory:uD};function mD(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var hD=new H("mat-tooltip-default-options",{providedIn:"root",factory:mD});var cD="tooltip-panel",dD=ts({passive:!0}),v2=8,b2=8,A2=24,w2=200,zp=(()=>{class t{_elementRef=m(oe);_ngZone=m(pe);_platform=m(De);_ariaDescriber=m(ST);_focusMonitor=m(aa);_dir=m(Nt);_injector=m(Te);_viewContainerRef=m(cn);_defaultOptions=m(hD,{optional:!0});_overlayRef;_tooltipInstance;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=fD;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ua(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){let n=ua(e);this._disabled!==n&&(this._disabled=n,n?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Qo(e)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Qo(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(e){let n=this._message;this._message=e!=null?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(n)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new Q;_isDestroyed=!1;constructor(){let e=this._defaultOptions;e&&(this._showDelay=e.showDelay,this._hideDelay=e.hideDelay,e.position&&(this.position=e.position),e.positionAtOrigin&&(this.positionAtOrigin=e.positionAtOrigin),e.touchGestures&&(this.touchGestures=e.touchGestures),e.tooltipClass&&(this.tooltipClass=e.tooltipClass)),this._viewportMargin=v2}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ge(this._destroyed)).subscribe(e=>{e?e==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let e=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([n,o])=>{e.removeEventListener(n,o,dD)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,n){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let o=this._createOverlay(n);this._detach(),this._portal=this._portal||new fn(this._tooltipComponent,this._viewContainerRef);let r=this._tooltipInstance=o.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Ge(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){let n=this._tooltipInstance;n&&(n.isVisible()?n.hide(e):(n._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){let a=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&a._origin instanceof oe)return this._overlayRef;this._detach()}let n=this._injector.get(gl).getAncestorScrollContainers(this._elementRef),o=this._injector.get(yt),r=o.position().flexibleConnectedTo(this.positionAtOrigin?e||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(n);return r.positionChanges.pipe(Ge(this._destroyed)).subscribe(a=>{this._updateCurrentPositionClass(a.connectionPair),this._tooltipInstance&&a.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=o.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${cD}`,scrollStrategy:this._injector.get(zA)()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ge(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ge(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ge(this._destroyed)).subscribe(a=>{this._isTooltipVisible()&&a.keyCode===27&&!bt(a)&&(a.preventDefault(),a.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ge(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){let n=e.getConfig().positionStrategy,o=this._getOrigin(),r=this._getOverlayPosition();n.withPositions([this._addOffset(x(x({},o.main),r.main)),this._addOffset(x(x({},o.fallback),r.fallback))])}_addOffset(e){let n=b2,o=!this._dir||this._dir.value=="ltr";return e.originY==="top"?e.offsetY=-n:e.originY==="bottom"?e.offsetY=n:e.originX==="start"?e.offsetX=o?-n:n:e.originX==="end"&&(e.offsetX=o?n:-n),e}_getOrigin(){let e=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"||n=="below"?o={originX:"center",originY:n=="above"?"top":"bottom"}:n=="before"||n=="left"&&e||n=="right"&&!e?o={originX:"start",originY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(o={originX:"end",originY:"center"});let{x:r,y:a}=this._invertPosition(o.originX,o.originY);return{main:o,fallback:{originX:r,originY:a}}}_getOverlayPosition(){let e=!this._dir||this._dir.value=="ltr",n=this.position,o;n=="above"?o={overlayX:"center",overlayY:"bottom"}:n=="below"?o={overlayX:"center",overlayY:"top"}:n=="before"||n=="left"&&e||n=="right"&&!e?o={overlayX:"end",overlayY:"center"}:(n=="after"||n=="right"&&e||n=="left"&&!e)&&(o={overlayX:"start",overlayY:"center"});let{x:r,y:a}=this._invertPosition(o.overlayX,o.overlayY);return{main:o,fallback:{overlayX:r,overlayY:a}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),mi(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,n){return this.position==="above"||this.position==="below"?n==="top"?n="bottom":n==="bottom"&&(n="top"):e==="end"?e="start":e==="start"&&(e="end"),{x:e,y:n}}_updateCurrentPositionClass(e){let{overlayY:n,originX:o,originY:r}=e,a;if(n==="center"?this._dir&&this._dir.value==="rtl"?a=o==="end"?"left":"right":a=o==="start"?"left":"right":a=n==="bottom"&&r==="top"?"above":"below",a!==this._currentPosition){let c=this._overlayRef;if(c){let d=`${this._cssClassPrefix}-${cD}-`;c.removePanelClass(d+this._currentPosition),c.addPanelClass(d+a)}this._currentPosition=a}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{this._setupPointerExitEventsIfNeeded();let n;e.x!==void 0&&e.y!==void 0&&(n=e),this.show(void 0,n)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{let n=e.targetTouches?.[0],o=n?{x:n.clientX,y:n.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let r=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,o)},this._defaultOptions?.touchLongPressShowDelay??r)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",n=>{let o=n.relatedTarget;(!o||!this._overlayRef?.overlayElement.contains(o))&&this.hide()}],["wheel",n=>this._wheelListener(n)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let n=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};e.push(["touchend",n],["touchcancel",n])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([n,o])=>{this._elementRef.nativeElement.addEventListener(n,o,dD)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){let n=this._injector.get(fe).elementFromPoint(e.clientX,e.clientY),o=this._elementRef.nativeElement;n!==o&&!o.contains(n)&&this.hide()}}_disableNativeGesturesIfNecessary(){let e=this.touchGestures;if(e!=="off"){let n=this._elementRef.nativeElement,o=n.style;(e==="on"||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA")&&(o.userSelect=o.msUserSelect=o.webkitUserSelect=o.MozUserSelect="none"),(e==="on"||!n.draggable)&&(o.webkitUserDrag="none"),o.touchAction="none",o.webkitTapHighlightColor="transparent"}}_syncAriaDescription(e){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,e,"tooltip"),this._isDestroyed||mi({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(n,o){n&2&&te("mat-mdc-tooltip-disabled",o.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return t})(),fD=(()=>{class t{_changeDetectorRef=m(je);_elementRef=m(oe);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled;_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new Q;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){let e=m(rt,{optional:!0});this._animationsDisabled=e==="NoopAnimations"}show(e){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>A2&&e.width>=w2}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){let n=this._tooltip.nativeElement,o=this._showAnimation,r=this._hideAnimation;if(n.classList.remove(e?r:o),n.classList.add(e?o:r),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let a=getComputedStyle(n);(a.getPropertyValue("animation-duration")==="0s"||a.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(n.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-tooltip-component"]],viewQuery:function(n,o){if(n&1&&le(_2,7),n&2){let r;J(r=$())&&(o._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(n,o){n&1&&P("mouseleave",function(a){return o._handleMouseLeave(a)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(n,o){if(n&1){let r=he();v(0,"div",1,0),P("animationend",function(c){return B(r),N(o._handleAnimationEnd(c))}),v(2,"div",2),S(3),_()()}n&2&&(te("mdc-tooltip--multiline",o._isMultiline),E("ngClass",o.tooltipClass),w(3),Ue(o.message))},dependencies:[Ut],styles:['.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mdc-plain-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mdc-plain-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-plain-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mdc-plain-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mdc-plain-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mdc-plain-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mdc-plain-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return t})(),Gp=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[pD],imports:[jc,ho,Pe,Pe,po]})}return t})();var mg={widthBreakpoint:{getValue(t){let i=t.viewSize[0],e=t.breakpoints,n=this.values;return i<=e.xsmall?n.xsmall:i<=e.small?n.small:i<=e.medium?n.medium:i<=e.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){let i=t.viewSize[1],e=t.breakpoints,n=this.values;return i<=e.xsmall?n.xsmall:i<=e.small?n.small:i<=e.medium?n.medium:i<=e.large?n.large:n.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){let i=t.viewSize,e=i[0],n=i[1],o=this.values;return n>=e?o.portrait:o.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},GA={xsmall:544,small:768,medium:992,large:1200};function C2(t){let i=t;return i&&i.xsmall<i.small&&i.small<i.medium&&i.medium<i.large}function WA(t,i){return i?mg[t].valueToClassName[i].split(" "):[]}var yD=t=>{let i=class extends t{constructor(...e){super(...e),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=GA}initialize(){this.addHandles(T(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),re))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(e){if(e!==this._get("breakpoints")){if(!C2(e)){let n=JSON.stringify(GA,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),e=GA}this._set("breakpoints",x({},e))}}_updateClassNames(){if(!this.container)return;let e=Eu.acquire(),n=Eu.acquire(),o,r=!1;for(o in mg){let a=this[o],c=mg[o].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==c&&(r=!0,this[o]=c,WA(o,a).forEach(d=>n.push(d)),WA(o,c).forEach(d=>e.push(d)))}r&&(this._applyClassNameChanges(e,n),Eu.release(e),Eu.release(n))}_applyClassNameChanges(e,n){let o=this.container;o&&(n.forEach(r=>o.classList.remove(r)),e.forEach(r=>o.classList.add(r)))}_removeActiveClassNames(){let e=this.container;if(!e)return;let n;for(n in mg)WA(n,this[n]).forEach(o=>e.classList.remove(o))}};return s([l()],i.prototype,"breakpoints",null),s([l()],i.prototype,"orientation",void 0),s([l()],i.prototype,"widthBreakpoint",void 0),s([l()],i.prototype,"heightBreakpoint",void 0),i=s([b("esri.views.BreakpointsOwner")],i),i};var as=class extends R{constructor(){super(...arguments),this.items=new ee,this._watchUpdatingTracking=new vt,this._callbacks=new Map,this._projector=Dv(),this._hiddenProjector=Dv()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){let t=document.createElement("div");t.className="esri-overlay-surface",this._set("surface",t),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),t.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(let e of i.added){let n=()=>e.render();this._callbacks.set(e,n),this._projector.append(this.surface,n)}for(let e of i.removed){let n=this._projector.detach(this._callbacks.get(e));this.surface.removeChild(n.domNode),this._callbacks.delete(e)}})}addItem(t){this.items.add(t)}removeItem(t){this.items.remove(t)}destroy(){this.items.removeAll(),this._callbacks.forEach(t=>this._projector.detach(t)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(t){let i=this._hiddenSurface,e=this._hiddenProjector,n,o=()=>(n=t.render(),n);e.append(i,o),e.renderNow();let r={left:0,top:0,right:0,bottom:0};if(n?.domNode){let a=n.domNode.getBoundingClientRect();r.left=a.left,r.top=a.top,r.right=a.right,r.bottom=a.bottom}for(e.detach(o);i.firstChild;)i.removeChild(i.firstChild);return r}overlaps(t,i){let e=this.computeBoundingRect(t),n=this.computeBoundingRect(i);return Math.max(e.left,n.left)<=Math.min(e.right,n.right)&&Math.max(e.top,n.top)<=Math.min(e.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(t=>t.visible)}prepare(){return f(this,null,function*(){yield document.fonts.load(this._fontString()).catch(()=>{})})}renderCanvas(t,i){let e=!!i?.disableDecorations;if(!this.items.some(o=>o.visible&&!(e&&o.isDecoration)))return;let n=t.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(o=>{e&&o.isDecoration||(n.save(),o.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};s([l({readOnly:!0})],as.prototype,"surface",void 0),s([l({readOnly:!0})],as.prototype,"items",void 0),s([l({readOnly:!0})],as.prototype,"needsRender",null),s([l({readOnly:!0})],as.prototype,"_watchUpdatingTracking",void 0),s([l({readOnly:!0})],as.prototype,"updating",null),as=s([b("esri.views.overlay.ViewOverlay")],as);var QA=as;var qA=[0,0];function x2(t){let i=(t.ownerDocument||window.document).defaultView,e=t.getBoundingClientRect();return qA[0]=e.left+(i?.pageXOffset??0),qA[1]=e.top+(i?.pageYOffset??0),qA}function _D(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function S2(t){let i=document.createElement("div");return t.appendChild(i),i}var Zc=16,Wp=750,I2=512,M2=2,vD=t=>{let i=class extends t{constructor(...e){super(...e),this._freqInfo={freq:Zc,time:Wp},this._overlayRenderTaskHandle=null,this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.ui=null,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([T(()=>this.cursor,n=>{let{surface:o}=this;o&&o.setAttribute("data-cursor",n)}),T(()=>this.navigating,n=>{let{surface:o}=this;o&&o.setAttribute("data-navigating",n.toString())})])}initialize(){this.addHandles([T(()=>this.ui,(e,n)=>this._handleUIChange(e,n),re),this.on("focus",()=>this.notifyChange("focused")),this.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(e){let n=this._get("container"),o=Ch(e);if(o||typeof e!="string"||z.getLogger(this).error("#container",`element with id '${e}' not found`),n===o)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(_D(this.root),this._set("root",null)),this.userContent&&(Tv(this.userContent,n),_D(this.userContent),this._set("userContent",null))),!o)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);o.classList.add("esri-view");let r=document.createElement("div");r.className="esri-view-user-storage",Tv(o,r),o.appendChild(r),this._set("userContent",r);let a=document.createElement("div");a.className="esri-view-root",o.insertBefore(a,o.firstChild),this._set("root",a);let c=document.createElement("div");c.className="esri-view-surface",c.setAttribute("role","application"),c.tabIndex=0,a.appendChild(c),this._set("surface",c);let d=new QA;a.appendChild(d.surface),this._set("overlay",d),this.addHandles(T(()=>d.needsRender,u=>{u&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=Bo({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=Ct(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",o),this._startMeasuring()}get focused(){let e=document.activeElement===this.surface;return document.hasFocus()&&e}get size(){return[this.width,this.height]}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(e,n,o){let r=this.position;return e-=r?r[0]:0,n-=r?r[1]:0,o?(o[0]=e,o[1]=n):o=[e,n],o}containerToPage(e,n,o){let r=this.position;return e+=r?r[0]:0,n+=r?r[1]:0,o?(o[0]=e,o[1]=n):o=[e,n],o}_handleUIChange(e,n){this.removeHandles("ui"),n&&n!==e&&n.destroy(),e&&(e.view=this,this.addHandles(T(()=>this.root,o=>{e.container=o?S2(o):null},re),"ui")),this._set("ui",e)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){let e=this._freqInfo;e.freq=Zc,e.time=Wp;let n=Bo({prepare:a=>{let c=this._measure(),d=this._freqInfo;if(d.time+=a.deltaTime,c&&(d.freq=Zc,this._get("resizing")||this._set("resizing",!0)),d.time<d.freq)return;d.time=0;let u=this._position();d.freq=u||c?Zc:Math.min(Wp,d.freq*M2),!c&&d.freq>=I2&&(n.pause(),this._get("resizing")&&this._set("resizing",!1))}}),o=new ResizeObserver(a=>{e.freq=Zc,e.time=Wp,n.resume()});this.container!=null&&o.observe(this.container);let r=ve(()=>o.disconnect());this.addHandles([Wx(window,"resize",()=>{e.freq=Zc,e.time=Wp,n.resume()}),r,n],"measuring"),this._measure(),this._position()}_measure(){let e=this.container,n=e?e.clientWidth:0,o=e?e.clientHeight:0;if(n===0||o===0)return this.suspended||this._set("suspended",!0),!1;let r=this.width,a=this.height;return n===r&&o===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",o),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:r,oldHeight:a,width:n,height:o}),!0)}_position(){let e=this.container,n=this.position,o=e&&x2(e);return!!o&&(!n||o[0]!==n[0]||o[1]!==n[1])&&(this._set("position",[o[0],o[1]]),!0)}forceDOMReadyCycle(){}};return s([l()],i.prototype,"container",null),s([l({readOnly:!0})],i.prototype,"focused",null),s([l({readOnly:!0})],i.prototype,"height",void 0),s([l()],i.prototype,"messagesCommon",void 0),s([l({type:QA})],i.prototype,"overlay",void 0),s([l({readOnly:!0})],i.prototype,"position",void 0),s([l({readOnly:!0})],i.prototype,"resizing",void 0),s([l({readOnly:!0})],i.prototype,"root",void 0),s([l({value:null,readOnly:!0})],i.prototype,"size",null),s([l({readOnly:!0})],i.prototype,"surface",void 0),s([l({readOnly:!0})],i.prototype,"suspended",void 0),s([l({nonNullable:!0})],i.prototype,"ui",void 0),s([l({readOnly:!0})],i.prototype,"userContent",void 0),s([l({readOnly:!0})],i.prototype,"width",void 0),s([l()],i.prototype,"widthBreakpoint",void 0),i=s([b("esri.views.DOMContainer")],i),i};function ss(t){return t!=null&&"open"in t&&"declaredClass"in t}function bD(t){return t!=null&&"declaredClass"in t&&"dockOptions"in t}var AD=t=>{let i=class extends t{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([T(()=>[this.ui,this.popup],([e,n],o)=>{let r="popup",a="manual";if(o){let[c,d]=o;c&&ss(d)&&(d.view=null,bD(d)&&c.remove(d,r))}e&&ss(n)&&(n.view=this,bD(n)&&e.add(n,{key:r,position:a,internal:!0}))},re),this.on("click",e=>{this.popup&&this.popupEnabled&&(e.pointerType!=="mouse"||e.button===0)&&(ss(this.popup)?this.popup.viewModel.handleViewClick(e):e.async(()=>f(this,null,function*(){yield this.setupPopup(),ss(this.popup)&&!this.destroyed&&this.ready&&this.popupEnabled&&this.popup.viewModel.handleViewClick(e)})))},zo.WIDGET)]),He(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>{import("./chunk-VG4PS2MV.js")})}destroy(){this.destroyed||this.closePopup()}openPopup(e){return f(this,null,function*(){if(ss(this.popup))return this.popup.open(e);try{if(yield this.setupPopup(),!this.popup)return void z.getLogger(this).error(new D("view:null-popup","Popup is null and can't be opened"));this.popup.open(e)}catch{}})}closePopup(){this._popupSetupTask?.abort(),ss(this.popup)&&this.popup.close()}fetchPopupFeatures(e,n){return f(this,null,function*(){return yield this.when(),this._popupHitsToFeatures(yield this._getPopupHits(e,n),n)})}setupPopup(){return f(this,null,function*(){if(this._popupSetupTask?.abort(),this.popup&&!ss(this.popup))return this._popupSetupTask=Ui(e=>f(this,null,function*(){let{default:n}=yield import("./chunk-VG4PS2MV.js");if(Le(e),!this.popup||ss(this.popup))return;let o=this.popup;delete o.open,delete o.close,this.popup=new n(o)})),this._popupSetupTask.promise})}_popupHitsToFeatures(r,a){return f(this,arguments,function*({location:e,hits:n},o){let c=[],d=[],u=!1,p=Zx(o,kt("popup-view-fetch-timeout")??E2),h=C=>{let M=new YA(C);return d.push(M),c.push(M.promise),M},y=C=>{let M=d.at(-1);return M&&M.layerView===C&&!u?M:h(C)};for(let C of n)"graphic"in C?(y(C.layerView).graphics.push(C.graphic),u=!1):(c.push(C.layerView.fetchPopupFeaturesAtLocation(C.mapPoint,p)),u=!0);d.map(C=>C.resolve(p));let A=Yx(c).then(C=>C.filter(M=>!!M).flat());return{pendingFeatures:c,allGraphicsPromise:A,location:e}})}_getPopupHits(e,n){return f(this,null,function*(){let{hits:o,location:r}=yield this.popupHitTest(e);Le(n);let a=[];for(let c of o)if("graphic"in c){if(this._isValidPopupGraphic(c.graphic,n)){let d=this._isValidPopupGraphicsLayerView(c.layerView)?c.layerView:void 0;a.push({graphic:c.graphic,layerView:d})}}else this._isValidPopupLocationLayerView(c.layerView)&&a.push({mapPoint:c.mapPoint,layerView:c.layerView});return{hits:a,location:r}})}_isValidPopupGraphic(e,n){return e&&!!e.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(e){return!e||(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesFromGraphics"in e}_isValidPopupLocationLayerView(e){return(!("layer"in e)||!e.suspended)&&"fetchPopupFeaturesAtLocation"in e}};return s([l()],i.prototype,"popup",void 0),s([l()],i.prototype,"popupEnabled",void 0),i=s([b("esri.views.PopupView")],i),i},YA=class{constructor(i){this.layerView=i,this._resolver=$t(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(i){let{layerView:e,graphics:n,_resolver:o}=this;if(!e)return o.resolve(n),o.promise;let r;return e.fetchPopupFeaturesFromGraphics(n,i).catch(a=>(r=a,null)).then(a=>{a?o.resolve(a):o.reject(r)}),o.promise}},E2=5e3;var ZA,Qp=ZA=class extends K{constructor(t){super(t),this.type="none"}clone(){return new ZA({type:this.type})}};s([Fi({none:"none",stayAbove:"stay-above"}),l({json:{write:{isRequired:!0}}})],Qp.prototype,"type",void 0),Qp=ZA=s([b("esri.ground.NavigationConstraint")],Qp);var wD=Symbol("GroundInstance");var xD,KA,ha=KA=class extends K.JSONSupportMixin(si){constructor(t){super(t),this[xD]=!0,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new ee;let i=n=>{n.parent&&n.parent!==this&&"remove"in n.parent&&n.parent.remove(n),n.parent=this,n.type!=="elevation"&&n.type!=="base-elevation"&&z.getLogger(this).error(`Layer '${n.title}, id:${n.id}' of type '${n.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},e=n=>{n.parent=null};this.addHandles([this.layers.on("after-add",n=>i(n.item)),this.layers.on("after-remove",n=>e(n.item))])}initialize(){this.when().catch(t=>{un(t)||z.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){let t=this.layers.removeAll();for(let i of t)Ne(i);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t=x({},t)).resourceInfo),t}get layers(){return this._get("layers")}set layers(t){this._set("layers",cc(t,this._get("layers")))}writeLayers(t,i,e,n){let o=[];t&&(n=O(x({},n),{layerContainerType:"ground"}),t.forEach(r=>{if("write"in r){let a={};Lx(r)().write(a,n)&&o.push(a)}else n?.messages&&n.messages.push(new D("layer:unsupported",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted in the ground`,{layer:r}))})),i.layers=o}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return dc(this,t=>{t(this.layers)})}queryElevation(t,i){return f(this,null,function*(){yield this.load({signal:i?.signal});let{ElevationQuery:e}=yield import("./chunk-KL2CSU2F.js");Le(i);let n=new e,o=this.layers.filter(CD).toArray();return n.queryAll(o,t,i)})}createElevationSampler(t,i){return f(this,null,function*(){yield this.load({signal:i?.signal});let{ElevationQuery:e}=yield import("./chunk-KL2CSU2F.js");Le(i);let n=new e,o=this.layers.filter(CD).toArray();return n.createSamplerAll(o,t,i)})}clone(){let t={opacity:this.opacity,surfaceColor:Qe(this.surfaceColor),navigationConstraint:Qe(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new KA({resourceInfo:this.resourceInfo}).set(t)}read(t,i){this.resourceInfo||this._set("resourceInfo",{data:t,context:i}),super.read(t,i)}_loadFromSource(t){let i=this.resourceInfo;return i?this._loadLayersFromJSON(i.data,i.context,t):Promise.resolve()}_loadLayersFromJSON(t,i,e){return f(this,null,function*(){let n=i?.origin||"web-scene",o=i?.portal||null,r=i?.url||null,{populateOperationalLayers:a}=yield import("./chunk-ZASVD3VT.js");Le(e);let c=[];if(t.layers&&Array.isArray(t.layers)){let d={context:{origin:n,url:r,portal:o,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};c.push(a(this.layers,t.layers,d))}yield Promise.allSettled(c)})}};function k2(t){return t&&"createElevationSampler"in t}function CD(t){return t.type==="elevation"||k2(t)}xD=wD,s([l({json:{read:!1,write:{isRequired:!0}}})],ha.prototype,"layers",null),s([ai("layers")],ha.prototype,"writeLayers",null),s([l({readOnly:!0})],ha.prototype,"resourceInfo",void 0),s([l({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:wn,read:{reader:$S,source:"transparency"},write:{writer:(t,i)=>{i.transparency=JS(t)},target:"transparency"}}})],ha.prototype,"opacity",void 0),s([l({type:oo,json:{type:[wn],write:(t,i)=>{i.surfaceColor=t.toJSON().slice(0,3)}}})],ha.prototype,"surfaceColor",void 0),s([l({type:Qp,json:{write:!0}})],ha.prototype,"navigationConstraint",void 0),ha=KA=s([b("esri.Ground")],ha);var Kc=ha;function T2(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function fa(t){return!(!T2(t)||!Uo(t)?.operations?.supportsEditing||"editingEnabled"in t&&!Rh(t)||ef(t))}var JA=()=>z.getLogger("esri.support.basemapUtils");function SD(){return{}}function ID(t){for(let i in t){let e=t[i];Ne(e),delete t[i]}}function hg(t,i){let e;if(typeof t=="string"){let n=t in Lv,o=!n&&t.includes("/");if(!n&&!o){if(Ws.apiKey)JA().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{let r=Object.entries(Lv).filter(([a,c])=>c.classic||c.is3d).map(([a])=>`"${a}"`).sort().join(", ");JA().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${r}`)}return null}i&&(e=i[t]),e||(e=n?ao.fromId(t):new ao({style:{id:t}}),i&&(i[t]=e))}else e=to(ao,t);return e?.destroyed&&(JA().warn("The provided basemap is already destroyed",{basemap:e}),e=null),e}var MD={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function ED(t){let i=null;if(typeof t=="string")if(t in MD){let e=MD[t];i=new Kc({resourceInfo:{data:{layers:[e]}}})}else z.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else i=to(Kc,t);return i}var Yo=class extends iI(tI(zt.EventedMixin(R))){constructor(t){super(t),this.allLayers=new Ks({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.allTables=eI(this),this.basemap=null,this.editableLayers=new Ks({getCollections:()=>[this.allLayers],itemFilterFunction:fa}),this.ground=new Kc,this._basemapCache=SD()}destroy(){ID(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=Ne(this.basemap),Ne(this.ground),this._set("ground",null)}castBasemap(t){return hg(t,this._basemapCache)}castGround(t){return ED(t)??this._get("ground")}findLayerById(t){return this.allLayers.find(i=>i.id===t)}findTableById(t){return this.allTables.find(i=>i.id===t)}};s([l({readOnly:!0,dependsOn:[]})],Yo.prototype,"allLayers",void 0),s([l({readOnly:!0})],Yo.prototype,"allTables",void 0),s([l({type:ao,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Yo.prototype,"basemap",void 0),s([ki("basemap")],Yo.prototype,"castBasemap",null),s([l({readOnly:!0})],Yo.prototype,"editableLayers",void 0),s([l({type:Kc,nonNullable:!0})],Yo.prototype,"ground",void 0),s([ki("ground")],Yo.prototype,"castGround",null),s([l()],Yo.prototype,"undoRedo",void 0),Yo=s([b("esri.Map")],Yo);var fg=Yo;var qp=class extends NI{constructor(t){super(t),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(z.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(t){t.parent=this.owner}_release(t){t.parent=null}};qp=s([b("esri.support.AnalysesCollection")],qp);var ls=class extends R{constructor(t){super(t),this.view=null,this.baseLayerViews=new ee,this.referenceLayerViews=new ee,this._loadingHandle=T(()=>this.view?.map?.basemap,i=>{i&&i.load().catch(()=>{})},re)}destroy(){this._set("view",null),this._loadingHandle&&(this._loadingHandle.remove(),this._loadingHandle=null);for(let t of this.baseLayerViews)t.destroy();this.baseLayerViews.length=0;for(let t of this.referenceLayerViews)t.destroy();this.referenceLayerViews.length=0}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};s([l({constructOnly:!0})],ls.prototype,"view",void 0),s([l({readOnly:!0})],ls.prototype,"baseLayerViews",void 0),s([l({readOnly:!0})],ls.prototype,"referenceLayerViews",void 0),s([l({readOnly:!0})],ls.prototype,"suspended",null),s([l({type:Boolean,readOnly:!0})],ls.prototype,"updating",null),ls=s([b("esri.views.BasemapView")],ls);var kD=ls;function D2(t){return"tryRecycleWith"in t}function F2(t){return t!=null&&typeof t=="object"&&"layerViews"in t}var $A=class{constructor(i,e,n){this.layer=i,this.view=e,this.layerViewImporter=n,this._controller=new AbortController,this._deferred=$t(),this._started=!1,this.done=!1,this.promise=this._deferred.promise,Kr(this._controller.signal,()=>{let o=new D("cancelled:layerview-create","layerview creation cancelled",{layer:i});this._deferred.reject(o)})}tryRecycle(i){if(!this.done||!this.layerView||!D2(this.layerView))return null;let e=this.layer.type,n=this._controller.signal;for(let o=0;o<i.length;o++){let r=i[o];if(r.type!==e)continue;let a=this.layerView.tryRecycleWith(r,{signal:n});if(a){i.splice(o,1),this.layer=r;let c=this.layerView,d=c.view;return this.promise=Promise.race([a.then(()=>(Le(this._controller.signal),r.emit("layerview-destroy",{view:d,layerView:c}),d.emit("layerview-destroy",{view:d,layerView:c}),r.emit("layerview-create",{view:d,layerView:c}),d.emit("layerview-create",{view:d,layerView:c}),c)),new Promise((u,p)=>Kr(this._controller.signal,()=>p(qs())))]),this.promise}}return null}destroy(){this._controller.abort();let{layerView:i}=this;if(i){let{layer:e,view:n}=this;e.emit("layerview-destroy",{view:n,layerView:i}),n.emit("layerview-destroy",{layer:e,layerView:i})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null}start(){return f(this,null,function*(){if(this._started)return;this._started=!0;let{_controller:{signal:i},layer:e,view:n}=this;this._map=n.map;try{let o,r;if(yield e.load({signal:i}),e.prefetchResources&&(yield e.prefetchResources({signal:i})),R2(e))o=yield e.createLayerView(n,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(e))throw new D("layer:view-not-supported","No layerview implementation was found");let d=yield this.layerViewImporter.importLayerView(e);Le(i),o="default"in d?new d.default({layer:e,view:n}):new d({layer:e,view:n})}let a=()=>{r=Ct(r),o.destroyed||o.destroy(),o.layer=null,o.parent=null,o.view=null,this.done=!0};r=Kr(i,a),Le(i);try{yield o.when()}catch(d){throw a(),d}if(!this._map?.allLayers?.includes(e))return a(),void this._deferred.reject(new D("view:no-layerview-for-layer","The layer has been removed from the map",{layer:e}));this.layerView=o,e.emit("layerview-create",{view:n,layerView:o}),n.emit("layerview-create",{layer:e,layerView:o}),this.done=!0,this._deferred.resolve(o)}catch(o){e.emit("layerview-create-error",{view:n,error:o}),n.emit("layerview-create-error",{layer:e,error:o}),this.done=!0,this._deferred.reject(new D("layerview:create-error","layerview creation failed",{layer:e,error:o}))}})}},fo=class extends R{constructor(t){super(t),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new vt,this.supportsGround=!0,this._preloadLayerViewModules=()=>{let i=this.view.map?.allLayers;if(i)for(let e of i)this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=$t(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(Jx(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;let i=this.view.map;if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");let e=new Set,n=[],o=this.view.ready,r=c=>{if(c!=null){for(let d of c)if(d){e.add(d);let u=this._layerLayerViewInfoMap.get(d);u&&o?u.start():u||this._recyclingInfoMap.has(d)||n.push(d),"layers"in d&&d.layers&&r(d.layers)}}};for(let c of this._rootCollectionNames)r(fh(this,c));for(let[c,d]of this._layerLayerViewInfoMap)if(!e.has(c)){this._layerLayerViewInfoMap.delete(d.layer);let u=d.tryRecycle(n);u?(this.notifyChange("updating"),this._recyclingInfoMap.set(d.layer,d),u.then(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),this._layerLayerViewInfoMap.set(d.layer,d),this._reschedule()}).catch(()=>{this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),d.destroy(),this._reschedule()})):d.destroy()}for(let[c,d]of this._recyclingInfoMap)e.has(c)||(this.notifyChange("updating"),this._recyclingInfoMap.delete(d.layer),d.destroy());for(let c of n)this._createLayerView(c);this._refreshCollections();let a=[i?.ground?.layers,i?.basemap?.baseLayers,i?.basemap?.referenceLayers,i?.layers].filter(c=>!!c);e.forEach(c=>"layers"in c&&a.push(c.layers)),this.addHandles(a.map(c=>this._watchUpdatingTracking.addOnCollectionChange(()=>c,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null}}initialize(){this.addHandles([lt(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),T(()=>{let t=this.view,i=t?.map;return[i?.basemap,i?.ground,i?.layers,t?.ready]},()=>this._reschedule(),gt)]),this._preloadLayerViewModules(),this._reschedule()}destroy(){this.clear(),Bh(this._recyclingInfoMap),Bh(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(qs()),this._workPromise=null)}get _layersToLayerViews(){let t=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.layers","view.layerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"]];return this.supportsGround&&t.push(["view.map.ground.layers","view.groundView.layerViews"]),new Map(t)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||Hx(this._layerLayerViewInfoMap,t=>!t.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let t=0;for(let i of this._layerLayerViewInfoMap.values())i.done||++t;return t}clear(){this.destroyed||(Bh(this._layerLayerViewInfoMap),this._refreshCollections())}whenLayerView(t){return f(this,null,function*(){if(yield this._reschedule(),!this._layerLayerViewInfoMap.has(t)){if(this._recyclingInfoMap.has(t))return this._recyclingInfoMap.get(t).promise;throw new D("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:t})}return this._layerLayerViewInfoMap.get(t).promise})}isCreatingLayerViewsForLayer(t,i){this.commitProperty("updatingRemaining");let e=this._layerLayerViewInfoMap.get(t);if(!e?.done)return!0;let n=e.layerView;return!(!n||!i||n.parent===i)||!!(e.done&&n&&"layers"in t&&t.layers?.length)&&t.layers.some(o=>this.isCreatingLayerViewsForLayer(o,n))}_refreshCollections(){for(let[t,i]of this._layersToLayerViews)this._populateLayerViewsOwners(fh(this,t),fh(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_populateLayerViewsOwners(t,i,e){if(!t||!i)return void(i&&i.removeAll());let n=0;for(let o of t){let r=this._layerLayerViewInfoMap.get(o);if(!r?.layerView)continue;let a=r.layerView;a.layer=o,a.parent=e,i.at(n)!==a&&i.splice(n,0,a),"layers"in o&&F2(a)&&this._populateLayerViewsOwners(o.layers,a.layerViews,a),n+=1}n<i.length&&i.splice(n,i.length)}_createLayerView(t){t.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(t)&&this.layerViewImporter.importLayerView(t);let i=new $A(t,this.view,this.layerViewImporter);i.promise.then(()=>this._refreshCollections(),e=>{e&&(un(e)||e.name==="cancelled:layerview-create")||z.getLogger(this).error(`Failed to create layerview for layer title:'${t.title??"no title"}', id:'${t.id??"no id"}' of type '${t.type}'.`,{layer:t,error:e}),this._refreshCollections()}),this._layerLayerViewInfoMap.set(t,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};s([l()],fo.prototype,"_workPromise",void 0),s([l({readOnly:!0})],fo.prototype,"_watchUpdatingTracking",void 0),s([l({readOnly:!0})],fo.prototype,"_layersToLayerViews",null),s([l({readOnly:!0})],fo.prototype,"_rootCollectionNames",null),s([l()],fo.prototype,"layerViewImporter",void 0),s([l()],fo.prototype,"supportsGround",void 0),s([l({readOnly:!0})],fo.prototype,"updating",null),s([l({readOnly:!0})],fo.prototype,"updatingRemaining",null),s([l({constructOnly:!0})],fo.prototype,"view",void 0),fo=s([b("esri.views.LayerViewManager")],fo);var TD=fo;function R2(t){return t.createLayerView!==nI.prototype.createLayerView}var Bn=class extends R{constructor(t){super(t),this.factor=1.5,this.offset=Gt(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};s([l({type:Number})],Bn.prototype,"factor",void 0),s([l({nonNullable:!0})],Bn.prototype,"offset",void 0),s([l()],Bn.prototype,"position",void 0),s([l({type:Number,range:{min:0}})],Bn.prototype,"size",void 0),s([l()],Bn.prototype,"maskUrl",void 0),s([l()],Bn.prototype,"maskEnabled",void 0),s([l()],Bn.prototype,"overlayUrl",void 0),s([l()],Bn.prototype,"overlayEnabled",void 0),s([l({readOnly:!0})],Bn.prototype,"version",null),s([l({type:Boolean})],Bn.prototype,"visible",void 0),Bn=s([b("esri.views.Magnifier")],Bn);var XA=Bn;function Yp(t){return!!(t!=null&&typeof t=="object"&&"createQuery"in t&&t.createQuery&&"on"in t&&t.on)}var Mr=class extends zt.EventedAccessor{constructor(t){super(t),this._selectionMap=new io,this._sources=new ee,this._trashCan=[],this._layerEditHandles=new ee,this._vizTaskId=0,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([T(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),lt(()=>this.sources,"change",i=>{let e=this._selectionMap;for(let n of i.removed)e.delete(n);this._refreshListeners(),this._refreshVisualization()},{onListenerAdd:()=>this._refreshListeners()})]);let t=new ee;this.view.when().then(()=>{this.view.map&&(this.view.map.allLayers.flatten(i=>"sublayers"in i&&i.sublayers?i.sublayers:null).forEach(i=>{(Yp(i)&&!Ri(i)||Lt(i))&&t.add(i)}),this.sources=t)})}destroy(){this._layerEditHandles.drain(Ct)}get selections(){return Array.from(this._selectionMap.entries()).map(t=>{let[i,e]=t;return{layer:i,selection:[...e.selection]}})}get count(){let t=0;for(let i of this._selectionMap.values())t+=i.selection.length;return t}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(t){cc(t,this._sources)}getSelectedFeatures(n){return f(this,arguments,function*(t,i={},e="layerView"){let{view:o,selections:r}=this,a=(t!==void 0?r.filter(c=>t.includes(c.layer)):r).filter(c=>c.selection.length>0).map(c=>f(this,null,function*(){let{layer:d,selection:u}=c,p=Lt(d)?d.parent:d;if(p==null||!FD(p))return null;if(e==="layer")return RD(p,u,i);if(DD(p))return null;let h=yield o.whenLayerView(p).catch(()=>null);return h?RD(h,u,i):null}));return(yield Promise.all(a)).filter(c=>c!=null)})}updateSelection(t){let i=new Map;for(let[o,r]of this._selectionMap)i.set(o,[...r.selection]);let e=!1,n=t.current.concat(t.added);for(let o of n){let r=o.sourceLayer,a=o.getObjectId();if(this.sources.includes(r)&&(Yp(r)||Lt(r))&&a!==null){let c=jt(i,r,()=>[]);c.includes(a)||(c.push(a),e=!0)}}for(let o of t.removed){let r=o.sourceLayer,a=o.getObjectId();if(this.sources.includes(r)&&(Yp(r)||Lt(r))&&a!==null){let c=i.get(r),d=c?.indexOf(a);d!==void 0&&d>=0&&(c?.splice(d,1),e=!0)}}if(e){let{_selectionMap:o,_trashCan:r}=this,a=[];for(let[c,d]of i){let u=o.get(c);u!==void 0&&r.push(u),o.set(c,{selection:d}),a.push(x({layer:c,selection:d},Cv(u!==void 0?u.selection:[],d)))}this._onSelectionChange(a)}}setSelection(t,i){this._setSelection(t,i)}getSelection(t){return this._selectionMap.get(t)?.selection}appendToSelection(t,i){let e=this._selectionMap.get(t),n=e!==void 0?[...e.selection]:[];for(let o of i)n.includes(o)||n.push(o);this._setSelection(t,n)}removeFromSelection(t,i){let e=this._selectionMap.get(t);if(!e)return;let n=[];for(let o of e.selection)i.includes(o)||n.push(o);this._setSelection(t,n)}toggleInSelection(t,i){let e=this._selectionMap.get(t);if(!e||e.selection.length===0)return void this._setSelection(t,i);let n=new Set(e.selection),o=new Set(i),r=tS(n,o);this._setSelection(t,Array.from(r))}clear(){let t=this._selectionMap.values();this._trashCan.push(...t);let i=[];for(let[e,n]of this._selectionMap.entries())i.push({layer:e,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(t){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:t})}_refreshVisualization(){if(this.view==null||this.sources==null)return;for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();let{sources:t,view:i,_selectionMap:e,showHighlight:n}=this,o=this._vizTaskId;for(let r of t){let a=e.get(r),c=Lt(r)?r.parent:r;if(c!=null&&FD(c)){if(DD(c))continue;i.whenLayerView(c).then(d=>{a?.highlightHandle?.remove(),a!=null&&n&&o===this._vizTaskId&&"highlight"in d&&typeof d.highlight=="function"&&a.selection.length>0&&(a.highlightHandle=d.highlight(a.selection,this.highlightName))}).catch(()=>{a?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(Ct);for(let t of this.sources){let i=Lt(t)?t.parent:t;if(i!=null&&Yp(i)){let e=i.on("edits",n=>{this._handleEditChanges(n,t)});this._layerEditHandles.push(e)}}}_handleEditChanges(t,i){if(t.deletedFeatures!==void 0&&t.deletedFeatures.length>0&&this._selectionMap.has(i)){let e=t.deletedFeatures.filter(n=>n.error==null).map(n=>n.objectId).filter(ot);this.removeFromSelection(i,e)}}_setSelection(t,i){if(!this.sources.includes(t))throw new Error(`Cannot set selection on layer ${t.title} because it is not in 'sources'`);let e=this._selectionMap.get(t);if(e===void 0||!O2(e,{selection:i})){e!==void 0&&this._trashCan.push(e),this._selectionMap.set(t,{selection:[...i]});let n=x({layer:t,selection:[...i]},Cv(e!==void 0?e.selection:[],i));this._onSelectionChange([n])}}};s([l({readOnly:!0,nonNullable:!0})],Mr.prototype,"selections",null),s([l({readOnly:!0,nonNullable:!0})],Mr.prototype,"count",null),s([l({constructOnly:!0,nonNullable:!0})],Mr.prototype,"view",void 0),s([l({readOnly:!0,nonNullable:!0})],Mr.prototype,"hasSelection",null),s([l()],Mr.prototype,"showHighlight",void 0),s([l()],Mr.prototype,"sources",null),s([l()],Mr.prototype,"highlightName",void 0),Mr=s([b("esri.views.SelectionManager")],Mr);var DD=t=>Lt(t)?t.parent?.isTable===!0:t.isTable,P2=t=>t.layer!==void 0,FD=t=>t?.when!==void 0,O2=(t,i)=>{if(t==null&&i==null)return!0;if(t!=null&&i==null||t==null&&i!=null)return!1;if(t!=null&&i!=null&&t.selection!=null&&i.selection!=null){let e=[...t.selection],n=[...i.selection];if(e.length!==n.length)return!1;e.sort(),n.sort();for(let o=0;o<e.length;o++)if(e[o]!==n[o])return!1}return!0},RD=(n,o,...r)=>f(void 0,[n,o,...r],function*(t,i,e={}){let a;if(P2(t)){let c=t;a=c===void 0?null:yield c.queryFeatures(new Nv(O(x({},e),{objectIds:i}))).then(d=>({data:d,layer:t.layer}))}else{let c=t;a=c===void 0?null:yield c.queryFeatures(new Nv(O(x({},e),{objectIds:i}))).then(d=>({data:d,layer:c}))}return a}),PD=Mr;var Zp=class extends Tt.ClonableMixin(R){constructor(t){super(t),this.accentColor=new oo([255,127,0]),this.textColor=new oo([255,255,255])}};s([l({type:oo,nonNullable:!0})],Zp.prototype,"accentColor",void 0),s([l({type:oo,nonNullable:!0})],Zp.prototype,"textColor",void 0),Zp=s([b("esri.views.Theme")],Zp);var gg=Zp;var t0=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],OD={};function VD(t){return!!OD[t]}function V2(t){for(let i of t)if(!VD(i))return!1;return!0}t0.forEach(t=>{OD[t]=!0});var Jc=class{constructor(i){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=i,this.inputManager=null}connect(i){i&&this.disconnect(),this.inputManager=i,this._handlers.forEach(({handler:e,priority:n},o)=>this.inputManager?.installHandlers(o,[e],n))}disconnect(){this.inputManager&&this._handlers.forEach((i,e)=>this.inputManager?.uninstallHandlers(e)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(i,e,n,o){let r=Array.isArray(i)?i:i.split(",");if(!V2(r))return r.some(VD)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let a,c;Array.isArray(e)?c=e:(a=e,c=[]),typeof n=="function"?a=n:o=n,o=o??zo.DEFAULT;let d=this._createUniqueGroupName(),u=new e0(this.view,r,c,a);this._handlers.set(d,{handler:u,priority:o});for(let p of r){let h=this._handlerCounts.get(p)||0;this._handlerCounts.set(p,h+1)}return this.inputManager&&this.inputManager.installHandlers(d,[u],o),ve(()=>this._removeHandler(d,r))}hasHandler(i){return!!this._handlerCounts.get(i)}_removeHandler(i,e){if(this._handlers.has(i)){this._handlers.delete(i);for(let n of e){let o=this._handlerCounts.get(n);o===void 0||(o===1?this._handlerCounts.delete(n):this._handlerCounts.set(n,o-1))}}this.inputManager&&this.inputManager.uninstallHandlers(i)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},e0=class extends Ke{constructor(i,e,n,o){super(!0),this._latestDragStart=void 0,this.view=i;for(let r of e)switch(r){case"click":this.registerIncoming("click",n,a=>o(N2(i,a)));break;case"double-click":this.registerIncoming("double-click",n,a=>o(H2(i,a)));break;case"immediate-click":this.registerIncoming("immediate-click",n,a=>o(U2(i,a)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",n,a=>o(j2(i,a)));break;case"hold":this.registerIncoming("hold",n,a=>o(z2(i,a)));break;case"drag":this.registerIncoming("drag",n,a=>{let c=this._wrapDrag(a);c&&o(c)});break;case"key-down":this.registerIncoming("key-down",n,a=>o(G2(a)));break;case"key-up":this.registerIncoming("key-up",n,a=>o(W2(a)));break;case"pointer-down":this.registerIncoming("pointer-down",n,a=>o(Kp(a,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",n,a=>o(Kp(a,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",n,a=>o(Kp(a,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",n,a=>o(Q2(a)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",n,a=>o(q2(a)));break;case"pointer-enter":this.registerIncoming("pointer-enter",n,a=>o(Kp(a,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",n,a=>o(Kp(a,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",n,a=>{o(Y2(a))});break;case"focus":this.registerIncoming("focus",n,a=>{o(L2(a))});break;case"blur":this.registerIncoming("blur",n,a=>{o(B2(a))})}}_wrapDrag(i){let e=i.data,{x:n,y:o}=e.center,{action:r,pointerType:a,button:c}=e;if(r==="start"&&(this._latestDragStart=e),!this._latestDragStart)return;let d=e.pointer.native,u=e.buttons,{cancelable:p,timestamp:h}=i,y={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return r==="end"&&(this._latestDragStart=void 0),{type:"drag",action:r,x:n,y:o,origin:y,pointerType:a,button:c,buttons:u,radius:e.radius,angle:iS(e.angle),native:d,timestamp:h,cancelable:p,stopPropagation:()=>i.stopPropagation(),async:A=>i.async(A),preventDefault:()=>i.preventDefault()}}};function L2(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}function B2(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),async:i=>t.async(i),preventDefault:()=>t.preventDefault()}}function N2(t,i){let{pointerType:e,button:n,buttons:o,x:r,y:a,native:c,eventId:d}=i.data,{cancelable:u,timestamp:p}=i;return{type:"click",pointerType:e,button:n,buttons:o,x:r,y:a,native:c,timestamp:p,screenPoint:Gt(r,a),mapPoint:Jp(t,r,a),eventId:d,cancelable:u,stopPropagation:()=>i.stopPropagation(),async:h=>i.async(h),preventDefault:()=>i.preventDefault()}}function H2(t,i){let{pointerType:e,button:n,buttons:o,x:r,y:a,native:c,eventId:d}=i.data,{cancelable:u,timestamp:p}=i;return{type:"double-click",pointerType:e,button:n,buttons:o,x:r,y:a,native:c,timestamp:p,mapPoint:Jp(t,r,a),eventId:d,cancelable:u,stopPropagation:()=>i.stopPropagation(),async:h=>i.async(h),preventDefault:()=>i.preventDefault()}}function U2(t,i){let{pointerType:e,button:n,buttons:o,x:r,y:a,native:c,eventId:d}=i.data,u=c.pointerId,{cancelable:p,timestamp:h}=i;return{type:"immediate-click",pointerId:u,pointerType:e,button:n,buttons:o,x:r,y:a,native:c,timestamp:h,mapPoint:Jp(t,r,a),eventId:d,cancelable:p,stopPropagation:()=>i.stopPropagation(),async:y=>i.async(y),preventDefault:()=>i.preventDefault()}}function j2(t,i){let{pointerType:e,button:n,buttons:o,x:r,y:a,native:c,eventId:d}=i.data,u=c.pointerId,{cancelable:p,timestamp:h}=i;return{type:"immediate-double-click",pointerId:u,pointerType:e,button:n,buttons:o,x:r,y:a,native:c,timestamp:h,mapPoint:Jp(t,r,a),eventId:d,cancelable:p,stopPropagation:()=>i.stopPropagation(),async:y=>i.async(y),preventDefault:()=>i.preventDefault()}}function z2(t,i){let{pointerType:e,button:n,buttons:o,x:r,y:a,native:c}=i.data,{cancelable:d,timestamp:u}=i;return{type:"hold",pointerType:e,button:n,buttons:o,x:r,y:a,native:c,timestamp:u,mapPoint:Jp(t,r,a),cancelable:d,stopPropagation:()=>i.stopPropagation(),async:p=>i.async(p),preventDefault:()=>i.preventDefault()}}function Jp(t,i,e){return t.toMap(Gt(i,e),{exclude:[]})}function G2(t){let{key:i,repeat:e,native:n}=t.data,{cancelable:o,timestamp:r}=t;return{type:"key-down",key:i,repeat:e,native:n,timestamp:r,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:a=>t.async(a),preventDefault:()=>t.preventDefault()}}function W2(t){let{key:i,native:e}=t.data,{cancelable:n,timestamp:o}=t;return{type:"key-up",key:i,native:e,timestamp:o,cancelable:n,stopPropagation:()=>t.stopPropagation(),async:r=>t.async(r),preventDefault:()=>t.preventDefault()}}function Kp(t,i){let{x:e,y:n,button:o,buttons:r,native:a,eventId:c}=t.data,d=a.pointerId,u=a.pointerType,{cancelable:p,timestamp:h}=t;return{type:i,x:e,y:n,pointerId:d,pointerType:u,button:o,buttons:r,native:a,timestamp:h,eventId:c,cancelable:p,stopPropagation:()=>t.stopPropagation(),async:y=>t.async(y),preventDefault:()=>t.preventDefault()}}function Q2(t){let{x:i,y:e,buttons:n,native:o,eventId:r}=t.data.currentEvent,{button:a}=t.data.startEvent,c=t.data.startEvent.native.pointerId,d=t.data.startEvent.native.pointerType,u=t.data.action,p={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:h,timestamp:y}=t;return{type:"pointer-drag",x:i,y:e,pointerId:c,pointerType:d,button:a,buttons:n,action:u,origin:p,native:o,timestamp:y,eventId:r,cancelable:h,stopPropagation:()=>t.stopPropagation(),async:A=>t.async(A),preventDefault:()=>t.preventDefault()}}function q2(t){let{cancelable:i,data:e,timestamp:n}=t,{x:o,y:r,deltaY:a,native:c}=e;return{type:"mouse-wheel",x:o,y:r,deltaY:a,native:c,timestamp:n,cancelable:i,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}function Y2(t){let{action:i,state:e,device:n}=t.data,{cancelable:o,timestamp:r}=t,{buttons:a,axes:c}=e;return{type:"gamepad",device:n,timestamp:r,action:i,buttons:a,axes:c,cancelable:o,stopPropagation:()=>t.stopPropagation(),async:d=>t.async(d),preventDefault:()=>t.preventDefault()}}function LD(t){return[t.on("before-add",i=>{let e=i.item;if(e==null||t.includes(e))return z.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void i.preventDefault();e.onAdd()}),t.on("after-remove",i=>{let e=i.item;e.active&&(e.view.activeTool=null),e.destroy()})]}function $p(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(Yu.USER)&&t.getEditableFlag(Yu.MANAGER)}var yg=class{constructor(){this._pointerLocations=new Map,this._hoveredManipulators=new Map,this._grabbedManipulators=new Map,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1,this._cursor=null}get cursor(){return this._cursor}hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(i,e){let n=()=>i.stopPropagation();switch(i.type){case"pointer-move":ND(i.pointerType)&&this._pointerLocations.set(i.pointerId,{x:i.x,y:i.y,pointerType:i.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:i.action==="start"?this._externallyDragging=!0:i.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(n(),i.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!HD(i))break;let o=br(i),r=$c(o,i.pointerType,e.forEachTool);if(r==null)break;let a=r.manipulator,c=r.tool;a==null||c==null||!a.interactive||a.grabbable&&a.grabbableForEvent(i)||!a.grabbing||a.dragging||this._releaseManipulatorBeforeDragging(a,i,e),a!=null&&c!=null&&a.interactive&&a.grabbable&&a.grabbableForEvent(i)&&!a.grabbing&&(this._grabbedManipulators.set(i.pointerId,{manipulator:a,tool:c,start:o,pointerType:i.pointerType}),this._grabbedManipulators.size===1&&e.activeTool==null&&(this._revertToNullActiveTool=!0,e.setActiveTool(r.tool)),a.grabbing=!0,a.events.emit("grab-changed",{action:"start",pointerType:i.pointerType,screenPoint:o}),n());break}case"pointer-up":this._draggedManipulators.has(i.pointerId)||this._handlePointerEnd(i,e);break;case"pointer-drag":{if(!HD(i))break;let o=this._grabbedManipulators.get(i.pointerId),r=o?.manipulator,a=o?.tool;if(r==null||a==null)break;let c=br(i);c.x=Ev(c.x,0,e.view.width),c.y=Ev(c.y,0,e.view.height);let d=o.start,u=this._draggedManipulators.get(i.pointerId);switch(i.action){case"start":case"update":i.action!=="update"&&this._grabbedManipulators.size!==1||(r.dragging=!0,u?r.events.emit("drag",{action:"update",start:d,screenPoint:c}):r.events.emit("drag",{action:"start",start:d,screenPoint:c,pointerType:i.pointerType}),this._draggedManipulators.set(i.pointerId,{tool:a,manipulator:r,start:d}));break;case"end":r.dragging=!1,u&&r.events.emit("drag",{action:"end",start:d,screenPoint:c}),this._draggedManipulators.delete(i.pointerId),this._handlePointerEnd(i,e)}n();break}case"immediate-click":{let o=br(i),r=$c(o,i.pointerType,e.forEachTool);if(Z2(i)||e.forEachTool(u=>{if((r==null||r.tool!==u||u.automaticManipulatorSelection)&&u.manipulators){let p=!1;u.manipulators.forEach(({manipulator:h})=>{h.selected&&(h.selected=!1,p=!0)}),p&&u.onManipulatorSelectionChanged&&u.onManipulatorSelectionChanged()}}),r==null)break;let{manipulator:a,tool:c}=r;if(!a.interactive)break;a.selectable&&c.automaticManipulatorSelection&&(a.selected=!a.selected,c.onManipulatorSelectionChanged&&c.onManipulatorSelectionChanged());let d=i.native.shiftKey;a.events.emit("immediate-click",{screenPoint:o,button:i.button,pointerType:i.pointerType,shiftKey:d,stopPropagation:n}),i0(a,n);break}case"click":{let o=br(i),r=$c(o,i.pointerType,e.forEachTool),a=r?.manipulator;if(a==null||!a.interactive)break;let c=i.native.shiftKey;a.events.emit(i.type,{screenPoint:o,button:i.button,pointerType:i.pointerType,shiftKey:c}),n();break}case"double-click":{let o=br(i),r=$c(o,i.pointerType,e.forEachTool),a=r!=null?r.manipulator:null;if(a==null||!a.interactive)break;let c=i.native.shiftKey;a.events.emit("double-click",{screenPoint:o,button:i.button,pointerType:i.pointerType,shiftKey:c,stopPropagation:n}),i0(a,n);break}case"immediate-double-click":{let o=br(i),r=$c(o,i.pointerType,e.forEachTool),a=r!=null?r.manipulator:null;if(a==null||!a.interactive)break;let c=i.native.shiftKey;a.events.emit("immediate-double-click",{screenPoint:o,button:i.button,pointerType:i.pointerType,shiftKey:c,stopPropagation:n}),i.pointerType==="mouse"&&i0(a,n);break}}this._onFocusChange(e.forEachTool)}_releaseManipulatorBeforeDragging(i,e,n){i.grabbing=!1,i.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:br(e)}),this._grabbedManipulators.forEach(({manipulator:o},r)=>{o===i&&this._grabbedManipulators.delete(r)}),this._afterManipulatorRelease(n.setActiveTool)}_handlePointerEnd(i,e){let n=this._grabbedManipulators.get(i.pointerId)?.manipulator;n!=null&&n.grabbing&&(n.grabbing=!1,n.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:br(i)}),this._grabbedManipulators.delete(i.pointerId),this._afterManipulatorRelease(e.setActiveTool))}_onFocusChange(i){this._updateCursor(),this._updateFocusedManipulatorTools(i)}_updateCursor(){this._grabbedManipulators.size>0?this._cursor=BD(this._grabbedManipulators)||"grabbing":this._hoveredManipulators.size>0?this._cursor=BD(this._hoveredManipulators)||"pointer":this._cursor=null}_updateFocusedManipulatorTools(i){let e=new Set,n=new Set;this._grabbedManipulators.forEach(({tool:o})=>{e.add(o)}),this._hoveredManipulators.forEach(({tool:o})=>{n.add(o)}),i(o=>{o.hasGrabbedManipulators=e.has(o),o.hasHoveredManipulators=n.has(o);let r=this._grabbedManipulators.values(),a=Gx(r,({tool:c})=>c===o);o.firstGrabbedManipulator=a!=null?a.manipulator:null})}clearPointers(i,{forEachTool:e,setActiveTool:n},o=!0,r){let a=(c,d)=>c===i&&(r==null||r===d);this._grabbedManipulators.forEach(({tool:c,manipulator:d,pointerType:u},p)=>{a(c,d)&&(this._grabbedManipulators.delete(p),d.grabbing=!1,d.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:u}))}),this._draggedManipulators.forEach(({tool:c,manipulator:d},u)=>{a(c,d)&&(this._draggedManipulators.delete(u),d.dragging=!1,d.events.emit("drag",{action:"cancel"}))}),o&&this._hoveredManipulators.forEach(({tool:c,manipulator:d},u)=>{a(c,d)&&(this._hoveredManipulators.delete(u),d.hovering=!1)}),this._afterManipulatorRelease(n),this._onFocusChange(e)}updateHoveredStateFromKnownPointers(i){this._pointerLocations.forEach((e,n)=>{this._updateHoveredStateForPointerAtScreenPosition(Gt(e.x,e.y),n,e.pointerType,i)})}handleHoverEvent(i,e){let n=i.type;n!=="pointer-up"&&n!=="immediate-click"&&n!=="pointer-move"||!ND(i.pointerType)||(n!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(i.pointerId):this._updateHoveredStateForPointerAtScreenPosition(br(i),i.pointerId,i.pointerType,e))}_updateHoveredStateForPointerAtScreenPosition(i,e,n,o){let r=$c(i,n,o),a=this._hoveredManipulators.get(e)?.manipulator;r==null||r.manipulator.interactive||(r=null),r!=null&&a===r.manipulator||(a!=null&&(a.hovering=!1),r!=null?(r.manipulator.hovering=!0,this._hoveredManipulators.set(e,r)):this._hoveredManipulators.delete(e),this._onFocusChange(o))}_afterManipulatorRelease(i){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(i(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(i){this._hoveredManipulators.forEach(({manipulator:e},n)=>{i===n&&(this._hoveredManipulators.delete(i),e.hovering=!1)})}};function BD(t){for(let{manipulator:i}of t.values())if(i!=null&&i.interactive){if(i.grabbing&&i.grabCursor)return i.grabCursor;if(i.cursor)return i.cursor}return null}function $c(t,i,e){let n=null;return e(o=>{if(o.manipulators==null||!$p(o))return!1;let r=o.manipulators.intersect(t,i);return r!=null&&(n={tool:o,manipulator:r},!0)}),n}function ND(t){return t==="mouse"}function HD(t){return t.pointerType!=="mouse"||t.button===0}function Z2(t){return!!t.native.shiftKey}function i0(t,i){t?.consumesClicks&&i()}var UD="attached",n0="tools",K2=1e3,Zo=class extends R{constructor(t){super(t),this._updatingHandles=new vt,this._clock=mr,this._manipulatorState=new yg,this.tools=new ee,this.cursor=null,this._interacting=!1,this._interactingTimeout=K2,this._interactingTimeoutHandle=null,this._forEachTool=i=>{for(let e of this.tools.items)if(i(e))return}}initialize(){this.addHandles([this.view.on(t0,t=>{this._handleInputEvent(t)},zo.TOOL),...LD(this.tools),this.tools.on("before-add",({item:t})=>{this._updateToolEditableFlag(t)}),this.tools.on("before-remove",({item:t})=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(t=>t.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy()}get _manipulatorStateEventArgs(){return{forEachTool:this._forEachTool,activeTool:this.activeTool,setActiveTool:t=>{this.activeTool=t},view:this.view}}set activeTool(t){if(t!=null&&!this.view.ready)return void z.getLogger(this).error("Cannot set active tool while view is not ready.");if(t===this.activeTool)return;let i=this.activeTool;this._set("activeTool",t),i?.deactivate(),t?.activate(),this._removeIncompleteTools(t);for(let e of this.tools){this._updateToolEditableFlag(e);let n=$p(e);this.activeTool!=null&&n||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!n)}this._updateCursor()}get updating(){return this._updatingHandles.updating||this.tools.some(t=>t.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=Ct(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([T(()=>{let{state:t}=this.view;return"camera"in t&&t.camera},()=>this._forEachManipulator(t=>t.onViewChange())),this.view.elevationProvider?.on("elevation-change",t=>this._forEachManipulator(i=>i.onElevationChange(t)))],UD):this.addHandles(T(()=>this.view.extent,()=>this._forEachManipulator(t=>t.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(UD),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(t){this._forEachTool(i=>{i.manipulators&&i.manipulators.forEach(({manipulator:e})=>t(e,i))})}_handleInputEvent(t){let i=!1,e=O(x({},t),{stopPropagation:()=>{i=!0,t.stopPropagation()}});this.activeTool!=null?this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(e):this._forEachTool(n=>{!i&&n.visible&&n.handleInputEvent(e)}),!i&&t.type==="key-down"&&t.key==="Escape"&&this.activeTool&&(t.stopPropagation(),this.activeTool=null),this._manipulatorState.handleInputEvent(e,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(e),this._manipulatorState.handleHoverEvent(e,this._forEachTool),this._updateCursor(),t.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators()||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(n0),this._forEachTool(t=>{if(t instanceof R){let i=T(()=>[t.cursor,t.visible,t.editable],()=>{$p(t)||this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs),this._updateCursor()});this.addHandles(i,n0)}t.manipulators&&this.addHandles([t.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(t,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),t.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()})],n0)}),this._manipulatorState.updateHoveredStateFromKnownPointers(this._forEachTool),this._updateCursor()}_updateToolEditableFlag(t){t.setEditableFlag?.(Yu.MANAGER,this.activeTool==null||t===this.activeTool)}_updateCursor(){let t=this._manipulatorState.cursor;t==null&&this._forEachTool(i=>!(i.cursor==null||!i.visible)&&(t=i.cursor,!0)),this._get("cursor")!==t&&this._set("cursor",t)}_removeIncompleteTools(t){this.tools.filter(i=>(t==null||i!==t)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};s([l({constructOnly:!0,nonNullable:!0})],Zo.prototype,"view",void 0),s([l({value:null})],Zo.prototype,"activeTool",null),s([l({readOnly:!0,type:ee})],Zo.prototype,"tools",void 0),s([l({readOnly:!0})],Zo.prototype,"cursor",void 0),s([l({readOnly:!0})],Zo.prototype,"updating",null),s([l()],Zo.prototype,"_interacting",void 0),s([l({readOnly:!0})],Zo.prototype,"interacting",null),Zo=s([b("esri.views.ToolViewManager")],Zo);function jD(){return new(ee.ofType(Xr))([new Xr({name:aM}),new Xr({name:yr,color:sM})])}var Xc=class extends R{constructor(t){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",t.mapping==="standard"?this._detectedDeviceType="standard":J2.test(t.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=t.index}get native(){let t=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<t.length?t[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return $2[this.deviceType]}};s([l({nonNullable:!0,readOnly:!0})],Xc.prototype,"nativeIndex",void 0),s([l({type:String,readOnly:!0})],Xc.prototype,"deviceType",null),s([l({type:Number,readOnly:!0})],Xc.prototype,"axisThreshold",null),Xc=s([b("esri.views.input.gamepad.GamepadInputDevice")],Xc);var ed=Xc,J2=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),$2={standard:.15,spacemouse:.025,unknown:0};var Xp=class extends R{constructor(...t){super(...t),this.devices=new ee,this.enabledFocusMode="document"}};s([l({type:ee.ofType(ed),readOnly:!0})],Xp.prototype,"devices",void 0),s([l({type:["document","view","none"]})],Xp.prototype,"enabledFocusMode",void 0),Xp=s([b("esri.views.input.gamepad.GamepadSettings")],Xp);var zD=Xp;var _g=class extends R{constructor(){super(...arguments),this.gamepad=new zD}};s([l({readOnly:!0})],_g.prototype,"gamepad",void 0),_g=s([b("esri.views.input.Input")],_g);var GD=_g;var o0=()=>l({type:["pan","rotate","zoom","none"],nonNullable:!0}),vl=class extends R{constructor(t){super(t),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};s([o0()],vl.prototype,"dragPrimary",void 0),s([o0()],vl.prototype,"dragSecondary",void 0),s([o0()],vl.prototype,"dragTertiary",void 0),s([l({type:["zoom","none"],nonNullable:!0})],vl.prototype,"mouseWheel",void 0),vl=s([b("esri.views.navigation.NavigationActionMap")],vl);var em=vl;var cs=class extends R{constructor(t){super(t),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};s([l({type:Boolean,nonNullable:!0})],cs.prototype,"enabled",void 0),s([l({type:ed})],cs.prototype,"device",void 0),s([l({type:["pan","zoom"],nonNullable:!0})],cs.prototype,"mode",void 0),s([l({type:["forward-down","forward-up"],nonNullable:!0})],cs.prototype,"tiltDirection",void 0),s([l({type:Number,nonNullable:!0})],cs.prototype,"velocityFactor",void 0),cs=s([b("esri.views.navigation.gamepad.GamepadSettings")],cs);var r0=cs;var ds=class extends R{constructor(t){super(t),this.actionMap=new em,this.browserTouchPanEnabled=!0,this.gamepad=new r0,this.momentumEnabled=!0}get effectiveMomentumEnabled(){return this.momentumEnabled&&!Zh()}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(t){jx(z.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=t?"zoom":"none"}};s([l({type:em,nonNullable:!0})],ds.prototype,"actionMap",void 0),s([l({type:Boolean})],ds.prototype,"browserTouchPanEnabled",void 0),s([l({type:r0,nonNullable:!0})],ds.prototype,"gamepad",void 0),s([l({type:Boolean})],ds.prototype,"momentumEnabled",void 0),s([l({type:Boolean})],ds.prototype,"mouseWheelZoomEnabled",null),ds=s([b("esri.views.navigation.Navigation")],ds);var td=ds;var s0,a0=null;function X2(t){return f(this,null,function*(){a0||(a0=import("./chunk-KCQRGOVV.js").then(i=>s0=i)),yield a0,Le(t)})}function l0(t,i,e,n){return f(this,null,function*(){if(!t)return null;let o=t.spatialReference;return Ph()||Vh(o,i)?pc(t,i):s0?s0.projectGeometry(t,i,e,n):(yield Promise.race([X2(n),Oh(n)]),l0(t,i,e,n))})}var pt=class extends R{constructor(t){super(t),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=ft(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){let t=this.map?.(),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers},{parent:t?.ground,layers:t?.ground?.layers},{parent:t?.basemap,layers:t?.basemap?.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let t;if(this._collectLayers(this.mapCollections,e=>{let n=this._getSupportedSpatialReferences(e);if(n.length>0){let o=this._narrowDownSpatialReferenceCandidates(t,n);o!=null&&(t=o)}return t?.length===1})&&t?.length!==1)return{updating:!0};let i=this._pickSpatialReferenceCandidate(t);return{spatialReference:i?.spatialReference??null,viewingMode:i?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};let t=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let e,n=this._collectLayers([{parent:t?.basemap,layers:t?.basemap?.baseLayers},{layers:t?.layers}],o=>!(!("tileInfo"in o)||!o.tileInfo?.spatialReference.equals(i))&&(e=o,!0),o=>"tileInfo"in o);return e?{tileInfo:e.tileInfo,updating:!1}:{updating:n}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let t={},i=this._collectLayers(this.mapCollections,e=>{let n=mE(e);return!!n&&(t={heightModelInfo:n,vcsWkid:e.spatialReference?.vcsWkid,latestVcsWkid:e.spatialReference?.latestVcsWkid},!0)},e=>hE(e));return O(x({},t),{updating:i})}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let t=[],i=this._collectLayers(this.mapCollections,e=>{let n="fullExtents"in e&&e.fullExtents||(e.fullExtent!=null?[e.fullExtent]:[]),o=this.requiresExtentInSpatialReference?null:n[0],r=n.find(a=>a.spatialReference.equals(this.spatialReference))??o;if(r)return t.push({extent:r,layer:e}),!0;if(this._getSupportedSpatialReferences(e).length>0)for(let a of n)t.push({extent:a,layer:e});return!1});return{candidates:t,updating:i}}get _extentTask(){let{candidates:t,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(t==null||t.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};let e=this._pickExtentCandidate(t),n=this.spatialReference;return e.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=ft(this._projectExtentTask.task)),this._projectExtentTask={input:e.extent.clone(),output:null,spatialReference:n.clone(),task:Ui(o=>f(this,null,function*(){try{let r=yield l0(e.extent,n,"portalItem"in e.layer?e.layer.portalItem:void 0,o);this._projectExtentTask=O(x({},this._projectExtentTask),{task:null,output:r})}catch{if(Ys(o))return;this._projectExtentTask=O(x({},this._projectExtentTask),{task:null})}}))},{updating:!0})}_narrowDownSpatialReferenceCandidates(t,i){if(t==null)return i;let e=new Array;for(let n of t)for(let o of i){if(!n.spatialReference.equals(o.spatialReference))continue;let r=eH(n.viewingMode,o.viewingMode);if(r!==!1){e.push({spatialReference:n.spatialReference,viewingMode:r});break}}return e.length>0?e:null}_pickSpatialReferenceCandidate(t){let i=this.defaultSpatialReference;return t==null||t.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&t.length>1&&t.some(({spatialReference:e})=>e.equals(i))&&(t=t.filter(({spatialReference:e})=>e.equals(i))),t.length>1&&t.some(({viewingMode:e})=>e!==ro.Local)&&(t=t.filter(({viewingMode:e})=>e!==ro.Local)),t[0])}_getSupportedSpatialReferences(t){let i="supportedSpatialReferences"in t&&t.supportedSpatialReferences||(t.spatialReference?[t.spatialReference]:[]);if(i.length===0)return[];let e=[];for(let n of i){let o=this.getSpatialReferenceSupport(n,t);if(o!=null){let r=o.constraints??[{spatialReference:n,viewingMode:null}];for(let{spatialReference:a,viewingMode:c}of r)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||e.push({spatialReference:a,viewingMode:c})}}return e}_pickExtentCandidate(t){let i=this.spatialReference;return t.find(({extent:e})=>i.equals(e.spatialReference))||t[0]}_collectLayers(t,i,e=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}let n=new c0(e,i);for(let o of t)if(this._collectCollection(o,n),n.done||n.preloading===this.sourcePreloadCount)break;return n.updating}_collectCollection(t,i){if(t.layers){switch(this._loadMaybe(t.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(let e of t.layers)if(i.layerFilter(e)){switch(this._loadMaybe(e)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(e)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in e&&this._collectCollection({layers:e.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(t){return t&&"loadStatus"in t&&t.loadStatus!=null?t.loadStatus==="not-loaded"?(t.load().catch(i=>{un(i)}),"loading"):t.loadStatus:"loaded"}};s([l()],pt.prototype,"required",void 0),s([l({constructOnly:!0})],pt.prototype,"map",void 0),s([l({constructOnly:!0})],pt.prototype,"getSpatialReferenceSupport",void 0),s([l()],pt.prototype,"defaultSpatialReference",void 0),s([l()],pt.prototype,"userSpatialReference",void 0),s([l()],pt.prototype,"sourcePreloadCount",void 0),s([l()],pt.prototype,"priorityCollection",void 0),s([l()],pt.prototype,"requiresExtentInSpatialReference",void 0),s([l()],pt.prototype,"suspended",void 0),s([l({readOnly:!0})],pt.prototype,"ready",null),s([l({readOnly:!0})],pt.prototype,"heightModelInfoReady",null),s([l({readOnly:!0})],pt.prototype,"spatialReference",null),s([l({readOnly:!0})],pt.prototype,"extent",null),s([l({readOnly:!0})],pt.prototype,"heightModelInfo",null),s([l({readOnly:!0})],pt.prototype,"vcsWkid",null),s([l({readOnly:!0})],pt.prototype,"latestVcsWkid",null),s([l({readOnly:!0})],pt.prototype,"viewingMode",null),s([l({readOnly:!0})],pt.prototype,"tileInfo",null),s([l({readOnly:!0})],pt.prototype,"mapCollections",null),s([l({readOnly:!0})],pt.prototype,"_spatialReferenceTask",null),s([l({readOnly:!0})],pt.prototype,"_tileInfoTask",null),s([l({readOnly:!0})],pt.prototype,"_heightModelInfoTask",null),s([l({readOnly:!0})],pt.prototype,"_extentCandidatesTask",null),s([l()],pt.prototype,"_extentTask",null),s([l()],pt.prototype,"_projectExtentTask",void 0),pt=s([b("esri.views.support.DefaultsFromMap")],pt);var c0=class{constructor(i,e){this.layerFilter=i,this.pushLayer=e,this.preloading=-1,this.updating=!1,this.done=!1}};function eH(t,i){return t!=null?i!=null?t===i&&t:t:i}var id=class extends R{constructor(t){super(t),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};s([l()],id.prototype,"featureTitleFields",void 0),s([l()],id.prototype,"utilityNetworkFields",void 0),s([l()],id.prototype,"globalIdField",void 0),id=s([b("esri.views.support.RequiredFieldsOptions")],id);var WD=id;var tm,ae=tm=class extends zt.EventedMixin(Xi.EsriPromiseMixin(R)){constructor(t){super(t),this._userSpatialReference=null,this._cursor=null,this.handles=new yh,this.updatingHandles=new vt,this.allLayerViews=new Ks({getCollections:()=>[this.basemapView?.baseLayerViews,this.groundView?.layerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:tH}),this.groundView=null,this.basemapView=null,this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new qv,this.analyses=new qp,this.typeSpecificPreconditionsReady=!0,this.layerViews=new ee,this.magnifier=new XA,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.supportsGround=!0,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this.input=new GD,this.navigation=new td,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new Jc(this),this.persistableViewModels=new ee,this.requiredFieldsOptions=new WD,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(T(()=>this.preconditionsReady,i=>{let e=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,tm.views.add(this)):(this._lockedSpatialReference=null,tm.views.remove(this)),this.notifyChange("spatialReference"),!i&&e)this.toolViewManager?.detach(),this.analysisViewManager!=null&&this.analysisViewManager.detach(),this.layerViewManager?.clear(),this._teardown();else if(i&&!e){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new D("startup-error",null,n)})}this.analysisViewManager!=null&&this.analysisViewManager.attach(),this.toolViewManager.attach()}},Xt))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this.validate()]).then(()=>(this._isValid=!0,He(()=>this.ready)))),this.basemapView=new kD({view:this}),this.layerViewManager=new TD({view:this,layerViewImporter:{importLayerView:t=>this.importLayerView(t),hasLayerViewModule:t=>this.hasLayerViewModule(t)},supportsGround:this.supportsGround}),this.toolViewManager=new Zo({view:this}),this.selectionManager=new PD({view:this}),this.addHandles([qe(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{z.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),T(()=>this.initialExtentRequired,t=>this.defaultsFromMap.required=O(x({},this.defaultsFromMap.required),{extent:t}),gt),T(()=>this.ready,t=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=t,this.defaultsFromMap.userSpatialReference=t?this.spatialReference:this._userSpatialReference)},Xt),T(()=>this._userSpatialReference,t=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=t)},gt)])}destroy(){this.destroyed||(tm.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=Ne(this.graphics),this.analyses=Ne(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),Ne(this.analysisViewManager),this.toolViewManager=Ne(this.toolViewManager),this.layerViewManager=Ne(this.layerViewManager),this.selectionManager=Ne(this.selectionManager),this.basemapView=Ne(this.basemapView),this.groundView?.destroy(),this.layerViews?.forEach(t=>t.destroy()),this.layerViews.length=0,this.invalidate(),this._emitter.clear(),this.handles.destroy(),this.map=Ne(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return z.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(t){this.toolViewManager&&(this.toolViewManager.activeTool=t)}get animation(){return this._get("animation")}set animation(t){this._set("animation",t)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new pt(x({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(t,i)=>this.getSpatialReferenceSupport(t,i)},this.defaultsFromMapSettings))}get extent(){return this._get("extent")}set extent(t){this._set("extent",t)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??jD()}set highlights(t){this._set("highlights",cc(t,this._get("highlights"),ee.ofType(Xr)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||si.isLoadable(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(t){t!==this._get("map")&&(t?.destroyed&&(z.getLogger(this).warn("#map","The provided map is already destroyed",{map:t}),t=null),si.isLoadable(t)&&t.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",t))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){let t=!("loaded"in this.map)||this.map.loaded,i=this.map.ground.loaded,e=this.map.basemap?.loaded??!0;return t&&e&&i&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=Ui(n=>_h(kt("view-readyState-waiting-delay"),null,n)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=ft(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){let t=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(t&&this.defaultsFromMap?.required?.heightModelInfo){let i=t.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return t}set spatialReference(t){let i=!No(t,this._get("spatialReference"));this._set("_userSpatialReference",t),i&&(this._set("spatialReference",t),this._spatialReferenceChanged(t))}_spatialReferenceChanged(t){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(t){this._userTimeExtent=t}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??rc}set timeZone(t){this._userTimeZone=t,hS(t)||z.getLogger(this).warn("#timeZone",`the parsed value '${t}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._cursor??"default"}set cursor(t){this._cursor=t,this.notifyChange("cursor")}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new gg}whenLayerView(t){return this.layerViewManager?.whenLayerView(t)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}importLayerView(t){throw new D("importLayerView() not implemented")}hasLayerViewModule(t){return!1}validate(){return f(this,null,function*(){})}loadAsyncDependencies(){return f(this,null,function*(){})}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(t){return this.getSpatialReferenceSupport(t)!=null}when(t,i){return this.isResolved()&&!this.ready&&z.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(t,i)}forceReadyCycle(){this.ready&&(qe(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}addAndActivateTool(t){this.toolViewManager.tools.add(t),this.activeTool=t}tryFatalErrorRecovery(){this.fatalError=null}};ae.views=new ee,s([l()],ae.prototype,"_userSpatialReference",void 0),s([l()],ae.prototype,"activeTool",null),s([l({readOnly:!0})],ae.prototype,"allLayerViews",void 0),s([l()],ae.prototype,"groundView",void 0),s([l()],ae.prototype,"animation",null),s([l()],ae.prototype,"basemapView",void 0),s([l()],ae.prototype,"center",null),s([l()],ae.prototype,"defaultsFromMapSettings",null),s([l()],ae.prototype,"defaultsFromMap",null),s([l()],ae.prototype,"displayFilterEnabled",void 0),s([l()],ae.prototype,"fatalError",void 0),s([l({type:Di})],ae.prototype,"extent",null),s([l(Qv(qv,"graphics"))],ae.prototype,"graphics",void 0),s([l(Qv(qp,"analyses"))],ae.prototype,"analyses",void 0),s([l({readOnly:!0,type:pI})],ae.prototype,"heightModelInfo",null),s([l({type:ee.ofType(Xr)})],ae.prototype,"highlights",null),s([l({readOnly:!0})],ae.prototype,"interacting",null),s([l({readOnly:!0})],ae.prototype,"navigating",null),s([l({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ae.prototype,"preconditionsReady",null),s([l({readOnly:!0})],ae.prototype,"typeSpecificPreconditionsReady",void 0),s([l({type:ee,readOnly:!0})],ae.prototype,"layerViews",void 0),s([l()],ae.prototype,"resolution",null),s([l({type:XA})],ae.prototype,"magnifier",void 0),s([l({value:null,type:fg})],ae.prototype,"map",null),s([l()],ae.prototype,"padding",void 0),s([l({readOnly:!0})],ae.prototype,"ready",void 0),s([l()],ae.prototype,"_readyStateWaitingTask",void 0),s([l({readOnly:!0})],ae.prototype,"readyState",null),s([l({type:Vt})],ae.prototype,"spatialReference",null),s([l()],ae.prototype,"stationary",null),s([l({readOnly:!0})],ae.prototype,"supportsGround",void 0),s([l({type:tn})],ae.prototype,"timeExtent",null),s([l({type:String,nonNullable:!0})],ae.prototype,"timeZone",null),s([l()],ae.prototype,"tools",null),s([l()],ae.prototype,"toolViewManager",void 0),s([l({readOnly:!0})],ae.prototype,"type",void 0),s([l({type:Number})],ae.prototype,"scale",void 0),s([l({readOnly:!0})],ae.prototype,"updating",void 0),s([l({readOnly:!0})],ae.prototype,"initialExtentRequired",void 0),s([l({readOnly:!0})],ae.prototype,"initialExtent",null),s([l()],ae.prototype,"cursor",null),s([l({readOnly:!0})],ae.prototype,"input",void 0),s([l({type:td,nonNullable:!0})],ae.prototype,"navigation",void 0),s([l()],ae.prototype,"layerViewManager",void 0),s([l()],ae.prototype,"analysisViewManager",void 0),s([l()],ae.prototype,"selectionManager",void 0),s([l()],ae.prototype,"width",void 0),s([l()],ae.prototype,"height",void 0),s([l({readOnly:!0})],ae.prototype,"resizing",void 0),s([l({value:null,readOnly:!0})],ae.prototype,"size",null),s([l({readOnly:!0})],ae.prototype,"suspended",void 0),s([l({readOnly:!0})],ae.prototype,"viewEvents",void 0),s([l({readOnly:!0})],ae.prototype,"persistableViewModels",void 0),s([l()],ae.prototype,"_isValid",void 0),s([l()],ae.prototype,"_readyCycleForced",void 0),s([l()],ae.prototype,"_lockedSpatialReference",void 0),s([l()],ae.prototype,"_userTimeZone",void 0),s([l()],ae.prototype,"_lockedTimeZone",void 0),s([l()],ae.prototype,"_userTimeExtent",void 0),s([l()],ae.prototype,"_lockedTimeExtent",void 0),s([l({type:gg})],ae.prototype,"theme",void 0),s([l({readOnly:!0,type:gg})],ae.prototype,"effectiveTheme",null),ae=tm=s([b("esri.views.View")],ae);var d0=globalThis.$arcgis;d0&&!d0.views&&Object.defineProperty(d0,"views",{configurable:!1,enumerable:!0,writable:!1,value:ae.views});var QD=ae;function tH(t){return t.layerViews}function iH(t){return t instanceof Float32Array&&t.length>=2}function nH(t){return Array.isArray(t)&&t.length>=2}function vg(t){return iH(t)||nH(t)}var u0,ga=[0,0],ya=u0=class extends K{constructor(t){super(t),this._viewpoint2D={center:_c(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new Di,this.id=0,this.inverseTransform=$h(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=$h(),this.transformNoRotation=$h(),this.displayMat3=of(),this.displayViewMat3=of(),this.viewMat3=of(),this.viewMat2d=oM(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){let i=this._viewpoint2D,e=t.targetGeometry;i.center[0]=e.x,i.center[1]=e.y,i.rotation=t.rotation,i.scale=t.scale,i.spatialReference=e.spatialReference}this._update()}get visibleArea(){let[t,i]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,i),this.toMap([0,0],t,i),this.toMap([0,0],t,0)]}copy(t){let i=this.size,e=this.viewpoint;return e&&i?(this.viewpoint=so(e,t.viewpoint),this._set("size",vc(i,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new u0({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,i,e){return vg(i)?il(t,i,this.inverseTransform):(ga[0]=i,ga[1]=e,il(t,ga,this.inverseTransform))}toScreen(t,i,e){return vg(i)?il(t,i,this.transform):(ga[0]=i,ga[1]=e,il(t,ga,this.transform))}toScreenNoRotation(t,i,e){return vg(i)?il(t,i,this.transformNoRotation):(ga[0]=i,ga[1]=e,il(t,ga,this.transformNoRotation))}wrapMapCoordinate(t,i){vc(t,i);let[e]=i,[n]=this.center,{extent:o,spatialReference:r}=this,{xmin:a,xmax:c}=o;if(r.isWrappable){let d=JM(r)/2;a=Math.max(a,n-d),c=Math.min(c,n+d)}return(e<a||e>c)&&(t[0]=_I(e,n,r)),t}getScreenTransform(t,i){let{center:e}=this._viewpoint2D,n=this._get("pixelRatio")||1,o=this._get("size");return YM(t,e,o,i,0,n),t}_update(){let{center:t,spatialReference:i,scale:e,rotation:n}=this._viewpoint2D,o=this._get("pixelRatio")||1,r=this._get("size"),a=new ct({targetGeometry:new xe(t[0],t[1],i),scale:e,rotation:n});if(this._set("viewpoint",a),!r||!i||!e)return;this.resolution=QM(a),this.rotation=n,this.scale=e,this.spatialReference=i,vc(this.center,t);let c=r[0]!==0?2/r[0]:0,d=r[1]!==0?-2/r[1]:0;kI(this.displayMat3,c,0,0,0,d,0,-1,1,1);let u=TI(this.viewMat3),p=Wv(r[0]/2,r[1]/2),h=Wv(-r[0]/2,-r[1]/2),y=ZS(n);zv(u,u,p),FI(u,u,y),zv(u,u,h),DI(this.displayViewMat3,this.displayMat3,u);let A=nM(this.viewMat2d,p);return tM(A,A,y),iM(A,A,h),GM(this.extent,a,r),ZM(this.transform,a,r,o),eM(this.inverseTransform,this.transform),KM(this.transformNoRotation,a,r,o),this.worldScreenWidth=$M(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};s([l({readOnly:!0})],ya.prototype,"id",void 0),s([l({value:1,json:{write:!0}})],ya.prototype,"pixelRatio",null),s([l({json:{write:!0}})],ya.prototype,"size",null),s([l()],ya.prototype,"spatialReference",void 0),s([l({type:ct,json:{write:!0}})],ya.prototype,"viewpoint",null),s([l({readOnly:!0})],ya.prototype,"visibleArea",null),ya=u0=s([b("esri.views.2d.ViewState")],ya);var p0=ya;var m0,h0,_a=m0=class extends R{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new m0({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};s([l()],_a.prototype,"left",void 0),s([l()],_a.prototype,"top",void 0),s([l()],_a.prototype,"right",void 0),s([l()],_a.prototype,"bottom",void 0),_a=m0=s([b("esri.views.2d.PaddedViewState.Padding")],_a);var nd=h0=class extends p0{constructor(...t){super(...t),this.paddedViewState=new p0,this._updateContent=(()=>{let i=_c();return()=>{let e=this._get("size"),n=this._get("padding");if(!e||!n)return;let o=this.paddedViewState;RI(i,n.left+n.right,n.top+n.bottom),PI(i,e,i),vc(o.size,i);let r=o.viewpoint;r&&(this.viewpoint=r)}})(),this.addHandles(T(()=>[this.size,this.padding],()=>this._updateContent(),Xt)),this.padding=new _a,this.size=[0,0]}set padding(t){this._set("padding",t||new _a)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let i=t,e=this._get("padding");e&&(i=eE(t.clone(),t,this._get("size"),e));let{targetGeometry:n,rotation:o,scale:r}=i,{x:a,y:c,spatialReference:d}=n,u=this._viewpoint2D;u.center[0]=a,u.center[1]=c,u.rotation=o,u.scale=r,u.spatialReference=d,this._update()}}clone(){return new h0({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};s([l()],nd.prototype,"paddedViewState",void 0),s([l({type:_a})],nd.prototype,"padding",null),s([l()],nd.prototype,"viewpoint",null),nd=h0=s([b("esri.views.2d.PaddedViewState")],nd);var od=nd;var bg=class{constructor(i){this.view=i,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=HI(),this._schedulerHandle=qe(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||hr(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=e=>{if(this._updateRequested=!1,this.view?.destroyed)return;let{allLayerViews:n,graphicsView:o,labelManager:r,state:{id:a}}=this.view;n?.forEach(this._updateLayerView,this),r!=null&&(r.lastUpdateId!==a&&(r.viewChange(),r.lastUpdateId=a),r.updateRequested&&r.processUpdate(this._updateParameters)),o!=null&&(o.lastUpdateId!==a&&(o.viewChange(),o.lastUpdateId=a),o.updateRequested&&o.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=Ou.ANIMATING:this.view.interacting?this._scheduler.state=Ou.INTERACTING:this._scheduler.state=Ou.IDLE,this._scheduler.frame(e)||this._updateRequested||this._scheduler.state!==Ou.IDLE||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;let i=this.view;this.stationary=i.stationary,this._updateParameters={state:i.state,targetState:new od,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:i.renderingOptions},this._stationaryHandle=T(()=>i.stationary,e=>{this.stationary=e,this.requestFrame()}),this._frameTaskHandle=Bo(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(i){if(!i.attached)return void this.requestUpdate();let e=this.view.state,n=i.lastUpdateId;n!=null&&(this.stationary||i.moving)||(i.moving=!0),n!==e.id&&i.viewChange(),this.stationary&&i.moving&&(i.moving=!1,i.moveEnd()),i.lastUpdateId=e.id,i.updateRequested&&i.processUpdate(this._updateParameters),"layerViews"in i&&i.layerViews?.forEach(this._updateLayerView,this)}};var us=class extends Xi{constructor(t){super(t),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=$t(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new D("ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(t,i){i||(i=hr(t)?"waiting-for-target":"running"),this._set("target",t),this._set("state",i)}};s([l({readOnly:!0})],us.prototype,"done",null),s([l({readOnly:!0,type:String})],us.prototype,"state",void 0),s([l()],us.prototype,"target",void 0),us=s([b("esri.views.ViewAnimation")],us),function(t){t.State={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"}}(us||(us={}));var im=us;var nm=class extends R{constructor(t){super(t),this._gotoTask=null}destroy(){this._gotoTask=null}goTo(t,i){return f(this,null,function*(){if(!t)return void z.getLogger(this).error("#goTo()","target cannot be null or undefined");let e=new im;this.view.animation=e,yield He(()=>this.view.ready,i);let n=O(x({},i),{animate:i?.animate??!Zh(),animationMode:i?.animationMode??"auto"}),{extent:o,spatialReference:r,size:a,viewpoint:c,constraints:d,padding:u,allLayerViews:p}=this.view,h=zM(t,{extent:o,spatialReference:r,size:a,viewpoint:c,constraints:d,padding:u,allLayerViews:p,pickClosestTarget:i?.pickClosestTarget??!0});return e?.update(h),this._gotoTask={},n.animate?this._gotoAnimated(h,n):this._gotoImmediate(h,n)})}_gotoImmediate(t,i){let e=this._gotoTask,n=this.view.animation,o=t.then(r=>{if(Le(i),e!==this._gotoTask)throw new D("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=r,n.finish()});return this._cancellableGoTo(e,n,o,i)}_gotoAnimated(t,i){let e=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();let o=t.then(r=>{if(Le(i),e!==this._gotoTask)throw new D("view:goto-interrupted","Goto was interrupted");return n.update(r),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(e,n,o,i)}_cancellableGoTo(t,i,e,n){let o=()=>t===this._gotoTask;return Zs(e,n).finally(()=>{o()&&(i.done||i.stop())})}};s([l({constructOnly:!0})],nm.prototype,"view",void 0),nm=s([b("esri.views.2d.GoToManager")],nm);function qD(t,i){let{spatialReference:e}=i,n=[i.x,i.y],o,r,a,c,d=[0,0],u=oH(t);for(let y=0;y<u.length;y++){let A=u[y];for(let C=0;C<A.length-1;C++){DS(d,n,A,C);let M=OI(n,d);(o==null||M<o)&&(o=M,r=[...d],a=y,c=C)}}if(o==null||!r||a==null||c==null)throw new D("nearest-coordinate:failed","Failed to find the nearest coordinate");let[p,h]=r;return{coordinate:new xe({x:p,y:h,spatialReference:e}),distance:o}}function oH(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var f0,ps=f0=class extends en.NumericIdentifiableMixin(R){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return pc(this.geometry,this.spatialReference)}catch(t){return z.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,i){if(this.normalizedGeometry==null)return t;let e=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?Eh(this.normalizedGeometry,e):TS(this.normalizedGeometry,e))return t;let{coordinate:n}=qD(this.normalizedGeometry,e);return n&&(t.targetGeometry=n),t}clone(){return new f0({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};s([l({constructOnly:!0})],ps.prototype,"geometry",void 0),s([l({readOnly:!0})],ps.prototype,"normalizedGeometry",null),s([l({constructOnly:!0})],ps.prototype,"spatialReference",void 0),ps=f0=s([b("esri.views.2d.constraints.GeometryConstraint")],ps);var g0,om=g0=class extends en.NumericIdentifiableMixin(R){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,i){return this.enabled&&i&&(this.rotationEnabled||(t.rotation=i.rotation)),t}clone(){return new g0({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};s([l()],om.prototype,"enabled",void 0),s([l()],om.prototype,"rotationEnabled",void 0),om=g0=s([b("esri.views.2d.constraints.RotationConstraint")],om);var y0=om;var _0,xn=_0=class extends en.NumericIdentifiableMixin(R){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:i,minScale:e,maxScale:n,minZoom:o,maxZoom:r}=this,a=-1,c=-1,d=!1,u=!1;if(e!==0&&n!==0&&e<n&&([e,n]=[n,e]),!i?.length)return this._set("effectiveMinScale",e),void this._set("effectiveMaxScale",n);i=i.map(p=>p.clone()),i.sort((p,h)=>h.scale-p.scale),i.forEach((p,h)=>p.level=h);for(let p of i)!d&&e>0&&e>=p.scale&&(a=p.level,d=!0),!u&&n>0&&n>=p.scale&&(c=t?t.level:-1,u=!0),t=p;o===-1&&(o=e===0?0:a),r===-1&&(r=n===0?i.length-1:c),o=Math.max(o,0),o=Math.min(o,i.length-1),r=Math.max(r,0),r=Math.min(r,i.length-1),o>r&&([o,r]=[r,o]),e=i[o].scale,n=i[r].scale,i.splice(0,o),i.splice(r-o+1,i.length),i.forEach((p,h)=>{this._lodByScale[p.scale]=p,this._scales[h]=p.scale}),this._set("effectiveLODs",i),this._set("effectiveMinZoom",o),this._set("effectiveMaxZoom",r),this._set("effectiveMinScale",e),this._set("effectiveMaxScale",n)}constrain(t,i){if(i&&t.scale===i.scale)return t;let e=this.effectiveMinScale,n=this.effectiveMaxScale,o=t.targetGeometry,r=i&&i.targetGeometry,a=n!==0&&t.scale<n,c=e!==0&&t.scale>e;if(a||c){let d=c?e:n;if(i&&r){let u=(d-i.scale)/(t.scale-i.scale);o.x=r.x+(o.x-r.x)*u,o.y=r.y+(o.y-r.y)*u}t.scale=d}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);let i=this.scaleToZoom(t.scale),e=Math.abs(i-Math.floor(i));return t.scale=this.zoomToScale(e>.99?Math.round(i):Math.floor(i)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);let i=this._scales;if(t<=0)return i[0];if(t>=i.length)return i[i.length-1];let e=Math.floor(t),n=Math.ceil(t);return i[e]+(t-e)*(i[n]-i[e])}scaleToZoom(t){if(!this.effectiveLODs)return-1;let i=this._scales,e,n;if(t>=i[0])return this.effectiveMinZoom;if(t<=i[i.length-1])return this.effectiveMaxZoom;for(let o=0;o<i.length-1;o++){if(e=i[o],n=i[o+1],n===t)return o+this.effectiveMinZoom+1;if(e>t&&n<t)return o+this.effectiveMinZoom+1-(t-n)/(e-n)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;let i=this.scaleToZoom(t);return this.zoomToScale(Math.round(i))}snapToNextScale(t,i=.5){if(!this.effectiveLODs)return t*i;let e=Math.round(this.scaleToZoom(t));return this.zoomToScale(e+1)}snapToPreviousScale(t,i=2){if(!this.effectiveLODs)return t*i;let e=Math.round(this.scaleToZoom(t));return this.zoomToScale(e-1)}clone(){return new _0({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((i,e)=>Math.abs(e-t)<=Math.abs(i-t)?e:i,this._scales[0])),this._lodByScale[t].scale}};s([l({readOnly:!0})],xn.prototype,"effectiveLODs",void 0),s([l({readOnly:!0})],xn.prototype,"effectiveMinZoom",void 0),s([l({readOnly:!0})],xn.prototype,"effectiveMaxZoom",void 0),s([l({readOnly:!0})],xn.prototype,"effectiveMinScale",void 0),s([l({readOnly:!0})],xn.prototype,"effectiveMaxScale",void 0),s([l()],xn.prototype,"lods",void 0),s([l()],xn.prototype,"minZoom",void 0),s([l()],xn.prototype,"maxZoom",void 0),s([l()],xn.prototype,"minScale",void 0),s([l()],xn.prototype,"maxScale",void 0),s([l()],xn.prototype,"snapToZoom",void 0),xn=_0=s([b("esri.views.2d.constraints.ZoomConstraint")],xn);var v0=xn;var rH={base:null,key:"type",typeMap:{extent:Di,polygon:ja}},Wt=class extends R{constructor(t){super(t),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new ee}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(t){t?this._set("geometry",t):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){let t=this._get("_geometry");return t&&this.geometry===t.geometry&&this.view?.constraintsInfo.spatialReference===t.spatialReference?t:new ps({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new y0({rotationEnabled:this.rotationEnabled})}get _zoom(){let t=this._get("_zoom"),i=this.lods||this.view?.constraintsInfo.lods,e=this.minZoom,n=this.maxZoom,o=this.minScale,r=this.maxScale,a=this.snapToZoom;return t&&t.lods===i&&t.minZoom===e&&t.maxZoom===n&&t.minScale===o&&t.maxScale===r&&t.snapToZoom===a?t:new v0({lods:i,minZoom:e,maxZoom:n,minScale:o,maxScale:r,snapToZoom:a})}canZoomInTo(t){let i=this.effectiveMaxScale;return i===0||t>=i}canZoomOutTo(t){let i=this.effectiveMinScale;return i===0||t<=i}constrain(t,i){return this._zoom.constrain(t,i),this._rotation.constrain(t,i),this._geometry.constrain(t,i),this.customConstraints.forEach(e=>e.constrain(t,i)),t}constrainByGeometry(t){return this._geometry.constrain(t),this.customConstraints.forEach(i=>i.applyPanConstraint?.(t)),t}fit(t){return this._zoom.fit(t)}zoomToScale(t){return this._zoom.zoomToScale(t)}scaleToZoom(t){return this._zoom.scaleToZoom(t)}snapScale(t){return this._zoom.snapToClosestScale(t)}snapToNextScale(t){return this._zoom.snapToNextScale(t)}snapToPreviousScale(t){return this._zoom.snapToPreviousScale(t)}};s([l({readOnly:!0})],Wt.prototype,"effectiveLODs",null),s([l({readOnly:!0})],Wt.prototype,"effectiveMinScale",null),s([l({readOnly:!0})],Wt.prototype,"effectiveMaxScale",null),s([l({readOnly:!0})],Wt.prototype,"effectiveMinZoom",null),s([l({readOnly:!0})],Wt.prototype,"effectiveMaxZoom",null),s([l({types:rH,value:null})],Wt.prototype,"geometry",null),s([l({type:[el]})],Wt.prototype,"lods",void 0),s([l()],Wt.prototype,"minScale",void 0),s([l()],Wt.prototype,"maxScale",void 0),s([l()],Wt.prototype,"minZoom",void 0),s([l()],Wt.prototype,"maxZoom",void 0),s([l()],Wt.prototype,"rotationEnabled",void 0),s([l()],Wt.prototype,"snapToZoom",void 0),s([l({type:ee})],Wt.prototype,"customConstraints",void 0),s([l()],Wt.prototype,"view",void 0),s([l({readOnly:!0})],Wt.prototype,"version",null),s([l({type:ps,readOnly:!0})],Wt.prototype,"_geometry",null),s([l({type:y0})],Wt.prototype,"_rotation",null),s([l({readOnly:!0,type:v0})],Wt.prototype,"_zoom",null),Wt=s([b("esri.views.2d.MapViewConstraints")],Wt);var b0=Wt;var Gi=class extends R{constructor(t){super(t),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([T(()=>this.constraints?.version,i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},Xt)])}get center(){if(!this.ready)return this._get("center");let{center:t,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new xe({x:t[0],y:t[1],spatialReference:i})}set center(t){if(t==null)return;if(!this.ready)return void this._set("center",t);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void z.getLogger(this).error(new D("mapview:invalid-center","could not project the value in the view's spatial reference",{input:t,error:n}))}let e=this.viewpoint;rb(e,e,i),this.viewpoint=e}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(t){if(t==null)return;if(!t.width||!t.height)return void z.getLogger(this).error(new D("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",t),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(t,this.state.spatialReference)}catch(n){return void z.getLogger(this).error(new D("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}let e=this.viewpoint;WM(e,e,i,this.state.size,{constraints:this.constraints}),this.viewpoint=e}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(t){this.ready?(this.state.padding=t,this._set("padding",this.state.padding)):this._set("padding",t)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(t){if(isNaN(t))return;if(!this.ready)return void this._set("rotation",t);let i=this.viewpoint;iE(i,i,t),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(t){if(!t||isNaN(t))return;if(!this.ready){this._set("scale",t),this._set("zoom",void 0);let e=this._get("extent");return void(e&&(this._set("extent",void 0),this._set("center",e.center)))}let i=this.viewpoint;ab(i,i,t),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(t){if(t==null)return;if(!this.ready)return this._set("viewpoint",t),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,e;try{i=this._project(t,this.state.spatialReference),!t.scale||isNaN(t.scale)?e=new D("mapview:invalid-viewpoint",`invalid scale value of ${t.scale}`):t.targetGeometry==null&&(e=new D("mapview:invalid-viewpoint","geometry not defined"))}catch(o){e=new D("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:o})}if(e)return void z.getLogger(this).error(e);this._scaleBeforeChangingSpatialReference=null;let n=new ct({targetGeometry:new xe,scale:0,rotation:0});so(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(t){if(!(t>=0))return;if(!this.ready){this._set("zoom",t),this._set("scale",void 0);let n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}let i=this.constraints?.zoomToScale(t)??0;if(!i)return void this._set("zoom",-1);let e=this.viewpoint;ab(e,e,i),this.viewpoint=e,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(t){if(!t[0]&&!t[1])return{center:void 0,rotation:void 0,scale:void 0};let{padding:i,constraints:e}=this,n=this._get("center"),o=this._get("extent"),r=this._get("scale"),a=this._get("rotation"),c=this._get("viewpoint"),d=this._get("zoom"),u=d!=null&&e!=null&&e.zoomToScale(d)||void 0,p,h,y,A=c?.rotation,C=c?.targetGeometry;C?.type==="extent"?p=C:C?.type==="point"&&(h=C,y=c?.scale);let M=o??p;return{center:n??h??M?.center,rotation:a??A,scale:(r??u??y??(M&&Xh(M,[t[0]-i.left-i.right,t[1]-i.top-i.bottom])))||void 0}}startup(t,i,e,n){let o=t.targetGeometry;try{this._project(t,e)}catch(r){z.getLogger(this).warn(new Sv("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:o.toJSON(),spatialReference:e,error:r})),t.targetGeometry=n||new xe({x:0,y:0,spatialReference:e})}this.constraints?.fit(t),this._set("state",new od({padding:this.padding,size:i,viewpoint:t})),this._set("ready",!0)}teardown(){this._set("ready",!1);let{center:[t,i],spatialReference:e,rotation:n,scale:o}=this.state.paddedViewState,r=new xe({x:t,y:i,spatialReference:e});this._set("viewpoint",null),this._set("extent",null),this._set("center",r),this._set("zoom",-1),this._set("rotation",n),this._set("scale",o),this._set("state",null)}changeSpatialReference(t){let i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{let c=i.viewpoint.clone();c.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=c}let e=i.clone(),[n,o]=i.center,r=null;try{r=this._project(new xe({x:n,y:o,spatialReference:i.spatialReference}),t)}catch(c){CS()||z.getLogger(this).warn(new Sv("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:r?.toJSON(),spatialReference:t,error:c}))}r||(r=new xe({x:0,y:0,spatialReference:t}));let a=rb(new ct({targetGeometry:new xe,scale:0,rotation:0}),i.viewpoint,r);e.viewpoint=a;try{let d=[i.size[0]/2,i.size[1]/2],u=[d[0]+20,d[1]],p=i.toMap([0,0],u),{x:h,y}=this._project(new xe({x:p[0],y:p[1],spatialReference:i.spatialReference}),t);p[0]=h,p[1]=y,e.toScreen(p,p);let A=XM(d,p,u),C=Math.hypot(p[0]-d[0],p[1]-d[1])/20;!Number.isFinite(C)||Math.abs(C)>4?(a.rotation=0,a.targetGeometry=new xe({x:0,y:0,spatialReference:t})):(a.scale*=C,a.scale>kt("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(A)?A:0)}catch{}this._get("constraints")?.constrain(a,void 0),this._get("state").viewpoint=a}resize(t,i){if(!this.ready)return;let e=this.state,n=this.state.paddedViewState.viewpoint,o=this.state.paddedViewState.size.slice();e.size=[t,i],tE(n,n,o,this.state.paddedViewState.size,this.resizeAlign),n=this.constraints?.constrain(n,void 0)??n,this.state.viewpoint=n}toMap(t){if(!this.ready)return null;let i=[0,0],[e,n]=this.state.toMap(i,[t.x,t.y]),o=this.state.spatialReference;return new xe({x:e,y:n,spatialReference:o})}toScreen(t,i){if(!this.ready)return null;let e=this._project(t,this.state.spatialReference),n=[e.x,e.y];return i?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),Gt(n[0],n[1])}_project(t,i){let e=t?.targetGeometry||t;if(!i)return t;if(!e)return null;if(i.imageCoordinateSystem||e.spatialReference?.imageCoordinateSystem||No(i,e.spatialReference))return t;let n=pc(e,i);if(!n)throw new D("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:e,spatialReference:i});return aH(t)?(t.targetGeometry=n,t):n}};function aH(t){return t?.declaredClass==="esri.Viewpoint"}s([l({type:xe})],Gi.prototype,"center",null),s([l()],Gi.prototype,"constraints",void 0),s([l({type:Di})],Gi.prototype,"extent",null),s([l({value:{top:0,right:0,bottom:0,left:0},cast:t=>x({top:0,right:0,bottom:0,left:0},t)})],Gi.prototype,"padding",null),s([l()],Gi.prototype,"ready",void 0),s([l()],Gi.prototype,"resizeAlign",void 0),s([l({readOnly:!0})],Gi.prototype,"resolution",null),s([l({type:Number})],Gi.prototype,"rotation",null),s([l({type:Number})],Gi.prototype,"scale",null),s([l({readOnly:!0})],Gi.prototype,"state",void 0),s([l({type:ct})],Gi.prototype,"viewpoint",null),s([l({readOnly:!0})],Gi.prototype,"visibleArea",null),s([l()],Gi.prototype,"zoom",null),Gi=s([b("esri.views.2d.ViewStateManager")],Gi);function A0(t,i){switch(i){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function Ag(t,i){return i.some(e=>A0(t,e))}function w0(t,{dragPrimary:i,dragSecondary:e,dragTertiary:n}){return[{key:"primary",value:i},{key:"secondary",value:e},{key:"tertiary",value:n}].filter(o=>o.value===t).map(o=>o.key)}var rm=class extends Ke{constructor(i,e){super(!0),this._view=i,this.registerIncoming("double-click",e,n=>this._handleDoubleClick(n,e))}_handleDoubleClick(i,e){A0(i.data,"primary")&&(i.stopPropagation(),e?this._view.mapViewNavigation.zoomOut([i.data.x,i.data.y]):this._view.mapViewNavigation.zoomIn([i.data.x,i.data.y]))}};var wg=class extends Ke{constructor(i,e,n){super(!0),this.view=i,this.pointerType=e,this.registerIncoming("double-tap-drag",n,o=>this._handleDoubleTapDrag(o))}_handleDoubleTapDrag(i){let{data:e}=i,{pointerType:n}=e;if(n!==this.pointerType)return;i.stopPropagation();let{action:o,delta:r}=e,{view:a}=this,{mapViewNavigation:c}=a;switch(o){case"begin":{let{scale:d}=a;this._startScale=d,this._currentScale=d,this._previousDelta=r,c.begin();break}case"update":{if(this._previousDelta.y===r.y)return;this._previousDelta=r;let d=1.015**r.y,u=this._startScale*d,p=u/this._currentScale;c.setViewpointImmediate(p),this._currentScale=u;break}case"end":{let{constraints:d}=a,{effectiveLODs:u,snapToZoom:p}=d;if(!p||!u)return void c.end();let h=d.snapScale(this._currentScale),y=(r.y>0?Math.max(h,d.snapToPreviousScale(this._startScale)):Math.min(h,d.snapToNextScale(this._startScale)))/this._currentScale;c.zoom(y).then(()=>{c.end()});break}}}};var Er=class{constructor(i){this._callbacks=i,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(i){let e=i.data,n=e.pointers.size;switch(e.action){case"start":this._currentCount=n,this._emitStart(i);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(i);break;case"update":this._emitUpdate(i);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=n,this._emitStart(i);break;case"end":this._emitEnd(i),this._currentCount=0}this._previousEvent=i}_emitStart(i){this._startEvent=i,this._callbacks.condition?.(this._currentCount,i)&&this._callbacks.start(this._currentCount,i,this._startEvent)}_emitUpdate(i){this._callbacks.condition?.(this._currentCount,i)&&this._callbacks.update(this._currentCount,i,this._startEvent)}_emitEnd(i){this._callbacks.condition?.(this._currentCount,i)&&this._callbacks.end(this._currentCount,i,this._startEvent),this._startEvent=null}};var Cg=class extends Ke{constructor(i,e,n){super(!0),this.view=i,this.pointerActions=e,this.registerIncoming("drag",n,o=>this._handleDrag(o)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(i){super.onInstall(i),this._dragEventSeparator=new Er({start:(e,n)=>{this.view.mapViewNavigation.pan.begin(this.view,n.data),n.stopPropagation()},update:(e,n)=>{this.view.mapViewNavigation.pan.update(this.view,n.data),n.stopPropagation()},end:(e,n)=>{this.view.mapViewNavigation.pan.end(this.view,n.data),n.stopPropagation()},condition:(e,n)=>e===1&&Ag(n.data,this.pointerActions)})}_handleDrag(i){let e=this.view.mapViewNavigation;e.pinch.zoomMomentum||e.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(i)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}};var xg=class extends Ke{constructor(i,e,n){super(!0),this._view=i,this.pointerActions=e;let o=this._view.mapViewNavigation;this._dragEventSeparator=new Er({start:(r,a)=>{o.rotate.begin(this._view,a.data),a.stopPropagation()},update:(r,a)=>{o.rotate.update(this._view,a.data),a.stopPropagation()},end:(r,a)=>{o.rotate.end(),a.stopPropagation()},condition:(r,a)=>r===1&&Ag(a.data,this.pointerActions)}),this.registerIncoming("drag",n,r=>this._dragEventSeparator.handle(r))}};function Ko(t){let i=t*t;return t<0&&(i*=-1),i}function YD(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function ZD(t,i,e){let n=e,o=t.state,r=t.device,a=i.tiltDirection==="forward-down"?1:-1,c=1;return r.deviceType==="standard"?(n.translation[0]=Ko(o.axes[0]),n.translation[1]=Ko(o.axes[1]),n.translation[2]=Ko(o.buttons[7])-Ko(o.buttons[6]),n.heading=Ko(o.axes[2]),n.tilt=Ko(o.axes[3])):r.deviceType==="spacemouse"&&(n.translation[0]=1.2*Ko(o.axes[0]),n.translation[1]=1.2*Ko(o.axes[1]),n.translation[2]=2*-Ko(o.axes[2]),n.heading=1.2*Ko(o.axes[5]),n.tilt=1.2*Ko(o.axes[3])),n.tilt*=a,EI(n.translation,n.translation,c),n}function KD(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}var Sg=class extends Ke{constructor(i){super(!0),this._view=i,this._frameTask=null,this._watchHandles=new yh,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",e=>this._handleGamePadEvent(e)),this._handle.pause()}onInstall(i){super.onInstall(i),this._watchHandles.add([T(()=>this._view.navigation.gamepad?.enabled,e=>{e?(this._handle.resume(),this._frameTask||(this._frameTask=Bo({update:n=>this._frameUpdate(n.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},re)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(i){let e=this._view.navigation.gamepad.device;e&&i.data.device!==e||this._currentDevice&&this._currentDevice!==i.data.device||(i.data.action==="end"?(this._currentDevice=null,YD(this._transformation)):(this._currentDevice=i.data.device,ZD(i.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(i){let e=this._transformation;if(KD(e))return void this._frameTask?.pause();let n=this._view.viewpoint.clone(),o=this._view.navigation.gamepad.velocityFactor,r=lH*o*i;oE(n,n,[e.translation[0]*r,-e.translation[1]*r]);let a=1+e.translation[2]*cH*i,c=this._view.constraints.rotationEnabled?-e.heading*sH*i:0,d=this._view.size,u=[d[0]/2,d[1]];nE(n,n,a,c,u,d);let p=this._view.constraints.constrain(n,this._view.viewpoint);this._view.viewpoint=p}},sH=.06,lH=.7,cH=6e-4;function Ig(t){let i=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",i),ve(()=>document.removeEventListener("visibilitychange",i))}var Mg=class extends Ke{constructor(i,e,n){super(!0),this.view=i,this.keys=e,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=o=>{let r=this._keyMap[o.data.key];if(o.modifiers.has("Meta")||o.modifiers.has("Control"))return void this._stopMovement();if(r==null)return;o.stopPropagation(),o.preventDefault();let a=o.type==="key-down";if(this._pressedKeys[a?"add":"delete"](r),a){if(this._direction===r)return;this._direction=r,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{let c=this._timeout===void 0,d=this._pressedKeys.size>0;c||d?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[e.left]:"left",[e.right]:"right",[e.up]:"up",[e.down]:"down"},this.registerIncoming("key-down",n,this._handleKey),this.registerIncoming("key-up",n,this._handleKey),this.registerIncoming("blur",n,this._stopMovement),this._visibilityHandle=Ig(o=>o?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(i){let e=this._currentDirection!=null;if(i!=null){if(e||this.view.mapViewNavigation.begin(),this._currentDirection!==i)switch(i){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else e&&this.view.mapViewNavigation.stop();this._currentDirection=i}_setTimeout(i){clearTimeout(this._timeout),this._timeout=i===void 0?void 0:setTimeout(()=>{this._timeout=void 0,i()},this._stickyKeyDuration)}};var Eg=class extends Ke{constructor(i,e,n){super(!0),this.view=i,this.keys=e,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(e),this.registerIncoming("key-down",n,o=>this._handleKeyDown(o)),this.registerIncoming("key-up",n,o=>this._handleKeyUp(o)),this.registerIncoming("blur",n,()=>this._handleStop()),this._visibilityHandle=Ig(o=>o?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(i){this._addKeyMapping(i.clockwise,"clockwise"),this._addKeyMapping(i.counterClockwise,"counterClockwise"),this._addKeyMapping(i.reset,"reset")}_addKeyMapping(i,e){for(let n of i)this._keyToDirection.set(n,e)}_handleKeyDown(i){i.data.repeat||this._handleKey(i,!0)}_handleKeyUp(i){this._handleKey(i,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(i,e){let n=i.modifiers;if(n.size>0&&!n.has("Shift")||!this.view.constraints.rotationEnabled)return;let o=this._keyToDirection.get(i.data.key);if(this._pressed=o!=null,this._pressed){if(i.preventDefault(),e)switch(this.view.mapViewNavigation.begin(),o){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();i.stopPropagation()}}};var rd;(function(t){t[t.IN=0]="IN",t[t.OUT=1]="OUT"})(rd||(rd={}));var kg=class extends Ke{constructor(i,e,n){super(!0),this.view=i,this.keys=e,this._keysToZoomAction={},this.registerIncoming("key-down",n,o=>this._handleKeyDown(o)),e.zoomIn.forEach(o=>this._keysToZoomAction[o]=rd.IN),e.zoomOut.forEach(o=>this._keysToZoomAction[o]=rd.OUT)}_handleKeyDown(i){this._handleKey(i)}_handleKey(i){let e=i.modifiers;if(e.size>0&&!e.has("Shift"))return;let{key:n}=i.data;if(!(n in this._keysToZoomAction))return;let o=this._keysToZoomAction[n],{mapViewNavigation:r}=this.view,a=null;switch(o){case rd.IN:a=r.zoomIn();break;case rd.OUT:a=r.zoomOut();break;default:return}r.begin(),a.then(()=>r.end()),i.stopPropagation()}};var dH=.6,Tg=class extends Ke{constructor(i,e){super(!0),this._view=i,this._canZoom=!0,this.registerIncoming("mouse-wheel",e,n=>this._handleMouseWheel(n))}_handleMouseWheel(i){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(i.preventDefault(),i.stopPropagation(),!this._canZoom))return;let e=this._view.mapViewNavigation,{x:n,y:o,deltaY:r}=i.data,a=1/dH**(1/60*r),c=e.zoom(a,[n,o]);c&&(this._canZoom=!1,c.catch(()=>{}).then(()=>{this._canZoom=!0,e.end()}))}};var Dg=class extends Ke{constructor(i){super(!0),this.view=i,this.registerIncoming("drag",n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());let e=this.view.mapViewNavigation;this._dragEventSeparator=new Er({start:(n,o)=>{e.pinch.begin(this.view,o.data),o.stopPropagation()},update:(n,o)=>{e.pinch.update(this.view,o.data),o.stopPropagation()},end:(n,o)=>{e.pinch.end(this.view),o.stopPropagation()},condition:n=>n>=2})}_handleDrag(i){this._dragEventSeparator.handle(i)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function C0(t){let i=t.native;return i?{buttons:i.buttons.map(e=>e.pressed?e.value||1:0),axes:i.axes.map(e=>uH(e,t.axisThreshold))}:{buttons:[],axes:[]}}function JD(t,i){if(t.axes.length!==i.axes.length||t.buttons.length!==i.buttons.length)return!1;for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==i.axes[e])return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==i.buttons[e])return!1;return!0}function $D(t){for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==0)return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==0)return!1;return!0}function uH(t,i){let e=Math.abs(t);return e<i?0:Math.sign(t)*(e-i)/(1-i)}var Fg=class{constructor(i,e){this._element=i,this._input=e,this._hasEventListeners=!1,this._onConnectGamepad=r=>{this._connectGamepad(r.gamepad)},this._onDisconnectGamepad=r=>{let a=r.gamepad,c=a.index,d=this._inputDevices[c];d&&(this._emitGamepadEvent(a,C0(d),!1),this._inputDevices.splice(c,1),this._latestUpdate.splice(c,1),this._input.gamepad.devices.remove(d),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;let n="getGamepads"in window.navigator,o=window.isSecureContext;this.supported=n&&o,this.supported&&(XD(r=>this._connectGamepad(r)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(i){this._hasEventListeners!==i&&(this._hasEventListeners=i,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(i){this._callback=i}_connectGamepad(i){let e=new ed(i);e.deviceType!=="unknown"&&(this._inputDevices[i.index]=e,this._input.gamepad.devices.add(e)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=Bo({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){let i=document.hasFocus(),e=this._element.contains(document.activeElement),n=this._input.gamepad.enabledFocusMode==="document"&&!i||this._input.gamepad.enabledFocusMode==="view"&&!e;XD(o=>{let r=this._inputDevices[o.index];if(!r)return;let a=this._latestUpdate[o.index],c=C0(r),d=n||$D(c);a&&(a.timestamp===o.timestamp||!a.active&&d||JD(a.state,c))||this._emitGamepadEvent(o,c,!d)})}_emitGamepadEvent(i,e,n){let o=this._latestUpdate[i.index],r=o&&o.active;if(!r&&!n)return;let a=!r&&n?"start":r&&n?"update":"end";this._latestUpdate[i.index]={timestamp:i.timestamp,state:e,active:n},this._callback&&this._callback({device:this._inputDevices[i.index],state:e,action:a})}};function pH(t){if(!t||!t.connected)return!1;for(let i=0;i<t.axes.length;i++)if(isNaN(t.axes[i]))return!1;return!0}function XD(t){for(let i of navigator.getGamepads())pH(i)&&t(i)}var eF=kt("edge"),mH=kt("chrome"),hH=kt("ff"),fH=kt("safari"),tF="esri-view-surface",ad={touchNone:`${tF}--touch-none`,touchPan:`${tF}--touch-pan`},iF=(()=>{class t{constructor(e,n){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Fg(e,n),this._gamepadSource.onEvent=o=>this._callback("gamepad",o)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=Ne(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(let n in this._active)if(!e||!e.has(n)){let o=this._active[n];this._element.removeEventListener(x0[n],o),delete this._active[n]}e&&e.forEach(n=>{if(!this._active[n]&&x0[n]){let o=(this._eventHandlers[n]||this._handleDefault).bind(this,n);this._element.addEventListener(x0[n],o),this._active[n]=o}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,n){n?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?ad.touchNone:ad.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?ad.touchPan:ad.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(ad.touchNone),this._element.classList.remove(ad.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,n){let o=pE(this._element,e);return t.test.disableSubpixelCoordinates&&(o.x=Math.round(o.x),o.y=Math.round(o.y)),n.x=o.x,n.y=o.y,n}_handleKey(e,n){let{key:o}=n;o&&e==="key-up"&&this._keyDownState.delete(o);let r={native:n,key:o,repeat:!!o&&this._keyDownState.has(o)};o&&e==="key-down"&&this._keyDownState.add(r.key),this._callback(e,r)}_handlePointer(e,n){let o=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,pointerType:n.pointerType,button:n.button,buttons:n.buttons,eventId:this._eventId++});this._callback(e,o)}_handlePointerPreventDefault(e,n){let o=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,pointerType:n.pointerType,button:n.button,buttons:n.buttons,eventId:this._eventId++});n.preventDefault(),this._callback(e,o)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&kt("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,n){let o=this._getDeltaFromTrackpadOrMouseWheel(n);switch(n.deltaMode){case 0:eF&&(o=o/document.documentElement.clientHeight*600);break;case 1:o*=30;break;case 2:o*=900}eF?o*=.7:mH||fH?o*=.6:hH&&(o*=1.375);let r=100,a=Math.abs(o);a>r&&(o=o/a*200/(1+Math.exp(-.02*(a-r))));let c=this._updateNormalizedPointerLikeEvent(n,{native:n,x:0,y:0,deltaY:o});this._callback(e,c)}_handlePointerCaptureLost(e,n){this._activePointerCaptures.delete(n.pointerId),this._handleDefault(e,n)}_handleDefault(e,n){let o={native:n};n.preventDefault(),this._callback(e,o)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}}return t.test={disableSubpixelCoordinates:!1},t})(),x0={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};var Rg=class extends Ke{constructor(){super(!0),this.registerIncoming("context-menu",i=>i.data.native.preventDefault())}};var ii={maximumClickDelay:300,movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,maximumDoubleClickDelay:250,maximumDoubleClickDistance:10,maximumDoubleTouchDelay:350,maximumDoubleTouchDistance:35};function bl(t,i){return Math.abs(i.x-t.x)+Math.abs(i.y-t.y)}function nF(t,i){let e=i.x-t.x,n=i.y-t.y;return Math.sqrt(e*e+n*n)}function oF(t,i){if(i?(i.radius=0,i.center.x=0,i.center.y=0):i={radius:0,center:Gt()},t.length===0)return i;if(t.length===1)return i.center.x=t[0].x,i.center.y=t[0].y,i;if(t.length===2){let[L,Z]=t,[ge,Ce]=[Z.x-L.x,Z.y-L.y];return i.radius=Math.sqrt(ge*ge+Ce*Ce)/2,i.center.x=(L.x+Z.x)/2,i.center.y=(L.y+Z.y)/2,i}let e=0,n=0;for(let L=0;L<t.length;L++)e+=t[L].x,n+=t[L].y;e/=t.length,n/=t.length;let o=t.map(L=>L.x-e),r=t.map(L=>L.y-n),a=0,c=0,d=0,u=0,p=0,h=0,y=0;for(let L=0;L<o.length;L++){let Z=o[L],ge=r[L],Ce=Z*Z,Me=ge*ge;a+=Ce,c+=Me,d+=Z*ge,u+=Ce*Z,p+=Me*ge,h+=Z*Me,y+=ge*Ce}let A=.5*(u+h),C=.5*(p+y),M=a*c-d*d,I=(A*c-C*d)/M,G=(a*C-d*A)/M,X=Gt(I+e,G+n);return{radius:Math.sqrt(I*I+G*G+(a+c)/t.length),center:X}}function kr(t){let{native:i}=t,{pointerId:e,button:n,pointerType:o}=i;return o==="mouse"?`${e}:${n}`:`${o}`}var Pg=class extends Ke{constructor(i=ii.maximumDoubleClickDelay,e=ii.maximumDoubleClickDistance,n=ii.maximumDoubleTouchDelay,o=ii.maximumDoubleTouchDistance,r=mr){super(!1),this._maximumDoubleClickDelay=i,this._maximumDoubleClickDistance=e,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=o,this._clock=r,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Gt(0,0),this._pointerState=new Map,this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new Er({start:(a,c)=>this._dragStart(a,c),update:(a,c)=>this._dragUpdate(c),end:(a,c)=>this._dragEnd(c)}),this.registerIncoming("drag",a=>this._dragEventSeparator.handle(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(i=>{i.doubleTapTimeout=Ct(i.doubleTapTimeout)})}get hasPendingInputs(){for(let i of this._pointerState.values())if(i.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(i){let e=this._pointerState.get(i);e&&(e.doubleTapTimeout=Ct(e.doubleTapTimeout),this._pointerState.delete(i),this.refreshHasPendingInputs())}_dragStart(i,e){if(!this._doubleTapDragReady||i!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;let{data:n,modifiers:o}=e,{center:r}=n;this._dragStartCenter=r;let a=S0("begin",Gt(0,0),n);this._doubleTapDrag.emit(a,void 0,o),e.stopPropagation()}_dragUpdate(i){if(!this._doubleTapDragActive)return;let{data:e,modifiers:n}=i,{center:o}=e,r=S0("update",Gt(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),e);this._doubleTapDrag.emit(r,void 0,n),i.stopPropagation()}_dragEnd(i){if(!this._doubleTapDragActive)return;let{data:e,modifiers:n}=i,{center:o}=e,r=S0("end",Gt(o.x-this._dragStartCenter.x,o.y-this._dragStartCenter.y),e);this._doubleTapDrag.emit(r,void 0,n),this._doubleTapDragActive=!1,i.stopPropagation()}_handlePointerDown(i){let{data:e}=i,n=kr(e),o=this._pointerState.get(n),{pointerType:r}=e.native;if(o){let a=r==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;this._clearPointerDown(n),bl(o.event.data,e)>a?this._storePointerDown(i):this._doubleTapDragReady=!0}else this._storePointerDown(i)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(i){let{data:e}=i,{pointerType:n}=e.native,o=kr(e),r=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._clearPointerDown(o),r);this._pointerState.set(o,{event:i,doubleTapTimeout:a}),this.refreshHasPendingInputs()}};function S0(t,i,e){let{button:n,buttons:o,pointer:r,pointers:a,pointerType:c,timestamp:d}=e;return{action:t,delta:i,button:n,buttons:o,pointer:r,pointers:a,pointerType:c,timestamp:d}}var Lg=class extends Ke{constructor(i){super(!1),this._navigationTouch=i,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(i,e,n,o){return{action:i,pointerType:this._pointerType,button:this._mouseButton,buttons:e.buttons,timestamp:o,pointers:gH(this._activePointerMap),pointer:e,angle:n.angle,radius:n.radius,center:n.center}}_addPointer(i){let e=i.native.pointerId,n=Og(this._activePointerMap).angle,o={event:i,initialAngle:0,lastAngle:0};this._activePointerMap.set(e,o);let r=Vg(o,aF(this._activePointerMap));o.initialAngle=r,o.lastAngle=r,this._updatePointerAngles(n)}_updatePointer(i){if(i&&i.x==null&&i.y==null)return;let e=i.native.pointerId,n=this._activePointerMap.get(e);n?n.event=i:this._addPointer(i)}_removePointer(i){let e=Og(this._activePointerMap).angle;this._activePointerMap.delete(i),this._updatePointerAngles(e)}_updatePointerAngles(i){let e=Og(this._activePointerMap);this._activePointerMap.forEach(n=>{n.initialAngle=Vg(n,e)-i,n.lastAngle=Vg(n,e)-i})}_emitEvent(i,e,n){let o=Og(this._activePointerMap);this._drag.emit(this._createPayload(i,e,o,n),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(i){let e=i.data.native.pointerId,n=i.timestamp;this._activePointerMap.get(e)&&(this._activePointerMap.size===1?(this._updatePointer(i.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",i.data,n),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(e)):(this._removePointer(e),this._emitEvent("removed",i.data,i.timestamp)))}_handlePointerDrag(i){let e=i.data,n=e.currentEvent,o=i.timestamp;switch(e.action){case"start":case"update":this._isDragging?this._activePointerMap.has(n.native.pointerId)?(this._updatePointer(n),!this._isCurrentDragSuppressed&&this._emitEvent("update",n,o)):(this._addPointer(n),this._emitEvent("added",n,o),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(n),this._pointerType=i.data.startEvent.pointerType,this._mouseButton=i.data.startEvent.button,this._startStateModifiers=i.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",n,o))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function aF(t){let i=[];return t.forEach(e=>{i.push(Gt(e.event.x,e.event.y))}),oF(i)}function Og(t){let i=aF(t),e=0;return t.forEach(n=>{let o=Vg(n,i),r=o-n.lastAngle;for(;r>Math.PI;)r-=2*Math.PI;for(;r<-Math.PI;)r+=2*Math.PI;o=n.lastAngle+r,n.lastAngle=o;let a=o-n.initialAngle;e+=a}),e/=t.size||1,{angle:e,radius:i.radius,center:i.center}}function gH(t){let i=new Map;return t.forEach((e,n)=>i.set(n,e.event)),i}function Vg(t,i){let e=t.event,n=e.x-i.center.x,o=e.y-i.center.y;return Math.atan2(o,n)}var rF;(function(t){t[t.Left=0]="Left",t[t.Middle=1]="Middle",t[t.Right=2]="Right",t[t.Back=3]="Back",t[t.Forward=4]="Forward",t[t.Undefined=-1]="Undefined"})(rF||(rF={}));var Bg=class extends Ke{constructor(i=ii.maximumDoubleClickDelay,e=ii.maximumDoubleClickDistance,n=ii.maximumDoubleTouchDelay,o=ii.maximumDoubleTouchDistance,r=mr){super(!1),this._maximumDoubleClickDelay=i,this._maximumDoubleClickDistance=e,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=o,this._clock=r,this._pointerState=new Map,this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(i=>{i.immediateDoubleClick&&i.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(i){let e=i.data,n=kr(e);if(!this._pointerState.has(n)){let o={downButton:e.native.button,x:e.x,y:e.y,immediateDoubleClick:null};this._pointerState.set(n,o),this.startCapturingPointer(e.native)}}_handlePointerUp(i){let e=i.data,n=kr(e),o=this._pointerState.get(n);if(o&&o.downButton===e.native.button){let r=o.immediateDoubleClick,a=i.data.native.pointerType==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;r?(r.timeoutHandle.remove(),bl(r,i.data)>a?this._startImmediateDoubleClick(i,o):(this._immediateDoubleClick.emit(i.data,void 0,r.modifiers),this._removeState(e))):bl(o,i.data)>a?this._removeState(e):this._startImmediateDoubleClick(i,o)}}_startImmediateDoubleClick(i,e){let n=i.data.native.pointerType==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay;e.immediateDoubleClick={x:i.data.x,y:i.data.y,modifiers:i.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(i.data),n)}}_removeState(i){let e=kr(i);this._pointerState.delete(e),this.stopCapturingPointer(i.native),this.refreshHasPendingInputs()}};var Hg=class extends Ke{constructor(i=ii.maximumClickDelay,e=ii.movementUntilMouseDrag,n=ii.movementUntilPenDrag,o=ii.movementUntilTouchDrag,r=ii.holdDelay,a=mr){super(!1),this._maximumClickDelay=i,this._movementUntilMouseDrag=e,this._movementUntilPenDrag=n,this._movementUntilTouchDrag=o,this._holdDelay=r,this._clock=a,this._pointerState=new Map,this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",c=>this._handlePointerDown(c)),this.registerIncoming("pointer-up",c=>this._handlePointerLoss(c,"pointer-up")),this.registerIncoming("pointer-capture-lost",c=>this._handlePointerLoss(c,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",c=>this._handlePointerLoss(c,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",c=>this._handlePointerMove(c)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(i=>{i.holdTimeout=Ct(i.holdTimeout)}),super.onUninstall()}_handlePointerDown(i){let e=i.data,n=e.native.pointerId,o=null;this._pointerState.size===0&&(o=this._clock.setTimeout(()=>{let a=this._pointerState.get(n);if(a){if(!a.isDragging){let c=a.previousEvent;this._pointerHold.emit(c,void 0,i.modifiers),a.holdEmitted=!0}a.holdTimeout=null}},this._holdDelay));let r={startEvent:e,previousEvent:e,startTimestamp:i.timestamp,isDragging:!1,downButton:e.native.button,holdTimeout:o,modifiers:new Set};this._pointerState.set(n,r),this.startCapturingPointer(e.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(i)}_handlePointerMove(i){let e=i.data,n=e.native.pointerId,o=this._pointerState.get(n);o&&(o.isDragging?this._pointerDrag.emit(Ng("update",o,e),void 0,o.modifiers):nF(e,o.startEvent)>this._getDragThreshold(e.native.pointerType)&&this._startDragging(i),o.previousEvent=e)}_getDragThreshold(i){switch(i){case"touch":return this._movementUntilTouchDrag;case"pen":return this._movementUntilPenDrag;default:return this._movementUntilMouseDrag}}_startDragging(i){let e=i.data,n=e.native.pointerId;this._pointerState.forEach(o=>{o.holdTimeout!=null&&(o.holdTimeout.remove(),o.holdTimeout=null),o.isDragging||(o.modifiers=i.modifiers,o.isDragging=!0,n===o.startEvent.native.pointerId?this._pointerDrag.emit(Ng("start",o,e)):this._pointerDrag.emit(Ng("start",o,o.previousEvent),i.timestamp))})}_handlePointerLoss(i,e){let n=i.data,o=n.native.pointerId,r=this._pointerState.get(o);r&&(r.holdTimeout!=null&&(r.holdTimeout.remove(),r.holdTimeout=null),r.isDragging?this._pointerDrag.emit(Ng("end",r,e==="pointer-up"?n:r.previousEvent),void 0,r.modifiers):e==="pointer-up"&&r.downButton===n.native.button&&i.timestamp-r.startTimestamp<=this._maximumClickDelay&&!r.holdEmitted&&this._immediateClick.emit(n),this._pointerState.delete(o),this.stopCapturingPointer(n.native),this._pointerState.size===0&&this._moveHandle.pause())}};function Ng(t,i,e){return{action:t,startEvent:i.startEvent,previousEvent:i.previousEvent,currentEvent:e}}var Ug=class extends Ke{constructor(i=ii.maximumDoubleClickDelay,e=ii.maximumDoubleClickDistance,n=ii.maximumDoubleTouchDelay,o=ii.maximumDoubleTouchDistance,r=mr){super(!1),this._maximumDoubleClickDelay=i,this._maximumDoubleClickDistance=e,this._maximumDoubleTouchDelay=n,this._maximumDoubleTouchDistance=o,this._clock=r,this._pointerState=new Map,this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",a=>this._handleImmediateClick(a)),this.registerIncoming("pointer-down",a=>this._handlePointerDown(a))}onUninstall(){this._pointerState.forEach(i=>i.doubleClickTimer=Ct(i.doubleClickTimer))}get hasPendingInputs(){for(let i of this._pointerState.values())if(i.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(i,e){let n=this._pointerState.get(i);n&&(n.doubleClickTimer=Ct(n.doubleClickTimer),e&&this._click.emit(n.event.data,void 0,n.event.modifiers),this._pointerState.delete(i),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(i){let e=this._pointerState.get(i);e.pointerDownCount===1&&this._click.emit(e.event.data,void 0,e.event.modifiers),e.doubleClickTimer=null,this._pointerState.delete(i),this.refreshHasPendingInputs()}_handleImmediateClick(i){let e=i.data,{pointerType:n}=e.native,o=yH(e);if(!this._pointerState.has(o))return void this._startClick(i);let r=this._pointerState.get(o),{data:a,modifiers:c}=r.event,d=n==="touch"?this._maximumDoubleTouchDistance:this._maximumDoubleClickDistance;bl(a,e)>d?(this._clearDoubleClickTimer(o,!0),this._startClick(i)):(this._clearDoubleClickTimer(o,!1),r.pointerDownCount===2&&this._doubleClick.emit(a,void 0,c))}_handlePointerDown(i){let e=kr(i.data),n=this._pointerState.get(e);n&&(n.pointerDownCount+=1)}_startClick(i){let{data:e}=i,{native:{pointerType:n}}=e,o=kr(e),r=n==="touch"?this._maximumDoubleTouchDelay:this._maximumDoubleClickDelay,a=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(o),r);this._pointerState.set(o,{event:i,doubleClickTimer:a,pointerDownCount:1}),this.refreshHasPendingInputs()}};function yH(t){let{pointerId:i,pointerType:e,button:n}=t.native;return e==="mouse"?`${i}:${n}`:`${e}`}var jg={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},sF=Symbol("handles"),Al=class extends R{initialize(){let t=()=>this.view?.ready;this.addHandles([qe(()=>!t(),()=>this._disconnect()),qe(t,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerType(){return this._inputManager?.latestPointerType}get latestPointerLocation(){return this._inputManager?.latestPointerLocation}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(t){return this._inputManager?.isModifierKeyDown(t)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(sF),this._inputManager=Ne(this._inputManager)}_connect(){let t=this.view.surface,i=new iF(t,this.view.input),e=[new Bg,new Hg,new Ug,new Lg(this.view.navigation),new Pg],n=new cM({eventSource:i,recognizers:e}),o=new Cg(this.view,["primary"]),r=new xg(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new Rg],zo.INTERNAL),n.installHandlers("navigation",[new Dg(this.view),new Sg(this.view),new Tg(this.view),new rm(this.view),new rm(this.view,[jg.counter]),o,new Mg(this.view,jg.pan),new kg(this.view,jg.zoom),new Eg(this.view,jg.rotate),r,new wg(this.view,"touch")],zo.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,this.addHandles([T(()=>this.view?.navigation?.browserTouchPanEnabled,a=>{this._source&&(this._source.browserTouchPanningEnabled=!a)},re),T(()=>{let{actionMap:a}=this.view.navigation;return{panActions:w0("pan",a),rotateActions:w0("rotate",a)}},({panActions:a,rotateActions:c})=>{o.pointerActions=a,r.pointerActions=c},gt)],sF)}get test(){}};s([l()],Al.prototype,"view",void 0),s([l()],Al.prototype,"latestPointerType",null),s([l()],Al.prototype,"latestPointerLocation",null),s([l()],Al.prototype,"multiTouchActive",null),Al=s([b("esri.views.2d.input.MapViewInputManager")],Al);var lF=Al;var cF=160,sd=class extends R{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=cF&&this.clear()},cF))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};s([l()],sd.prototype,"_timer",void 0),s([l()],sd.prototype,"stationary",null),sd=s([b("esri.views.2d.support.StationaryManager")],sd);var dF=t=>{let i=class extends t{constructor(...e){super(...e),this.fullOpacity=1,this.stateManager=new Gi({constraints:new b0({view:this})}),this.goToManager=new nm({view:this}),this.stationaryManager=new sd,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new bg(this),this.inputManager=new lF({view:this}),this.viewEvents=new Jc(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([T(()=>this.viewpoint,()=>this.stationaryManager.flip(),Xt),this.on("resize",n=>this.stateManager.resize(n.width,n.height))])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(e){this.stateManager.extent=e}get state(){return this.stateManager.state}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}set animation(e){let n=this._get("animation");if(e===n)return;if(n&&n.stop(),e!==this.animationManager.animation&&this.animationManager.stop(),!e||e.isFulfilled())return void this._set("animation",null);this._set("animation",e);let o=()=>{this.destroyed||e===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};e.when(o,o)}get constraints(){return this.stateManager?.constraints}set constraints(e){e.view=this;let n=this.stateManager.constraints;this.stateManager.constraints=e,n?.destroy()}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(e){this.stateManager.resizeAlign=e}get rotation(){return this.stateManager.rotation??0}set rotation(e){let{rotationEnabled:n}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=e,this.constraints.rotationEnabled=n}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(e){this.stateManager.viewpoint=e,this.frameTask.requestFrame()}on(e,n,o,r){return this.inputManager&&this.viewEvents.on(e,n,o,r)||super.on(e,n)}hasEventListener(e){return super.hasEventListener(e)||this.viewEvents.hasHandler(e)}goTo(e,n){return this.goToManager.goTo(e,n)}};return s([l({readOnly:!0})],i.prototype,"animationManager",void 0),s([l({readOnly:!0})],i.prototype,"fullOpacity",void 0),s([l()],i.prototype,"stateManager",void 0),s([l()],i.prototype,"constraintsInfo",null),s([l()],i.prototype,"extent",null),s([l()],i.prototype,"goToManager",void 0),s([l({readOnly:!0})],i.prototype,"state",null),s([l({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),s([l()],i.prototype,"renderingOptions",void 0),s([l({readOnly:!0})],i.prototype,"interacting",null),s([l()],i.prototype,"stationary",null),s([l()],i.prototype,"animation",null),s([l({type:b0})],i.prototype,"constraints",null),s([l({readOnly:!0})],i.prototype,"inputManager",void 0),s([l()],i.prototype,"padding",null),s([l()],i.prototype,"resizeAlign",null),s([l()],i.prototype,"rotation",null),s([l({readOnly:!0})],i.prototype,"viewEvents",void 0),s([l({type:ct})],i.prototype,"viewpoint",null),i=s([b("esri.views.Viewport2DMixin")],i),i};var am=class{constructor(i){this._view=i,this.viewpoint=new ct({targetGeometry:new xe,scale:0,rotation:0})}get view(){return this._view}get size(){let[i,e]=this._view.size;return Math.sqrt(i*i+e*e)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return qM(this.center.spatialReference)}pixelsPerPanAtZoom(i){return 1/(i*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(i){return 1/(i*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(i,e){e.pan=kS(this.center,i.center);let n=Math.abs(i.rotation-this.rotation);n=n>=180?360-n:n,e.rotate=Jr(n),e.sourceZoom=this.scale,e.targetZoom=i.scale}interpolate(i,e,n){let{pan:o,rotate:r,zoom:a,zoomOffset:c}=n,{center:d}=this;d.spatialReference=i.center.spatialReference,d.x=Tu(i.center.x,e.center.x,o),d.y=Tu(i.center.y,e.center.y,o),this.viewpoint.scale=Tu(i.scale,e.scale+c,a);let u=i.rotation,p=e.rotation;Math.abs(p-u)>=180&&(u+=360*(u<p?1:-1)),this.viewpoint.rotation=Tu(u,p,r)}copyFrom(i){so(this.viewpoint,i.viewpoint),this._view=i.view}};var _H=t=>t,sm=t=>t*t,zg=t=>1-sm(1-t),vH=t=>t<.5?sm(2*t)/2:(zg(2*(t-.5))+1)/2,M0=t=>t*t*t,uF=t=>1-M0(1-t),bH=t=>t<.5?M0(2*t)/2:(uF(2*(t-.5))+1)/2,E0=t=>t*t*t*t,pF=t=>1-E0(1-t),AH=t=>t<.5?E0(2*t)/2:(pF(2*(t-.5))+1)/2,k0=t=>t*t*t*t*t,mF=t=>1-k0(1-t),wH=t=>t<.5?k0(2*t)/2:(mF(2*(t-.5))+1)/2,T0=t=>1-Math.cos(t*Math.PI/2),hF=t=>1-T0(1-t),CH=t=>t<.5?T0(2*t)/2:(hF(2*(t-.5))+1)/2,D0=t=>2**(10*(t-1)),Gg=t=>1-D0(1-t),xH=t=>t<.5?D0(2*t)/2:(Gg(2*(t-.5))+1)/2,F0=t=>-(Math.sqrt(1-t*t)-1),fF=t=>1-F0(1-t),SH=t=>t<.5?F0(2*t)/2:(fF(2*(t-.5))+1)/2;function go(t){let i=2*(t-Math.sqrt((t-1)*t)),e=i/2/t;return n=>n<e?t*n*n:i*n-i+1}function yo(t,i){return(e,n)=>e<i?i*t(e/i,n):1-t((1-e)/(1-i),n)*(1-i)}var IH=yo(go(1),1),MH=yo(go(1),0),Wg=yo(go(1),.5),EH=yo(go(2),1),kH=yo(go(2),0),TH=yo(go(2),.5),DH=yo(go(3),1),FH=yo(go(3),0),RH=yo(go(3),.5),PH=yo(go(4),1),OH=yo(go(4),0),VH=yo(go(4),.5),R0={linear:_H,"in-quad":sm,"out-quad":zg,"in-out-quad":vH,"in-coast-quad":IH,"out-coast-quad":MH,"in-out-coast-quad":Wg,"in-cubic":M0,"out-cubic":uF,"in-out-cubic":bH,"in-coast-cubic":EH,"out-coast-cubic":kH,"in-out-coast-cubic":TH,"in-quart":E0,"out-quart":pF,"in-out-quart":AH,"in-coast-quart":DH,"out-coast-quart":FH,"in-out-coast-quart":RH,"in-quint":k0,"out-quint":mF,"in-out-quint":wH,"in-coast-quint":PH,"out-coast-quint":OH,"in-out-coast-quint":VH,"in-sine":T0,"out-sine":hF,"in-out-sine":CH,"in-expo":D0,"out-expo":Gg,"in-out-expo":xH,"in-circ":F0,"out-circ":fF,"in-out-circ":SH,ease:t=>Vu.ease(t),"ease-in":t=>Vu.easeIn(t),"ease-out":t=>Vu.easeOut(t),"ease-in-out":t=>Vu.easeInOut(t)};var Qg=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};var wl={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},P0=O(x({},wl),{maxDuration:4e3});var qg=class t{constructor(i){this._createCamera=i,this.compared=new Qg,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:wl.desiredScreenFlow},this.source=i(),this.target=i()}clone(){let i=new t(this._createCamera);return i.copyFrom(this),i}copyFrom(i){this.update(i.source,i.target,i.settings)}update(i,e,n){this.source!==i&&this.source.copyFrom(i),this.target!==e&&this.target.copyFrom(e),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=n.desiredScreenFlow??wl.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(i){let e=this.target.pixelsPerPanAtZoom(i);return this.halfWindowSize/e}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Lh()}get hasFov(){return Math.abs(this.compared.fov)>Lh()}get hasRotate(){return this.compared.rotate>Lh()}};var Yg=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}};var yF=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,i)=>t+i.time,0)}interpolateComponentsAt(t,i){t=Math.min(Math.max(t,0),1),t*=this.time;let e=0,n=0,o=this.definition,r=this.segments.reduce((a,c)=>a||c.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){let c=this.segments[a],d=c.definition;if(t<=c.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(c,c.time===0?0:t/c.time,i),o.hasPan&&!isNaN(i.pan)&&isFinite(o.compared.pan)?i.pan=(e+d.compared.pan*i.pan)/o.compared.pan:i.pan=1,o.hasRotate&&!isNaN(i.rotate)&&isFinite(o.compared.rotate)?i.rotate=(n+d.compared.rotate*i.rotate)/o.compared.rotate:i.rotate=1,r&&!isNaN(i.zoom)&&isFinite(d.compared.targetZoom)){let{sourceZoom:u,targetZoom:p}=d.compared,h=i.zoom*(p-u)+u,y=this.segments[0].definition.compared.sourceZoom,A=this.segments[this.segments.length-1].definition.compared.targetZoom,C=Math.abs(p-y)>Math.abs(u-y)?p:u;i.zoomOffset=C-A,i.zoom=(h-y)/(C-y)}else i.zoom=1;return i}t-=c.time,e+=d.compared.pan,n+=d.compared.rotate}}segmentInterpolateComponentsAt(t,i,e){t.interpolateComponentsAt(i,e)}};var ld=class{get time(){return this._time}constructor(i){i&&this.update(i)}update(i){i&&(this.definition?this.definition.copyFrom(i):this.definition=i.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){let i=this.definition,e=i.compared,n=e.sourceZoom,o=e.targetZoom;this._zoomSign=n>o?1:-1,this._panPixelsAtSource=e.pan*i.source.pixelsPerPanAtZoom(n);let r=(i.source.pixelsPerRotate()+i.target.pixelsPerRotate())/2;this._rotatePixels=e.rotate*r}_updatePixelFlow(){let i=this.definition.compared.sourceZoom,e=this.definition.compared.targetZoom,{hasZoom:n,hasPan:o,hasRotate:r}=this.definition,a=0,c=0;n&&(o&&(a=(e/i-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),r&&(c=this._zoomSign*(Math.log(i/e)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;let d=this.definition.desiredPixelFlow;if(n&&o&&r){let u=a+c+a*c;this._zoomPixelFlow=a*c/u*d,this._panPixelFlow=c/u*d,this._rotatePixelFlow=a/u*d}else if(n&&o){let u=1+a;this._zoomPixelFlow=a/u*d,this._panPixelFlow=1/u*d}else if(n&&r){let u=1+c;this._zoomPixelFlow=c/u*d,this._rotatePixelFlow=1/u*d}else if(o&&r){let u=this._panPixelsAtSource/this._rotatePixels,p=1+u;this._panPixelFlow=u/p*d,this._rotatePixelFlow=1/p*d}else o?this._panPixelFlow=d:n?this._zoomPixelFlow=d:r&&(this._rotatePixelFlow=d);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){let u=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=u,this._panPixelFlow/=u,this._rotatePixelFlow/=u}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/LH:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){let i=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,e=i*this._panPixelsAtSource;return Math.log(e*(this._zoomPixelFlow/this._panPixelFlow)+1)/(i*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(i){if(i===0||i===1)return i;if(this.definition.hasZoom){let e=this.definition.compared.sourceZoom,n=this.definition.compared.targetZoom;return(e*(e/n)**-i-e)/(n-e)}return i}_interpolateComponentsFov(i){if(i===0)return this.definition.segmentStart;if(i===1)return this.definition.segmentEnd;if(this.definition.hasFov){let{segmentStart:e,segmentEnd:n}=this.definition;return e+i*(n-e)}return this.definition.segmentStart}_interpolateComponentsPan(i){if(i===0||i===1)return i;if(this.definition.hasPan&&this.definition.hasZoom){let e=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(e*i*this._time)-1))/(e*Math.LN2)}return i}_interpolateComponentsRotate(i){return i}interpolateComponentsAt(i,e){i=Math.min(Math.max(i,0),1),e.zoom=this._interpolateComponentsZoom(i),e.pan=this._interpolateComponentsPan(i),e.rotate=this._interpolateComponentsRotate(i),e.zoomOffset=0,e.fov=this._interpolateComponentsFov(i)}},LH=Jr(45);function _F(t,i,e){let n=i-t.compared.sourceZoom,o=t.halfWindowPanAtZoom(n);return-t.halfWindowSize*(e.ascensionFactor*Math.LN2*t.compared.pan+o)*Math.log(t.compared.sourceZoom/i)/(t.desiredPixelFlow*Math.LN2*o)}function vF(t,i,e){let n=1/i,o=Math.log(t.compared.sourceZoom*n),r=1/t.desiredPixelFlow,a=1/Math.LN2,c=i-t.compared.sourceZoom,d=1/c,u=(e.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(c))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*r*a*d*u-t.halfWindowSize*o*r*a*d+t.halfWindowSize*o*r*a*u/(c*c)}function bF(t,i,e){let n=i-t.compared.sourceZoom,o=1/n,r=1/i,a=Math.log(t.compared.sourceZoom*r),c=(e.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(n))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*o*(-2*o*r*c+2*o*a+2*r-2*a*c/(n*n)-c/(i*i))/(t.desiredPixelFlow*Math.LN2)}function AF(t,i){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/i)/(t.desiredPixelFlow*Math.LN2)}function wF(t,i){return t.halfWindowSize/(i*t.desiredPixelFlow*Math.LN2)}function CF(t,i){return-t.halfWindowSize/(i*i*t.desiredPixelFlow*Math.LN2)}function xF(t,i,e){return-t.compared.pan*t.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(i))}function SF(t,i,e){return t.compared.pan*t.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(i*i))}function IF(t,i,e){return-2*t.compared.pan*t.halfWindowSize*(e.ascensionFactor+e.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(i*i*i))}function MF(t,i,e){return t.halfWindowSize*(-t.halfWindowPanAtZoom(i)-e.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(i/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-i+t.compared.targetZoom))}function EF(t,i,e){let n=Math.log(i/t.compared.targetZoom),o=1/t.desiredPixelFlow,r=1/Math.LN2,a=-i+t.compared.targetZoom,c=1/a,d=(-t.halfWindowPanAtZoom(i)-e.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*n*o*r*c+t.halfWindowSize*n*o*r*d/(a*a)+t.halfWindowSize*o*r*c*d/i}function kF(t,i,e){let n=i-t.compared.targetZoom,o=1/n,r=1/i,a=Math.log(i/t.compared.targetZoom),c=(t.halfWindowPanAtZoom(i)+e.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*o*(-2*o*r*c-2*o*a+2*r+2*a*c/(n*n)-c/(i*i))/(t.desiredPixelFlow*Math.LN2)}function TF(t,i){return t.halfWindowSize*Math.log(i/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function DF(t,i){return t.halfWindowSize/(i*t.desiredPixelFlow*Math.LN2)}function FF(t,i){return-t.halfWindowSize/(i*i*t.desiredPixelFlow*Math.LN2)}function RF(t){let i=t.compared.sourceZoom-t.compared.targetZoom;if(i===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));let e=Math.LN2*t.compared.pan,n=i,o=t.halfWindowPanAtZoom(n),r=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*o);return t.compared.sourceZoom<=t.compared.targetZoom?r*(e-o):r*(e+o)}function PF(t,i){let e=BH(t,i),n={ascensionFactor:i.ascensionFactor!=null?i.ascensionFactor:.5,descensionFactor:i.descensionFactor!=null?i.descensionFactor:.5},o=n.ascensionFactor===0,r=n.descensionFactor===0,a=o?AF:_F,c=o?wF:vF,d=o?CF:bF,u=r?TF:MF,p=r?DF:EF,h=r?FF:kF,y=Z=>a(t,Z,n)+xF(t,Z,n)+u(t,Z,n),A=Z=>c(t,Z,n)+SF(t,Z,n)+p(t,Z,n),C=Z=>d(t,Z,n)+IF(t,Z,n)+h(t,Z,n),M=y(e),I=RF(t),G,X=i.maximumIterations||20,L=i.maximumDistance!=null?i.maximumDistance:1/0;for(G=0;G<X;G++){let Z=i.desiredSlope??1e-6,ge=A(e);Math.abs(ge)>Z&&(ge+=Z);let Ce=ge/C(e);if(isNaN(Ce)||e>=L&&Ce<0){if(!isFinite(L))return null;e=L,M=y(e);break}if(e-=Ce,e<t.compared.sourceZoom||e<t.compared.targetZoom)return null;let Me=y(e);if(Math.abs(Me-M)/M<=.005)break;M=Me}return M>I*(1-.3)||e<t.compared.sourceZoom||e<t.compared.targetZoom?null:e}function BH(t,i){let e=Math.max(t.compared.sourceZoom,t.compared.targetZoom),n=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return n<e?i.maximumDistance!=null?e+(i.maximumDistance-e)/2:1.5*e:i.maximumDistance?Math.min(i.maximumDistance,n):n}var Zg=class extends yF{constructor(i,e){super(),this._preallocSegments=[new ld,new ld,new ld],this._ascensionSegment=null,this._descensionSegment=null,this.update(i,e)}update(i,e){if(!i)return;this.definition?this.definition.copyFrom(i):this.definition=i.clone();let n=e?.apex?PF(i,e.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,n?this._updateWithApex(n,e?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(i,e,n){i.interpolateComponentsAt(e,n),i===this._ascensionSegment?n.zoom=zg(n.zoom):i===this._descensionSegment&&(n.zoom=sm(n.zoom))}_updateWithApex(i,e){let[n,o,r]=this._preallocSegments,a=e?.ascensionFactor??.5,c=Math.min(1-a,e?.ascensionFactor!=null&&e.descensionFactor!=null?e.descensionFactor:.5),d=1-a-c;n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.compared.targetZoom=i,n.definition.compared.pan=this.definition.compared.pan*a,n.definition.compared.rotate=this.definition.compared.rotate*a,n.definition.segmentEnd=a,n.update(),this._ascensionSegment=n,this.segments.push(n),d>0&&(o.definition?o.definition.copyFrom(this.definition):o.definition=this.definition.clone(),o.definition.copyFrom(this.definition),o.definition.compared.sourceZoom=i,o.definition.compared.targetZoom=i,o.definition.compared.pan=this.definition.compared.pan*d,o.definition.compared.rotate=this.definition.compared.rotate*d,o.definition.segmentStart=n.definition.segmentEnd,o.definition.segmentEnd=n.definition.segmentEnd+d,o.update(),this.segments.push(o)),r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.sourceZoom=i,r.definition.compared.pan=this.definition.compared.pan*c,r.definition.compared.rotate=this.definition.compared.rotate*c,r.definition.segmentStart=a+d,r.update(),this._descensionSegment=r,this.segments.push(r)}_updateWithoutApex(){let[i]=this._preallocSegments;i.update(this.definition),this.segments.push(i)}};var NH=new Yg,OF=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(t){this._time=0,this._easing=Wg,this.definition=new qg(t),this.path=new Zg}update(t,i,e){this.definition.update(t,i,e),this.path.update(this.definition,e),this._time=this._applyTimeSettings(Kx(isFinite(this.path.time)?this.path.time:0),e),this._easing=e.easing??(this._time>=1e3?Wg:Gg)}cameraAt(t,i){t=Math.min(Math.max(0,t),1),t=this._normalizedEasing(t);let e=this.path.interpolateComponentsAt(t,NH);i.interpolate(this.definition.source,this.definition.target,e)}_normalizedEasing(t){let i=this._easing(0,this._time),e=this._easing(1,this._time);return(this._easing(t,this._time)-i)/(e-i)}_applyTimeSettings(t,i){let e=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??wl.minDuration/e,o=i.maxDuration??wl.maxDuration/e;return t=i.duration!=null?i.duration:Math.min(Math.max(t/e,n),o)}};var HH=2e3,UH=64,O0=class{constructor(i){this._view=i,this._animation=new OF(()=>new am(this._view)),this._current=new am(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(i,e,n={}){so(this._current.viewpoint,i),so(this._source.viewpoint,i),so(this._target.viewpoint,e),this._animation.update(this._source,this._target,n)}applyRatio(i,e){this._animation.cameraAt(e,this._current),so(i,this._current.viewpoint)}},cd=class extends R{constructor(t){super(t),this._animation=null,this._destinationViewState=new od,this.updateFunction=null,this.easing=R0.ease,this.viewpoint=new ct({targetGeometry:new xe,scale:0,rotation:0}),this._updateTask=Bo({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new O0(t.view)}destroy(){this._updateTask=Ct(this._updateTask)}get animation(){return this._animation}set animation(t){this._animation=t,this.view.animation=t}animate(t,i,e){this.stop();let n=this.viewpoint;so(n,i);let o=t.target;this._transition.update(this.viewpoint,o,{apex:{maximumDistance:Math.min(Math.min(i.scale,o.scale)*UH,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:e?.duration,maxDuration:e?.animationMode==="auto"?1/0:e?.maxDuration??P0.maxDuration,speedFactor:e?.speedFactor,easing:(typeof e?.easing=="string"?R0[e.easing]:e?.easing)||this.easing}),e?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=o,jH(this._transition.animation,e,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,o,{duration:0}));let r=()=>{this.animation===t&&this._updateTask&&(t.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return t.when(r,r),this._startTime=performance.now(),this._updateTask.resume(),this.animation=t,t}animateContinuous(t,i){this.stop(),this.updateFunction=i,this.viewpoint=t;let e=new im({target:t.clone()}),n=()=>{this.animation===e&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return e.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(t){let i=this.animation;if(i&&i.state!==im.State.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,t.deltaTime),this.animation?.update(this.viewpoint);else{let e=performance.now()-this._startTime,n=this._transition.duration,o=n>0?e/n:1,r=o>=1;this._transition.applyRatio(this.viewpoint,o),r&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function jH(t,i,e,n){if(i?.duration!=null)return!0;let{time:o,isLinear:r}=t,a=i?.speedFactor||1;if(o>(i?.maxDuration??P0.maxDuration/a))return!1;if(r){let d=_c(),u=Gt(...n.toScreen(d,...e.center)),p=Gt(...e.toScreen(d,...n.center)),h=p!=null&&p.x>-1*e.size[0]&&p.x<(1.5+.5)*e.size[0]&&p.y>-1*e.size[1]&&p.y<(1.5+.5)*e.size[1],y=u!=null&&u.x>-1*n.size[0]&&u.x<(1.5+.5)*n.size[0]&&u.y>-1*n.size[1]&&u.y<(1.5+.5)*n.size[1];if(o>HH/a&&!h&&!y)return!1}return!0}s([l()],cd.prototype,"easing",void 0),s([l()],cd.prototype,"view",void 0),s([l()],cd.prototype,"viewpoint",void 0),cd=s([b("esri.views.2d.AnimationManager")],cd);var VF=cd;function At(){return Promise.all([import("./chunk-DLRP5DHF.js"),import("./chunk-WWOZEJ6J.js")])}var lm=()=>At().then(()=>import("./chunk-L3CP7Q62.js")),Cl=()=>At().then(()=>import("./chunk-DBFROAW4.js")),LF={"base-dynamic":()=>At().then(()=>import("./chunk-RXRCZB6F.js")),"base-tile":lm,"bing-maps":lm,catalog:()=>At().then(()=>import("./chunk-IVOC6XCU.js")),"catalog-dynamic-group":()=>At().then(()=>import("./chunk-7C56T7IW.js")),"catalog-footprint":()=>At().then(()=>import("./chunk-QTUXGDA2.js")),csv:Cl,"geo-rss":()=>At().then(()=>import("./chunk-U42JCS3V.js")),feature:Cl,geojson:Cl,parquet:Cl,graphics:()=>At().then(()=>import("./chunk-GJBSFNIW.js")),group:()=>At().then(()=>import("./chunk-TDT2CBCD.js")),imagery:()=>At().then(()=>import("./chunk-3WP6OIW5.js")),"imagery-tile":()=>At().then(()=>import("./chunk-HYGKD46I.js")),kml:()=>At().then(()=>import("./chunk-G24MLJKL.js")),"knowledge-graph":()=>At().then(()=>import("./chunk-DIVV3JIT.js")),"link-chart":()=>At().then(()=>import("./chunk-DIVV3JIT.js")),"knowledge-graph-sublayer":Cl,"map-image":()=>At().then(()=>import("./chunk-VMXF4AU5.js")),"map-notes":()=>At().then(()=>import("./chunk-JZH6PPKW.js")),media:()=>At().then(()=>import("./chunk-7VAU4ARU.js")),"ogc-feature":()=>At().then(()=>import("./chunk-WONHQPB5.js")),"open-street-map":lm,"oriented-imagery":Cl,route:()=>At().then(()=>import("./chunk-2YGKRKAC.js")),stream:()=>At().then(()=>import("./chunk-ORGEY4JZ.js")),"subtype-group":()=>At().then(()=>import("./chunk-XEGAIZZJ.js")),tile:lm,"vector-tile":()=>At().then(()=>import("./chunk-I25IAWKP.js")),video:()=>At().then(()=>import("./chunk-ETTX5UAY.js")),wcs:()=>At().then(()=>import("./chunk-HYGKD46I.js")),"web-tile":lm,wfs:Cl,wms:()=>At().then(()=>import("./chunk-5Q2Z7QOP.js")),wmts:()=>At().then(()=>import("./chunk-PZOQWQVK.js")),"line-of-sight":null,"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"integrated-mesh":null,"integrated-mesh-3dtiles":null,"point-cloud":null,viewshed:null,voxel:null,scene:null,unknown:null,unsupported:null};function zH(t){let i=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",e=i.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new D(`${e}:view-not-supported`,`${i} is not supported in 2D`)}var V0={hasLayerViewModule:t=>LF[t.type]!=null,importLayerView:t=>{let i=LF[t.type];if(i==null)throw zH(t);return i(t)}};var xl={added:[],removed:[]},L0=new Set,GH=new UI(0,0,0,0);function WH(t,i){let e=xS(i);if(!e)return null;let[n,o]=e.valid;return t[2]>o?[no([t[0],t[1],o,t[3]]),no([n,t[1],n+t[2]-o,t[3]])]:t[0]<n?[no([n,t[1],t[2],t[3]]),no([o-(n-t[0]),t[1],o,t[3]])]:null}var Kg=class extends zt{constructor(i){super(),this._tiles=new Map,this._index=rM(9,kt("esri-csp-restrictions")?e=>({minX:e.bounds[0],minY:e.bounds[1],maxX:e.bounds[2],maxY:e.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=i}destroy(){this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(i){return this._tiles.has(i)}get(i){return this._tiles.get(i)}getIntersectingTiles(i){if(!i||RS(i)===0||PS(i)===0)return[];let e=WH(i,this.tileScheme.spatialReference);return e!=null?[...new Set([...this.boundsIntersections(e[0]),...this.boundsIntersections(e[1])])]:this.boundsIntersections(i)}boundsIntersections(i){return this._index.search({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3]})}updateTiles(i){let e={added:[],removed:[]};for(let n of i.added)if(!this.has(n)){let o=new Kv(this.tileScheme,n);this._tiles.set(n,o),this._index.insert(o),e.added.push(o)}for(let n of i.removed)if(this.has(n)){let o=this.get(n);this._tiles.delete(n),this._index.remove(o),e.removed.push(o)}this.tiles.length=0,this._tiles.forEach(n=>this.tiles.push(n)),(e.added.length||e.removed.length)&&this.emit("update",e)}setViewState(i){let e=this.tileScheme.getTileCoverage(i,0);if(!e)return;let{spans:n,lodInfo:o}=e,{level:r}=o;if(n.length>0)for(let{row:a,colFrom:c,colTo:d}of n)for(let u=c;u<=d;u++){let p=GH.set(r,a,o.normalizeCol(u),o.getWorldForColumn(u)).id;if(L0.add(p),!this.has(p)){let h=new Kv(this.tileScheme,p);this._tiles.set(p,h),this._index.insert(h),this.tiles.push(h),xl.added.push(h)}}for(let a=this.tiles.length-1;a>=0;a--){let c=this.tiles[a];L0.has(c.id)||(this._tiles.delete(c.id),this.tiles.splice(a,1),this._index.remove(c),xl.removed.push(c))}(xl.added.length||xl.removed.length)&&this.emit("update",xl),$I.pool.release(e),L0.clear(),xl.added.length=0,xl.removed.length=0}};function HF(t,i,e){return f(this,null,function*(){let n=nf(i)?tf(t,i):i;if(!t.ready||isNaN(n.x)||isNaN(n.y))return{screenPoint:n,results:[]};let o=new Set,r=new Set,a=!1,c=null,d=null;e?.include?NF(e.include,BF(t,y=>{o.add(y),B0(y,A=>r.add(A))},(y,A)=>{r.add(y),o.add(A)},y=>{c||(c=new Set),c.add(y)},y=>o.add(y),()=>a=!0)):(a=!0,o=new Set(t.allLayerViews),o.forEach(y=>{B0(y,A=>r.add(A))})),e?.exclude&&NF(e.exclude,BF(t,y=>{o.delete(y),B0(y,A=>r.delete(A))},y=>r.delete(y),y=>{d||(d=new Set),d.add(y)}));let u=t.toMap(n),p=t.allLayerViews.filter(y=>!y.suspended&&o.has(y)&&y.clips.every(A=>rf(t,A,n,u))).reverse(),h=[...a?t.graphicsView.hitTest(u).map(y=>({type:"graphic",graphic:y,layer:null,mapPoint:u})):[],...yield Promise.all(p.map(y=>y.hitTest(u,n)).toArray())].filter(ot).flat().filter(ot);return h=h.filter(y=>y.type!=="graphic"||y.layer?.type!=="subtype-group"||r.has(y.graphic.layer)),c&&(h=h.filter(y=>!("graphic"in y)||!y.graphic||c?.has(N0(y.graphic)))),d&&(h=h.filter(y=>!("graphic"in y)||!y.graphic||!d?.has(N0(y.graphic)))),{screenPoint:n,results:h}})}function BF(t,i,e,n,o,r){return a=>{if(a instanceof dt){if(a.layer===t)r?.();else{let c=t.allLayerViews.find(d=>d.layer===a.layer);c&&o?.(c)}n(N0(a))}else if(!("layer"in a&&"element"in a))if(a.type==="subtype-sublayer"){let c=t.allLayerViews.find(d=>d.layer===a.parent);c&&e(a,c)}else{let c=t.allLayerViews.find(d=>d.layer===a);c&&i(c)}}}function NF(t,i){if(t)if(Iv(t))for(let e of t)if(Iv(e))for(let n of e)i(n);else i(e);else i(t)}function N0(t){let i=t.getObjectId();return i?`${t.layer?.uid??t.sourceLayer?.uid??"MapView"}/${i}`:`"MapView/${t.uid}`}function B0({layer:t},i){t?.type==="subtype-group"&&t.sublayers.forEach(e=>{i(e)})}var UF={flipY:!0,premultipliedAlpha:!0};function jF(t,i){return f(this,null,function*(){let e=yield GF(t,i),{format:n,quality:o}=yE(i?.format,i?.quality);return fE(e,{format:n,quality:o},UF)})}function zF(t,i){return f(this,null,function*(){let e=yield GF(t,i);return gE(e,UF)})}function GF(t,i){let e=YH(i||{},qH(t.stage,t.size),t.size,t.padding),n=QH(i,t.allLayerViews);return t.stage.takeScreenshot(e,n,t.backgroundColor,i?.rotation)}function QH(t={},i){if(!t.layers)return;let e=[];return t.layers.forEach(n=>{let o=i.find(r=>r.layer.id===n.id);o?.container&&e.push(o.container)}),e}function qH(t,i){return Math.min(4,_E(i,Math.min(4096,t.context.parameters.maxTextureSize)))}function YH(t,i,e,n){t.ignorePadding&&(n={left:0,right:0,top:0,bottom:0});let o=null;t.width!=null&&t.height!=null?o=[t.width,t.height]:t.width==null&&t.height!=null?o=[t.height,t.height]:t.width!=null&&t.height==null?o=[t.width,t.width]:t.width==null&&t.height==null&&(o=null);let r=e[0]-(n.left+n.right),a=e[1]-(n.top+n.bottom),c,d,u=t.area||{x:0,y:0,width:r,height:a};if(o){let p=r/a,h=o[0]/o[1];if(h>p){let y=u.width/h;u={x:u.x,y:Math.round(u.y+(u.height-y)/2),width:u.width,height:Math.round(y)}}else{let y=u.height*h;u={x:Math.round(u.x+(u.width-y)/2),y:u.y,width:Math.round(y),height:u.height}}}else o=[u.width,u.height];return o[0]>u.width?(c=Math.min(o[0]/u.width,i),d=o[0]/u.width/c):(c=1,d=o[0]/u.width),{cropArea:{x:Math.round((u.x+n.left)*c),y:Math.round((u.y+n.top)*c),width:Math.round(u.width*c),height:Math.round(u.height*c)},outputScale:d,resolutionScale:c}}function WF(t){let i=jI();return i.available?t==="3d"&&i.majorPerformanceCaveat?new D("webgl:major-performance-caveat-detected",`Your WebGL implementation (${i.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):i.supportsHighPrecisionFragment?i.supportsVertexShaderSamplers?null:new D("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new D("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new D("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function ZH(t){return t&&"nodeType"in t}function KH(t){return t&&typeof t.render=="function"}var QF={component:"esri-component"},Sl=class extends R{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(t){this._set("id",t)}set node(t){let i=this._get("node");t!==i&&(t&&t.classList.add(QF.component),i&&i.classList.remove(QF.component),this._set("node",t))}castNode(t){return this.widget?.destroy(),t?typeof t=="string"||ZH(t)?(this._set("widget",null),Ch(t)):(KH(t)&&!t.domNode&&(t.domNode=document.createElement("div")),this._set("widget",t),t.domNode):(this._set("widget",null),null)}};s([l()],Sl.prototype,"id",null),s([l()],Sl.prototype,"node",null),s([ki("node")],Sl.prototype,"castNode",null),s([l({readOnly:!0})],Sl.prototype,"widget",void 0),Sl=s([b("esri.views.ui.Component")],Sl);var dd=Sl;var JH={left:0,top:0,bottom:0,right:0},qF={bottom:30,top:15,right:15,left:15},va="esri-ui",Sn={ui:va,corner:`${va}-corner`,innerContainer:`${va}-inner-container`,manualContainer:`${va}-manual-container`,cornerContainer:`${va}-corner-container`,topLeft:`${va}-top-left`,topRight:`${va}-top-right`,bottomLeft:`${va}-bottom-left`,bottomRight:`${va}-bottom-right`};function $H(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function Jg(t){return t===0?"0":`${t}px`}function H0(t){let i=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(i===null||i===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function U0(t,{top:i,bottom:e,left:n,right:o}){t.style.top=i,t.style.bottom=e,t.style.left=n,t.style.right=o}var Tr=class extends zt.EventedAccessor{constructor(t){super(t),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=pS(),this.view=null,this._applyViewPadding=()=>{let i=this.container;i&&U0(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{let i=this._innerContainer;i&&U0(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([T(()=>[this.view?.padding,this.container],this._applyViewPadding,re),T(()=>this.padding,this._applyUIPadding,re),T(()=>[this.container,this._locale],([t,i])=>{t&&t.setAttribute("lang",i)},re),wh(t=>{this._locale=t})])}destroy(){this.container=null;for(let t of this._components)t.destroy();this._components.length=0,this._componentMap.clear()}set container(t){let i=this._get("container");t!==i&&(t&&(t.classList.add(Sn.ui),wS(t),this._attachContainers(t)),i&&(i.classList.remove(Sn.ui),U0(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",t))}get height(){let t=this.view?.height??0;if(t===0)return t;let i=this._getViewPadding(),{top:e,bottom:n}=i;return Math.max(t-e-n,0)}get padding(){return this._get("padding")}set padding(t){this._overrideIfSome("padding",t)}castPadding(t){return typeof t=="number"?{bottom:t,top:t,right:t,left:t}:x(x({},qF),t)}get width(){let t=this.view?.width??0;if(t===0)return t;let i=this._getViewPadding(),{left:e,right:n}=i;return Math.max(t-e-n,0)}add(t,i){let e,n,o;if(Array.isArray(t))return void t.forEach(a=>this.add(a,i));let r=H0(t);r&&({index:e,position:i,component:t,key:n}=r),i&&typeof i=="object"&&({index:e,key:n,position:i,internal:o}=i),!t||i&&!this._isValidPosition(i)||this._add(t,i,e,n,o)}remove(t,i){if(!t)return;if(Array.isArray(t))return t.map(n=>this.remove(n,i));let e=this._find(t);if(e){if(this._componentMap.has(e)&&this._componentMap.get(e)?.key!==i)return;let n=this._components.indexOf(e);return e.node.parentNode?.removeChild(e.node),this._componentMap.delete(e),e.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.splice(n,1)[0]}}empty(t,i={removeInternal:!1}){if(Array.isArray(t)){for(let o of t)this.empty(o,i);return}let e=this._positionNameToContainerLookup[t??"manual"],n=Array.prototype.slice.call(e.children).map(o=>this._findByNode(o)).filter(o=>o==null?!1:!(this._componentMap.get(o)?.internal??!1)||i.removeInternal);for(let o of n)this.remove(o)}move(t,i){if(Array.isArray(t)&&t.forEach(r=>this.move(r,i)),!t)return;let e,n=H0(t)||H0(i);if(n&&(e=n.index,i=n.position,t=n.component||t),i&&!this._isValidPosition(i))return;let o=this.remove(t);o&&this.add(o,{position:i,index:e})}find(t){if(!t)return null;let i=this._findById(t);return i&&(i.widget||i.node)}getComponents(t,i={includeInternal:!1}){return t?Array.isArray(t)?t.flatMap(e=>this._getComponentsAtPosition(e,i)):this._getComponentsAtPosition(t,i):this._components.filter(e=>i.includeInternal||!this._componentMap.get(e)?.internal).map(({widget:e,node:n})=>e??n)}getPosition(t){for(let i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(t))return i;return null}_add(t,i,e,n,o){t instanceof dd||(t=new dd({node:t}));let{widget:r}=t;r!=null&&r instanceof R&&r.addHandles(ve(()=>{queueMicrotask(()=>this.remove(t))}),this._removeWidgetHandleKey),this._place({component:t,position:i,index:e}),this._components.push(t),this._componentMap.set(t,{key:n,internal:o})}_find(t){return t?t instanceof dd?this._findByComponent(t):typeof t=="string"?this._findById(t):this._findByNode(t.domNode||t):null}_getViewPadding(){return this.view?.padding??JH}_attachContainers(t){t.appendChild(this._innerContainer),t.appendChild(this._manualContainer)}_initContainers(){let t=document.createElement("div");t.classList.add(Sn.innerContainer,Sn.cornerContainer);let i=document.createElement("div");i.classList.add(Sn.innerContainer,Sn.manualContainer);let e=document.createElement("div");e.classList.add(Sn.topLeft,Sn.corner),t.appendChild(e);let n=document.createElement("div");n.classList.add(Sn.topRight,Sn.corner),t.appendChild(n);let o=document.createElement("div");o.classList.add(Sn.bottomLeft,Sn.corner),t.appendChild(o);let r=document.createElement("div");r.classList.add(Sn.bottomRight,Sn.corner),t.appendChild(r),this._innerContainer=t,this._manualContainer=i;let a=bS();this._cornerNameToContainerLookup={"top-left":e,"top-right":n,"bottom-left":o,"bottom-right":r,"top-leading":a?n:e,"top-trailing":a?e:n,"bottom-leading":a?r:o,"bottom-trailing":a?o:r},this._positionNameToContainerLookup=x({manual:i},this._cornerNameToContainerLookup)}_isValidPosition(t){return!!this._positionNameToContainerLookup[t]}_place(t){let i=t.position??"manual",{component:e,index:n}=t,o=this._positionNameToContainerLookup[i],r=n!=null&&n>-1;if($H(e.widget)&&e.widget.startup(),!r)return void o.appendChild(e.node);let a=Array.from(o.children);if(n===0){let{firstChild:d}=o;return void(d?d.parentNode?.insertBefore(e.node,d):o.appendChild(e.node))}if(n>=a.length)return void o.appendChild(e.node);let c=a[n];c.parentNode?.insertBefore(e.node,c)}_toPixelPosition(t){return{top:Jg(t.top),left:Jg(t.left),right:Jg(t.right),bottom:Jg(t.bottom)}}_findByComponent(t){return this._components.find(i=>i===t)??null}_findById(t){return this._components.find(({id:i})=>i===t)??null}_findByNode(t){return this._components.find(({node:i})=>i===t)??null}_getComponentsAtPosition(t,i){let e=this._positionNameToContainerLookup[t];return Array.prototype.slice.call(e.children).map(n=>this._findByNode(n)).filter(ot).filter(n=>i.includeInternal||!this._componentMap.get(n)?.internal).map(({widget:n,node:o})=>n??o)}};s([l()],Tr.prototype,"_locale",void 0),s([l()],Tr.prototype,"container",null),s([l()],Tr.prototype,"height",null),s([l({value:qF})],Tr.prototype,"padding",null),s([ki("padding")],Tr.prototype,"castPadding",null),s([l()],Tr.prototype,"view",void 0),s([l()],Tr.prototype,"width",null),Tr=s([b("esri.views.ui.UI")],Tr);var YF=Tr;var XH=new Map;function ZF(t){return XH.get(t)}function KF(t,i){return t&&"copyright"in t&&(!i||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function eU(t,i){return t.length!==i.length||t.some((e,n)=>e.text!==i[n].text)}function cm(t,i,e){!e||!i||t.find(n=>n.layerView===i&&n.text===e)||t.push({text:e,layerView:i})}function tU(t){return t.type==="bing-maps"}var ba=[],ud=class extends R{constructor(t){super(t),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new ee,this.view=null,this._allLayerViewsChange=i=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");let e=this.view?.allLayerViews;e&&(this.addHandles(e.map(n=>T(()=>[n.suspended,n.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),e.forEach(n=>{n.declaredClass==="esri.views.3d.layers.Tiles3DLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i?.removed&&i.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([lt(()=>this.view?.allLayerViews,"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),qe(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){let t=this.view,i=t?.allLayerViews;if(ba.length=0,!t||!i)return void this._clear();i.forEach(n=>{if(n.suspended||!n.layer?.attributionVisible)return;let o=n.layer;if(KF(o,"user"))return void cm(ba,n,o.copyright);if(o.hasAttributionData){if(this._fetchedAttributionData.has(n)){let a=this._fetchedAttributionData.get(n);return void(a?cm(ba,n,this._getDynamicAttribution(a,t,o)):KF(o)&&cm(ba,n,o.copyright))}return void this._fetchAttributionData(n)}let r="portalItem"in o?o.portalItem?.accessInformation:void 0;cm(ba,n,r||o.copyright)});let e=i.find(n=>n.layer?.type==="integrated-mesh-3dtiles");if(this.view&&e){let n=ZF(this.view);if(n){let o=n.getAttributionText();for(let r=0;r<o.length;++r)cm(ba,e,o[r])}}eU(this.items,ba)&&(this.items.removeAll(),this.items.addMany(ba)),ba.length=0,this.notifyChange("state")}_fetchAttributionData(t){return f(this,null,function*(){if(this._pendingAttributions.has(t))return;this._pendingAttributions.add(t);let i=yield _S(t.layer.fetchAttributionData());if(this._pendingAttributions.has(t)){let e=i.ok?this._createContributionIndex(i.value,tU(t.layer)):null;this._pendingAttributions.delete(t),this._fetchedAttributionData.set(t,e)}this._updateAttributionItems()})}_createContributionIndex(t,i){let e=t.contributors,n={};if(!e)return n;for(let o=0;o<e.length;o++){let r=e[o],a=r.coverageAreas;if(!a)return;for(let c of a){let d=c.bbox,u=c.zoomMin-(i&&c.zoomMin?1:0),p=c.zoomMax-(i&&c.zoomMax?1:0),h=new Di({xmin:d[1],ymin:d[0],xmax:d[3],ymax:d[2],spatialReference:Vt.WGS84}),y={extent:lc(h),attribution:r.attribution||"",score:c.score!=null?c.score:100,id:o};for(let A=u;A<=p;A++)n[A]??=[],n[A].push(y)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(t,i,e){let{extent:n,scale:o}=i,r=e.tileInfo?.scaleToZoom(o)??0;if(r=Math.min(t.maxKey??0,Math.round(r)),!n||r==null||r<=-1)return"";let a=t[r],c=ES(n.center.clone().normalize(),Vt.WebMercator),d=new Set;return a?a.filter(u=>{let p=u.id,h=!d.has(p)&&c&&u.extent&&Eh(u.extent,c);return h&&d.add(p),h}).sort((u,p)=>p.score-u.score||u.objectId-p.objectId).map(u=>u.attribution).join(", "):""}};s([l({readOnly:!0,type:ee})],ud.prototype,"items",void 0),s([l({readOnly:!0})],ud.prototype,"state",null),s([l()],ud.prototype,"view",void 0),ud=s([b("esri.widgets.Attribution.AttributionViewModel")],ud);var j0=ud;var pd="esri-attribution",md={base:pd,poweredBy:`${pd}__powered-by`,sources:`${pd}__sources`,open:`${pd}--open`,sourcesOpen:`${pd}__sources--open`,link:`${pd}__link`},yn=class extends Ze{constructor(t,i){super(t,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._resizeObserver=new ResizeObserver(e=>e.forEach(({target:n})=>this._checkSourceTextOverflow(n))),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new j0}initialize(){this.addHandles(lt(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect()}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}get attributionText(){return this.viewModel.items.reduce((t,i)=>(t.includes(i.text)||t.push(i.text),t),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let t={[md.open]:this._isOpen};return g("div",{bind:this,class:this.classes(md.base,be.widget,t),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return g("div",{class:md.poweredBy},"Powered by"," ",g("a",{class:md.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){let t=this._isOpen,i=this._isInteractive,e=i?0:void 0,{attributionText:n}=this,o={[md.sourcesOpen]:t,[be.interactive]:i};return g("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(md.sources,o),innerHTML:n,tabIndex:e})}_afterSourcesNodeCreate(t){this._prevSourceNodeHeight=t.clientWidth,this._resizeObserver.observe(t)}_checkSourceTextOverflow(t){let i=!1,{clientHeight:e,clientWidth:n,scrollWidth:o}=t,r=o>n,a=this._attributionTextOverflowed!==r;if(this._attributionTextOverflowed=r,a&&(i=!0),this._isOpen){let c=e<this._prevSourceNodeHeight;this._prevSourceNodeHeight=e,c&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};s([l()],yn.prototype,"_isOpen",void 0),s([l()],yn.prototype,"_isInteractive",null),s([l()],yn.prototype,"_attributionTextOverflowed",void 0),s([l()],yn.prototype,"_prevSourceNodeHeight",void 0),s([l({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],yn.prototype,"attributionText",null),s([l()],yn.prototype,"icon",null),s([l()],yn.prototype,"itemDelimiter",void 0),s([l()],yn.prototype,"label",null),s([l(),ye("esri/widgets/Attribution/t9n/Attribution")],yn.prototype,"messages",void 0),s([l()],yn.prototype,"view",null),s([l({type:j0})],yn.prototype,"viewModel",void 0),s([ol()],yn.prototype,"_toggleState",null),yn=s([b("esri.widgets.Attribution")],yn);var JF=yn;function $F(t){return t?.spatialReference?.isWebMercator||t?.spatialReference?.isGeographic||!1}var Il=class extends wc(R){constructor(t){super(t),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(re)}destroy(){this.view=null}get canShowNorth(){return $F(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:bE()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(t){t!=null&&this._set("orientation",{z:t})}_updateForCamera(t){if(!t)return;let i=-t.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(t){this.removeAllHandles(),this._watchForView(),t&&this.addHandles(t.type==="2d"?T(()=>t?.rotation,this._updateForRotation,re):T(()=>t?.camera,this._updateForCamera,re))}_watchForView(t){this.addHandles(T(()=>this.view,this._updateRotationWatcher,t))}};s([l({readOnly:!0})],Il.prototype,"canShowNorth",null),s([l({readOnly:!0})],Il.prototype,"orientation",void 0),s([l({readOnly:!0})],Il.prototype,"state",null),s([l()],Il.prototype,"view",void 0),Il=s([b("esri.widgets.Compass.CompassViewModel")],Il);var z0=Il;var XF="esri-compass",G0={base:XF,iconContainer:`${XF}__icon-container`};var Aa=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new z0,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=e=>({transform:`rotateZ(${e.z}deg)`})}loadDependencies(){return we({button:()=>import("./chunk-BTQPJTPG.js"),icon:()=>import("./chunk-QXDSJABL.js")})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}reset(){return this.viewModel.reset()}render(){let{orientation:t,state:i}=this.viewModel,{messages:e}=this;return g("div",{class:this.classes(G0.base,be.widget)},g("calcite-button",{class:be.widgetButton,disabled:i==="disabled",kind:"neutral",label:e.reset,onclick:this._reset,round:!0,scale:"s",title:e.reset},g("div",{"aria-hidden":"true",class:G0.iconContainer,title:e.reset},g("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(t)}))))}};s([l()],Aa.prototype,"goToOverride",null),s([l()],Aa.prototype,"icon",null),s([l()],Aa.prototype,"label",null),s([l(),ye("esri/widgets/Compass/t9n/Compass")],Aa.prototype,"messages",void 0),s([l()],Aa.prototype,"view",null),s([l({type:z0})],Aa.prototype,"viewModel",void 0),Aa=s([b("esri.widgets.Compass")],Aa);var eR=Aa;var tR="esri-navigation-toggle",W0={base:tR,isLayoutHorizontal:`${tR}--horizontal`};var hd=class extends R{constructor(t){super(t),this._navigationMode="pan",this.view=null}initialize(){this.addHandles(qe(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(t){this._navigationMode=t,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){let t=this.view?.navigation?.actionMap;if(!t)return;let i=this._navigationMode==="pan";t.dragPrimary=i?"pan":"rotate",t.dragSecondary=i?"rotate":"pan"}};s([l({readOnly:!0})],hd.prototype,"state",null),s([l()],hd.prototype,"_navigationMode",void 0),s([l()],hd.prototype,"view",void 0),hd=s([b("esri.widgets.NavigationToggle.NavigationToggleViewModel")],hd);var Q0=hd;var wa=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new Q0,this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{let e=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;ac(e),this.toggle()}}loadDependencies(){return we({button:()=>import("./chunk-BTQPJTPG.js")})}get icon(){return"move"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let t=this.viewModel?.state==="disabled",i=this.viewModel?.navigationMode==="pan",e=this.messages.toggle;return g("div",{class:this.classes(W0.base,be.widget,{[W0.isLayoutHorizontal]:this.layout==="horizontal"})},g("calcite-button",{afterCreate:n=>{this._panButton=n},appearance:i?"outline-fill":"solid",class:be.widgetButton,disabled:t,iconStart:"move",kind:"neutral",label:e,onclick:this._toggle,tabIndex:i?void 0:-1,title:e}),g("calcite-button",{afterCreate:n=>{this._rotateButton=n},appearance:i?"solid":"outline-fill",class:be.widgetButton,disabled:t,iconStart:"rotate",kind:"neutral",label:e,onclick:this._toggle,tabIndex:i?-1:void 0,title:e}))}};s([l()],wa.prototype,"icon",null),s([l()],wa.prototype,"label",null),s([l({value:"vertical"})],wa.prototype,"layout",null),s([l(),ye("esri/widgets/NavigationToggle/t9n/NavigationToggle")],wa.prototype,"messages",void 0),s([l()],wa.prototype,"view",null),s([l({type:Q0})],wa.prototype,"viewModel",void 0),wa=s([b("esri.widgets.NavigationToggle")],wa);var iR=wa;var Ml=class extends R{get canZoomIn(){if(!this.view?.ready)return!1;let i=this.view?.constraints?.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){let{view:t}=this;if(!t?.ready)return!1;let e=t.constraints?.effectiveMinScale;return e===0||this._scale<e}get _scale(){let t=this.view?.animation?.target;return(t&&"then"in t?void 0:t?.scale)??this.view?.scale??0}};s([l({readOnly:!0})],Ml.prototype,"canZoomIn",null),s([l({readOnly:!0})],Ml.prototype,"canZoomOut",null),s([l()],Ml.prototype,"view",void 0),s([l()],Ml.prototype,"_scale",null),Ml=s([b("esri.widgets.Zoom.ZoomConditions2D")],Ml);var nR=Ml;var fd=class extends R{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};s([l({readOnly:!0})],fd.prototype,"canZoomIn",null),s([l({readOnly:!0})],fd.prototype,"canZoomOut",null),s([l()],fd.prototype,"view",void 0),fd=s([b("esri.widgets.Zoom.ZoomConditions3D")],fd);var oR=fd;var ms=class extends R{constructor(t){super(t)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(t){t?t.type==="2d"?this._zoomConditions=new nR({view:t}):t.type==="3d"&&(this._zoomConditions=new oR({view:t})):this._zoomConditions=null,this._set("view",t)}zoomIn(){let t=this.view;this.canZoomIn&&t&&(t.type==="2d"?t.mapViewNavigation.zoomIn():Hi(t.goTo({zoomFactor:2})))}zoomOut(){let t=this.view;this.canZoomOut&&t&&(t.type==="2d"?t.mapViewNavigation.zoomOut():Hi(t.goTo({zoomFactor:.5})))}};s([l()],ms.prototype,"_zoomConditions",void 0),s([l()],ms.prototype,"canZoomIn",null),s([l()],ms.prototype,"canZoomOut",null),s([l({readOnly:!0})],ms.prototype,"state",null),s([l()],ms.prototype,"view",null),ms=s([b("esri.widgets.Zoom.ZoomViewModel")],ms);var q0=ms;var rR={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"},Ca=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.viewModel=new q0,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return we({button:()=>import("./chunk-BTQPJTPG.js")})}get icon(){return"magnifying-glass-plus"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}set layout(t){t!=="horizontal"&&(t="vertical"),this._set("layout",t)}set view(t){this.viewModel.view=t}get view(){return this.viewModel.view}render(){let t={[rR.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:e}=this.viewModel,{zoomIn:n,zoomOut:o}=this.messages;return g("div",{class:this.classes(rR.base,be.widget,t)},g("calcite-button",{class:be.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),g("calcite-button",{class:be.widgetButton,disabled:!e,iconStart:"minus",kind:"neutral",label:o,onclick:this.zoomOut,title:o}))}};s([l()],Ca.prototype,"icon",null),s([l()],Ca.prototype,"label",null),s([l({value:"vertical"})],Ca.prototype,"layout",null),s([l(),ye("esri/widgets/Zoom/t9n/Zoom")],Ca.prototype,"messages",void 0),s([l()],Ca.prototype,"view",null),s([l({type:q0})],Ca.prototype,"viewModel",void 0),Ca=s([b("esri.widgets.Zoom")],Ca);var aR=Ca;function iU(t){return t?.view!==void 0}var $g=class extends YF{constructor(t){super(t),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(e=>{let n=this._find(e),o=n?.widget;iU(o)&&(o.view=i)})},this._componentsWatcher=(i,e)=>{this._removeComponents(e),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([T(()=>this.components,this._componentsWatcher,re),T(()=>this.view,this._updateViewAwareWidgets,re)])}_add(t,i,e,n,o){let r=t;if(typeof t=="string"&&this._defaultPositionLookup[t]){if(this._find(t))return;r=this._createComponent(t)}super._add(r,i,e,n,o)}_removeComponents(t){t.forEach(i=>{let e=this._find(i);e&&(this.remove(e),e.destroy())})}_adjustPadding(t){if(!t.includes("attribution")&&!this._isOverridden("padding")){let{top:i}=this.padding;this.padding=i}}_addComponents(t){this.constructed&&t.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(t){let i=this._createWidget(t);return new dd({id:t,node:i})}_createWidget(t){let i=this.view;switch(t){case"attribution":return new JF({view:i});case"compass":return new eR({view:i});case"navigation-toggle":return new iR({view:i});case"zoom":return new aR({view:i})}}};s([l()],$g.prototype,"components",void 0),$g=s([b("esri.views.ui.DefaultUI")],$g);var Xg=$g;var ey=class extends Xg{constructor(t){super(t),this.components=["attribution","zoom"]}};s([l()],ey.prototype,"components",void 0),ey=s([b("esri.views.ui.2d.DefaultUI2D")],ey);var Y0=ey;var Z0,ty=Z0=class extends K{constructor(t){super(t),this.color=new oo([0,0,0,1])}clone(){return new Z0(Qe({color:this.color}))}};s([l({type:oo,json:{write:!0}})],ty.prototype,"color",void 0),ty=Z0=s([b("esri.webmap.background.ColorBackground")],ty);var El=ty;var sR,lR,cR,dR,uR,pR,mR;function nU(){return f(this,null,function*(){let[,{GraphicsView2D:t,GraphicContainer:i,LabelManager:e,MapViewNavigation:n,MagnifierView2D:o,GridView2D:r,Stage:a}]=yield Promise.all([import("./chunk-DLRP5DHF.js"),import("./chunk-WWOZEJ6J.js")]);lR=t,cR=i,dR=e,uR=n,pR=o,mR=r,sR=a})}var Be=class extends dF(yD(AD(vD(QD)))){constructor(t){super(t),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new Ks({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new td({actionMap:new em({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.supportsGround=!1,this.floors=new ee,this.grid=null,this.map=null,this.spatialReferenceLocked=!1,this.timeline=new db,this.type="2d",this.view2dType=null,this.ui=new Y0,this.test={takeScreenshot:i=>f(this,null,function*(){return zF(this._getScreenshotView(i),i)})},this.padding={top:0,right:0,bottom:0,left:0},lM()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=Ne(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new Kg(this.featuresTilingScheme)}get constraintsInfo(){let t=this.defaultsFromMap?.tileInfo,i=this.spatialReference;return{lods:t?.spatialReference?.equals(i)?t.lods:null,spatialReference:i}}get initialExtentRequired(){if(!this.stateManager)return!1;let{scale:t,constraints:i,center:e,viewpoint:n,extent:o}=this,r=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!o&&(i?.effectiveLODs||(r=-1),(!e||t===0&&r===-1)&&(n?.targetGeometry==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){let t=this._getDefaultViewpoint();if(!t)return!1;let i=t.targetGeometry,e=this.spatialReference;return qS(i.spatialReference,e)}get background(){return Cc(this.map)?this.map.initialViewProperties.background:null}set background(t){this._override("background",t)}get center(){return this.stateManager?.center??null}set center(t){this.stateManager.center=t}get highlightOptions(){return wE(this)}set highlightOptions(t){CE(this,t)}get padding(){return this.stateManager?.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get rendering(){return this.stage?.renderRequested??!1}get resolution(){return this.stateManager.resolution??0}get scale(){return this.stateManager?.scale??0}set scale(t){this.stateManager&&(this.stateManager.scale=t)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){let t=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),i=!this.destroyed&&(!this.layerViewManager||!this.labelManager||!this.graphicsView||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(e=>!e.destroyed&&!("layerViews"in e)&&e.updating===!0)||t);if(kt("esri-2d-log-updating")){let e=this.allLayerViews.reduce((n,o)=>O(x({},n),{[`${o.layer.id}(${o.layer.type})`]:!o.destroyed&&!("layerViews"in o)&&o.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(e)}
-> updatingMagnifier: ${t}
`)}return i}get visibleArea(){let t=this.stateManager.visibleArea;return t&&new ja({rings:[t.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(t){this.stateManager.zoom=t}get navigating(){return this.mapViewNavigation?.interacting??!1}hitTest(t,i){return f(this,null,function*(){return HF(this,t,i)})}takeScreenshot(t){return f(this,null,function*(){return jF(this._getScreenshotView(t),t)})}toMap(t){if(!this.ready)return null;let i=nf(t)?tf(this,t):t;return this.stateManager.toMap(i)}toScreen(t,i){return this.stateManager.toScreen(t,i)}whenLayerView(t){return super.whenLayerView(t)}graphicChanged(t){this.graphicsView&&this.graphicsView.graphicUpdateHandler(t)}whenReady(){return new Promise(t=>{this.ready?t(this):this._resolveWhenReady.push(t)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return Cc(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return Cc(this.map)?this.map.initialViewProperties.timeExtent:null}hasLayerViewModule(t){return V0.hasLayerViewModule(t)}importLayerView(t){return V0.importLayerView(t)}pixelSizeAt(){return this.ready?this.resolution:(z.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}popupHitTest(t){return f(this,null,function*(){let i=this.toMap(t),e=yield this.hitTest(t),n=this.allLayerViews.toArray().filter(d=>d.clips.every(u=>rf(this,u,t,i))).reverse(),o=new globalThis.Map(n.map(d=>[d.layer.uid,d])),r=[],a=0,c=0;for(;a<e.results.length||c<n.length;){let d=e.results.at(a);if(d&&d.type!=="graphic"){++a;continue}let u=o.get((d?.layer??d?.graphic.layer)?.uid);if((!d||u)&&c<n.length&&n.at(c)!==u){let p=n.at(c);"fetchPopupFeaturesAtLocation"in p&&r.push({mapPoint:i,layerView:p}),++c}else d&&(r.push({graphic:d.graphic,layerView:u}),++a)}return{hits:r,location:i}})}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}validate(){return f(this,null,function*(){let t=WF(this.type);if(kt("safari")&&kt("safari")<9&&(t=new D("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:kt("safari")})),t!=null)throw z.getLogger(this).warn("#validate()",t.message),t})}loadAsyncDependencies(){return nU()}_getDefaultViewpoint(){let{constraints:t,initialExtent:i,map:e,padding:n,size:o}=this;if(!t)return null;let r=e&&"initialViewProperties"in e?e.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),c=r?.viewpoint,d=c?.targetGeometry?.extent??i,u=d?.center,p=c?.rotation??0,h=c?.scale||d&&Xh(d,[o[0]-n.left-n.right,o[1]-n.top-n.bottom]),y=a.center??u,A=a.rotation??p,C=a.scale??h;return y&&C?new ct({targetGeometry:y,scale:C,rotation:A}):null}_startup(){this.timeline.begin("MapView Startup");let t=this._getDefaultViewpoint();this.stateManager.startup(t,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;let i=new sR(this.surface,{canvas:this.renderCanvas,contextOptions:{disabledExtensions:this.deactivatedWebGLExtensions,debugWebGLExtensions:this.debugWebGLExtensions},renderingOptions:this.renderingOptions,timeline:this.timeline});this.stage=i,this._magnifierView=new pR,this._magnifierView.magnifier=this.magnifier,this._gridView=new mR;let e=new dR({view:this});this._set("labelManager",e);let n=new VF({view:this});this._set("animationManager",n);let o=new uR({view:this,animationManager:n});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),i.on("webgl-error",a=>this.fatalError=a.error),T(()=>this.stationary,a=>i.stationary=a,gt),T(()=>this.background,a=>{i.backgroundColor=a?.color,this._magnifierView.backgroundColor=a?.color},gt),T(()=>this.magnifier,a=>this._magnifierView.magnifier=a,gt),T(()=>this.grid,a=>this._gridView.grid=a,gt),T(()=>this.renderingOptions,a=>i.renderingOptions=a,gt),T(()=>this.highlights.items.map(a=>({name:a.name,options:{fillColor:a.color,haloColor:a.haloColor,fillOpacity:a.fillOpacity,haloOpacity:a.haloOpacity,haloWidth:a.haloWidth,haloBlur:a.haloBlur}})),()=>{i.highlightGradient=vE(i.highlightGradient,this.highlights.items)},gt),T(()=>this.state.id,()=>i.state=this.state,gt)],"map-view"),this._updateStageChildren();let r=this._resolveWhenReady;this._resolveWhenReady=[],r.forEach(a=>a(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});let t=this.graphicsView;this.stage.addChild(t.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){let t=new XI(tl.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",t);let i=new lR({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new cR(t)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){let t=this.graphicsView;this._set("graphicsView",null),t.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(t){let{allLayerViews:i,padding:e,size:n,stage:o}=this;return{allLayerViews:i,backgroundColor:t?.ignoreBackground?null:this.background?.color,padding:e,size:n,stage:o}}_spatialReferenceChanged(t){if(this.ready){this.frameTask.stop();for(let i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(t),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(let i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}};Be.type="2d",s([l({constructOnly:!0})],Be.prototype,"deactivatedWebGLExtensions",void 0),s([l({constructOnly:!0})],Be.prototype,"debugWebGLExtensions",void 0),s([l({readOnly:!0})],Be.prototype,"featuresTilingScheme",void 0),s([l({readOnly:!0})],Be.prototype,"graphicsTileStore",null),s([l()],Be.prototype,"graphicsView",void 0),s([l()],Be.prototype,"constraintsInfo",null),s([l()],Be.prototype,"initialExtentRequired",null),s([l()],Be.prototype,"labelManager",void 0),s([l({type:td,nonNullable:!0})],Be.prototype,"navigation",void 0),s([l({constructOnly:!0})],Be.prototype,"renderCanvas",void 0),s([l()],Be.prototype,"renderingOptions",void 0),s([l({constructOnly:!0})],Be.prototype,"supersampleScreenshotsEnabled",void 0),s([l({readOnly:!0})],Be.prototype,"supportsGround",void 0),s([l()],Be.prototype,"defaultsFromMapSettings",null),s([l({readOnly:!0})],Be.prototype,"typeSpecificPreconditionsReady",null),s([l({type:El})],Be.prototype,"background",null),s([l()],Be.prototype,"center",null),s([l({type:ee})],Be.prototype,"floors",void 0),s([l()],Be.prototype,"grid",void 0),s([l({type:Xr})],Be.prototype,"highlightOptions",null),s([l()],Be.prototype,"map",void 0),s([l()],Be.prototype,"padding",null),s([l({readOnly:!0})],Be.prototype,"rendering",null),s([l({readOnly:!0})],Be.prototype,"resolution",null),s([l()],Be.prototype,"scale",null),s([l({constructOnly:!0})],Be.prototype,"spatialReferenceLocked",void 0),s([l({readOnly:!0})],Be.prototype,"tileInfo",null),s([l({type:db,readOnly:!0})],Be.prototype,"timeline",void 0),s([l({readOnly:!0})],Be.prototype,"type",void 0),s([l({readOnly:!0})],Be.prototype,"updating",null),s([l({readOnly:!0})],Be.prototype,"view2dType",void 0),s([l({readOnly:!0})],Be.prototype,"visibleArea",null),s([l()],Be.prototype,"zoom",null),s([l({readOnly:!0})],Be.prototype,"navigating",null),s([l(),ki(t=>t instanceof Xg?t:Ux(Y0,t))],Be.prototype,"ui",void 0),Be=s([b("esri.views.View2D")],Be);var hR=Be;var iy=class extends hR{constructor(t){super(t),this.view2dType="map"}};s([l({readOnly:!0})],iy.prototype,"view2dType",void 0),iy=s([b("esri.views.MapView")],iy);var ny=iy;var hs=class extends K{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};s([l({type:String,json:{write:{isRequired:!0}}})],hs.prototype,"facilityIdField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],hs.prototype,"layerId",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],hs.prototype,"nameField",void 0),s([l({type:String,json:{write:!0}})],hs.prototype,"siteIdField",void 0),s([l({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],hs.prototype,"sublayerId",void 0),hs=s([b("esri.layers.support.FacilityLayerInfo")],hs);var fR=hs;var Jo=class extends K{constructor(t){super(t),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"facilityIdField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"layerId",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"levelIdField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"levelNumberField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"longNameField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"shortNameField",void 0),s([l({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Jo.prototype,"sublayerId",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Jo.prototype,"verticalOrderField",void 0),Jo=s([b("esri.layers.support.LevelLayerInfo")],Jo);var gR=Jo;var kl=class extends K{constructor(t){super(t),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};s([l({type:String,json:{write:{isRequired:!0}}})],kl.prototype,"layerId",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],kl.prototype,"nameField",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],kl.prototype,"siteIdField",void 0),s([l({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],kl.prototype,"sublayerId",void 0),kl=s([b("esri.layers.support.SiteLayerInfo")],kl);var yR=kl;var gd=class extends K{constructor(t){super(t),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};s([l({type:gR,json:{write:{isRequired:!0}}})],gd.prototype,"levelLayer",void 0),s([l({type:fR,json:{write:{isRequired:!0}}})],gd.prototype,"facilityLayer",void 0),s([l({type:yR,json:{write:!0}})],gd.prototype,"siteLayer",void 0),gd=s([b("esri.support.MapFloorInfo")],gd);var _R=gd;var K0,yd=K0=class extends K{constructor(t){super(t),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new K0(Qe({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};s([l({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],yd.prototype,"activeRange",void 0),s([l({type:[Number],json:{write:!0}})],yd.prototype,"currentRangeExtent",void 0),s([l({type:[Number],json:{write:!0}})],yd.prototype,"fullRangeExtent",void 0),yd=K0=s([b("esri.webdoc.RangeInfo")],yd);var dm=yd;var J0,Dr=J0=class extends K{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new J0(Qe({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};s([l({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],Dr.prototype,"enabled",void 0),s([l({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],Dr.prototype,"longNames",void 0),s([l({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],Dr.prototype,"minimized",void 0),s([l({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],Dr.prototype,"pinnedLevels",void 0),s([l({type:String,json:{read:{source:"site"},write:{target:"site"}}})],Dr.prototype,"site",void 0),s([l({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],Dr.prototype,"facility",void 0),s([l({type:String,json:{read:{source:"level"},write:{target:"level"}}})],Dr.prototype,"level",void 0),Dr=J0=s([b("esri.webdoc.widgets.FloorFilter")],Dr);var vR=Dr;var $0,oy=new fr({slider:"slider",picker:"picker"}),_d=$0=class extends K{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new $0({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};s([l({type:oy.apiValues,nonNullable:!0,json:{type:oy.jsonValues,default:null,read:{reader:oy.read},write:{isRequired:!0,writer:oy.write}}})],_d.prototype,"interactionMode",void 0),s([l({type:wn,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){let t=this.stopInterval!=null;return{enabled:!t,isRequired:!t}}}}})],_d.prototype,"numStops",void 0),s([l({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],_d.prototype,"stopInterval",void 0),_d=$0=s([b("esri.webdoc.widgets.Range")],_d);var bR=_d;var X0,bi=X0=class extends K{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){return t?tn.fromArray(t):void 0}writeCurrentTimeExtent(t,i,e){t&&mh(e,t.toArray(),i)}readFullTimeExtent(t,i){let e=i.properties;if(!e)return;let n=e.endTime!=null?new Date(e.endTime):null,o=e.startTime!=null?new Date(e.startTime):null;return new tn({start:o,end:n})}writeFullTimeExtent(t,i){if(!t)return;let e=i.properties=i.properties||{},n=t.end,o=t.start;n&&(e.endTime=n!=null?n.getTime():null),o&&(e.startTime=o!=null?o.getTime():null)}readStopInterval(t,i,e){return t?Uv.fromJSON({value:t.interval,unit:t.units},e):null}writeStopInterval(t,i,e,n){if(!t)return;let o=t.toJSON(n);mh("properties.timeStopInterval",{interval:o.value,units:o.unit},i)}readStops(t){return t?.length?t.map(i=>new Date(i)):null}writeStops(t,i,e){t?.length&&mh(e,t.map(n=>n.getTime()),i)}clone(){return new X0(Qe({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};s([l({type:tn,json:{type:[[wn,hh]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],bi.prototype,"currentTimeExtent",void 0),s([Ti("currentTimeExtent")],bi.prototype,"readCurrentTimeExtent",null),s([ai("currentTimeExtent")],bi.prototype,"writeCurrentTimeExtent",null),s([l({type:tn,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],bi.prototype,"fullTimeExtent",void 0),s([Ti("fullTimeExtent")],bi.prototype,"readFullTimeExtent",null),s([ai("fullTimeExtent")],bi.prototype,"writeFullTimeExtent",null),s([l({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],bi.prototype,"loop",void 0),s([l({type:wn,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){let t=!!this.stopInterval,i=!!this.stops?.length,e=!(t||i);return{enabled:e,isRequired:e}}}}})],bi.prototype,"numStops",void 0),s([l({type:[1,2],nonNullable:!0,json:{type:wn,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],bi.prototype,"numThumbs",void 0),s([l({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],bi.prototype,"stopDelay",void 0),s([l({type:Uv,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:bI.jsonValues.filter(t=>t!=="esriTimeUnitsUnknown")}},overridePolicy(){let t=this.numStops!=null,i=!!this.stops?.length;return{enabled:!i,isRequired:!(t||i)}}}}})],bi.prototype,"stopInterval",void 0),s([Ti("stopInterval")],bi.prototype,"readStopInterval",null),s([ai("stopInterval")],bi.prototype,"writeStopInterval",null),s([l({type:[Date],json:{type:[wn],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],bi.prototype,"stops",void 0),s([Ti("stops")],bi.prototype,"readStops",null),s([ai("stops")],bi.prototype,"writeStops",null),bi=X0=s([b("esri.webdoc.widgets.TimeSlider")],bi);var AR=bi;var ew,vd=ew=class extends K{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new ew(Qe({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};s([l({type:bR,json:{write:!0}})],vd.prototype,"range",void 0),s([l({type:AR,json:{write:!0}})],vd.prototype,"timeSlider",void 0),s([l({type:vR,json:{write:!0}})],vd.prototype,"floorFilter",void 0),vd=ew=s([b("esri.webdoc.Widgets")],vd);var wR=vd;var oU={width:600,height:400},ry=1.5;function CR(t,i){i=i||oU;let{width:e,height:n}=i,o=e/n;return o<ry?n=e/ry:o>ry&&(e=n*ry),e>t.width&&(n*=t.width/e,e=t.width),n>t.height&&(e*=t.height/n,n=t.height),{width:Math.round(e),height:Math.round(n)}}function xR(t,i){return i.resourceInfo?SR(i,i.resourceInfo,{origin:t.origin}):i.portalItem?.id?rU(t,i,i.portalItem):Promise.resolve()}function SR(t,i,e){let n={context:O(x({},e),{layerContainerType:"operational-layers"})};return t.portalItem&&(n.context.portal=t.portalItem.portal||gr.getDefault()),import("./chunk-ZASVD3VT.js").then(({populateOperationalLayers:o})=>{let r=[],a=i.operationalLayers;a?.length&&r.push(o(t.layers,a,n));let c=O(x({},n),{context:O(x({},n.context),{layerContainerType:"tables"}),defaultLayerType:"ArcGISFeatureLayer"}),d=i.tables;return d?.length&&r.push(o(t.tables,d,c)),Promise.allSettled(r).then(()=>{})})}function rU(t,i,e){return f(this,null,function*(){if(yield e.load().catch(a=>{throw new D(`${t.name}:load-portal-item`,"Failed to load portal item",{error:a})}),e.type!==t.itemType)throw new D(`${t.name}:invalid-portal-item`,`Invalid portal item type '${e.type}', expected '${t.itemType}'`,{type:e.type});let n=yield e.fetchData();i.resourceInfo=n;let o=XS(e,t.origin);yield aU(t,i,n,o),i.resourceReferences={portalItem:e,paths:o.readResourcePaths};let r=yield lU(i.initialViewProperties,e,z.getLogger(i));if(r){let a=i.initialViewProperties?.clone()??t.createInitialViewProperties();a.viewpoint=r,i.initialViewProperties=a}})}function aU(t,i,e,n){let o=sU(t,e);return i.read(o,n),SR(i,o,n)}function sU(t,i){let e=t.parseVersion(i.version||"",t.name);return t.currentVersion.validate(e),i.version=`${e.major}.${e.minor}`,i}function lU(t,i,e){return f(this,null,function*(){if(t?.viewpoint?.targetGeometry)return null;let o=yield cU(t,i,e);return o?new ct({targetGeometry:o}):null})}function cU(t,i,e){return f(this,null,function*(){let n=t?.spatialReference,o=i?.extent;if(!n||!o)return null;if(n.isWGS84)return o.clone();if(n.isWebMercator)return lc(o);let{getGeometryServiceURL:r}=yield import("./chunk-KCQRGOVV.js");try{let a=yield r(i),c=new Gh({geometries:[o],outSpatialReference:n});return(yield Wh(a,c))[0]}catch(a){e.error("Error projecting item's extent:",a)}return null})}function tw(t){return{enabled:!!t?.length}}var iw,bd=iw=class extends K{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new iw({exactMatch:this.exactMatch,type:this.type,name:this.name})}};s([l({type:Boolean,json:{write:!0}})],bd.prototype,"exactMatch",void 0),s([l({type:String,json:{write:!0}})],bd.prototype,"name",void 0),s([Fi(Fh)],bd.prototype,"type",void 0),bd=iw=s([b("esri.webdoc.applicationProperties.SearchLayerField")],bd);var IR=bd;var nw,Ad=nw=class extends K{constructor(t){super(t),this.field=null,this.id=null,this.subLayer=null}clone(){return new nw(Qe({field:this.field,id:this.id,subLayer:this.subLayer}))}};s([l({type:IR,json:{write:{isRequired:!0}}})],Ad.prototype,"field",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],Ad.prototype,"id",void 0),s([l({type:wn,json:{write:!0}})],Ad.prototype,"subLayer",void 0),Ad=nw=s([b("esri.webdoc.applicationProperties.SearchLayer")],Ad);var MR=Ad;var ow,wd=ow=class extends K{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new ow({exactMatch:this.exactMatch,type:this.type,name:this.name})}};s([l({type:Boolean,json:{write:!0}})],wd.prototype,"exactMatch",void 0),s([l({type:String,json:{write:!0}})],wd.prototype,"name",void 0),s([Fi(Fh)],wd.prototype,"type",void 0),wd=ow=s([b("esri.webdoc.applicationProperties.SearchTableField")],wd);var ER=wd;var rw,um=rw=class extends K{constructor(t){super(t),this.field=null,this.id=null}clone(){return new rw(Qe({field:this.field,id:this.id}))}};s([l({type:ER,json:{write:{isRequired:!0}}})],um.prototype,"field",void 0),s([l({type:String,json:{write:{isRequired:!0}}})],um.prototype,"id",void 0),um=rw=s([b("esri.webdoc.applicationProperties.SearchTable")],um);var kR=um;var aw,TR=ee.ofType(MR),DR=ee.ofType(kR),Fr=aw=class extends K{constructor(t){super(t),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new TR,this.tables=new DR}readAddressSearchEnabled(t){return!t}writeAddressSearchEnabled(t,i,e){i[e]=!t}clone(){return new aw(Qe({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};s([l({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],Fr.prototype,"addressSearchEnabled",void 0),s([Ti("addressSearchEnabled")],Fr.prototype,"readAddressSearchEnabled",null),s([ai("addressSearchEnabled")],Fr.prototype,"writeAddressSearchEnabled",null),s([l({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],Fr.prototype,"enabled",void 0),s([l({type:String,json:{write:!0}})],Fr.prototype,"hintText",void 0),s([l({type:TR,json:{write:{overridePolicy:tw},origins:{"web-scene":{write:{isRequired:!0}}}}})],Fr.prototype,"layers",void 0),s([l({type:DR,json:{read:!0,write:{overridePolicy:tw}}})],Fr.prototype,"tables",void 0),Fr=aw=s([b("esri.webdoc.applicationProperties.Search")],Fr);var FR=Fr;var sw,ay=sw=class extends K{constructor(t){super(t),this.search=null}clone(){return new sw(Qe({search:this.search}))}};s([l({type:FR,json:{write:!0}})],ay.prototype,"search",void 0),ay=sw=s([b("esri.webdoc.applicationProperties.Viewing")],ay);var RR=ay;var lw,Cd=lw=class extends K{constructor(t){super(t),this.editing=null,this.offline=null,this.viewing=null}clone(){return new lw(Qe({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};s([l({json:{write:!0}})],Cd.prototype,"editing",void 0),s([l({json:{write:!0}})],Cd.prototype,"offline",void 0),s([l({type:RR,json:{write:!0}})],Cd.prototype,"viewing",void 0),Cd=lw=s([b("esri.webmap.ApplicationProperties")],Cd);var PR=Cd;var cw,Rr=cw=class extends K{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return cS(this.url)}get isDataURI(){return Ah(this.url)}clone(){return new cw({url:this.url})}};s([l({type:String,json:{write:{isRequired:!0}}})],Rr.prototype,"url",void 0),s([l()],Rr.prototype,"isSecureUrl",null),s([l()],Rr.prototype,"isDataURI",null),Rr=cw=s([b("esri.webdoc.support.SlideThumbnail")],Rr);var OR={type:tn,json:{read:{source:"timeExtent",reader:t=>t?Array.isArray(t)?tn.fromArray(t):tn.fromJSON(t):null},write:{writer:(t,i,e,n)=>{t&&(t.isEmpty?n?.messages&&n.messages.push(new D("invalid-timeExtent","TimeExtent cannot be empty")):i[e]=t.toArray())},target:{timeExtent:{type:[[wn,hh]]}}}}};var dw,Pr=dw=class extends en.IdentifiableMixin(K){constructor(t){super(t),this.name=null,this.thumbnail=new Rr,this.timeExtent=null}castThumbnail(t){return typeof t=="string"?new Rr({url:t}):to(Rr,t)}set viewpoint(t){let{targetGeometry:i,scale:e}=t;i!=null&&i.type==="point"&&e==null&&z.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",t),this._set("viewpoint",t)}readViewpoint(t,i){let{extent:e,viewpoint:n}=i;return ct.fromJSON(n||{targetGeometry:e})}writeViewpoint(t,i,e,n){if(!t)return;let{targetGeometry:o}=t;if(o==null||o.type==="extent")o!=null&&(i.extent=o.toJSON()),i[e]=t.toJSON();else{let r="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";n?.messages?n.messages.push(new D("property:unsupported",r)):z.getLogger(this).error(r)}}clone(){return new dw(Qe({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};s([l({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],Pr.prototype,"name",void 0),s([l({type:Rr,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],Pr.prototype,"thumbnail",void 0),s([ki("thumbnail")],Pr.prototype,"castThumbnail",null),s([l(OR)],Pr.prototype,"timeExtent",void 0),s([l({type:ct,nonNullable:!0,json:{write:!0}})],Pr.prototype,"viewpoint",null),s([Ti("viewpoint",["extent","viewpoint"])],Pr.prototype,"readViewpoint",null),s([ai("viewpoint")],Pr.prototype,"writeViewpoint",null),Pr=dw=s([b("esri.webmap.Bookmark")],Pr);var VR=Pr;var xa=class extends Tt.ClonableMixin(R){constructor(t){super(t),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=rc,this.viewpoint=null}};s([l({type:El})],xa.prototype,"background",void 0),s([l({type:dm})],xa.prototype,"rangeInfo",void 0),s([l({type:Vt})],xa.prototype,"spatialReference",void 0),s([l({type:tn})],xa.prototype,"timeExtent",void 0),s([l({nonNullable:!0})],xa.prototype,"timeZone",void 0),s([l({type:ct})],xa.prototype,"viewpoint",void 0),xa=s([b("esri.webmap.InitialViewProperties")],xa);var xd=xa;var LR=ee.ofType(VR),dU=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),uU="ArcGIS Pro",pU=YS.JSAPI,wt=class extends QS(si.LoadableMixin(Xi.EsriPromiseMixin(fg))){constructor(t){super(t),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new LR,this.floorInfo=null,this.initialViewProperties=new xd,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=_i((i,e,n)=>f(this,null,function*(){let{save:o,saveAs:r}=yield import("./chunk-PL5USN35.js");switch(i){case Ru.SAVE:return o(this.context,this,e);case Ru.SAVE_AS:return r(this.context,this,n,e)}})),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=Ne(this.portalItem)}initialize(){if(this.when().catch(t=>{z.getLogger(this).error("#load()","Failed to load web map",t)}),this.resourceInfo){let t;try{t=this._validateJSON(this.resourceInfo)}catch(i){return void this.addResolvingPromise(Promise.reject(i))}this.read(t)}}set authoringApp(t){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",t)}writeAuthoringApp(t,i){t&&this._isAuthoringAppSetByUser?i.authoringApp=t:i.authoringApp=pU}set authoringAppVersion(t){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",t)}writeAuthoringAppVersion(t,i){t&&this._isAuthoringAppVersionSetByUser?i.authoringAppVersion=t:i.authoringAppVersion=uS}readInitialViewProperties(t,i){let e=new xd;i.background&&(e.background=El.fromJSON(i.background));let n=i.initialState?.timeExtent;n&&(e.timeExtent=tn.fromArray(n));let o=i.initialState?.viewpoint;return o&&(o.rotation&&al.parse(i.version||"","webmap").lessThan(2,20)&&i.authoringApp===uU&&(o.rotation*=-1),e.viewpoint=ct.fromJSON(o)),i.mapRangeInfo&&(e.rangeInfo=dm.fromJSON(i.mapRangeInfo)),i.spatialReference&&(e.spatialReference=Vt.fromJSON(i.spatialReference)),i.timeZone&&(e.timeZone=i.timeZone),e}writeInitialViewProperties(t,i,e,n){if(!t)return;t.background?.color&&(i.background=t.background.write({},n));let{timeExtent:o,viewpoint:r}=t;if(r||o){let a={};r&&(a.viewpoint=r.write({},n)),o&&(a.timeExtent=o.toArray()),i.initialState=a}t.rangeInfo&&(i.mapRangeInfo=t.rangeInfo.toJSON(n)),t.spatialReference&&(i.spatialReference=t.spatialReference.write({},n)),i.timeZone=t.timeZone}writeLayers(t,i,e,n){i[e]=this._writeLayers(t,n,"operational-layers")}readSourceVersion(t,i){let[e,n]=i.version.split(".");return new al(parseInt(e,10),parseInt(n,10))}writeSourceVersion(t,i,e){i[e]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(t,i,e,n){let o=this._writeLayers(t,n,"tables");o.length&&(i[e]=o)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(t){t?(this._override("thumbnailUrl",t),this._thumbnailFilename=this._generateCustomThumbnailFilename(t)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(t){return this.addResolvingPromise(xR(this.context,this)),Promise.resolve(this)}loadAll(){return dc(this,t=>{t(this.ground,this.basemap,this.layers,this.tables)})}read(t,i){i=O(x({},i),{origin:this.context.origin});let e=this._getAuthoringPropsState();aS(this,t,n=>super.read(t,n),i),this._restoreAuthoringPropsFromState(e)}write(t,i){if(this.loadStatus!=="loaded"){let e=new D("webmap:not-loaded","Web map must be loaded before it can be serialized");throw z.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),e}return this._removeDanglingLayerRefs(),i=O(x({},i),{origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this}),super.write(t,i)}save(t){return f(this,null,function*(){return this._debouncedSaveOperations(Ru.SAVE,t)})}saveAs(t,i){return f(this,null,function*(){return this._debouncedSaveOperations(Ru.SAVE_AS,i,t)})}updateFrom(t,i){return f(this,null,function*(){let e=this._updateFromInternal(t,i);this._updateFromPromise=e,yield e,e===this._updateFromPromise&&(this._updateFromPromise=null)})}getLayerJSONFromResourceInfo(t){let i=this.resourceInfo;return this._collectAllLayersJSON([...i?.baseMap?.baseMapLayers||[],...i?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(e=>e.id===t.id)}updateItemThumbnail(){return f(this,null,function*(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(yield this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())})}getThumbnailState(){let t=this.thumbnailUrl;return t&&(t=this._isOverridden("thumbnailUrl")?t:dS(t,"w","8192")),{thumbnailUrl:t,filename:this._thumbnailFilename}}restoreThumbnailFromState(t){this.thumbnailUrl=t.thumbnailUrl,this._thumbnailFilename=t.filename}_collectAllLayersJSON(t){return t.reduce((i,e)=>(i.push(e),e.layerType==="GroupLayer"&&(i=i.concat(this._collectAllLayersJSON(e.layers||[]))),i),[])}_writeLayers(t,i,e){return i=O(x({},i),{layerContainerType:e}),t.map(n=>WS(n,e==="tables"?null:this.getLayerJSONFromResourceInfo(n),i)).filter(ot).toArray()}_validateJSON(t){let i=al.parse(t.version||"","webmap");return this.context.currentVersion.validate(i),t.version=`${i.major}.${i.minor}`,t}_removeDanglingLayerRefs(){let t=this.applicationProperties,i=t?.viewing?.search,e=r=>this.allLayers.some(a=>a.id===r);if(i?.layers&&(i.layers=i.layers.filter(r=>e(r.id))),i?.tables&&(i.tables=i.tables.filter(r=>this.tables.some(a=>a.id===r.id))),t){let r=t.editing?.locationTracking;r?.info&&!e(r.info.layerId)&&(t.editing=null)}let n="presentation"in this?this.presentation:null,o=n?.slides;o&&o.forEach(r=>{r.visibleLayers&&(r.visibleLayers=r.visibleLayers.filter(a=>e(a.id)))})}_updateFromInternal(t,i){return f(this,null,function*(){if(i??={},yield He(()=>t.ready),this._updateInitialViewProperties(t,i),t.map===this)for(let e of t.allLayerViews)"visible"in e&&"visible"in e.layer&&e._isOverridden("visible")&&(e.layer.visible=e.visible),"featureEffect"in e&&"featureEffect"in e.layer&&e._isOverridden("featureEffect")&&(e.layer.featureEffect=e.featureEffect);yield this._updateThumbnailUrl(t,i)})}_updateInitialViewProperties(t,i){if(i.backgroundExcluded||(this.initialViewProperties.background=t.background?.clone()),this.initialViewProperties.spatialReference=t.spatialReference?.clone(),this.initialViewProperties.timeZone=t.timeZone,i.viewpointExcluded||(this.initialViewProperties.viewpoint=new ct({rotation:t.rotation,scale:i.scalePreserved?t.scale:null,targetGeometry:this._getViewExtent(t)})),!i.widgetsExcluded)for(let e of t.persistableViewModels)e.updateWebDocument(this)}_getViewExtent(t){let i=t.center.clone().normalize(),e=t.extent.clone(),n=e.width/2;return e.xmin=i.x-n,e.xmax=i.x+n,e}_updateThumbnailUrl(t,i){return f(this,null,function*(){if(i.thumbnailExcluded)return;let e=CR(t,i.thumbnailSize),n=yield t.takeScreenshot({format:"png",width:e.width,height:e.height});this._setAutoGeneratedThumbnail(n.dataUrl)})}_setAutoGeneratedThumbnail(t){this.thumbnailUrl=t,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(t){if(Ah(t)){let i=lS(t),e=i?.mediaType,n=e&&dU.get(e.toLowerCase())||null,o=`thumbnail${Date.now()}`;return n?`${o}.${n}`:o}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(t){t.isAuthoringAppSetByUser?this.authoringApp=t.authoringApp:this._isAuthoringAppSetByUser=!1,t.isAuthoringAppVersionSetByUser?this.authoringAppVersion=t.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};s([l()],wt.prototype,"_updateFromPromise",void 0),s([l({type:PR,json:{write:!0}})],wt.prototype,"applicationProperties",void 0),s([l({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],wt.prototype,"authoringApp",null),s([ai("authoringApp")],wt.prototype,"writeAuthoringApp",null),s([l({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],wt.prototype,"authoringAppVersion",null),s([ai("authoringAppVersion")],wt.prototype,"writeAuthoringAppVersion",null),s([l({type:LR,json:{write:{overridePolicy:t=>({enabled:!!(t&&t.length>0),ignoreOrigin:!0})}}})],wt.prototype,"bookmarks",void 0),s([l({type:_R,json:{name:"mapFloorInfo",write:!0}})],wt.prototype,"floorInfo",void 0),s([l({type:xd,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:El},"initialState.timeExtent":{type:tn},"initialState.viewpoint":{type:ct},mapRangeInfo:{type:dm},spatialReference:{type:Vt},"timeZone:":{type:String}}}}})],wt.prototype,"initialViewProperties",void 0),s([Ti("initialViewProperties")],wt.prototype,"readInitialViewProperties",null),s([ai("initialViewProperties")],wt.prototype,"writeInitialViewProperties",null),s([l({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],wt.prototype,"layers",void 0),s([ai("layers")],wt.prototype,"writeLayers",null),s([l({type:Fu})],wt.prototype,"portalItem",void 0),s([l()],wt.prototype,"resourceInfo",void 0),s([l({readOnly:!0,type:al,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],wt.prototype,"sourceVersion",void 0),s([Ti("sourceVersion")],wt.prototype,"readSourceVersion",null),s([ai("sourceVersion")],wt.prototype,"writeSourceVersion",null),s([l({json:{read:!1,write:{ignoreOrigin:!0}}})],wt.prototype,"tables",void 0),s([ai("tables")],wt.prototype,"writeTables",null),s([l()],wt.prototype,"thumbnailUrl",null),s([l()],wt.prototype,"updatingFromView",null),s([l({type:wR,json:{write:!0}})],wt.prototype,"widgets",void 0),wt=s([b("esri.WebDocument2D")],wt);var BR=wt;var Sd=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.expression=null,this.returnType="string",this.title=null}};s([l({type:String,json:{write:{isRequired:!0}}})],Sd.prototype,"expression",void 0),s([l({type:["number","string"],json:{write:!0}})],Sd.prototype,"returnType",void 0),s([l({type:String,json:{write:!0}})],Sd.prototype,"title",void 0),Sd=s([b("esri.webdoc.geotriggersInfo.ExpressionInfo")],Sd);var sy=Sd;var ly=new fr({deviceLocation:"device-location"}),pm=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.filterExpression=null,this.type="device-location"}};s([l({type:sy,json:{write:!0}})],pm.prototype,"filterExpression",void 0),s([l({type:ly.apiValues,readOnly:!0,json:{type:ly.jsonValues,read:ly.read,write:ly.write}})],pm.prototype,"type",void 0),pm=s([b("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],pm);var NR=pm;var mm=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.geometry=null,this.where=null}};s([l({types:Th,json:{read:kh,write:!0}})],mm.prototype,"geometry",void 0),s([l({type:String,json:{write:!0}})],mm.prototype,"where",void 0),mm=s([b("esri.webdoc.geotriggersInfo.FeatureFilter")],mm);var HR=mm;var Id=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};s([l({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],Id.prototype,"layerId",void 0),s([l({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],Id.prototype,"layerUrl",void 0),s([Fi({featureLayer:"feature-layer"},{readOnly:!0})],Id.prototype,"type",void 0),Id=s([b("esri.webdoc.geotriggersInfo.FeatureLayerSource")],Id);var UR=Id;var Tl=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};s([l({type:UR,json:{write:{isRequired:!0}}})],Tl.prototype,"fenceSource",void 0),s([l({type:HR,json:{write:!0}})],Tl.prototype,"filter",void 0),s([l({type:Number,json:{write:!0}})],Tl.prototype,"bufferDistance",void 0),s([Fi({features:"features"},{readOnly:!0})],Tl.prototype,"type",void 0),Tl=s([b("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],Tl);var jR=Tl;var cy=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.type="fence"}};s([Fi({fence:"fence"},{readOnly:!0})],cy.prototype,"type",void 0),cy=s([b("esri.webdoc.geotriggersInfo.Geotrigger")],cy);var dy=cy;var hm=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.expressionInfo=null,this.requestedActions=null}};s([l({type:sy,json:{write:!0}})],hm.prototype,"expressionInfo",void 0),s([l({type:[String],json:{write:!0}})],hm.prototype,"requestedActions",void 0),hm=s([b("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],hm);var zR=hm;var GR=new fr({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),WR=new fr({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),fm=new fr({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});var $o=class extends dy{constructor(t){super(t),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};s([Fi(GR)],$o.prototype,"enterExitRule",void 0),s([l({type:NR,json:{write:{isRequired:!0}}})],$o.prototype,"feed",void 0),s([Fi(WR)],$o.prototype,"feedAccuracyMode",void 0),s([l({type:fm.apiValues,json:{type:fm.jsonValues,read:fm.read,write:{writer:fm.write,isRequired:!0}}})],$o.prototype,"fenceNotificationRule",void 0),s([l({type:jR,json:{write:{isRequired:!0}}})],$o.prototype,"fenceParameters",void 0),s([l({type:String,json:{write:!0}})],$o.prototype,"name",void 0),s([l({type:zR,json:{write:!0}})],$o.prototype,"notificationOptions",void 0),s([Fi({fence:"fence"},{readOnly:!0})],$o.prototype,"type",void 0),$o=s([b("esri.webdoc.geotriggersInfo.FenceGeotrigger")],$o);var QR=$o;var qR={base:dy,key:"type",typeMap:{fence:QR}};var uy=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.geotriggers=null}};s([l({types:[qR],json:{write:{isRequired:!0}}})],uy.prototype,"geotriggers",void 0),uy=s([b("esri.webdoc.GeotriggersInfo")],uy);var YR=uy;var Md=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.portalItem=null}readPortalItem(t,i,e){let{itemId:n}=i;if(n)return new Fu({id:n,portal:e?.portal})}writePortalItem(t,i){t?.id&&(i.itemId=t.id)}};s([l({type:Fu,json:{write:{isRequired:!0}}})],Md.prototype,"portalItem",void 0),s([Ti("portalItem",["itemId"])],Md.prototype,"readPortalItem",null),s([ai("portalItem",{itemId:{type:String}})],Md.prototype,"writePortalItem",null),Md=s([b("esri.webdoc.ips.PositioningService")],Md);var ZR=Md;var py=class extends Tt.ClonableMixin(K){constructor(t){super(t),this.positioningService=null}};s([l({type:ZR,json:{write:{isRequired:!0}}})],py.prototype,"positioningService",void 0),py=s([b("esri.webdoc.IPSInfo")],py);var KR=py;var mU={currentVersion:ub,createInitialViewProperties:()=>new xd,parseVersion:al.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},hU=ee.ofType(PE),fs=class extends BR{constructor(t){super(t),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){let t=this.utilityNetworks.removeAll();for(let i of t)i.destroy();this.utilityNetworks.destroy()}}get context(){return mU}loadAll(){return dc(this,t=>{t(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(t){if(t)return new this({resourceInfo:t});throw new D("webmap:empty-resource","Expected a JSON resource but got nothing")}};fs.VERSION=ub,s([l({type:YR,json:{write:!0}})],fs.prototype,"geotriggersInfo",void 0),s([l({type:KR,json:{write:!0,name:"mapIPSInfo"}})],fs.prototype,"ipsInfo",void 0),s([l({json:{write:!0}})],fs.prototype,"presentation",void 0),s([l({type:hU,json:{read:!0,write:!0}})],fs.prototype,"utilityNetworks",void 0),fs=s([b("esri.WebMap")],fs);var my=fs;var Xo;(function(t){t[t.NORTH=0]="NORTH",t[t.NORTH_EAST=1]="NORTH_EAST",t[t.EAST=2]="EAST",t[t.SOUTH_EAST=3]="SOUTH_EAST",t[t.SOUTH=4]="SOUTH",t[t.SOUTH_WEST=5]="SOUTH_WEST",t[t.WEST=6]="WEST",t[t.NORTH_WEST=7]="NORTH_WEST"})(Xo||(Xo={}));function JR(t){return uw(t)||IS(t)||MS(t)}function uw(t){return Ih(t)||Rv(t)}var fU=12,_n=class t{constructor(i){let e=t.checkUnsupported(i);if(e!=null)throw e;let n=i;this.spatialReference=n.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=Sh(this.spatialReference),this.origin=[n.origin.x,n.origin.y],this.pixelSize=n.size[0],this.dpi=n.dpi;let o=n.lods.reduce((u,p)=>(p.level<u.minLod.level&&(u.minLod=p),u.max=Math.max(u.max,p.level),u),{minLod:n.lods[0],max:-1/0}),r=o.minLod,a=2**r.level,c=r.resolution*a,d=r.scale*a;this.levels=new Array(o.max+1);for(let u=0;u<this.levels.length;u++)this.levels[u]={resolution:c,scale:d,tileSize:[c*n.size[0],c*n.size[1]]},c/=2,d/=2}clone(){return new t(this.toTileInfo())}toTileInfo(){return new tl({dpi:this.dpi,origin:new xe({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map((i,e)=>new el({level:e,scale:i.scale,resolution:i.resolution}))})}getExtent(i,e,n,o){let r=this.levels[i],a=r.tileSize[0],c=r.tileSize[1];o[0]=this.origin[0]+n*a,o[2]=this.origin[0]+(n+1)*a,o[3]=this.origin[1]-e*c,o[1]=this.origin[1]-(e+1)*c}convertExtentToRadians(i,e){this._isWebMercator?(e[0]=Pv(i[0]),e[1]=Ov(i[1]),e[2]=Pv(i[2]),e[3]=Ov(i[3])):this._isGCS&&(e[0]=Jr(i[0]),e[1]=Jr(i[1]),e[2]=Jr(i[2]),e[3]=Jr(i[3]))}getExtentGeometry(i,e,n,o=new Di){return this.getExtent(i,e,n,Or),o.spatialReference=this.spatialReference,o.xmin=Or[0],o.ymin=Or[1],o.xmax=Or[2],o.ymax=Or[3],o.zmin=void 0,o.zmax=void 0,o}ensureMaxLod(i){if(i==null)return!1;let e=!1;for(;this.levels.length<=i;){let{resolution:n,scale:o}=this.levels[this.levels.length-1],r=n/2*this.pixelSize;this.levels.push({resolution:n/2,scale:o/2,tileSize:[r,r]}),e=!0}return e}capMaxLod(i){this.levels.length>i+1&&(this.levels.length=i+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(i){return this.levels[0].scale/2**i}levelAtScale(i){let e=this.levels[0].scale;return i>=e?0:Math.log(e/i)*Math.LOG2E}resolutionAtLevel(i){return this.levels[0].resolution/2**i}compatibleWith(i,e=1/0){if(t.checkUnsupported(i))return!1;let n=new t(i);if(!n.spatialReference.equals(this.spatialReference)||n.pixelSize!==this.pixelSize)return!1;let o=Math.min(this.levels.length-1,n.levels.length-1,e),r=this.levels[o].resolution,a=.5*r;return!bh(n.origin[0],this.origin[0],a)||!bh(n.origin[1],this.origin[1],a)?!1:(a=.5*r/2**o/this.pixelSize*fU,bh(r,n.levels[o].resolution,a))}rootTilesInExtent(i,e=null,n=1/0){let o=new Array,r=this.levels[0].tileSize;if(i==null||r[0]===0||r[1]===0)return o;t.computeRowColExtent(i,r,this.origin,Or);let a=Or[1],c=Or[3],d=Or[0],u=Or[2],p=u-d,h=c-a;if(p*h>n){let y=Math.floor(Math.sqrt(n));h>y&&(a=a+Math.floor(.5*h)-Math.floor(.5*y),c=a+y),p>y&&(d=d+Math.floor(.5*p)-Math.floor(.5*y),u=d+y)}for(let y=a;y<c;y++)for(let A=d;A<u;A++)o.push([0,y,A]);return e!=null&&(e[0]=this.origin[0]+d*r[0],e[1]=this.origin[1]-c*r[1],e[2]=this.origin[0]+u*r[0],e[3]=this.origin[1]-a*r[1]),o}static computeRowColExtent(i,e,n,o){let r=.001*(i[2]-i[0]+(i[3]-i[1]));o[0]=Math.max(0,Math.floor((i[0]+r-n[0])/e[0])),o[2]=Math.max(0,Math.ceil((i[2]-r-n[0])/e[0])),o[1]=Math.max(0,Math.floor((n[1]-i[3]+r)/e[1])),o[3]=Math.max(0,Math.ceil((n[1]-i[1]-r)/e[1]))}static isPowerOfTwo(i){let e=i.lods,n=e[0].resolution*2**e[0].level;return!e.some(o=>!nS(o.resolution,n/2**o.level))}static hasGapInLevels(i){let e=i.lods.map(n=>n.level);e.sort((n,o)=>n-o);for(let n=1;n<e.length;n++)if(e[n]!==e[0]+n)return!0;return!1}static tileSizeSupported(i){let e=i.size[1];return e===i.size[0]&&!(e&e-1)&&e>=128&&e<=512}static hasOriginPerLODs(i){let e=i.origin;return i.lods.some(n=>n.origin!=null&&(n.origin[0]!==e.x||n.origin[1]!==e.y))}static getMissingTileInfoError(){return new D("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}static checkUnsupported(i){return i==null?gm():i.lods.length<1?new D("tilingscheme:generic","Tiling scheme must have at least one level"):t.isPowerOfTwo(i)?t.hasGapInLevels(i)?new D("tilingscheme:gaps","Tiling scheme levels must not have gaps between min and max level"):t.tileSizeSupported(i)?t.hasOriginPerLODs(i)?new D("tilingscheme:multiple-origin","Tiling scheme levels must not have their own origin"):null:new D("tilingscheme:tile-size","Tiles must be square and size must be one of [128, 256, 512]"):new D("tilingscheme:power-of-two","Tiling scheme must be power of two")}static fromExtent(i,e){let n=i[2]-i[0],o=i[3]-i[1],r=Mh(e),a=1.2*Math.max(n,o),c=256,d=a/c,u=d*r*(96/.0254),p=new t(new tl({size:[c,c],origin:new xe({x:i[0]-.5*(a-n),y:i[3]+.5*(a-o)}),lods:[new el({level:0,resolution:d,scale:u})],spatialReference:e}));return p.ensureMaxLod(20),p}static makeWebMercatorAuxiliarySphere(i){let e=new t(t.WebMercatorAuxiliarySphereTileInfo);return e.ensureMaxLod(i),e}static makeGCSWithTileSize(i,e=256,n=16){let o=256/e,r=new t(new tl({size:[e,e],origin:new xe({x:-180,y:90,spatialReference:i}),spatialReference:i,lods:[new el({level:0,resolution:.703125*o,scale:295497598570834e-6*o})]}));return r.ensureMaxLod(n),r}get test(){}};function gm(){return new D("tilingscheme:tile-info-missing","Tiling scheme must have tiling information")}_n.WebMercatorAuxiliarySphereTileInfo=new tl({size:[256,256],origin:new xe({x:-20037508342787e-6,y:20037508342787e-6,spatialReference:Vt.WebMercator}),spatialReference:Vt.WebMercator,lods:[new el({level:0,resolution:156543.03392800014,scale:591657527591555e-6})]}),_n.WebMercatorAuxiliarySphere=_n.makeWebMercatorAuxiliarySphere(19);var Or=no();var pw=64;var bCe=oS(rS/10);var gU=no();_n.WebMercatorAuxiliarySphere.getExtent(0,0,0,gU);var ACe=no([-180,-90,180,90]);function yU(t,i,e,n){if(t==null)return gm();let o=t.spatialReference;if(o.isGeographic&&!uw(o))return new D("tilingscheme:local-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in local scenes");let r=_n.checkUnsupported(t);return r??(e==null?new D("tilingscheme:extent-not-exist","The layer does not provide a layer extent."):_U(t,e)||(i==null||o.equals(i)||i.isWGS84&&o.isWebMercator?null:new D("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the local scene")))}function _U(t,i){let e=t.lods,n=e[0].resolution*2**e[0].level,o=[n*t.size[0],n*t.size[1]],r=[t.origin.x,t.origin.y],a=FS(i),c=no();_n.computeRowColExtent(a,o,r,c);let d=(c[2]-c[0])*(c[3]-c[1]);if(d>pw){let u=e[0].scale*2**e[0].level,p=Math.max((a[3]-a[1])/t.size[1],(a[2]-a[0])/t.size[0])*u/n,h=Math.floor(Math.log(p)/Math.log(10));return p=Math.ceil(p/10**h)*10**h,new D("tilingscheme:too-many-root-tiles","Scale of level 0 of the tiling scheme (1:"+Math.floor(u).toLocaleString()+") is too large for the layer's extent. Suggested scale: 1:"+p.toLocaleString()+".",{level0Scale:u,suggestedLevel0Scale:p,requiredNumRootTiles:d,allowedNumRootTiles:pw})}return null}var $R=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:yU},Symbol.toStringTag,{value:"Module"}));function vU(t,i,e,n){if(t==null)return gm();let o=t?.lods.length-1,r=t.spatialReference;if(r.isWebMercator){if(!_n.makeWebMercatorAuxiliarySphere(o).compatibleWith(t,n))return new D("tilingscheme:incompatible-global-web-mercator","The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme")}else{if(!JR(r))return new D("tilingscheme:global-unsupported-spatial-reference","The tiling scheme spatial reference is not supported in global scenes");if(!_n.makeGCSWithTileSize(t.spatialReference,t.size[0],o).compatibleWith(t,n))return t.spatialReference.isWGS84?new D("tilingscheme:incompatible-global-wgs84","The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme"):new D("tilingscheme:incompatible-global","The tiling scheme is not compatible with the ArcGIS Online tiling scheme")}return i==null||t.spatialReference.equals(i)?null:new D("tilingscheme:spatial-reference-mismatch","The tiling scheme does not match the spatial reference of the global scene")}var XR=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:vU},Symbol.toStringTag,{value:"Module"}));var bU={[ro.Global]:XR,[ro.Local]:$R};function hy(t,i,e,n,o){return bU[n].checkIfTileInfoSupportedForViewSR(t,e,i,o)}function e1(t,i,e){let n=jS(t);if(n!=null){if(!ee.isCollection(n))return{tileInfo:n.tileInfo,fullExtent:n.fullExtent};{let o=n.find(r=>hy(r.tileInfo,r.fullExtent,i,e)==null);if(o)return{tileInfo:o.tileInfo,fullExtent:o.fullExtent}}}return{tileInfo:null,fullExtent:null}}var QCe=[Xo.NORTH,Xo.EAST,Xo.SOUTH,Xo.WEST],qCe=[Xo.NORTH_EAST,Xo.SOUTH_EAST,Xo.SOUTH_WEST,Xo.NORTH_WEST];function t1(t,i){return t!=null&&(i==null||(i===ro.Local?!t.isGeographic||t.isWGS84||t.wkid===sc.CGCS2000:t.isWebMercator||t.isWGS84||t.wkid===sc.CGCS2000||t.wkid===sc.GCSMARS2000||t.wkid===sc.GCSMARS2000_SPHERE||t.wkid===sc.GCSMOON2000))}function n1(e){return f(this,arguments,function*(t,i={}){let{basemap:n,view:o}=t;yield n.load(i),AU(n),yield CU(n,o,i),Le(i)})}function o1(e){return f(this,arguments,function*(t,i={}){let{basemap:n,view:o}=t;Le(i);let r=n.baseLayers.find(d=>d.type==="unknown")?.loadError;if(r!=null)throw r;if(!o||"spatialReferenceLocked"in o&&!o.spatialReferenceLocked||(yield n.load(i),Le(i),n.baseLayers.length===0))return;let a=n.baseLayers.at(0);if(!US(a))return;if(n.spatialReference){if(o.spatialReference.equals(n.spatialReference))return;i1()}yield a.load(i),Le(i);let c=(("supportedSpatialReferences"in a?a.supportedSpatialReferences:null)||["tileInfo"in a?a.tileInfo?.spatialReference:null]).filter(ot);c.length!==0&&c.every(d=>!o.spatialReference.equals(d))&&i1()})}function i1(){throw new D("basemap-compatibility:incompatible-spatial-reference","Basemap spatial reference is not compatible with the view")}function AU(t){if(t.baseLayers.length===0&&t.referenceLayers.length===0)return;let i=t.baseLayers.concat(t.referenceLayers).toArray().filter(e=>!BS(e)).map(e=>wU(e));if(i.length)throw i[0]}function wU(t){return new D("basemap-compatibility:unsupported-basemap-layer-type","Unsupported basemap layer type ${operationalLayerType}",{layer:t,operationalLayerType:t.operationalLayerType||"unknown"})}function CU(t,i,e){return f(this,null,function*(){if(t.baseLayers.length===0)return;let n=t.baseLayers.at(0);if(HS(n)){try{yield n.load(e)}catch(o){let r="basemap-compatibility:unknown-error",a="Unknown basemap compatibility error",{name:c=r,message:d=a,details:u}=o;throw new D(c,d,u)}xU(n,i)}})}function xU(t,i){let e=i.state.viewingMode;if(!e)return;let n,o;if(t?.type==="wmts"){let c=e1(t,i.spatialReference,e);if(c.tileInfo==null)throw new D("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view");n=c.tileInfo,o=c.fullExtent}else n=t.tileInfo,o=t.fullExtent;if(n==null)return;if(!t1(n.spatialReference,e))throw new D(`basemapgalleryitem:spatial-reference-unsupported-${Gv(e)}`,`Basemap spatial reference is unsupported in ${Gv(e)} mode`);let r=t?.type==="vector-tile"?n.getCompatibleForVTL(256):null;if(e===ro.Global){let c=hy(n,o,null,e);if(c&&t?.type==="vector-tile"&&o!=null&&r&&!hy(r,o,null,e)&&(c=null),c){let d=n.spatialReference.isWebMercator?"web-mercator":"wgs84";throw new D(`basemapgalleryitem:tiling-scheme-unsupported-${d}-global`,"Basemap tiling scheme is unsupported in global mode",{error:c})}}else if(_n.checkUnsupported(n))throw new D("basemapgalleryitem:tiling-scheme-unsupported-local","Basemap tiling scheme is unsupported in local mode");let a=i.basemapTerrain?.tilingScheme;if(a&&!a.compatibleWith(n)&&(t?.type!=="vector-tile"||!r||!a.compatibleWith(r)))throw new D("basemapgalleryitem:tiling-scheme-incompatible","Basemap tiling scheme is incompatible with the view")}var Vr=class extends en.IdentifiableMixin(R){constructor(t){super(t),this.compatibilityFunction=null,this.error=null,this.state="loading",this.view=null}initialize(){let t=()=>this.refresh();this.addHandles([T(()=>this.basemap?.loadStatus,t),T(()=>this.compatibilityFunction,t),T(()=>this.view&&"basemapTerrain"in this.view&&this.view.basemapTerrain?.tilingScheme,t),T(()=>this.view?.ready,t),T(()=>this.view?.spatialReference,t)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return xI(this.view,this.basemap)}set basemap(t){t&&t.load().catch(()=>{}),this._set("basemap",t)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){this._cancelRefresh(),this._set("state","loading");let t=this.basemap?.loadStatus;if(t!=="loaded"&&t!=="failed")return;if(!this.compatibilityFunction)return void(t==="loaded"?(this._set("state","ready"),this._set("error",null)):(this._set("state","error"),this._set("error",this.basemap.loadError)));let i=new AbortController,{signal:e}=i;this.compatibilityFunction(this,{signal:e}).then(()=>He(()=>!this._spatialReferenceTask.updating,e)).then(()=>{this._set("state","ready"),this._set("error",null)}).catch(n=>{un(n)||(this._set("state","error"),this._set("error",n))}),this._refreshController=i}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};s([l({readOnly:!0})],Vr.prototype,"_spatialReferenceTask",null),s([l()],Vr.prototype,"basemap",null),s([l()],Vr.prototype,"compatibilityFunction",void 0),s([l({readOnly:!0})],Vr.prototype,"error",void 0),s([l({readOnly:!0})],Vr.prototype,"spatialReference",null),s([l({readOnly:!0})],Vr.prototype,"state",void 0),s([l()],Vr.prototype,"view",void 0),Vr=s([b("esri.widgets.BasemapGallery.support.BasemapGalleryItem")],Vr);var mw=Vr;var r1=ee.ofType(ao),ym=class extends R{constructor(t){super(t),this.basemaps=new r1}destroy(){this.basemaps.forEach(t=>t.destroy())}get state(){return"ready"}refresh(){}};s([l({type:r1})],ym.prototype,"basemaps",void 0),s([l({readOnly:!0})],ym.prototype,"state",null),ym=s([b("esri.widgets.BasemapGallery.support.LocalBasemapsSource")],ym);var fy=ym;var a1=ee.ofType(ao),Lr=class extends si.LoadableMixin(Xi.EsriPromiseMixin(fy)){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new a1,this.filterFunction=null,this.portal=gr.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(T(()=>[this.filterFunction,this.loadStatus,this.portal?.basemapGalleryGroupQuery,this.portal?.basemapGalleryGroupQuery3D,this.portal?.user,this.query,this.updateBasemapsCallback],()=>this.refresh(),re))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach(t=>t.destroy())}get state(){return this.loadStatus==="not-loaded"?"not-loaded":this.loadStatus==="loading"||this._lastPortalBasemapFetchController?"loading":"ready"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}refresh(){return f(this,null,function*(){if(this.loadStatus!=="loaded")return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);let t=this.portal,i=new AbortController;this._lastPortalBasemapFetchController=i,this.notifyChange("state");try{let e=yield t.fetchBasemaps(this._toQueryString(this.query),{signal:i.signal,include3d:this.viewType==="3d"||void 0});yield this._updateBasemaps(e)}catch(e){if(un(e))throw e;z.getLogger(this).warn(new D("basemap-source:fetch-basemaps-error","Could not fetch basemaps from portal.",{error:e})),yield this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange("state")})}_toQueryString(t){return t&&typeof t!="string"?Object.keys(t).map(i=>`${i}:${t[i]}`).join(" AND "):t}_updateBasemaps(){return f(this,arguments,function*(t=[]){let i=yield this._filterBasemaps(t);i=this.updateBasemapsCallback?yield this.updateBasemapsCallback(i):i,this.basemaps.removeAll(),this.basemaps.addMany(i)})}_filterBasemaps(t){return f(this,null,function*(){if(!this.filterFunction)return t;let i=t.map(this.filterFunction),e=yield Promise.all(i);return t.filter((n,o)=>e[o])})}};s([l({readOnly:!0,type:a1})],Lr.prototype,"basemaps",void 0),s([l()],Lr.prototype,"filterFunction",void 0),s([l({type:gr})],Lr.prototype,"portal",void 0),s([l()],Lr.prototype,"query",void 0),s([l({readOnly:!0})],Lr.prototype,"state",null),s([l()],Lr.prototype,"updateBasemapsCallback",void 0),s([l()],Lr.prototype,"viewType",void 0),Lr=s([b("esri.widgets.BasemapGallery.support.PortalBasemapsSource")],Lr);var Ed=Lr;var s1=ee.ofType(mw);function SU(t){return t&&t.declaredClass==="esri.portal.Portal"}function IU(t){return t&&!(t instanceof Ed)&&(!!t.portal||!!t.query)}function MU(t){return t&&"basemaps"in t&&"state"in t&&"refresh"in t}var Nn=class extends si{constructor(t){super(t),this._loadingProjectionEngine=!1,this.items=new s1,this.source=new Ed,this.view=null}initialize(){let t=()=>this._recreateItems();this.addHandles([T(()=>this.state==="ready"?this.compatibilityFunction:null,()=>this._updateItems()),lt(()=>this.source?.basemaps,"change",t,{onListenerAdd:t}),qe(()=>this.view,()=>{this.source instanceof Ed&&(this.source.viewType=this.view?.type)},{once:!0})])}destroy(){let t=this.source.basemaps.find(i=>i===this.activeBasemap);t&&this.source.basemaps.remove(t),this.source?.destroy()}get activeBasemap(){return this.view?.map?.basemap??null}set activeBasemap(t){let i=this.view;if(!i?.map)return;if(!t||!i.ready)return i.map.basemap=t,void this._clearOverride("activeBasemap");let e=t.spatialReference||this.items?.find(n=>this.basemapEquals(t,n.basemap))?.spatialReference;if(e&&"spatialReferenceLocked"in i&&!i.spatialReferenceLocked){let n=i.spatialReference;if(e!=null&&!No(n,e)&&!Vh(i.spatialReference,e)&&!Ph())return this._override("activeBasemap",t),this._loadingProjectionEngine=!0,void Oh().then(()=>{this._get("activeBasemap")===t&&(i.map.basemap=t,i.spatialReference=e,this._clearOverride("activeBasemap"))},()=>{}).then(()=>{this._loadingProjectionEngine=!1});i.map.basemap=t,this._clearOverride("activeBasemap"),e==null||No(i.spatialReference,e)||(i.spatialReference=e)}else i.map.basemap=t,this._clearOverride("activeBasemap")}castActiveBasemap(t){return hg(t)}get activeBasemapIndex(){let{state:t,activeBasemap:i}=this;return t!=="ready"?-1:this._findBasemapIndex(i)}get compatibilityFunction(){return this.view?.type==="3d"?n1:o1}set compatibilityFunction(t){this._overrideIfSome("compatibilityFunction",t)}castSource(t){return Array.isArray(t)||ee.isCollection(t)?new fy({basemaps:Array.isArray(t)?new ee(t):t}):SU(t)?new Ed({portal:t}):IU(t)?new Ed(t):MU(t)?t:null}get state(){return this.view?.ready&&this.source?AE(this.view)&&!this.view.inGeographicLayout?"unsupported":this._loadingProjectionEngine?"loading":"ready":"disabled"}basemapEquals(t,i){return CI(t,i)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(t){return this.addResolvingPromise(si.isLoadable(this.source)?this.source.load(t):null),Promise.resolve(this)}_findBasemapIndex(t){let{items:i}=this,e=i.findIndex(n=>n.basemap===t);return e===-1?i.findIndex(n=>this.basemapEquals(n.basemap,t)):e}_recreateItems(){let t=this.source?.basemaps??[],{view:i,compatibilityFunction:e}=this,n=new Map(this.items.map(r=>[r.basemap,r])),o=t.map(r=>{let a=n.get(r);return a?(n.delete(r),a):new mw({basemap:r,compatibilityFunction:e,view:i})});this.items.removeAll(),this.items.addMany(o),n.forEach(r=>r.destroy())}_updateItems(){for(let t of this.items)t.compatibilityFunction=this.compatibilityFunction,t.view=this.view}};s([l()],Nn.prototype,"_loadingProjectionEngine",void 0),s([l({type:ao})],Nn.prototype,"activeBasemap",null),s([ki("activeBasemap")],Nn.prototype,"castActiveBasemap",null),s([l({readOnly:!0})],Nn.prototype,"activeBasemapIndex",null),s([l()],Nn.prototype,"compatibilityFunction",null),s([l({readOnly:!0,type:s1})],Nn.prototype,"items",void 0),s([l()],Nn.prototype,"source",void 0),s([ki("source")],Nn.prototype,"castSource",null),s([l({readOnly:!0})],Nn.prototype,"state",null),s([l()],Nn.prototype,"view",void 0),Nn=s([b("esri.widgets.BasemapGallery.BasemapGalleryViewModel")],Nn);var l1=Nn;var er="esri-basemap-gallery",_o={base:er,sourceLoading:`${er}--source-loading`,loader:`${er}__loader`,item:`${er}__item`,itemContainer:`${er}__item-container`,itemContent:`${er}__item-content`,itemTitle:`${er}__item-title`,itemTagsContainer:`${er}__item-tags-container`,itemThumbnail:`${er}__item-thumbnail`,selectedItem:`${er}__item--selected`,itemError:`${er}__item--error`};var In=class extends Ze{constructor(t,i){super(t,i),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new l1,this._focusBasemapItemEnabled=!1,gh(z.getLogger(this),"Basemap Gallery","arcgis-basemap-gallery",{version:"4.32"})}initialize(){this.addHandles(qe(()=>this.source,()=>this.viewModel.loadSource(),{sync:!0,initial:!0}))}loadDependencies(){return we({scrim:()=>import("./chunk-S3XENTVM.js"),chip:()=>import("./chunk-KUULEAF3.js")})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(t){this.viewModel.activeBasemap=t}get icon(){return"basemap"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get source(){return this.viewModel.source}set source(t){this.viewModel.source=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}render(){let t=this.source.state==="loading",i=this.disabled||this.viewModel.state==="disabled",e={[_o.sourceLoading]:t,[be.disabled]:i};return g("div",{class:this.classes(_o.base,be.widget,be.panel,e),key:"container"},this._getContext())}_getContext(){if(this.viewModel.state==="unsupported")return g("div",{class:be.empty,key:"empty-message"},g(li,{level:this.headingLevel},this.messages.unsupported));if(this.source.state==="loading")return g("div",{class:_o.loader,key:"loader"});let t=this.viewModel.items;return t.length>0?g("ul",{"aria-disabled":this.disabled,"aria-label":this.label,bind:this,class:_o.itemContainer,key:"item-container",onkeydown:this._handleKeyDown,role:"radiogroup"},t.map((i,e)=>this._renderBasemapGalleryItem(i,e)).toArray()):g("div",{class:be.empty,key:"empty-message"},g(li,{level:this.headingLevel},this.messages.noBasemaps))}_getRoundRobinIndex(t,i){return(t+i)%i}_handleKeyDown(t){let{key:i}=t;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(i))return;t.preventDefault();let{items:e,activeBasemapIndex:n}=this.viewModel,o=i==="ArrowUp"||i==="ArrowLeft"?this._getRoundRobinIndex(Math.max(n-1,-1),e.length):this._getRoundRobinIndex(n+1,e.length),r=e.at(o);r?.state==="ready"&&(this.viewModel.activeBasemap=r.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(t){this._focusBasemapItemEnabled&&t.tabIndex===0&&(t.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(t){let i=t.currentTarget["data-item"];i.state==="ready"&&(this.viewModel.activeBasemap=i.basemap)}_renderBasemapGalleryItem(t,i){let e=SI(t.basemap)||xh("esri/themes/base/images/basemap-toggle-64.svg"),n=t.basemap.title,o=t.basemap.portalItem?.snippet,r=t.error?.message||o||n,{viewModel:{state:a,activeBasemapIndex:c}}=this,d=this.disabled||a==="disabled",u=c===i,p=u||c===-1&&i===0?0:-1,h=a==="loading",y={[_o.selectedItem]:u,[_o.itemError]:t.state==="error"},A=`basemapgallery-item-${t.uid}`;return g("li",{afterUpdate:this._focusBasemapItem,"aria-checked":u.toString(),"aria-disabled":d.toString(),"aria-labelledby":A,bind:this,class:this.classes(_o.item,y),"data-item":t,key:t.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:"radio",tabIndex:p,title:r},g("img",{alt:"",class:_o.itemThumbnail,src:e}),g("div",{class:_o.itemContent,key:"content"},g("div",{class:_o.itemTitle,key:"title"},g("span",{id:A},n)),AI(t.basemap)?this._renderTags(t.basemap):null),t.state==="loading"||u&&h?g("calcite-scrim",null,g("span",{"aria-hidden":"true",class:be.loaderAnimation,key:"loader",role:"presentation"})):null)}_renderTags(t){return g("div",{class:_o.itemTagsContainer,key:"tag"},this._render3DTag(),wI(t)?this._renderBetaTag():null)}_render3DTag(){let{messages:t}=this;return g("calcite-chip",{key:"tag-3d",label:t.tag3D,scale:"s"},this.messages.tag3D)}_renderBetaTag(){let{messages:t}=this;return g("calcite-chip",{appearance:"outline-fill",key:"tag-beta",label:t.tagBeta,scale:"s"},this.messages.tagBeta)}};s([l()],In.prototype,"activeBasemap",null),s([l()],In.prototype,"disabled",void 0),s([l()],In.prototype,"headingLevel",void 0),s([l()],In.prototype,"icon",null),s([l()],In.prototype,"label",null),s([l(),ye("esri/widgets/BasemapGallery/t9n/BasemapGallery")],In.prototype,"messages",void 0),s([l()],In.prototype,"source",null),s([l()],In.prototype,"view",null),s([l()],In.prototype,"viewModel",void 0),s([l()],In.prototype,"_focusBasemapItemEnabled",void 0),s([ol()],In.prototype,"_handleClick",null),In=s([b("esri.widgets.BasemapGallery")],In);var gy=In;var gs=class extends R{constructor(t){super(t),this._viewpointHandle=null,this.group=null}initialize(){this.addHandles(lt(()=>this.view?.ui,"expand",t=>{let{target:i}=t;i&&i!==this&&i.expanded&&i.group&&i.group===this.group&&this._collapse()}))}destroy(){this._viewpointHandle=null,this.view=null}set autoCollapse(t){this._set("autoCollapse",t),this._watchViewpoint()}set expanded(t){let i=!!t;this._set("expanded",i);let e=this.view?.ui;e&&e.emit("expand",{target:this}),this._viewpointHandleChange(i)}get state(){return this.view?.ready?"ready":"disabled"}set view(t){this._get("view")!==t&&(this._set("view",t),t&&qe(()=>t.ready,()=>{this.view===t&&this._watchViewpoint()},{once:!0,initial:!0}))}_viewpointHandleChange(t){this._viewpointHandle&&(t?qe(()=>this.view?.stationary,()=>this._viewpointHandle?.resume(),{once:!0,initial:!0}):this._viewpointHandle.pause())}_watchViewpoint(){let t="viewpoint";this.removeHandles(t),this._viewpointHandle=null;let{autoCollapse:i,view:e}=this;if(!e||!i)return;let n=vS(()=>e.type==="3d"?e.camera:e.viewpoint,()=>this._collapse());this.addHandles(n,t),this._viewpointHandle=n}_collapse(){this.expanded=!1}};s([l({value:!1})],gs.prototype,"autoCollapse",null),s([l({value:!1})],gs.prototype,"expanded",null),s([l()],gs.prototype,"group",void 0),s([l({readOnly:!0})],gs.prototype,"state",null),s([l({value:null})],gs.prototype,"view",null),gs=s([b("esri.widgets.Expand.ExpandViewModel")],gs);var hw=gs;var vo="esri-expand",Hn={base:vo,toggle:`${vo}__toggle`,popoverContent:`${vo}__popover-content`,panel:`${vo}__panel`,panelContent:`${vo}__panel-content`,sheet:`${vo}__sheet`,panelIconNumber:`${vo}__panel-icon-number`,contentContainer:`${vo}__content-container`,icon:"esri-collapse__icon",iconFlip:"esri-collapse__icon-flip",iconExpanded:`${vo}__icon--expanded`,iconNumber:`${vo}__icon-number`,content:`${vo}__content`,contentExpanded:`${vo}__content--expanded`},c1="chevrons-left",d1="chevrons-right",It=class extends Ze{constructor(t,i){super(t,i),this.closeOnEsc=!0,this.collapseTooltip="",this.content="",this.expandTooltip="",this.focusTrapDisabled=!1,this.iconNumber=0,this.messages=null,this.messagesCommon=null,this.mode="auto",this.placement=null,this.viewModel=new hw,this.toggle=()=>{this.viewModel.expanded=!this.viewModel.expanded},this._handlePopoverClose=e=>{e.target===this._popoverEl&&(this.viewModel.expanded=e.currentTarget.open)},this._handleSheetClose=e=>{this.viewModel.expanded=e.currentTarget.open},this._handlePanelClose=e=>{this.viewModel.expanded=!e.currentTarget.closed},this._handleKeyDown=e=>{this.viewModel.expanded&&e.key==="Escape"&&!this._willCloseOnEsc(e)&&e.preventDefault()},this._storeToggleActionEl=e=>{this._toggleActionEl=e},this._storePopoverEl=e=>{this._popoverEl=e}}initialize(){this.addHandles(T(()=>this.viewModel?.view?.size,()=>this._popoverEl?.reposition(),re))}loadDependencies(){return we({action:()=>import("./chunk-CXZZQXIM.js"),icon:()=>import("./chunk-QXDSJABL.js"),panel:()=>import("./chunk-VDPQSEAH.js"),popover:()=>import("./chunk-QY326AOF.js"),sheet:()=>import("./chunk-56C57EF3.js")})}get expandTitle(){let{expanded:t,messagesCommon:i,collapseTooltip:e,expandTooltip:n}=this;return(t?e||i?.collapse:n||i?.expand)??""}get _displaySheet(){switch(this.mode){case"drawer":return!0;case"auto":return this.viewModel.view?.widthBreakpoint==="xsmall";default:return!1}}get autoCollapse(){return this.viewModel.autoCollapse}set autoCollapse(t){this.viewModel.autoCollapse=t}get collapseIcon(){return d1}set collapseIcon(t){this._overrideIfSome("collapseIcon",t)}get expanded(){return this.viewModel.expanded}set expanded(t){this.viewModel.expanded=t}get expandIcon(){return Yh(this.content)?this.content.icon:c1}set expandIcon(t){this._overrideIfSome("expandIcon",t)}get group(){return this.viewModel.group}set group(t){this.viewModel.group=t}get icon(){return null}get label(){return(Yh(this.content)?this.content.label:null)??this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}expand(){this.viewModel.expanded=!0}collapse(){this.viewModel.expanded=!1}render(){let{_displaySheet:t,_toggleActionEl:i,viewModel:{expanded:e},label:n,placement:o}=this;return g("div",{class:this.classes(Hn.base,be.widget)},this._renderToggle(),t?g("calcite-sheet",{class:Hn.sheet,heightScale:"l",label:n,onkeydown:this._handleKeyDown,open:e,position:"block-end",onCalciteSheetClose:this._handleSheetClose},g("calcite-panel",{class:Hn.panel,closable:!0,closed:!e,heading:n,onkeydown:this._handleKeyDown,onCalcitePanelClose:this._handlePanelClose},g("div",{class:Hn.panelContent},this._renderContent()))):i?g("calcite-popover",{afterCreate:this._storePopoverEl,afterUpdate:this._storePopoverEl,focusTrapDisabled:this.focusTrapDisabled,label:n,onkeydown:this._handleKeyDown,open:e,overlayPositioning:"fixed",placement:o??this._getPlacement(),referenceElement:i,onCalcitePopoverClose:this._handlePopoverClose},g("div",{class:Hn.popoverContent},this._renderContent())):null)}_getPlacement(){let{container:t,view:i}=this,e=t&&i?i.ui.getPosition(t):null;if(!e||e==="manual")return"auto";let[n,o]=e.split("-");return`${o==="right"?"left":"right"}-${n==="bottom"?"end":"start"}`}_willCloseOnEsc(t){let{closeOnEsc:i}=this;return typeof i=="function"?i(t):i}_renderBadgeNumber(){let{expanded:t,iconNumber:i}=this;return i&&!t?g("span",{class:Hn.iconNumber,key:"expand__icon-number"},i):null}_renderToggleButton(){let{expanded:t,expandTitle:i,expandIcon:e,collapseIcon:n}=this,o=t?n:e,r=o===c1||o===d1;return g("calcite-action",{afterCreate:this._storeToggleActionEl,afterUpdate:this._storeToggleActionEl,class:be.widgetButton,onclick:this.toggle,scale:"s",text:i,title:i},o?g("calcite-icon",{class:this.classes(Hn.icon,r&&Hn.iconFlip),icon:o,scale:"s"}):null)}_renderToggle(){return g("div",{class:Hn.toggle},this._renderToggleButton(),this._renderBadgeNumber())}_renderContent(){let{content:t}=this;return typeof t=="string"?g("div",{class:Hn.contentContainer,innerHTML:t,key:"content__string"}):Yh(t)?g("div",{class:Hn.contentContainer,key:"content__widget"},t.render()):t instanceof HTMLElement?g("div",{afterCreate:this._attachToNode,bind:t,class:Hn.contentContainer,key:"content__html-element"}):pM(t)?g("div",{afterCreate:this._attachToNode,bind:t.domNode,class:Hn.contentContainer,key:"content__node"}):null}_attachToNode(t){let i=this;t.appendChild(i)}};s([l({readOnly:!0})],It.prototype,"expandTitle",null),s([l()],It.prototype,"_toggleActionEl",void 0),s([l()],It.prototype,"_displaySheet",null),s([l()],It.prototype,"autoCollapse",null),s([l()],It.prototype,"closeOnEsc",void 0),s([l()],It.prototype,"collapseIcon",null),s([l()],It.prototype,"collapseTooltip",void 0),s([l()],It.prototype,"content",void 0),s([l()],It.prototype,"expanded",null),s([l()],It.prototype,"expandIcon",null),s([l()],It.prototype,"expandTooltip",void 0),s([l()],It.prototype,"focusTrapDisabled",void 0),s([l()],It.prototype,"group",null),s([l()],It.prototype,"icon",null),s([l()],It.prototype,"iconNumber",void 0),s([l()],It.prototype,"label",null),s([l(),ye("esri/widgets/Expand/t9n/Expand")],It.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],It.prototype,"messagesCommon",void 0),s([l()],It.prototype,"mode",void 0),s([l()],It.prototype,"placement",void 0),s([l()],It.prototype,"view",null),s([l({type:hw})],It.prototype,"viewModel",void 0),It=s([b("esri.widgets.Expand")],It);var ys=It;var Sa=class extends wc(zt.EventedAccessor){constructor(t){super(t),this._initialViewpoint=null,this._goingHomeController=null,this.go=this.go.bind(this)}destroy(){this._cancelGo(),this.view=null}get state(){return this.view?.ready?this._goingHomeController?"going-home":"ready":"disabled"}set view(t){this._initialViewpoint=null,this._set("view",t),t&&t.when().then(()=>{this.view===t&&(this._initialViewpoint=t.viewpoint.clone(),this.notifyChange("viewpoint"))})}get viewpoint(){return this._get("viewpoint")||this._initialViewpoint}set viewpoint(t){this._set("viewpoint",t)}go(){return f(this,null,function*(){if(!this.view?.ready)throw new D("home:disabled-state","Cannot go when disabled.");this._cancelGo(),this.emit("go");let t=new AbortController;this._goingHomeController=t;try{yield this.view?.when(),yield this.callGoTo({target:this.viewpoint,options:{signal:t.signal}})}catch{}this._goingHomeController=null})}cancelGo(){this._cancelGo()}_cancelGo(){let{_goingHomeController:t}=this;t&&t.abort(),this._goingHomeController=null}};s([l()],Sa.prototype,"_goingHomeController",void 0),s([l({readOnly:!0})],Sa.prototype,"state",null),s([l()],Sa.prototype,"view",null),s([l({type:ct})],Sa.prototype,"viewpoint",null),s([l()],Sa.prototype,"go",null),s([l()],Sa.prototype,"cancelGo",null),Sa=s([b("esri.widgets.Home.HomeViewModel")],Sa);var fw=Sa;var EU={base:"esri-home"},bo=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.uiStrings=void 0,this.viewModel=new fw,this._go=()=>{let{viewModel:e}=this;e.state==="going-home"?e.cancelGo():e.go()},gh(z.getLogger(this),"Home","arcgis-home",{version:"4.32"})}loadDependencies(){return we({button:()=>import("./chunk-BTQPJTPG.js"),loader:()=>import("./chunk-JHM3YD5O.js")})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"home"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get viewpoint(){return this.viewModel.viewpoint}set viewpoint(t){this.viewModel.viewpoint=t}cancelGo(){this.viewModel.cancelGo()}go(){return this.viewModel.go()}render(){let{messagesCommon:t,messages:i,icon:e}=this,n=this.viewModel?.state,o=n==="going-home";return g("div",{class:this.classes(EU.base,be.widget)},g("calcite-button",{class:be.widgetButton,disabled:n==="disabled",iconStart:o?void 0:e,kind:"neutral",label:i.widgetLabel,onclick:this._go,scale:o?"s":"m",title:n==="going-home"?t.cancel:i.title},o?g("calcite-loader",{inline:!0,label:""}):null))}};s([l()],bo.prototype,"goToOverride",null),s([l()],bo.prototype,"icon",null),s([l()],bo.prototype,"label",null),s([l(),ye("esri/widgets/Home/t9n/Home")],bo.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],bo.prototype,"messagesCommon",void 0),s([l()],bo.prototype,"uiStrings",void 0),s([l()],bo.prototype,"view",null),s([l({type:fw}),vr("go")],bo.prototype,"viewModel",void 0),s([l({type:ct})],bo.prototype,"viewpoint",null),bo=s([b("esri.widgets.Home")],bo);var yy=bo;var _m="esri-search",Dl={base:_m,autocomplete:`${_m}__autocomplete`,dropdown:`${_m}__dropdown`,container:`${_m}__container`,form:`${_m}__form`};var Fl="esri-search-result-renderer",_s={base:Fl,showMoreResults:`${Fl}__more-results--show-more-results`,moreResults:`${Fl}__more-results`,moreResultsList:`${Fl}__more-results-list`,moreResultsHeader:`${Fl}__more-results-header`,moreResultsItem:`${Fl}__more-results-item`,moreResultsListHeader:`${Fl}__more-results-list-header`};var ni=class extends en.IdentifiableMixin(K){constructor(t){super(t),this.autoNavigate=null,this.filter=null,this.getResults=null,this.getSuggestions=null,this.maxResults=null,this.maxSuggestions=null,this.minSuggestCharacters=null,this.outFields=null,this.placeholder="",this.popupEnabled=null,this.popupTemplate=null,this.prefix="",this.resultGraphicEnabled=null,this.resultSymbol=null,this.suggestionsEnabled=null,this.suffix="",this.withinViewEnabled=!1,this.zoomScale=null}};s([l()],ni.prototype,"autoNavigate",void 0),s([l()],ni.prototype,"filter",void 0),s([l()],ni.prototype,"getResults",void 0),s([l()],ni.prototype,"getSuggestions",void 0),s([l()],ni.prototype,"maxResults",void 0),s([l()],ni.prototype,"maxSuggestions",void 0),s([l()],ni.prototype,"minSuggestCharacters",void 0),s([l()],ni.prototype,"outFields",void 0),s([l()],ni.prototype,"placeholder",void 0),s([l()],ni.prototype,"popupEnabled",void 0),s([l({type:mc})],ni.prototype,"popupTemplate",void 0),s([l()],ni.prototype,"prefix",void 0),s([l()],ni.prototype,"resultGraphicEnabled",void 0),s([l()],ni.prototype,"resultSymbol",void 0),s([l()],ni.prototype,"suggestionsEnabled",void 0),s([l()],ni.prototype,"suffix",void 0),s([l()],ni.prototype,"withinViewEnabled",void 0),s([l()],ni.prototype,"zoomScale",void 0),ni=s([b("esri.widgets.Search.SearchSource")],ni);var kd=ni;var kU=/https?:\/\/services.*\.arcgis\.com/i,TU=/(?:\{([^}]+)\})/g,Td=()=>z.getLogger("esri.widgets.Search.support.layerSearchUtils");function u1(t,i){let{exactMatch:e=!1,location:n,maxResults:o,spatialReference:r,source:a,sourceIndex:c,suggestResult:d,view:u}=t,{layer:p,filter:h,zoomScale:y}=a,A=u?.scale,C=m1(a,u),M=i?.signal;return f1(p).then(()=>{let I=p.popupTemplate;return I?I.getRequiredFields(p.fieldsIndex):null}).then(I=>{let{objectIdField:G,returnZ:X}=p,L=A1(a);if(!gw(p,L))throw Td().error("invalid-field: displayField is invalid."),new D("getResults():invalid-field","displayField is invalid.");let Z=I?.length?I:[L],ge=a.outFields||Z,Ce=h1(ge);if(ge.includes(G)||Ce||ge.push(G),p.floorInfo?.floorField&&ge.push(p.floorInfo.floorField),!(Ce||_y(p,ge)))throw Td().error("invalid-field: outField is invalid."),new D("getResults():invalid-field","outField is invalid.");let Me=p.createQuery(),{orderByFields:Yt}=a;if(Yt&&(Me.orderByFields=Yt),r){Me.outSpatialReference=r;let Ji=1/Mh(r);Ji&&(Me.maxAllowableOffset=Ji)}let Ve=p.geometryType==="mesh"||p.geometryType==="multipatch",cr=p.capabilities?.data?.supportsZ&&!Ve;if(Me.returnZ=cr&&X!==!1,Me.returnGeometry=!0,Me.multipatchOption=Ve?"xyFootprint":null,ge&&(Me.outFields=ge),n)Me.geometry=n;else if(d.key)Me.objectIds=[d.key];else{let Ji=a.searchFields||[L];if(!_y(p,Ji))throw Td().error("invalid-field: search field is invalid."),new D("getResults():invalid-field","search field is invalid.");if(b1(p)&&(Me.num=o),C&&(Me.geometry=C),!d.text?.trim())return[];let _u=d.text,{prefix:Yl="",suffix:ML=""}=a,EL=w1(`${Yl}${_u}${ML}`);v1(p)&&y1(p,Ji)&&!e&&_u&&(Me.fullText=_1({text:_u,searchFields:Ji}));let kL=C1({searchTerm:EL,layer:p,searchFields:Ji,filter:h,exactMatch:e,query:Me,type:"search"});if(Me.where=kL,!g1(Me))return[]}return p.queryFeatures(Me,{signal:M}).then(Ji=>jU(Ji,u,a,c,L,A,y))})}function p1(t,i){let{source:e,spatialReference:n,view:o,suggestTerm:r,maxSuggestions:a,sourceIndex:c,exactMatch:d}=t,{layer:u,filter:p}=e,h=i?.signal,y=m1(e,o);return f1(u).then(()=>{if(!b1(u))return[];let A=A1(e),C=e.searchFields||[A],M=[];e.suggestionTemplate?e.suggestionTemplate.replaceAll(TU,(cr,Ji)=>(M.push(Ji),cr)):M.push(A);let I=h1(M);M.includes(u.objectIdField)||I||M.push(u.objectIdField);let G=gw(u,A),X=I||_y(u,M),L=_y(u,C);if(!G)throw Td().error("invalid-field: displayField is invalid."),new D("getSuggestions():invalid-field","displayField is invalid.");if(!X)throw Td().error("invalid-field: outField is invalid."),new D("getSuggestions():invalid-field","outField is invalid.");if(!L)throw Td().error("invalid-field: search field is invalid."),new D("getSuggestions():invalid-field","search field is invalid.");let Z=u.createQuery(),{orderByFields:ge}=e;if(ge&&(Z.orderByFields=ge),Z.outSpatialReference=n,Z.returnGeometry=!1,Z.num=a,Z.outFields=M,y&&(Z.geometry=y),!r.trim())return[];let{prefix:Ce="",suffix:Me=""}=e,Yt=w1(`${Ce}${r}${Me}`);v1(u)&&y1(u,C)&&!d&&r&&(Z.fullText=_1({text:r,searchFields:C}));let Ve=C1({searchTerm:Yt,layer:u,searchFields:C,filter:p,exactMatch:d,query:Z,type:"suggest"});return Z.where=Ve,g1(Z)?u.queryFeatures(Z,{signal:h}).then(cr=>NU(cr,e,c,A)):[]})}function m1(t,i){let{filter:e,withinViewEnabled:n}=t,o=i?.extent;return e?.geometry??(n&&o?o:void 0)}function h1(t){return t&&t.includes("*")}function f1(t){return f(this,null,function*(){t&&(yield t.load())})}function g1(t){return!(!t.fullText&&!t.where)}function y1(t,i){let e=t?.indexes;return!e||!i?.length?!1:e.filter(n=>n.indexType==="FullText").some(n=>{let o=n.fields?.split(",").map(r=>r.trim().toLowerCase())||[];return i.every(r=>o.includes(r.toLowerCase()))})}function _1({text:t,searchFields:i}){return t.trim().split(" ").filter(e=>!!e.trim()).map(e=>new uI({onFields:i,searchTerm:e,searchType:"prefix"}))}function v1(t){return t?.capabilities?.query?.supportsFullTextSearch??!1}function b1(t){return t?.capabilities?.query?.supportsPagination??!1}function DU(t){return t?.fieldsIndex?.fields?.find(i=>i.type==="string")?.name??""}function A1(t){return t.displayField||t.layer.displayField||DU(t.layer)}function _y(t,i){return!(!t||!i?.length)&&i.every(e=>gw(t,e))}function gw(t,i){return!!t.getField(i)}function FU(t){for(let i=0;i<t.length;i++)if(t.charCodeAt(i)>255)return!0;return!1}function RU({codedValues:t},i,e){return Qs(t??[],n=>{let o=n.name,r=e?o:o.toLowerCase();return(e?i:i.toLowerCase())===r?n.code.toString():null})??null}function w1(t){return t.replaceAll("'","''")}function vm(t,i){let e=i?.where;return e?`(${t}) AND (${e})`:t}function PU({currentTerm:t,field:i,filter:e,exactMatch:n,url:o,type:r}){let a=i?.type,c=i?.name;if(a==="string"||a==="date"||a==="global-id"){let d=kU.test(o??""),u=d&&FU(t)?"N":"";return vm(n&&r==="search"?`${c} = ${u}'${t}'`:d?`${c} LIKE ${u}${`'${t}%'`}`:`${`LOWER(${c})`} LIKE ${u}${`'${t.toLowerCase()}%'`}`,e)}if(a==="oid"||a==="small-integer"||a==="integer"||a==="single"||a==="double"){let d=Number(t);return isNaN(d)?null:vm(`${c} = ${d}`,e)}return vm(`${c} = ${t}`,e)}function OU(t,i){return t?` OR (${i})`:`(${i})`}function C1({searchTerm:t,layer:i,searchFields:e,filter:n,exactMatch:o,query:r,type:a}){let{definitionExpression:c,url:d}=i,u="";return!r.fullText&&t&&e&&e.forEach(p=>{let h=i.getField(p),y=i.getFieldDomain?.(p,{excludeImpliedDomains:kt("esri-widget-legacy-field-domain-calculation")}),A=(y&&y.type==="coded-value"?RU(y,t,o):null)||t||null;if(A!==null){let C=PU({currentTerm:A,field:h,filter:n,exactMatch:o,url:d,type:a});C&&(u+=OU(u,C))}}),c&&u?`(${c}) AND (${u})`:c||u}function VU(t,i){let e=null,{codedValues:n}=t;return n&&n.length&&n.some(o=>o.code===i&&(e=o.name,!0)),e}function LU(t,i){return t[i]??t[Object.keys(t).find(e=>e.toLowerCase()===i.toLowerCase())]}function x1(t,i,e){let n=t.sourceLayer,{attributes:o}=t,r=n.getFieldDomain?.(e,{feature:t,excludeImpliedDomains:kt("esri-widget-legacy-field-domain-calculation")});if(i)return vi(i,o);if(e&&o){let a=n.getField(e),c=LU(o,e);return c==null?"":r&&r.type==="coded-value"?VU(r,c)??"":a?.type==="date"?fS(new Date(c)):typeof c=="number"?c.toString():typeof c!="string"?"":c.trim()}return""}function BU(t,i,e,n){let o=t.sourceLayer,{attributes:r}=t,{objectIdField:a}=o,c=a?r[a]:null;return{text:x1(t,i.suggestionTemplate,n),key:c,sourceIndex:e}}function NU(t,i,e,n){return t.features.map(o=>BU(o,i,e,n))}function HU(t){return t!=null&&t.minScale!=null&&t.maxScale!=null}function UU(t,i,e,n,o,r,a){let c=t.clone(),d=t.sourceLayer,u=d?.objectIdField,p=u?t.attributes[u]:null,h=x1(t,e.searchTemplate,o);r!=null&&HU(d)&&(d.minScale&&d.minScale<r?r=d.minScale:d.maxScale&&d.maxScale>r&&(r=d.maxScale));let y=c.geometry?Hu(c.geometry,i??void 0,r??void 0):void 0,A=typeof a=="number"&&y?Nu(Qe(y),i??void 0,a):y,C=t.clone();return A!=null&&(C.geometry=ja.fromExtent(A)),{extent:A,target:C,feature:c,key:p,name:h,sourceIndex:n}}function jU(t,i,e,n,o,r,a){return t.features.map(c=>UU(c,i,e,n,o,r,a))}var yw,tr=yw=class extends kd{constructor(t){super(t),this.displayField=null,this.exactMatch=null,this.orderByFields=null,this.searchFields=null,this.searchTemplate=null,this.suggestionTemplate=null,this.getResults=(i,e)=>u1(x({source:this},i),e),this.getSuggestions=(i,e)=>p1(x({source:this},i),e)}set layer(t){this._set("layer",t),t&&t.load().catch(()=>{})}get name(){return this._getLayerTitle()??""}set name(t){this._overrideIfSome("name",t)}clone(){return new yw({autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Qe(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,displayField:this.displayField,exactMatch:this.exactMatch,layer:this.layer,searchFields:this.searchFields?Qe(this.searchFields):null,suggestionTemplate:this.suggestionTemplate,zoomScale:this.zoomScale})}_getFirstStringField(){return this.layer.fieldsIndex?.fields.find(t=>t.type==="string")?.name??""}_getDisplayField(){return this.displayField||this.layer.displayField||this._getFirstStringField()}_getSearchFieldsString(){let{layer:t,searchFields:i}=this;return t.loaded?`: ${(i||[this._getDisplayField()]).map(e=>t.getField(e)?.alias||e).join(", ")}`:""}_getLayerTitle(){let{layer:t}=this;if(!t)return;let{title:i}=t;return i?`${i}${this._getSearchFieldsString()}`:void 0}};s([l({json:{read:{source:"field.name"},write:{target:"field.name"}}})],tr.prototype,"displayField",void 0),s([l({json:{read:{source:"field.exactMatch"},write:{target:"field.exactMatch"}}})],tr.prototype,"exactMatch",void 0),s([l({value:null})],tr.prototype,"layer",null),s([l()],tr.prototype,"name",null),s([l({type:[String],json:{write:!0}})],tr.prototype,"orderByFields",void 0),s([l()],tr.prototype,"searchFields",void 0),s([l()],tr.prototype,"searchTemplate",void 0),s([l()],tr.prototype,"suggestionTemplate",void 0),tr=yw=s([b("esri.widgets.Search.LayerSearchSource")],tr);var Rl=tr;function S1(t){return!!t&&typeof t.x=="number"&&typeof t.y=="number"}function I1(t){return t&&typeof t.xmin=="number"&&typeof t.ymin=="number"&&typeof t.xmax=="number"&&typeof t.ymax=="number"}var vs=class extends K{constructor(t){super(t),this.address=null,this.attributes=null,this.extent=null,this.location=null,this.score=null}};s([l({type:String,json:{write:!0}})],vs.prototype,"address",void 0),s([l({type:Object,json:{write:!0}})],vs.prototype,"attributes",void 0),s([l({type:Di,json:{write:!0}})],vs.prototype,"extent",void 0),s([l({type:xe,json:{write:!0}})],vs.prototype,"location",void 0),s([l({type:Number,json:{write:!0}})],vs.prototype,"score",void 0),vs=s([b("esri.rest.support.AddressCandidate")],vs);var vy=vs;var Wi=class extends K{constructor(t){super(t),this.address=null,this.apiKey=null,this.categories=null,this.countryCode=null,this.forStorage=null,this.location=null,this.locationType=null,this.magicKey=null,this.maxLocations=null,this.outFields=null,this.outSpatialReference=null,this.searchExtent=null}};s([l({type:Object,json:{write:!0}})],Wi.prototype,"address",void 0),s([l(bc)],Wi.prototype,"apiKey",void 0),s([l({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,i)=>{i.category=t?t.join(","):null}}}})],Wi.prototype,"categories",void 0),s([l({type:String,json:{write:!0}})],Wi.prototype,"countryCode",void 0),s([l({type:Boolean,json:{write:!0}})],Wi.prototype,"forStorage",void 0),s([l({type:xe,json:{write:{writer:(t,i)=>{i.location=t?t.clone().normalize():null}}}})],Wi.prototype,"location",void 0),s([l({type:["rooftop","street"],json:{write:!0}})],Wi.prototype,"locationType",void 0),s([l({type:String,json:{write:!0}})],Wi.prototype,"magicKey",void 0),s([l({type:Number,json:{write:!0}})],Wi.prototype,"maxLocations",void 0),s([l({type:[String],json:{write:{writer:(t,i)=>{i.outFields=t?t.join(","):null}}}})],Wi.prototype,"outFields",void 0),s([l({type:Vt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Wi.prototype,"outSpatialReference",void 0),s([l({type:Di,json:{write:{writer:(t,i)=>{let e=t?t.shiftCentralMeridian():null;i.searchExtent=e}}}})],Wi.prototype,"searchExtent",void 0),Wi=s([b("esri.rest.support.AddressToLocationsParameters")],Wi),Wi.from=to(Wi);var by=Wi;function M1(t,i,e){return f(this,null,function*(){i=by.from(i);let n=gc(t),p=i.toJSON(),{address:o}=p,r=Fn(p,["address"]),a=O(x(x({},o),r),{f:"json"}),c=yc(x(x({},n.query),a)),d=fc(c,e),u=`${n.path}/findAddressCandidates`;return pn(u,d).then(zU)})}function zU({data:t}){if(!t)return[];let{candidates:i,spatialReference:e}=t;return i?i.map(n=>{if(!n)return;let{extent:o,location:r}=n,a=!o||I1(o);return S1(r)&&a?(o&&(o.spatialReference=e),r&&(r.spatialReference=e),vy.fromJSON(n)):void 0}):[]}var Ia=class extends K{constructor(t){super(t),this.apiKey=null,this.location=null,this.locationType=null,this.outSpatialReference=null}};s([l(bc)],Ia.prototype,"apiKey",void 0),s([l({type:xe,json:{write:{writer:(t,i)=>{let e=t?t.clone().normalize():null,n=e!==void 0;i.location=n?e:null}}}})],Ia.prototype,"location",void 0),s([l({type:["street","rooftop"],json:{write:!0}})],Ia.prototype,"locationType",void 0),s([l({type:Vt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Ia.prototype,"outSpatialReference",void 0),Ia=s([b("esri.rest.support.LocationToAddressParameters")],Ia),Ia.from=to(Ia);var Ay=Ia;function E1(t,i,e){return f(this,null,function*(){i=Ay.from(i);let n=gc(t),o=O(x({},i.toJSON()),{f:"json"}),r=yc(x(x({},n.query),o)),a=fc(r,e),c=`${n.path}/reverseGeocode`;return pn(c,a).then(GU)})}function GU({data:t}){if(!t)return;let{address:i,location:e}=t,n=i?.Match_addr||"";return vy.fromJSON({address:n,attributes:i||{},location:e,score:100})}var Dd=class extends K{constructor(t){super(t),this.isCollection=null,this.magicKey=null,this.text=null}};s([l({type:Boolean,json:{write:!0}})],Dd.prototype,"isCollection",void 0),s([l({type:String,json:{write:!0}})],Dd.prototype,"magicKey",void 0),s([l({type:String,json:{write:!0}})],Dd.prototype,"text",void 0),Dd=s([b("esri.rest.support.SuggestionCandidate")],Dd);var k1=Dd;var Un=class extends K{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.location=null,this.maxSuggestions=null,this.outSpatialReference=null,this.searchExtent=null,this.text=null}};s([l(bc)],Un.prototype,"apiKey",void 0),s([l({type:[String],json:{read:{source:"category",reader:t=>t?t.split(","):null},write:{target:"category",writer:(t,i)=>{i.category=t?t.join(","):null}}}})],Un.prototype,"categories",void 0),s([l({type:String,json:{write:!0}})],Un.prototype,"countryCode",void 0),s([l({type:xe,json:{write:{writer:(t,i)=>{i.location=t?t.clone().normalize():null}}}})],Un.prototype,"location",void 0),s([l({type:Number,json:{write:!0}})],Un.prototype,"maxSuggestions",void 0),s([l({type:Vt,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Un.prototype,"outSpatialReference",void 0),s([l({type:Di,json:{write:{writer:(t,i)=>{let e=t?t.shiftCentralMeridian():null;i.searchExtent=JSON.stringify(e)}}}})],Un.prototype,"searchExtent",void 0),s([l({type:String,json:{write:!0}})],Un.prototype,"text",void 0),Un=s([b("esri.rest.support.SuggestLocationsParameters")],Un),Un.from=to(Un);var wy=Un;function T1(t,i,e){return f(this,null,function*(){let n=gc(t),o=O(x({},(i=wy.from(i)).toJSON()),{f:"json"}),r=yc(x(x({},n.query),o)),a=fc(r,e),c=`${n.path}/suggest`;return pn(c,a).then(WU)})}function WU(t){let{data:i}=t;if(!i)return[];let{suggestions:e}=i;return e?e.map(n=>new k1(n)):[]}var QU="Single Line Input",qU=3e5;function D1(t,i){return t.location?YU(t,i):ZU(t,i)}function F1(t,i){if(i.localSearchDisabled)return null;let e=t?.scale;return typeof e=="number"&&e<=qU?t?.extent?.center:null}function R1(t,i){return f(this,null,function*(){let{source:e,spatialReference:n,view:o,suggestTerm:r,maxSuggestions:a,sourceIndex:c}=t,d=new wy,{apiKey:u,url:p}=e,h=L1(e,o),y=i?.signal;if(!p)return null;u&&(d.apiKey=u),e.categories&&(d.categories=e.categories),n&&(d.outSpatialReference=n);let A=F1(o,e);if(A&&(d.location=A),!r.trim())return null;let{prefix:C="",suffix:M=""}=e,I=`${C}${r}${M}`;return d.text=I,h&&(d.searchExtent=h),d.maxSuggestions=a,e.countryCode&&(d.countryCode=e.countryCode),T1(p,d,{signal:y}).then(G=>JU(G,c))})}function P1(t){return!!t&&/(?:geocode-api\.arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(t)}function O1(t){return!!t&&/(?:\/servers\/[\da-z.-]+\/rest\/services\/world\/geocodeserver).*/i.test(t)}function _w(t){return!!t&&/(?:arcgis\.com\/arcgis\/rest\/services\/world\/geocodeserver).*/i.test(t)}var V1="https://geocode-api.arcgis.com/arcgis/rest/services/World/GeocodeServer";function YU(t,i){return f(this,null,function*(){let{source:e,spatialReference:n,location:o,sourceIndex:r,view:a}=t,{apiKey:c,url:d,zoomScale:u,defaultZoomScale:p}=e;if(d==null)return[];let h=a?.scale,y=i?.signal,A=new Ay({location:o});c&&(A.apiKey=c),n&&(A.outSpatialReference=n);try{return B1([yield E1(d,A,{signal:y})],{sourceIndex:r,scale:h,view:a,zoomScale:u,defaultZoomScale:p})}catch{return[]}})}function L1(t,i){let{filter:e,withinViewEnabled:n}=t,o=i?.scale,r=i?.extent,a=e?.geometry;return(a?Hu(a,i??void 0,o):void 0)||(n&&r?r:void 0)}function ZU(t,i){return f(this,null,function*(){let{source:e,suggestResult:n,spatialReference:o,view:r,maxResults:a,sourceIndex:c}=t,d=e?.zoomScale,u=e?.defaultZoomScale;if(!n.text?.trim())return null;let h=!n.key&&e.prefix?e.prefix:"",y=!n.key&&e.suffix?e.suffix:"",A=`${h}${n.text}${y}`,C=new by,{apiKey:M,url:I}=e,G=r?.scale,X=L1(e,r),L=i?.signal;if(M&&(C.apiKey=M),!I)return null;e.categories&&(C.categories=e.categories),e.locationType&&(C.locationType=e.locationType),o&&(C.outSpatialReference=o);let Z=F1(r,e);Z&&(C.location=Z),C.maxLocations=a,X&&(C.searchExtent=X),e.countryCode&&(C.countryCode=e.countryCode);let{key:ge}=n,Ce=`${ge}`;return ge&&(C.magicKey=Ce),C.address={},C.address[e.singleLineFieldName||QU]=A,e.outFields&&(C.outFields=e.outFields),M1(I,C,{signal:L}).then(Me=>B1(Me,{key:Ce,scale:G,sourceIndex:c,view:r,zoomScale:d,defaultZoomScale:u}))})}function KU(t,i){return{text:t.text,key:t.magicKey,sourceIndex:i}}function JU(t,i){return t.map(e=>KU(e,i))}function $U(t,i){let{key:e,scale:n,sourceIndex:o,view:r,zoomScale:a,defaultZoomScale:c}=i,{attributes:d,extent:u,location:p,address:h}=t,y=new dt({geometry:p,attributes:d}),A=u||p,C=A?Hu(A,r??void 0,n??void 0):void 0,M=C?typeof a=="number"?Nu(C,r??void 0,a):typeof c=="number"&&A?.type==="point"?Nu(C,r??void 0,c):C:null,I=p?`${p.x},${p.y}`:"",G=h||I,X=y.clone();return M!=null&&(X.geometry=ja.fromExtent(M)),{extent:M,feature:y,target:X,key:e,name:G,sourceIndex:o}}function B1(t,i){return t.filter(Boolean).map(e=>$U(e,i))}var vw,nn=vw=class extends kd{constructor(t){super(t),this.apiKey=null,this.categories=null,this.countryCode=null,this.defaultZoomScale=null,this.localSearchDisabled=!1,this.locationType=null,this.name="",this.placeholder="",this.searchTemplate="",this.singleLineFieldName=null,this.suggestionsEnabled=null,this.url=null,this.zoomScale=null,this.getResults=(i,e)=>D1(x({source:this},i),e),this.getSuggestions=(i,e)=>R1(x({source:this},i),e)}clone(){return new vw({apiKey:this.apiKey,autoNavigate:this.autoNavigate,filter:this.filter,maxResults:this.maxResults,maxSuggestions:this.maxSuggestions,minSuggestCharacters:this.minSuggestCharacters,outFields:this.outFields?Qe(this.outFields):null,placeholder:this.placeholder,popupEnabled:this.popupEnabled,prefix:this.prefix,resultGraphicEnabled:this.resultGraphicEnabled,resultSymbol:this.resultSymbol?this.resultSymbol.clone():null,suggestionsEnabled:this.suggestionsEnabled,suffix:this.suffix,withinViewEnabled:this.withinViewEnabled,categories:this.categories?Qe(this.categories):null,countryCode:this.countryCode,locationType:this.locationType,searchTemplate:this.searchTemplate,singleLineFieldName:this.singleLineFieldName,zoomScale:this.zoomScale})}};s([l()],nn.prototype,"apiKey",void 0),s([l()],nn.prototype,"categories",void 0),s([l()],nn.prototype,"countryCode",void 0),s([l({json:{write:!0}})],nn.prototype,"defaultZoomScale",void 0),s([l()],nn.prototype,"localSearchDisabled",void 0),s([l()],nn.prototype,"locationType",void 0),s([l({json:{write:!0}})],nn.prototype,"name",void 0),s([l({json:{write:!0}})],nn.prototype,"placeholder",void 0),s([l()],nn.prototype,"searchTemplate",void 0),s([l({json:{write:!0}})],nn.prototype,"singleLineFieldName",void 0),s([l({json:{read:{source:"suggest"},write:{target:"suggest"}}})],nn.prototype,"suggestionsEnabled",void 0),s([l({json:{write:!0}})],nn.prototype,"url",void 0),s([l({json:{write:!0}})],nn.prototype,"zoomScale",void 0),nn=vw=s([b("esri.widgets.Search.LocatorSearchSource")],nn);var bw=nn;var H1=()=>z.getLogger("esri.widgets.support.geolocationUtils"),XU={maximumAge:0,timeout:15e3,enableHighAccuracy:!0};function ej(){let t=!!kt("esri-geolocation");return t||H1().warn("geolocation-unsupported","Geolocation unsupported."),t}function tj(){let t=window.isSecureContext;return t||H1().warnOnce("insecure-context","Geolocation requires a secure origin."),t}function Aw(){return ej()&&tj()}function U1(t){return t??=XU,new Promise((e,n)=>{setTimeout(()=>n(new D("geolocation:timeout","getting the current geolocation position timed out")),15e3),navigator.geolocation.getCurrentPosition(e,n,t??void 0)})}var N1;function j1(t,i){if(N1)return N1(t,i);let{position:e,view:n}=t,o=ij(e),r=o?.coords;if(!r)throw new D("geometry-service:no-coords","Geolocation has no coordinates");return oj(nj(r),n,i)}function ij(t){let i=t&&t.coords||{},e={accuracy:i.accuracy,altitude:i.altitude,altitudeAccuracy:i.altitudeAccuracy,heading:i.heading,latitude:i.latitude,longitude:i.longitude,speed:i.speed,toJSON:()=>({})};return t&&{coords:e,timestamp:t.timestamp,toJSON:()=>({})}}function nj({longitude:t,latitude:i,altitude:e}){return new xe({longitude:t,latitude:i,z:e||void 0,spatialReference:{wkid:4326}})}function oj(t,i,e){if(!i)return Promise.resolve(t);let n=i.spatialReference;return n.isWGS84?Promise.resolve(t):n.isWebMercator?Promise.resolve(lc(t)):rj(e).then(o=>{if(!o)throw new D("geometry-service:missing-url","Geometry service URL is missing");let r=new Gh({geometries:[t],outSpatialReference:n});return Wh(o,r,e).then(a=>a[0])})}function rj(t){if(Ws.geometryServiceUrl)return Promise.resolve(Ws.geometryServiceUrl);let i=gr.getDefault();return i.load(t).catch(()=>{}).then(()=>i.helperServices?.geometry?.url)}function on(t,i){return t.hasOwnProperty(i)&&t[i]!=null&&t[i]!==""}var aj=()=>yS("esri/widgets/Search/t9n/Search"),z1="highlight",Cy=ee.ofType({key:t=>t.layer?"layer":"locator",base:kd,typeMap:{layer:Rl,locator:bw}}),G1=Vt.WGS84,sj="esri/images/search/search-symbol-32.png",lj=/<[\s\S]*?>/g,Fd=-1,ke=class extends wc(zt.EventedMixin(R)){constructor(t){super(t),this._gotoController=null,this._searching=null,this._updatingPromise=null,this._createdFeatureLayers=[],this.autoNavigate=!0,this.autoSelect=!0,this.defaultPopupTemplate=null,this.defaultSources=new Cy,this.defaultSymbols={point:new oI({url:xh(sj),size:24,width:24,height:24}),polyline:new hc({color:[130,130,130,1],width:2}),polygon:new Nh({color:[235,235,235,.4],outline:{color:[130,130,130,1],width:2}})},this.includeDefaultSources=!0,this.maxInputLength=128,this.maxResults=6,this.maxSuggestions=6,this.messages=null,this.minSuggestCharacters=3,this.popupEnabled=!0,this.popupTemplate=null,this.portal=gr.getDefault(),this.resultCount=null,this.resultGraphicEnabled=!0,this.resultGraphic=null,this.results=null,this.selectedSuggestion=null,this.searchAllEnabled=!0,this.selectedResult=null,this.sources=new Cy,this.suggestionDelay=350,this.suggestionCount=null,this.suggestions=null,this.suggestionsEnabled=!0,this.view=null}initialize(){let t=()=>f(this,null,function*(){let i=yield aj();this.messages=i,this.defaultPopupTemplate=new mc({title:i.searchResult,content:"{Match_addr}"})});t(),this.addHandles([T(()=>[this.includeDefaultSources,this.view,this.portal],()=>this._update(),re),wh(t)])}destroy(){this._destroyFeatureLayers(),this._abortGoTo(),this.clearGraphics()}get activeSource(){return this.allSources.at(this.activeSourceIndex)??null}get activeSourceIndex(){return this.allSources.length===1||!this.searchAllEnabled?0:Fd}set activeSourceIndex(t){this._overrideIfSome("activeSourceIndex",t)}get allPlaceholder(){return this.messages?.allPlaceholder}set allPlaceholder(t){this._overrideIfSome("allPlaceholder",t)}get allSources(){let{sources:t,defaultSources:i,includeDefaultSources:e}=this,n=typeof e=="function"?e.call(null,{sources:t,defaultSources:i}):e?i.concat(t):t,o=this._get("allSources")||new Cy;return o.removeAll(),o.addMany(n.filter(Boolean)),o}get locationEnabled(){return this._get("locationEnabled")||Aw()}set locationEnabled(t){if(t===void 0)return void this._clearOverride("locationEnabled");let i=Aw();if(t&&!i){let e=new D("locationEnabled:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});z.getLogger(this).error(e)}this._override("locationEnabled",!!t&&i)}get placeholder(){let{allSources:t,activeSourceIndex:i,allPlaceholder:e}=this;return i===Fd?e??"":t.at(i)?.placeholder??""}set searchTerm(t){this._set("searchTerm",t||""),this.clearGraphics(),this.selectedSuggestion&&this.selectedSuggestion.text!==t&&this._set("selectedSuggestion",null),t===""&&this._clear()}get searchTerm(){return this._get("searchTerm")||""}get state(){return this._searching?"searching":this.updating?"loading":this.allSources.length===0?"disabled":"ready"}get updating(){return this._updatingPromise!=null}clear(){this.searchTerm=""}clearGraphics(){this._removeHighlight(),this._closePopup();let{view:t,resultGraphic:i}=this;t&&i&&t.graphics.remove(i),this._set("resultGraphic",null)}search(t,i){this.emit("search-start"),this.clearGraphics();let e=this._createSuggestionForSearch(t),n=f(this,null,function*(){try{yield this.when();let o=yield this._getResultsFromSources(e,i);if(i?.signal?.aborted)return null;let r={activeSourceIndex:this.activeSourceIndex,searchTerm:e.text??"",numResults:0,numErrors:0,errors:[],results:[]};this._formatResponse(r,o,e);let a=this._getFirstResult(r.results),c=e.location&&a?a.name:e.text,d=c?.replace(lj,"");return this._set("searchTerm",d),(e.key&&typeof e.sourceIndex=="number"||e.location)&&this._set("selectedSuggestion",e),this._set("results",r.results),this._set("resultCount",r.results.reduce((u,p)=>u+(p.results?.length??0),0)),this.emit("search-complete",r),yield this._selectFirstResult(a),r}finally{this._clearSearching()}});return this._searching=n,n}searchNearby(t){return f(this,null,function*(){if(!this.locationEnabled){let e=new D("searchNearby:geolocation-unsupported","Geolocation API is unsupported.",{geolocation:navigator.geolocation});throw z.getLogger(this).error(e),e}let i=f(this,null,function*(){try{let e=yield U1(),n=yield j1({position:e,view:this.view},t);return yield this.search(n,t)}finally{this._clearSearching()}});return this._searching=i,i})}select(t){return f(this,null,function*(){if(this.clearGraphics(),!t){let Ve=new D("select:missing-parameter","Cannot select without a searchResult.",{searchResult:t});throw z.getLogger(this).error(Ve),Ve}let{view:i}=this,e=on(t,"sourceIndex")?t.sourceIndex:this._getSourceIndexOfResult(t),n=e!=null?this.allSources.at(e):null;if(!n){let Ve=new D("select:missing-source","Cannot select without a source.",{source:n});throw z.getLogger(this).error(Ve),Ve}let o=n instanceof Rl?this._getLayerSourcePopupTemplate(n):n.popupTemplate,r=n.resultSymbol||this._getDefaultSymbol(t),a=on(n,"resultGraphicEnabled")?n.resultGraphicEnabled:this.resultGraphicEnabled,c=on(n,"autoNavigate")?n.autoNavigate:this.autoNavigate,d=on(n,"popupEnabled")?n.popupEnabled:this.popupEnabled,u=d?o||this.popupTemplate||this.defaultPopupTemplate:null,{feature:p}=t;if(!p){let Ve=new D("select:missing-feature","Cannot select without a feature.",{feature:p});throw z.getLogger(this).error(Ve),Ve}let{attributes:h,geometry:y,layer:A,sourceLayer:C}=p,M=y?Jv(y):null,I={layerViewQuery:this._getLayerView(p),elevationQuery:i&&M!=null?dM(M,i):Promise.resolve(M)},G=yield ku(I),X=G.layerViewQuery.value,L=G.elevationQuery.value;r instanceof rI&&(r.text=t.name);let Z=i&&c?t.target||t.extent:null;yield Z!=null?this._goToSearchResult(Z):Promise.resolve();let Ce=X?p:new dt({geometry:y,symbol:r,attributes:h,layer:A,sourceLayer:C,popupTemplate:u}),Me=i?.popup,Yt=Me&&d&&Ce.getEffectivePopupTemplate(Me.defaultPopupTemplateEnabled);return Yt&&(yield i.openPopup({features:[Ce],location:L})),X&&jh(X)&&!Yt&&this._highlightFeature({graphic:Ce,layerView:X}),!X&&a&&i&&i.graphics.push(Ce),this._setResultFloor(t),this._set("selectedResult",t),this._set("resultGraphic",Ce),this.emit("select-result",{result:t,source:n,sourceIndex:e}),t})}suggest(t,i,e){return f(this,null,function*(){let n=t||this.searchTerm;this.emit("suggest-start",{searchTerm:n}),yield this._suggestTimer(i,e);let o=yield this._suggestImmediate(n,e);return this._set("suggestions",o?.results),this._set("suggestionCount",o?.results.reduce((r,a)=>r+(a.results?.length??0),0)??null),this.emit("suggest-complete",o),o})}when(){return f(this,null,function*(){yield He(()=>!this.updating)})}_update(){return f(this,null,function*(){let{portal:t,view:i}=this;if(this.includeDefaultSources){let e=this._updatingPromise=ku([t?.load(),i?.when()]);if(this.destroyed||(yield e,e!==this._updatingPromise))return}yield He(()=>this.messages),this.destroyed||this._updateDefaultSources(),this._updatingPromise=null})}_clearSearching(){this._searching=null}_convertHelperServices(){let t=this.portal?.helperServices?.geocode;return t?t.map(i=>{if(i.placefinding===!1)return;let e=Ws.apiKey&&_w(i.url)?{url:V1}:null,n=bw.fromJSON(x(x({},i),e)),o=n.url;if(_w(o)||O1(o)||P1(o)){let r=n.outFields??["Addr_type","Match_addr","StAddr","City"],a=(n.placeholder||this.messages?.placeholder)??"",c=typeof n.defaultZoomScale=="number"?n.defaultZoomScale:2500;n.singleLineFieldName="SingleLine",n.outFields=r,n.placeholder=a,n.defaultZoomScale=c}return n.singleLineFieldName?n:void 0}).filter(ot):[]}_destroyFeatureLayers(){this._createdFeatureLayers.forEach(t=>t?.destroy()),this._createdFeatureLayers=[]}_getLayerSources(t,i){let e=this.view?.map;return t.map(n=>{let o=e.findLayerById(n.id);if(!o)return;let r=this._getLayerJSON(n),a=Rl.fromJSON(r);return a.placeholder=i,this._getLayer(o,r).then(c=>{a.layer=c}),a}).filter(ot).toArray()}_getTableSources(t,i){let e=this.view?.map;return t.map(n=>{if(!n.id)return;let o=e.findTableById(n.id);if(!o)return;let r=this._getLayerJSON(n),a=Rl.fromJSON(r);return a.placeholder=i,this._getLayer(o,r).then(c=>{a.layer=c}),a}).filter(ot).toArray()}_convertApplicationProperties(){let t=this.view?.map,i=t?.applicationProperties?.viewing?.search;if(!i)return[];let{enabled:e,hintText:n,layers:o,tables:r}=i;return e?[...this._getLayerSources(o,n),...this._getTableSources(r,n)]:[]}_getSubLayer(t,i){return f(this,null,function*(){if(yield t.load(),!t.allSublayers)throw new Error;let e=t.allSublayers.find(o=>o.id===i.subLayer);if(!e)throw new Error;let n=yield e.createFeatureLayer?.();if(!n)throw new Error;return this._createdFeatureLayers.push(n),n})}_getBuildingSubLayer(t,i){return f(this,null,function*(){yield t.load();let e=t.allSublayers.find(n=>n.id===i.subLayer);if(e?.type!=="building-component")throw new Error;if(yield e.load(),e.associatedLayer==null)throw new Error;return yield e.associatedLayer.load(),e})}_getLayer(t,i){return f(this,null,function*(){if(t.type==="feature"||t.type==="scene"||t.type==="csv"||t.type==="geojson"||t.type==="ogc-feature")return t;if(t.type==="map-image")try{return yield this._getSubLayer(t,i)}catch{let n=new D("search:create-featurelayer","Could not create a FeatureLayer from the MapImageLayer",{layer:t});return z.getLogger(this).error(n),null}return t.type==="building-scene"?this._getBuildingSubLayer(t,i):null})}_getLayerJSON(t){return typeof t.toJSON=="function"?t.toJSON():t}_updateDefaultSources(){let{defaultSources:t,includeDefaultSources:i}=this;this._destroyFeatureLayers(),t.removeAll(),i&&t.addMany([...this._convertApplicationProperties(),...this._convertHelperServices()])}_abortGoTo(){this._gotoController&&this._gotoController.abort(),this._gotoController=null}_clear(){this._abortGoTo(),this._set("resultCount",null),this._set("results",null),this._set("suggestions",null),this._set("suggestionCount",null),this._set("selectedResult",null),this._set("selectedSuggestion",null),this.emit("search-clear")}_closePopup(){let t=this.view?.popup,{resultGraphic:i}=this;if(!t||!i)return;let e="selectedFeature"in t,n=e?t.selectedFeature:null;e&&n&&n===i&&t.close()}_suggestTimer(t,i){let e=t??this.suggestionDelay;return _h(e,null,i?.signal)}_createLocationForSearch(t){return t instanceof dt&&t.geometry?Jv(t.geometry):t instanceof xe?t:Array.isArray(t)&&t.length===2?new xe({longitude:t[0],latitude:t[1]}):null}_createSuggestionForSearch(t){if(t&&on(t,"key")&&on(t,"text")&&on(t,"sourceIndex"))return t;let i=this._createLocationForSearch(t),e=typeof t=="string"?t:this.searchTerm,{selectedSuggestion:n,selectedResult:o}=this,r=!t&&n&&o,a=r&&n.key===o.key&&n.sourceIndex===o.sourceIndex,c=r&&n.location;return a||c?n:{location:i,text:i?"":e,sourceIndex:null,key:null}}_getFirstResult(t){return Qs(t,({results:i})=>i?.[0])??null}_selectFirstResult(t){return f(this,null,function*(){return this.autoSelect&&t?this.select(t):null})}_suggestImmediate(t,i){return f(this,null,function*(){yield this.when();let e=yield this._getSuggestionsFromSources(t,i);if(i?.signal?.aborted)return null;let n={activeSourceIndex:this.activeSourceIndex,searchTerm:t??"",numResults:0,numErrors:0,errors:[],results:[]};return this._formatResponse(n,e),n})}_formatSourceResponse(t,i,e){let n=i?.value||[],o=i?.error,r=this.allSources.at(e);if(o){let a={sourceIndex:e,source:r,error:o};t.errors.push(a),z.getLogger(this).error(o),t.numErrors++}else{let a={sourceIndex:e,source:r,results:n};t.results.push(a),t.numResults+=n.length}}_formatResponse(t,i,e){if(i)if(t.activeSourceIndex===Fd){let n=e&&on(e,"sourceIndex")&&e.sourceIndex!==-1?e.sourceIndex:void 0;i.forEach((o,r)=>{let a=n!==void 0?n:r;this._formatSourceResponse(t,o,a)})}else this._formatSourceResponse(t,i[0],t.activeSourceIndex)}_getResultsFromSources(t,i){return f(this,null,function*(){let{allSources:e}=this,n=!t.location&&on(t,"sourceIndex")?t.sourceIndex:this.activeSourceIndex,o=[];if(!e.length){let r=new D("search:no-sources-defined","At least one source is required.",{allSources:e});throw z.getLogger(this).error(r),r}return n===Fd?e.forEach((r,a)=>{o.push(this._getResultsFromSource(t,a,i))}):o.push(this._getResultsFromSource(t,n,i)),ku(o)})}_getSuggestionsFromSources(t,i){return f(this,null,function*(){let{allSources:e,activeSourceIndex:n}=this,o=[];if(!e.length){let r=new D("suggest:no-sources-defined","At least one source is required.",{allSources:e});throw z.getLogger(this).error(r),r}return n===Fd?e.forEach((r,a)=>{o.push(this._getSuggestionsFromSource(t,a,i))}):o.push(this._getSuggestionsFromSource(t,n,i)),ku(o)})}_getResultsFromSource(t,i,e){return f(this,null,function*(){let n=i!=null?this.allSources.at(i):null;if(!n)return null;let{location:o=null}=t,r=this.view?.spatialReference||G1,a=on(n,"maxResults")?n.maxResults:this.maxResults,c=!!(n instanceof Rl&&on(n,"exactMatch"))&&n.exactMatch,{view:d}=this;return n.getResults?.({view:d,sourceIndex:i,location:o,suggestResult:t,spatialReference:r,exactMatch:c,maxResults:a},e)})}_getSuggestionsFromSource(t,i,e){return f(this,null,function*(){let n=this.allSources.at(i);if(!n)return null;t??="";let o=on(n,"suggestionsEnabled")?n.suggestionsEnabled:this.suggestionsEnabled,r=t?.length,a=on(n,"minSuggestCharacters")?n.minSuggestCharacters:this.minSuggestCharacters;if(o&&t.trim()&&r>=a){let c=this.view?.spatialReference||G1,d=on(n,"maxSuggestions")?n.maxSuggestions:this.maxSuggestions,{view:u}=this,p=!!(n instanceof Rl&&on(n,"exactMatch"))&&n.exactMatch;return n.getSuggestions?.({view:u,sourceIndex:i,suggestTerm:t,spatialReference:c,maxSuggestions:d,exactMatch:p},e)}return null})}_getLayerSourcePopupTemplate(t){let{layer:i}=t;if(i)return on(t,"popupTemplate")?t.popupTemplate:i.popupTemplate}_getSourceIndexOfResult(t){return Qs(this.results??[],({results:i,sourceIndex:e})=>i?.includes(t)?e:null)??null}_goToSearchResult(t){return f(this,null,function*(){this._abortGoTo();let i=new AbortController;this._gotoController=i;let e={target:{target:t},options:{signal:i.signal}};t||(e.options.animate=!1),yield this.callGoTo(e),this._gotoController=null})}_getDefaultSymbol(t){let{defaultSymbols:i}=this,e=t.feature?.geometry;if(e==null)return null;switch(e.type){case"point":case"multipoint":return i.point;case"polyline":return i.polyline;case"extent":case"polygon":return i.polygon;default:return null}}_removeHighlight(){this.removeHandles(z1)}_getLayerView(t){return f(this,null,function*(){let{view:i}=this;if(!t||!i||t.layer?.type==="building-component"||t.layer?.type==="subtype-sublayer")return null;let{layer:e}=t;return e?(yield i.when(),i.whenLayerView(e)):null})}_highlightFeature(t){let{graphic:i,layerView:e}=t,{attributes:n,layer:o}=i,{objectIdField:r}=o,a=(r&&n?.[r])??null,c=e.highlight(a??i);this.addHandles(c,z1)}_setResultFloor(t){let{view:i}=this,e=t.feature?.attributes,n=t.feature?.sourceLayer;if(n&&"floorInfo"in n&&n?.floorInfo?.floorField&&e){let o=e[n.floorInfo.floorField];i?.emit("select-result-floor",o)}}};ke.ALL_INDEX=Fd,s([l()],ke.prototype,"_searching",void 0),s([l()],ke.prototype,"_updatingPromise",void 0),s([l({readOnly:!0,value:null})],ke.prototype,"activeSource",null),s([l()],ke.prototype,"activeSourceIndex",null),s([l()],ke.prototype,"allPlaceholder",null),s([l({readOnly:!0})],ke.prototype,"allSources",null),s([l()],ke.prototype,"autoNavigate",void 0),s([l()],ke.prototype,"autoSelect",void 0),s([l({type:mc})],ke.prototype,"defaultPopupTemplate",void 0),s([l({readOnly:!0})],ke.prototype,"defaultSources",void 0),s([l()],ke.prototype,"defaultSymbols",void 0),s([l()],ke.prototype,"includeDefaultSources",void 0),s([l()],ke.prototype,"locationEnabled",null),s([l()],ke.prototype,"maxInputLength",void 0),s([l()],ke.prototype,"maxResults",void 0),s([l()],ke.prototype,"maxSuggestions",void 0),s([l()],ke.prototype,"messages",void 0),s([l()],ke.prototype,"minSuggestCharacters",void 0),s([l({readOnly:!0})],ke.prototype,"placeholder",null),s([l()],ke.prototype,"popupEnabled",void 0),s([l({type:mc})],ke.prototype,"popupTemplate",void 0),s([l({type:gr})],ke.prototype,"portal",void 0),s([l()],ke.prototype,"resultCount",void 0),s([l()],ke.prototype,"resultGraphicEnabled",void 0),s([l({readOnly:!0})],ke.prototype,"resultGraphic",void 0),s([l({readOnly:!0})],ke.prototype,"results",void 0),s([l({readOnly:!0})],ke.prototype,"selectedSuggestion",void 0),s([l()],ke.prototype,"searchAllEnabled",void 0),s([l({readOnly:!0})],ke.prototype,"selectedResult",void 0),s([l()],ke.prototype,"searchTerm",null),s([l({type:Cy})],ke.prototype,"sources",void 0),s([l({readOnly:!0})],ke.prototype,"state",null),s([l()],ke.prototype,"suggestionDelay",void 0),s([l()],ke.prototype,"suggestionCount",void 0),s([l({readOnly:!0})],ke.prototype,"suggestions",void 0),s([l()],ke.prototype,"suggestionsEnabled",void 0),s([l({readOnly:!0})],ke.prototype,"updating",null),s([l()],ke.prototype,"view",void 0),s([l()],ke.prototype,"clear",null),ke=s([b("esri.widgets.Search.SearchViewModel")],ke);var bs=ke;var As=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.showMoreResultsOpen=!1,this.viewModel=null}destroy(){this.viewModel=null}render(){let t={[_s.showMoreResults]:this.showMoreResultsOpen};return g("div",{class:this.classes(_s.base,be.widget)},g("div",{class:this.classes(_s.moreResults,t),key:"esri-search-renderer__container"},this._renderSearchResultName(),this._renderMoreResults()))}_renderMoreResults(){return g("div",{key:"esri-search-renderer__more-results"},this._renderMoreResultsButton(),this._renderMoreResultsLists())}_renderSearchResultName(){let t=this.viewModel?.selectedResult,i=t?.name||"";return g("div",{class:_s.moreResultsItem,key:"esri-search-renderer__result-name"},i)}_renderMoreResultsLists(){let{viewModel:t}=this;if(!t)return[];let i=t.results;if((t.resultCount??0)<2)return null;let e=i?.map(n=>this._renderMoreResultsList(n));return g("div",{class:_s.moreResultsList,key:"esri-search-renderer__more-results-container"},e)}_renderMoreResultsButton(){let{messages:t,viewModel:i}=this;return i?(i.resultCount??0)<2?null:g("div",{class:_s.moreResultsItem,key:"esri-search-renderer__more-results-button"},g("a",{bind:this,class:be.anchor,href:"#",onclick:this._showMoreResultsClick,onkeydown:this._showMoreResultsClick},this.showMoreResultsOpen?t.hideMoreResults:t.showMoreResults)):null}_renderMoreResultsHeader(t,i){return g("div",{class:_s.moreResultsListHeader,key:`esri-search-result-renderer__header-${i}`},t)}_renderMoreResultsList(t){let{results:i}=t,e=i?.length??0,n=e>0,o=this.viewModel?.selectedResult,r=e===1&&i[0]===o,a=this._getSourceName(t.source,t.sourceIndex),c=(this.viewModel?.results?.length??0)>1&&!r?this._renderMoreResultsHeader(a,t.sourceIndex):null,d=n&&i.map((p,h)=>this._renderMoreResultsListItem(p,h)),u=n&&!r?g("ul",{key:`esri-search-result-renderer__list-${t.sourceIndex}`},d):null;return n?g("div",{key:`esri-search-result-renderer__results-${t.sourceIndex}`},c,u):null}_renderMoreResultsListItem(t,i){let e=this.viewModel?.selectedResult;return t!==e?g("li",{key:`esri-search-result-renderer__list-item-${i}`},g("a",{bind:this,class:be.anchor,"data-result":t,href:"#",onclick:this._selectResultClick,onkeydown:this._selectResultClick,tabIndex:0},t.name)):null}_showMoreResultsClick(t){t.preventDefault(),this.showMoreResultsOpen=!this.showMoreResultsOpen;let i=this.viewModel?.view?.popup;i&&"reposition"in i&&i.reposition()}_selectResultClick(t){t.preventDefault();let i=t.currentTarget["data-result"];this.viewModel?.select(i)}_getSourceName(t,i){return i===bs.ALL_INDEX?this.messages.all:t.name}};s([l(),ye("esri/widgets/Search/t9n/Search")],As.prototype,"messages",void 0),s([l()],As.prototype,"showMoreResultsOpen",void 0),s([l()],As.prototype,"viewModel",void 0),s([ol()],As.prototype,"_showMoreResultsClick",null),s([ol()],As.prototype,"_selectResultClick",null),As=s([b("esri.widgets.Search.SearchResultRenderer")],As);var W1=As;var Oe=class extends Ze{constructor(t,i){super(t,i),this._currentLocationValue=`${this.id}-search-use-current-location`,this._autocompleteNode=null,this._focusAbortController=null,this._searchResultRenderer=new W1,this._suggestController=null,this._searchController=null,this._lastSearchTerm="",this._locateFailed=!1,this._showNoResults=!1,this.disabled=!1,this.messages=null,this.messagesCommon=null,this.viewModel=new bs,this._renderSearchResultsContent=()=>this._searchResultRenderer,this.addHandles([T(()=>this.viewModel,e=>this._searchResultRenderer.viewModel=e,re),T(()=>this.viewModel.results,()=>this._searchResultRenderer.showMoreResultsOpen=!1),T(()=>this.viewModel?.defaultPopupTemplate,e=>{e&&(e.content=this._renderSearchResultsContent)},re)])}loadDependencies(){return we({autocomplete:()=>import("./chunk-EYW4UVX6.js"),"autocomplete-item-group":()=>import("./chunk-G4V6VTP3.js"),"autocomplete-item":()=>import("./chunk-Q4GMNXMQ.js"),button:()=>import("./chunk-BTQPJTPG.js"),dropdown:()=>import("./chunk-SOKGSD6A.js"),"dropdown-group":()=>import("./chunk-JJCQWH2X.js"),"dropdown-item":()=>import("./chunk-YQASGTZN.js"),notice:()=>import("./chunk-RIKTH4T2.js")})}destroy(){this._cancelQueries(),this._searchResultRenderer=Ne(this._searchResultRenderer),this._focusAbortController?.abort()}get _isDisabled(){let{state:t}=this.viewModel;return t==="disabled"||t==="loading"||this.disabled}get _showCurrentLocation(){return this.locationEnabled&&!this.searchTerm?.trim()}get _effectiveActiveMenu(){let{activeMenu:t}=this;return this._isDisabled?"none":t==="warning"?"suggestion":t}get activeMenu(){return"none"}set activeMenu(t){t==="warning"&&zx(z.getLogger(this),"activeMenu","warning",{replacement:"Use the value 'suggestion' instead",version:"4.32",warnOnce:!0}),this._overrideIfSome("activeMenu",t)}get activeSource(){return this.viewModel?.activeSource}get activeSourceIndex(){return this.viewModel.activeSourceIndex}set activeSourceIndex(t){this.viewModel.activeSourceIndex=t}get allPlaceholder(){return this.viewModel.allPlaceholder}set allPlaceholder(t){this.viewModel.allPlaceholder=t}get allSources(){return this.viewModel.allSources}get autoNavigate(){return this.viewModel.autoNavigate}set autoNavigate(t){this.viewModel.autoNavigate=t}get autoSelect(){return this.viewModel.autoSelect}set autoSelect(t){this.viewModel.autoSelect=t}get defaultSources(){return this.viewModel.defaultSources}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(t){this.viewModel.goToOverride=t}get icon(){return"search"}set icon(t){this._overrideIfSome("icon",t)}get includeDefaultSources(){return this.viewModel.includeDefaultSources}set includeDefaultSources(t){this.viewModel.includeDefaultSources=t}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get locationEnabled(){return this.viewModel.locationEnabled}set locationEnabled(t){this.viewModel.locationEnabled=t}get maxResults(){return this.viewModel.maxResults}set maxResults(t){this.viewModel.maxResults=t}get maxSuggestions(){return this.viewModel.maxSuggestions}set maxSuggestions(t){this.viewModel.maxSuggestions=t}get minSuggestCharacters(){return this.viewModel.minSuggestCharacters}set minSuggestCharacters(t){this.viewModel.minSuggestCharacters=t}get popupEnabled(){return this.viewModel.popupEnabled}set popupEnabled(t){this.viewModel.popupEnabled=t}get popupTemplate(){return this.viewModel.popupTemplate}set popupTemplate(t){this.viewModel.popupTemplate=t}get portal(){return this.viewModel?.portal}set portal(t){this.viewModel&&(this.viewModel.portal=t)}get resultGraphic(){return this.viewModel.resultGraphic}set resultGraphic(t){this.viewModel.resultGraphic=t}get resultGraphicEnabled(){return this.viewModel.resultGraphicEnabled}set resultGraphicEnabled(t){this.viewModel.resultGraphicEnabled=t}get results(){return this.viewModel.results}get searchAllEnabled(){return this.viewModel.searchAllEnabled}set searchAllEnabled(t){this.viewModel.searchAllEnabled=t}get searchTerm(){return this.viewModel.searchTerm}set searchTerm(t){this.viewModel.searchTerm=t}get selectedResult(){return this.viewModel.selectedResult}get sources(){return this.viewModel.sources}set sources(t){this.viewModel.sources=t}get suggestions(){return this.viewModel.suggestions}get suggestionsEnabled(){return this.viewModel.suggestionsEnabled}set suggestionsEnabled(t){this.viewModel.suggestionsEnabled=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}clear(){this._locateFailed=!1,this.viewModel.clear()}focus(){this._handleFocus(),this._emitFocus()}blur(){this._autocompleteNode?.blur(),this._emitBlur()}search(t){return f(this,null,function*(){this._cancelQueries();let i=new AbortController,{signal:e}=i;this._searchController=i;try{let n=yield this.viewModel.search(t,{signal:e});return this._searchController!==i?void 0:(n?.numResults||(this._showNoResults=!0,this.activeMenu="suggestion"),this._searchController=null,n)}catch{return this._searchController!==i?void 0:void(this._searchController=null)}})}suggest(t){return f(this,null,function*(){this._cancelSuggest();let i=new AbortController,{signal:e}=i;this._suggestController=i;try{let n=yield this.viewModel.suggest(t,null,{signal:e});return this._suggestController!==i?void 0:(this._suggestController=null,n?.numResults&&(this.activeMenu="suggestion",this._scrollToTopSuggestion()),n)}catch{return this._suggestController!==i||(this._suggestController=null),null}})}render(){return g("div",{class:this.classes(Dl.base,be.widget)},g("div",{class:Dl.container},this._renderSourcesMenu(),this._renderForm()))}_handleInputKeydown(t){t.key==="Tab"&&this._cancelSuggest()}_emitFocus(){this.emit("search-focus")}_emitBlur(){this.emit("search-blur")}_handleFocus(){return f(this,null,function*(){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;let t=this._focusAbortController.signal;yield Hi($x(t)),this._autocompleteNode?.setFocus()})}_renderSourcesMenu(){let{messages:t,_isDisabled:i,_effectiveActiveMenu:e}=this,{allSources:n,searchAllEnabled:o}=this.viewModel;return n.length>1?g("calcite-dropdown",{bind:this,class:Dl.dropdown,disabled:i,open:e==="source",overlayPositioning:"fixed",onCalciteDropdownClose:this._handleSourceClose,onCalciteDropdownOpen:this._handleSourceOpen,onCalciteDropdownSelect:this._handleSourceSelect},g("calcite-button",{appearance:"outline-fill",iconStart:"caret-down",kind:"neutral",label:t.searchIn,slot:"trigger"}),g("calcite-dropdown-group",{groupTitle:t.searchIn},o?this._renderSource(bs.ALL_INDEX):null,n.map((r,a)=>this._renderSource(a)).toArray())):null}_renderUseCurrentLocation(){let{_currentLocationValue:t}=this;return g("calcite-autocomplete-item",{heading:this.messages.useCurrentLocation,iconStart:"gps-on",key:t,value:t})}_handleAutocompleteCreate(t){this._autocompleteNode=t}_handleCalciteAutocompleteTextInput(t){let i=t.target.inputValue;i!==this.viewModel.searchTerm&&(this.viewModel.searchTerm=i,i||this.clear(),this.suggest())}_handleAutocompleteOpen(){this.activeMenu="suggestion"}_handleAutocompleteClose(){this.activeMenu==="suggestion"&&(this.activeMenu="none")}_handleCalciteAutocompleteChange(t){let i=t.target.value;if(i===this._currentLocationValue)return void this._useCurrentLocation();let e=this.viewModel.suggestions?.flatMap(o=>o.results??[]),n=e?.find(o=>`${o.key}`==`${i}`);n&&this.search(n)}_renderAutocomplete(){let{_effectiveActiveMenu:t,messages:i,_isDisabled:e}=this,{maxInputLength:n,placeholder:o,searchTerm:r,state:a}=this.viewModel,c=this.label??i.searchButtonTitle??"";return g("calcite-autocomplete",{afterCreate:this._handleAutocompleteCreate,autocomplete:"off",bind:this,class:Dl.autocomplete,disabled:e,icon:this.icon,inputValue:r,label:c,loading:a==="searching",maxLength:n,name:this.id,onblur:this._emitBlur,onfocus:this._emitFocus,onkeydown:this._handleInputKeydown,open:t==="suggestion",overlayPositioning:"fixed",placeholder:o,title:r?"":o,onCalciteAutocompleteChange:this._handleCalciteAutocompleteChange,onCalciteAutocompleteClose:this._handleAutocompleteClose,onCalciteAutocompleteOpen:this._handleAutocompleteOpen,onCalciteAutocompleteTextChange:this._handleCalciteAutocompleteTextInput,onCalciteAutocompleteTextInput:this._handleCalciteAutocompleteTextInput},this._renderSuggestions(),this._renderNotices())}_renderForm(){return g("form",{bind:this,class:Dl.form,disabled:this._isDisabled,key:Dl.form,onsubmit:this._formSubmit,role:"search"},this._renderAutocomplete())}_renderSuggestGroup(t){return t.results?.map(i=>this._renderSuggestion(i))}_renderSuggestions(){let{suggestions:t}=this.viewModel;return this._showNoResults?null:this._showCurrentLocation?this._renderUseCurrentLocation():t?.map(i=>this._renderSuggestResults(i))}_renderSuggestResults(t){let{allSources:i,activeSourceIndex:e}=this.viewModel,{sourceIndex:n}=t,o=t.results?.length,r=i.length>1&&e===bs.ALL_INDEX,a=this._getSourceName(n);return o&&r?g("calcite-autocomplete-item-group",{heading:a,key:`suggestion-group-${a}-${n}`},this._renderSuggestGroup(t)):this._renderSuggestGroup(t)}_renderSuggestion(t){return g("calcite-autocomplete-item",{heading:t.text??this.messages.untitledResult,key:`suggestion_${t.key}`,value:`${t.key}`})}_renderSource(t){let i=this._getSourceName(t);return g("calcite-dropdown-item",{"data-source-index":`${t}`,key:`source-${i}-${t}`,selected:t===this.viewModel.activeSourceIndex},i)}_renderNoResultsWarning(t){let{messages:i}=this,e=t?vi(i.noResultsFoundForValue,{value:`"${t}"`}):i.noResultsFound;return g("calcite-notice",{icon:"exclamation-mark-triangle",key:"no-results-warning",kind:"warning",open:!0,slot:"content-bottom"},g("div",{slot:"title"},i.noResults),g("div",{slot:"message"},e))}_renderLocateError(){return g("calcite-notice",{icon:"exclamation-mark-circle",key:"locate-warning",kind:"danger",open:!0,slot:"content-bottom"},g("div",{slot:"message"},this.messages.locateError))}_renderNotices(){return this._locateFailed?this._renderLocateError():this._showNoResults?this._renderNoResultsWarning(this._lastSearchTerm??this.viewModel.searchTerm):null}_useCurrentLocation(){return f(this,null,function*(){this._cancelQueries();let t=new AbortController,{signal:i}=t;this._searchController=t;try{yield this.viewModel.searchNearby({signal:i})}catch(e){un(e)||(this._locateFailed=!0)}finally{this._searchController=null}})}_handleSourceOpen(){this.activeMenu="source"}_handleSourceClose(){this.activeMenu==="source"&&(this.activeMenu="none")}_handleSourceSelect(t){let i=t.target.selectedItems[0].getAttribute("data-source-index");i&&(this.viewModel.activeSourceIndex=parseInt(i,10))}_cancelSuggest(){this.activeMenu="none",this._locateFailed=!1,this._showNoResults=!1,this._suggestController=ft(this._suggestController)}_cancelQueries(){this._cancelSuggest(),this._searchController=ft(this._searchController)}_scrollToTopSuggestion(){this._autocompleteNode?.scrollContentTo({top:0})}_formSubmit(t){t.preventDefault(),this.activeMenu="none",this._lastSearchTerm=this.searchTerm,this.searchTerm&&this.search()}_getSourceName(t){let{messages:i}=this,{allSources:e}=this.viewModel,n=e.at(t);return t===bs.ALL_INDEX?i.all:n?.name||i.untitledSource}};s([l()],Oe.prototype,"_locateFailed",void 0),s([l()],Oe.prototype,"_showNoResults",void 0),s([l()],Oe.prototype,"_isDisabled",null),s([l()],Oe.prototype,"_showCurrentLocation",null),s([l()],Oe.prototype,"_effectiveActiveMenu",null),s([l()],Oe.prototype,"activeMenu",null),s([l({readOnly:!0})],Oe.prototype,"activeSource",null),s([l()],Oe.prototype,"activeSourceIndex",null),s([l()],Oe.prototype,"allPlaceholder",null),s([l({readOnly:!0})],Oe.prototype,"allSources",null),s([l()],Oe.prototype,"autoNavigate",null),s([l()],Oe.prototype,"autoSelect",null),s([l({readOnly:!0})],Oe.prototype,"defaultSources",null),s([l()],Oe.prototype,"disabled",void 0),s([l()],Oe.prototype,"goToOverride",null),s([l()],Oe.prototype,"icon",null),s([l()],Oe.prototype,"includeDefaultSources",null),s([l()],Oe.prototype,"label",null),s([l()],Oe.prototype,"locationEnabled",null),s([l()],Oe.prototype,"maxResults",null),s([l()],Oe.prototype,"maxSuggestions",null),s([l(),ye("esri/widgets/Search/t9n/Search")],Oe.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],Oe.prototype,"messagesCommon",void 0),s([l()],Oe.prototype,"minSuggestCharacters",null),s([l()],Oe.prototype,"popupEnabled",null),s([l()],Oe.prototype,"popupTemplate",null),s([l()],Oe.prototype,"portal",null),s([l()],Oe.prototype,"resultGraphic",null),s([l()],Oe.prototype,"resultGraphicEnabled",null),s([l({readOnly:!0})],Oe.prototype,"results",null),s([l()],Oe.prototype,"searchAllEnabled",null),s([l()],Oe.prototype,"searchTerm",null),s([l({readOnly:!0})],Oe.prototype,"selectedResult",null),s([l()],Oe.prototype,"sources",null),s([l({readOnly:!0})],Oe.prototype,"suggestions",null),s([l()],Oe.prototype,"suggestionsEnabled",null),s([l()],Oe.prototype,"view",null),s([vr(["search-complete","search-clear","search-start","select-result","suggest-start","suggest-complete"]),l({type:bs})],Oe.prototype,"viewModel",void 0),Oe=s([b("esri.widgets.Search")],Oe);var xy=Oe;var Sy={danger:"exclamation-mark-circle",info:"information",success:"check",warning:"exclamation-mark-triangle",brand:void 0,neutral:void 0,inverse:void 0};var Pl="esri-editor__prompt",ws={base:Pl,header:`${Pl}__header`,heading:`${Pl}__header__heading`,message:`${Pl}__message`,divider:`${Pl}__divider`,actions:`${Pl}__actions`,halfWidthButton:`${Pl}__half-width-button`},Q1=()=>we({button:()=>import("./chunk-BTQPJTPG.js"),icon:()=>import("./chunk-QXDSJABL.js"),scrim:()=>import("./chunk-S3XENTVM.js"),label:()=>import("./chunk-H4FMBFSZ.js"),"radio-button":()=>import("./chunk-BPRSL55M.js"),"radio-button-group":()=>import("./chunk-DPT5S2GR.js")});function Iy(a){var c=a,{actions:t,context:i,headingLevel:e,message:n,title:o}=c,r=Fn(c,["actions","context","headingLevel","message","title"]);let{primary:d,secondary:u}=t,p;switch(i){case"danger":p="danger";break;case"info":p="brand";break;default:p="neutral"}let h=g("calcite-button",{afterCreate:A=>ac(A),appearance:"solid",classes:{[ws.halfWidthButton]:!!u},"data-testid":"primary-prompt-button",key:"prompt-primary-button",kind:p,onclick:d.action,width:"full"},d.label),y=u&&g("calcite-button",{appearance:"outline",class:ws.halfWidthButton,"data-testid":"secondary-prompt-button",key:"prompt-secondary-button",kind:p,onclick:u.action,width:"full"},u.label);return g("calcite-scrim",{"data-testid":"prompt",key:"prompt"},g("div",{class:`${ws.base}--${i}`},g("div",{class:ws.header},g("calcite-icon",{icon:Sy.warning}),g(li,{class:ws.heading,level:e},o)),g("div",{class:ws.message},n),cj(r)??g("div",{class:ws.divider}),g("div",{class:ws.actions},y,h)))}function cj({radios:t,onRadioSelection:i,defaultRadioSelection:e}){return t?.length?g("calcite-radio-button-group",{name:"PromptChoiceList"},t.map(n=>g("calcite-label",{layout:"inline"},g("calcite-radio-button",{checked:n.value===e,value:n.value,onCalciteRadioButtonChange:()=>i?.(n.value)}),n.label))):void 0}var jn="esri-feature-form",ww=`${jn}__group`,Rd=`${jn}__input`,Cw=`${jn}__related-records`,mt={base:jn,form:`${jn}__form`,formHeader:`${jn}__form-header`,label:`${jn}__label`,labelTextContent:`${jn}__label-text-content`,fieldInput:`${Rd}`,inputRadio:`${Rd}--radio`,inputRadioGroup:`${Rd}--radio-group`,inputRadioLabel:`${Rd}--radio-label`,inputDisabled:`${Rd}--disabled`,inputSwitch:`${Rd}--switch`,centeredButton:`${jn}__centered-button`,description:`${jn}__description-text`,listObserver:`${jn}__list-observer`,relatedRecordsHeader:`${Cw}_header`,relatedRecordsLabel:`${Cw}_label`,relatedRecordsList:`${Cw}_list`,dateInputContainer:`${`${jn}__date`}-input-container`,textElement:`${jn}__text-element`,group:ww,groupSequential:`${ww}--sequential`,groupActive:`${ww}--active`};var Ol=class extends R{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.codedValue=null}};s([l()],Ol.prototype,"objectType",void 0),s([l()],Ol.prototype,"maxValue",void 0),s([l()],Ol.prototype,"minValue",void 0),s([l()],Ol.prototype,"codedValue",void 0),Ol=s([b("esri.layers.support.ContingentValue")],Ol);var di=Ol;var Vl=class extends R{constructor(t){super(t),this.isRetired=!1}};s([l()],Vl.prototype,"id",void 0),s([l()],Vl.prototype,"isRetired",void 0),s([l()],Vl.prototype,"subtype",void 0),s([l()],Vl.prototype,"values",void 0),Vl=s([b("esri.layers.support.Contingency")],Vl);var xw=Vl;var bm=class extends R{constructor(t){super(t)}};s([l()],bm.prototype,"fieldGroup",void 0),s([l()],bm.prototype,"type",void 0),bm=s([b("esri.layers.support.ContingencyConstraintViolation")],bm);var Sw=bm;var Am=class extends R{constructor(t){super(t)}};s([l()],Am.prototype,"contingentValuesAllGroups",void 0),s([l()],Am.prototype,"contingentValuesByFieldGroup",void 0),Am=s([b("esri.layers.support.ContingentValuesResult")],Am);var q1=Am;var Ll=class extends R{constructor(t){super(t),this.fields=null,this.isEditingRestrictive=!1}};s([l()],Ll.prototype,"name",void 0),s([l()],Ll.prototype,"fields",void 0),s([l()],Ll.prototype,"isEditingRestrictive",void 0),s([l()],Ll.prototype,"contingencies",void 0),Ll=s([b("esri.layers.support.FieldGroup")],Ll);var My=Ll;var Ey,Cs=Ey=class extends K.JSONSupportMixin(si){constructor(t){super(t),this.request=pn,this.fieldGroups=null,this.fieldGroupDefinitions=null}initialize(){}get subtypeFieldName(){return Qu(this.layer).typeFieldName}static createLoadedLayerContingentValuesCache(t){return f(this,null,function*(){yield t.load();let i=t.sourceJSON;if(t.layerId===void 0)return null;let e=i.hasContingentValuesDefinition;if(e)return new Ey({layer:t}).load();if(e===void 0){let n=oc(t.url);if(n==null)return null;let o=n.url.path;if((yield Z1(o)).supportsQueryDataElements){let r=t.layerId.toString(),a=yield Y1(o,r);if(a){let c=a.map(d=>({name:d.name,isEditingRestrictive:d.isEditingRestrictive,fields:d.fieldNames.names.map(u=>t.fieldsIndex.normalizeFieldName(u))}));return new Ey({layer:t,fieldGroupDefinitions:c}).load()}}}return null})}load(t){return f(this,null,function*(){let i=this.layer.load(t).then(()=>this._initializeContingentValues(this.fieldGroupDefinitions,t));return this.addResolvingPromise(i),this})}validateContingencyConstraints(t,i){let e=Object.keys(t),n=[],o=[];for(let r of this.fieldGroups){let a=r.isEditingRestrictive?"error":"warning";if(i&&!r.fields.some(p=>i.includes(p)))continue;if(!r.fields.every(p=>e.includes(p))){o.push(new Sw({fieldGroup:r,type:a}));continue}let c=!1,d=t[this.subtypeFieldName],u=r.contingencies.filter(p=>!(!p.isRetired&&p.subtype)||p.subtype.code===d);if(u.length!==0){for(let p of u){let h=!0;for(let y in p.values){let A=p.values[y];if(A.objectType!=="any"){if(A.objectType==="null"){if(t[y]!=null){h=!1;break}}else if(A.objectType==="code"){if(t[y]!==A.codedValue.code){h=!1;break}}else if(A.objectType==="range"){let C=t[y];if(C<A.minValue||C>A.maxValue){h=!1;break}}}}if(h){c=!0;break}}c||n.push(new Sw({fieldGroup:r,type:a}))}}return{invalid:n,incomplete:o}}getContingentValues(t,i,e=!1){let n=t[this.subtypeFieldName],o=n!=null,r={},a=[],c=this.fieldGroups.filter(d=>d.fields.includes(i));a.push(new di({objectType:"any"}));for(let d of c){let u=[],p=d.contingencies.filter(A=>!(A.isRetired||A.subtype&&o&&A.subtype.code!==n)),h=!1,y={};for(let A of p){let C,M=!0;for(let I in A.values){let G=A.values[I];if(i!==I){if(t[I]!==void 0&&G.objectType!=="any"){if(G.objectType==="null")t[I]!==null&&(M=!1);else if(G.objectType==="code")t[I]!==G.codedValue.code&&(M=!1);else if(G.objectType==="range"){let X=t[I];(X<G.minValue||X>G.maxValue)&&(M=!1)}}}else C=G,h=h||G.objectType==="range"}if(C&&M){if(C.objectType==="any"){u.length=0,u.push(C);break}let I=dj(C);y[I]||u.push(C),y[I]=!0}}h&&(u=uj(u)),r[d.name]=u,a=e?hj(a,u):[]}return c.length===1&&e&&(a=[]),new q1({contingentValuesAllGroups:a,contingentValuesByFieldGroup:r})}_initializeContingentValues(t,i){return f(this,null,function*(){let e=t??(yield this._fetchFieldGroupDefs(i));if(e.length===0)return void(this.fieldGroups=[]);let n=yield this._fetchContingentValues(e,i);this.fieldGroups=n})}_fetchFieldGroupDefs(t){return f(this,null,function*(){if(this.layer.layerId===void 0)return[];let i=this.layer.sourceJSON,e=this.layer.layerId.toString(),n=oc(this.layer.url).url.path;return i.hasContingentValuesDefinition?(yield fj(n,e,t)).map(o=>({name:o.name,isEditingRestrictive:o.restrictive,fields:o.fields.map(r=>this.layer.fieldsIndex.normalizeFieldName(r))})):i.hasContingentValuesDefinition!==void 0?[]:Z1(n,t).then(o=>f(this,null,function*(){return o.supportsQueryDataElements?(yield Y1(n,e,t)).map(r=>({name:r.name,isEditingRestrictive:r.isEditingRestrictive,fields:r.fieldNames.names.map(a=>this.layer.fieldsIndex.normalizeFieldName(a))})):[]}))})}_fetchContingentValues(t,i){return f(this,null,function*(){if(this.layer.layerId===void 0)return[];let e=this.layer.sourceJSON,n=this.layer.layerId.toString(),o=oc(this.layer.url).url.path;if(e.hasContingentValuesDefinition){let a=yield yj(o,n,i);return this._constructFieldGroupsAGOL(t,a)}let r=yield gj(o,n,i);return this._constructFieldGroupsEnterprise(t,r)})}_constructFieldGroupsAGOL(t,i){return t.map(e=>{let n=i.contingentValuesDefinition.fieldGroups.find(o=>o.name===e.name);if(n){let o=[];return o=i.contingentValuesDefinition.hasSubType?this._parseAGOLFieldGroupSubtype(e,i,n.subTypes):this._parseAGOLFieldGroup(e,i,n.contingentValues),new My({name:e.name,isEditingRestrictive:e.isEditingRestrictive,fields:e.fields,contingencies:o})}return null}).filter(ot)}_parseAGOLFieldGroupSubtype(t,i,e){let n=[];return e?.forEach(o=>{let r=this._getSubtypeAGOL(o.name);n=n.concat(this._parseAGOLFieldGroup(t,i,o.contingentValues,r))}),n}_parseAGOLFieldGroup(t,i,e,n=null){let o=[];for(let r of e??[]){let a=this._parseAGOLContingency(r,t,i,n);o.push(a)}return o}_parseAGOLContingency(t,i,e,n){let o=t.id,r=!!t.retired&&t.retired===1,a={};for(let c=0,d=0;c<i.fields.length;c++){let u=i.fields[c],p=e.typeCodes[t.types[c]];if(p==="Code"){let h=t.values[d];d++;let y=this._getDomain(n,u);if(this.layer.getField(u)?.type==="string"){let I=e.stringDicts.find(G=>G.domain===y?.name);I&&(h=I.entries[h])}let C=y?.codedValues.find(I=>I.code===h),M=new di({codedValue:C,objectType:"code"});a[u]=M}else if(p==="Range"){let h=t.values[d];d++;let y=h.range[0],A=h.range[1],C=new di({minValue:y,maxValue:A,objectType:"range"});a[u]=C}else if(p==="Any"){let h=new di({objectType:"any"});a[u]=h}else{let h=new di({objectType:"null"});a[u]=h}}return new xw({id:o,isRetired:r,subtype:n,values:a})}_constructFieldGroupsEnterprise(t,i){let e=i.fieldGroups;return t.map(n=>{let o=e.find(r=>r.name===n.name);if(o){let r=o.contingencies.map(a=>{let c=a.id,d=a.isRetired||!1,u=this._getSubtypeEnterprise(a.subtypeCode),p={};for(let h=0;h<n.fields.length;h++){let y=n.fields[h],A=a.values[h];if(typeof A=="number"||typeof A=="string"){let C=this._getDomain(u,y),M=this.layer.getField(y);Qa(M)?A=i.stringDictionary[A]:YI(M)&&(A=new Date(`${A}+00:00`).getTime());let I=C?.codedValues.find(X=>X.code===A),G=new di({codedValue:I,objectType:"code"});p[y]=G}else if(typeof A=="object"){let C=A.minValue,M=A.maxValue,I=new di({minValue:C,maxValue:M,objectType:"range"});p[y]=I}else if(A){let C=new di({objectType:"any"});p[y]=C}else{let C=new di({objectType:"null"});p[y]=C}}return new xw({id:c,isRetired:d,subtype:u,values:p})});return new My({name:n.name,isEditingRestrictive:n.isEditingRestrictive,fields:n.fields,contingencies:r})}return null}).filter(ot)}_getSubtypeEnterprise(t){let i=this.layer.sourceJSON,e;if(i.subtypes){let n=i.subtypes.find(o=>o.code===t);e=Hv.fromJSON(n)}return e||null}_getSubtypeAGOL(t){let i=this.layer.sourceJSON,e;if(i.subtypes){let n=i.subtypes.find(o=>o.name===t);e=Hv.fromJSON(n)}return e||null}_getDomain(t,i){let e=t?_j(t,i):this.layer.getFieldDomain(i);return e?.type==="inherited"?this.layer.getFieldDomain(i):e}};function dj(t){switch(t.objectType){case"any":return"@any@";case"null":return"@null@";case"code":return t.codedValue.name+t.codedValue.code.toString();case"range":return t.minValue.toString()+"-"+t.maxValue.toString()}}function uj(t){let i,e;t.sort((o,r)=>o.objectType==="null"?-1:r.objectType==="null"?1:o.minValue-r.minValue);let n=[];for(let o of t)o.objectType!=="null"?i!=null&&e!=null?e<o.minValue?(n.push(new di({objectType:"range",minValue:i,maxValue:e})),i=o.minValue,e=o.maxValue):e<o.maxValue&&(e=o.maxValue):(i=o.minValue,e=o.maxValue):n.push(o);return n.push(new di({objectType:"range",minValue:i,maxValue:e})),n}function pj(t,i){let e=[],n,o=0;for(let r of t)for(;o<i.length;o++){let a=i[o];if(r.objectType==="null"&&a.objectType==="null")e.push(new di({objectType:"null"}));else{if(r.objectType==="null")break;if(a.objectType==="null")continue}if(r.maxValue<a.minValue)break;if(r.maxValue===a.minValue){e.push(new di({objectType:"range",minValue:r.maxValue,maxValue:a.minValue}));break}if(!(r.minValue>a.maxValue))if(r.minValue!==a.maxValue){if(n=r.minValue>a.minValue?r.minValue:a.minValue,r.maxValue<a.maxValue){e.push(new di({objectType:"range",minValue:n,maxValue:r.maxValue}));break}e.push(new di({objectType:"range",minValue:n,maxValue:a.maxValue}))}else e.push(new di({objectType:"range",minValue:r.minValue,maxValue:a.maxValue}))}return e}function mj(t,i){let e=[];for(let n of t)i.some(o=>{if(n.objectType===o.objectType)switch(n.objectType){case"any":case"null":return!0;case"code":return n.codedValue.code===o.codedValue.code&&n.codedValue.name===o.codedValue.name}return!1})&&e.push(n);return e}function hj(t,i){if(t.length===0||i.length===0)return[];if(t[0].objectType==="any")return i;if(i[0].objectType==="any")return t;let e=t[0].objectType==="range"||t[1]?.objectType==="range",n=i[0].objectType==="range"||i[1]?.objectType==="range";return e||n?pj(t,i):mj(t,i)}function fj(t,i,e){return f(this,null,function*(){return pn(`${t}/${i}/fieldgroups`,x({responseType:"json",query:{f:"json"}},e)).then(n=>n.data.fieldGroups??[])})}function Y1(t,i,e){return f(this,null,function*(){return pn(`${t}/queryDataElements`,x({responseType:"json",query:{layers:JSON.stringify([i]),f:"json"}},e)).then(n=>n.data.layerDataElements?.[0].dataElement.fieldGroups??[])})}function Z1(t,i){return f(this,null,function*(){return pn(t,x({responseType:"json",query:{f:"json"}},i)).then(e=>e.data)})}function gj(t,i,e){return f(this,null,function*(){return pn(`${t}/queryContingentValues`,x({responseType:"json",query:{layers:JSON.stringify([i]),f:"json"}},e)).then(n=>n.data.contingentValueSets?.[0])})}function yj(t,i,e){return f(this,null,function*(){return pn(`${t}/${i}/contingentValues`,x({responseType:"json",query:{f:"json"}},e)).then(n=>n.data)})}function _j(t,i){let e=t.domains;if(e){let[n,o]=Object.entries(e).find(([r])=>r.trim().toLowerCase()===i.trim().toLowerCase())||[];return o||null}return null}s([l({constructOnly:!0})],Cs.prototype,"layer",void 0),s([l({constructOnly:!0})],Cs.prototype,"request",void 0),s([l({type:[My]})],Cs.prototype,"fieldGroups",void 0),s([l({constructOnly:!0})],Cs.prototype,"fieldGroupDefinitions",void 0),s([l()],Cs.prototype,"subtypeFieldName",null),Cs=Ey=s([b("esri.layers.support.LayerContingentValuesCache")],Cs);var K1=Cs;var Mn=class extends R{constructor(t){super(t),this.element=null,this.feature=null,this.layer=null,this.timeZone=null,this.type=null,this.visibilityExpressionExecutor=null}get description(){return this.getFormattedLabel(this.element?.description)}get evaluatedVisibilityExpression(){let{visibilityExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get label(){return this.getFormattedLabel(this.element?.label)}get updating(){return!1}get visible(){return this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null}getFormattedLabel(t){let{feature:i,layer:e,timeZone:n}=this;return e==null||t==null?t:rl({label:t,attributes:i.attributes,fieldsIndex:e.fieldsIndex,timeZone:n})}};s([l({readOnly:!0})],Mn.prototype,"description",null),s([l({constructOnly:!0})],Mn.prototype,"element",void 0),s([l()],Mn.prototype,"evaluatedVisibilityExpression",null),s([l()],Mn.prototype,"feature",void 0),s([l()],Mn.prototype,"label",null),s([l()],Mn.prototype,"layer",void 0),s([l()],Mn.prototype,"timeZone",void 0),s([l()],Mn.prototype,"type",void 0),s([l()],Mn.prototype,"updating",null),s([l()],Mn.prototype,"visible",null),s([l()],Mn.prototype,"visibilityExpressionExecutor",void 0),Mn=s([b("esri.widgets.FeatureForm.InputBase")],Mn);var Pd=Mn;var xs=class extends Pd{constructor(t){super(t),this.arcadeEditType="NA",this.editableExpressionExecutor=null}get editable(){return!!this.layerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get evaluatedEditableExpression(){let{editableExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get layerAllowsEdits(){let{layer:t}=this;if(!t)return!1;let i=Uo(t),e=i?.operations.supportsEditing,n=wM(i,this.arcadeEditType);return!(!e||!n)}};s([l()],xs.prototype,"arcadeEditType",void 0),s([l()],xs.prototype,"editable",null),s([l()],xs.prototype,"editableExpressionExecutor",void 0),s([l()],xs.prototype,"evaluatedEditableExpression",null),s([l()],xs.prototype,"layerAllowsEdits",null),xs=s([b("esri.widgets.FeatureForm.EditableInput")],xs);var Od=xs;var Ae=class extends Od{constructor(t){super(t),this._storedValue=null,this.error=null,this.preservesValueWhenHidden=!0,this.field=null,this.group=null,this.requiredExpressionExecutor=null,this.type="field",this._fieldInputWasVisibleDuringLifetime=!1,this.valueExpressionExecutor=null}initialize(){this.addHandles(T(()=>this.feature,()=>this._fieldInputWasVisibleDuringLifetime=!1,Xt))}get _dateFormRange(){let{element:t,field:i}=this;if(this.dataType!=="date")return{};let e=t?.domain?Du(i,t.domain):null;if(!t?.input)return e??{};let n=t.input,{type:o}=n,r={};if(o!=="date-picker"&&o!=="time-picker"&&o!=="datetimeoffset-picker"||(r=LS(i,n.max,n.min)),o==="datetime-picker"){let{max:d,min:u}=n;r={max:d!=null&&eb(d)?d.getTime():null,min:u!=null&&eb(u)?u.getTime():null}}let{max:a,min:c}=r;if(e){let{max:d,min:u}=e,p=$s(d)&&(a==null||a!=null&&d<a),h=$s(u)&&(c==null||c!=null&&u>c);return{max:p?d:a??null,min:h?u:c??null,rawMax:p?e.rawMax:r?.rawMax??null,rawMin:h?e.rawMin:r?.rawMin??null}}return{min:c,max:a,rawMax:r?.rawMax??null,rawMin:r?.rawMin??null}}get _dateRange(){let{_dateFormRange:t,field:i}=this;if(this.dataType!=="date")return{};let e=Du(i);if(!e)return t;let{max:n,min:o,rawMax:r,rawMin:a}=t;if(i.type==="date"){let{max:c,min:d}=e;return{max:$s(n)&&(c===null||c!=null&&n<c)?n:c??null,min:$s(o)&&(d===null||d!=null&&o>d)?o:d??null}}if(i.type==="date-only"||i.type==="time-only"||i.type==="timestamp-offset"){let{max:c,min:d,rawMax:u,rawMin:p}=e,h=$s(n)&&r&&(c==null||n<c),y=$s(o)&&a&&(d==null||o>d);return{max:h?n:c,min:y?o:d,rawMax:h?r:u,rawMin:y?a:p}}return{max:null,min:null}}get _configAllowsEdits(){let{element:t,layer:i,name:e}=this;return t!=null?t.editableExpression?!!this.evaluatedEditableExpression:t.editable!==!1:i?.userHasUpdateItemPrivileges?!0:(i&&"popupTemplate"in i?i?.popupTemplate?.fieldInfos?.find(({fieldName:o})=>o===e):null)?.isEditable??!0}get _layerAndFieldAllowEdits(){return this.layerAllowsEdits&&this.field?.editable}get _isVisibleByDefault(){let{field:t,layer:i}=this;return!!t?.visible&&qI(t,i)}get _isEditTrackingField(){return QI(this.layer).includes(this.name?.toLowerCase())}get _shouldUseValueExpression(){return this._layerAndFieldAllowEdits&&!this._configAllowsEdits&&this.valueExpressionExecutor!=null&&this.valueExpressionExecutor.initialExecutionComplete}get isSubtypeField(){let{layer:t}=this;if(t&&"subtypeField"in t){let{subtypeField:i,fieldsIndex:e}=t;return(e.get(i)?.name??i)===this.name}return!1}get valueIsOutOfDomain(){let{domain:t,value:i,field:e}=this;return!(!t||i==null)&&VS(e,i,t)!==null}get dataType(){let{field:t}=this;return nl(t)?$r.Number:Qa(t)?$r.Text:jv(t)||Bu(t)?$r.Date:$r.Unsupported}get dateDataType(){if(this.dataType===$r.Date)return this.field.type!=="date"?"string":"number"}get domain(){let{layer:t,feature:i,name:e,element:n}=this,o=n?.domain;return o!=null&&this._isDomainCompatible(o)?o:t.getFieldDomain(e,{feature:i})}get editable(){return!!this._layerAndFieldAllowEdits&&(this.evaluatedEditableExpression??this._configAllowsEdits)}get evaluatedRequiredExpression(){let{requiredExpressionExecutor:t}=this;return t!=null?!!t.lastEvaluatedValue:null}get evaluatedValueExpression(){let{valueExpressionExecutor:t}=this;return t!=null?t.lastEvaluatedValue:null}get hint(){return this.element?.hint}get includeDate(){return!(this.dataType!==$r.Date||this.field.type==="time-only")}get includeTime(){let{element:t,field:i}=this;if(this.dataType!==$r.Date)return!1;if(i.type==="time-only")return!0;if(i.type==="date-only")return!1;let e=t?.input?.type==="datetime-picker"?t.input.includeTime:void 0;return e===void 0||e}get includeTimeOffset(){if(this.field.type!=="timestamp-offset")return!1;let t=this.element?.input;return!t||t.type==="datetimeoffset-picker"&&t.includeTimeOffset}set initialFeature(t){this._set("initialFeature",t),this.notifyChange("valid")}get inputType(){return this.element?.input?.type}get hasInvalidSwitchValue(){let{element:t}=this,i=Wu(t,"switch")?t.input:null;return!i||HM(this.value,i)}get isRelationshipKeyField(){let{field:t,layer:i}=this;return Ga(i)&&!!i.relationships?.some(e=>e.keyField===t.name)}get label(){let{field:t}=this;return this.getFormattedLabel(this.element?.label)??t.alias??t.name}get maxLength(){return SM({dataType:this.dataType,field:this.field,input:this.element?.input})}get minLength(){return IM({dataType:this.dataType,field:this.field,input:this.element?.input})}get name(){return this.field?.name}get range(){let{domain:t,element:i,field:e}=this;if(this.dataType==="date")return this._dateRange;let n=Du(e,t)||ZI(e,t),o=n?.max===Number.MAX_VALUE?null:n?.max??null,r=n?.min===-Number.MAX_VALUE?null:n?.min??null;if(!i?.domain||i.domain.type!=="range")return{max:o,min:r};let{max:a,min:c}=Du(e)||{};return{max:a!=null&&(o===null||o!=null&&a<o)?a:o,min:c!=null&&(r===null||r!=null&&c>r)?c:r}}get required(){let{editable:t,evaluatedRequiredExpression:i,field:e,visible:n,isSubtypeField:o}=this;return t?e?.nullable===!1||o?!0:!(!n||this.group?.visible===!1||i==null)&&i:!1}set required(t){this._overrideIfSome("required",t)}get showNoValueOptionEnabled(){let{element:t}=this;return!this.required&&(!tb(t)||t.input.showNoValueOption)}get showNoValueLabel(){let{element:t}=this;return tb(t)?t.input.noValueOptionLabel:null}get submittable(){let{field:t,required:i,valid:e,value:n}=this;return(!i||n!=null)&&(!!e||this.initialFeature.getAttribute(t.name)===n)}get timeResolution(){let t=this.element?.input;if(t&&(t.type==="datetimeoffset-picker"||t.type==="time-picker"))return t.timeResolution??"minutes"}get timeStep(){return this.timeResolution!=null?fM.get(this.timeResolution):void 0}get updating(){let{editableExpressionExecutor:t,valueExpressionExecutor:i,visibilityExpressionExecutor:e,preservesValueWhenHidden:n}=this;return i!=null&&i.updating||t!=null&&t.updating||n===!1&&e!=null&&e.updating}get valid(){let t=this.editable?this._validate():null;return this._set("error",t),t===null}get value(){if(this._fieldInputWasVisibleDuringLifetime=this._fieldInputWasVisibleDuringLifetime||this.visible&&this.group?.visible!==!1,this.preservesValueWhenHidden===!1&&this._fieldInputWasVisibleDuringLifetime&&(this.visibilityExpressionExecutor?.lastEvaluatedValue===!1||this.group?.visibilityExpressionExecutor?.lastEvaluatedValue===!1))return this._storedValue!==null&&this.set("_storedValue",null),null;if(this._shouldUseValueExpression){let t=this.evaluatedValueExpression;return this.dataType===$r.Date?this._arcadeOutputToDateFieldValue(t):t!=null&&typeof t=="object"?`${t}`:t}return this._storedValue}set value(t){this.notifyChange("evaluatedVisibilityExpression"),this.set("_storedValue",t),this.notifyChange("value"),this.notifyChange("valid")}get visible(){return!this._isEditTrackingField&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null&&this.field?.visible!==!1||this._isVisibleByDefault)}_arcadeOutputToDateFieldValue(t){let i=this.field.type;try{if(typeof t=="object"){if(t===null)return null;if(AM(t))return bM(t,i);if("getTime"in t&&typeof t.getTime=="function"&&i==="date")return parseInt(t.getTime(),10);if(i==="date-only"||i==="time-only"||i==="timestamp-offset")return t.toString()}else{if(typeof t=="string")return i==="date"?parseInt(t,10):t;if(typeof t=="number"&&i==="date")return t}throw new D("feature-form:invalid-date-value")}catch{return i==="date"?NaN:""}}_isDomainCompatible(t){let{field:i}=this;if(t?.type==="coded-value"){let e=typeof t.codedValues[0].code;if(e==="string"&&Qa(i)||e==="number"&&nl(i))return!0}return!!(t?.type==="range"&&nl(i)||jv(i)||Bu(i))}_validate(){let{dataType:t,domain:i,field:e,minLength:n,range:o,required:r,value:a,maxLength:c}=this;return CM(a,{dataType:t,domain:i,field:e,maxLength:c,minLength:n,range:o,required:r})}};s([l()],Ae.prototype,"_dateFormRange",null),s([l()],Ae.prototype,"_dateRange",null),s([l()],Ae.prototype,"_storedValue",void 0),s([l()],Ae.prototype,"_configAllowsEdits",null),s([l()],Ae.prototype,"_layerAndFieldAllowEdits",null),s([l()],Ae.prototype,"_isVisibleByDefault",null),s([l()],Ae.prototype,"_isEditTrackingField",null),s([l()],Ae.prototype,"_shouldUseValueExpression",null),s([l()],Ae.prototype,"isSubtypeField",null),s([l()],Ae.prototype,"valueIsOutOfDomain",null),s([l()],Ae.prototype,"dataType",null),s([l()],Ae.prototype,"dateDataType",null),s([l()],Ae.prototype,"domain",null),s([l()],Ae.prototype,"editable",null),s([l({readOnly:!0})],Ae.prototype,"error",void 0),s([l({constructOnly:!0})],Ae.prototype,"preservesValueWhenHidden",void 0),s([l()],Ae.prototype,"evaluatedRequiredExpression",null),s([l()],Ae.prototype,"evaluatedValueExpression",null),s([l()],Ae.prototype,"field",void 0),s([l()],Ae.prototype,"group",void 0),s([l({readOnly:!0})],Ae.prototype,"hint",null),s([l()],Ae.prototype,"includeDate",null),s([l()],Ae.prototype,"includeTime",null),s([l()],Ae.prototype,"includeTimeOffset",null),s([l()],Ae.prototype,"initialFeature",null),s([l({readOnly:!0})],Ae.prototype,"inputType",null),s([l()],Ae.prototype,"hasInvalidSwitchValue",null),s([l()],Ae.prototype,"isRelationshipKeyField",null),s([l()],Ae.prototype,"label",null),s([l()],Ae.prototype,"maxLength",null),s([l()],Ae.prototype,"minLength",null),s([l({readOnly:!0})],Ae.prototype,"name",null),s([l()],Ae.prototype,"range",null),s([l()],Ae.prototype,"required",null),s([l()],Ae.prototype,"requiredExpressionExecutor",void 0),s([l()],Ae.prototype,"showNoValueOptionEnabled",null),s([l()],Ae.prototype,"submittable",null),s([l()],Ae.prototype,"timeResolution",null),s([l()],Ae.prototype,"timeStep",null),s([l({readOnly:!0})],Ae.prototype,"type",void 0),s([l()],Ae.prototype,"updating",null),s([l()],Ae.prototype,"valid",null),s([l({value:null})],Ae.prototype,"value",null),s([l()],Ae.prototype,"valueExpressionExecutor",void 0),s([l()],Ae.prototype,"visible",null),Ae=s([b("esri.widgets.FeatureForm.FieldInput")],Ae);var Iw=Ae;var Mw="#JSAPI_FORM_EXPRESSIONS_MANAGER_GEOMETRY",ir=class extends R{constructor(t){super(t),this._fieldReferencesLookup=new Map,this._fieldsAffectedLookup=new Map,this.preserveFieldValuesWhenHidden=!0,this._latestFieldValues=x({},t.feature.attributes)}initialize(){this._dependencyGraph=this._buildDependencyGraph()}destroy(){this.resetExecutors()}get _asyncExecutors(){return this.executors.filter(t=>t.isAsync)}get _baseContext(){let{editType:t,layer:i,map:e,originalFeature:n,spatialReference:o,timeZone:r}=this.arcadeContextInfo,a=i?.type==="scene"&&i.associatedLayer!=null?i.associatedLayer:i;return[{$originalfeature:n,$editcontext:{editType:t},$layer:a,$featureset:a,$datastore:i?.url,$map:e},{rawOutput:!0,spatialReference:o??void 0,timeZone:r}]}set feature(t){this._latestFieldValues=x({},t?.attributes),this._set("feature",t)}evaluateAll(){return this._evaluate(this.executors)}evaluateAsyncExpressions(){return this._evaluate(this._asyncExecutors)}evaluateExpressions(t){return this._evaluate(t)}evaluateInvalidated(t){let{_fieldReferencesLookup:i,_latestFieldValues:e,feature:n}=this,o=new Set;for(let r of t)if(e[r]=n.getAttribute(r),i.has(r))for(let a of i.get(r))o.add(a);return this._evaluate([...o])}evaluateInvalidatedByGeometry(){return f(this,null,function*(){if(this._fieldReferencesLookup.has(Mw))return this._evaluate([...this._fieldReferencesLookup.get(Mw)])})}resetExecutors(){for(let t of this.executors)t.reset()}_buildDependencyGraph(){let{_fieldReferencesLookup:t,_fieldsAffectedLookup:i,executors:e,preserveFieldValuesWhenHidden:n}=this,o=new Map(this.fieldInputs.map(c=>[c.name,c])),r=n===!1,a=new Map(e.map(c=>[c,new Array]));for(let c of e){for(let d of c.fieldsUsed){jt(t,d,()=>new Set).add(c);let u=o.get(d);[u?.valueExpressionExecutor,u?.editableExpressionExecutor,r?u?.group?.visibilityExpressionExecutor:null,r?u?.visibilityExpressionExecutor:null].filter(p=>p!=null&&p!==c).forEach(p=>{a.get(p).push(c),jt(i,p,()=>new Set).add(u)})}c.geometryUsed&&jt(t,Mw,()=>new Set).add(c)}return a}_evaluate(t){return f(this,null,function*(){let i=new Map,{_dependencyGraph:e,_fieldsAffectedLookup:n,_latestFieldValues:o}=this;for(let a of t)$1(a,i,e);for(let[a,{resolver:c,dependencyPromises:d}]of i)Promise.all(d).then(()=>f(this,null,function*(){let[u,p]=this._makeContext(o);return a.executeAsync(u,p)})).then(()=>{if(n.has(a))for(let u of n.get(a))this._latestFieldValues[u.name]=u.value;c.resolve()},u=>{!u||un(u)||J1(u)||a.markStale(),c.reject(u)});let r=(yield Promise.allSettled(Array.from(i.values(),({resolver:a})=>a.promise))).filter(a=>a.status==="rejected"&&!(un(a.reason)||J1(a.reason)));if(r.length>0){let a=new AggregateError(r,`One or more expression executions failed. First error message: ${r[0].reason}`);throw z.getLogger(this).error(a),a}})}_makeContext(t){let[i,e]=this._baseContext,n=this.feature.clone();return n.attributes=t,[O(x({},i),{$feature:n}),e]}get test(){}};s([l()],ir.prototype,"_asyncExecutors",null),s([l()],ir.prototype,"_baseContext",null),s([l()],ir.prototype,"feature",null),s([l({constructOnly:!0})],ir.prototype,"preserveFieldValuesWhenHidden",void 0),s([l()],ir.prototype,"executors",void 0),s([l()],ir.prototype,"fieldInputs",void 0),s([l()],ir.prototype,"arcadeContextInfo",void 0),ir=s([b("esri.widgets.FeatureForm.FormExpressionsManager")],ir);var $1=(t,i,e)=>{if(i.has(t))return;let n=$t();i.set(t,{resolver:n,dependencyPromises:[]}),t.abort();let o=e.get(t);for(let r of o)$1(r,i,e),i.get(r).dependencyPromises.push(n.promise)},J1=t=>t&&typeof t=="object"&&"message"in t&&t.message==="Cancelled";var Ma=class extends Pd{constructor(t){super(t),this._expressionTrackingHandles=new Map,this.id=vh().toString(),this.type="group"}initialize(){this.addHandles([T(()=>[this.visible,this.inputs],([t])=>{let{inputs:i}=this,e=!!t&&void 0;for(let n of i)Ya(n)&&(n.required=e)},{initial:!0,equals:(t,i)=>i[0]===t[0]&&i[1]===t[1]})])}destroy(){for(let t of this._expressionTrackingHandles.values())t.remove()}get initialState(){return this.element.initialState||"expanded"}get inputs(){return this._get("inputs")}set inputs(t){this.removeAllHandles(),t&&this.addHandles(t.map(i=>T(()=>i.visible,()=>this._dirtyEvaluatedVisibilityExpression()))),this._set("inputs",t)}get open(){return this.initialState==="expanded"}set open(t){this._override("open",t)}get visible(){return this.evaluatedVisibilityExpression!==!1&&this.inputs&&this.inputs.some(t=>t.visible)}_dirtyEvaluatedVisibilityExpression(){let{element:t}=this;t.visibilityExpression&&this.notifyChange("evaluatedVisibilityExpression")}};s([l()],Ma.prototype,"id",void 0),s([l()],Ma.prototype,"initialState",null),s([l()],Ma.prototype,"inputs",null),s([l()],Ma.prototype,"open",null),s([l()],Ma.prototype,"type",void 0),s([l()],Ma.prototype,"visible",null),Ma=s([b("esri.widgets.FeatureForm.GroupInput")],Ma);var X1=Ma;var vj=3,at=class extends Od{constructor(t){super(t),this._relationshipVM=null,this.group=null,this.type="relationship",this.addHandles([T(()=>({feature:this.feature,element:this.element,layer:this.layer}),i=>this._createRelationshipVM(i),re),lt(()=>this.relatedLayer,"edits",()=>this._relationshipVM?.refresh())])}destroy(){this._relationshipVM?.destroy()}get canAddRelatedFeature(){let{editable:t,featureCount:i,relationship:e}=this;if(!e||!this.loaded||!this.relatedLayerAllowsAdds||this.allCategories?.length&&!this.activeCategory)return!1;let{cardinality:n,role:o}=e;return!(n==="one-to-one"&&i>0)&&n!=="many-to-many"&&!(n==="one-to-many"&&o==="destination"&&i>0)&&t}get activeCategory(){return this._relationshipVM?.activeCategory}set activeCategory(t){let i=this._relationshipVM;i&&(i.activeCategory=t)}get allCategories(){let{relatedLayer:t}=this,i=this._relationshipVM?.categories;if(!Ri(t))return;let e=(t.subtypes??[]).map(({code:n,name:o})=>{let r=i?.find(a=>a.name===o);return{name:o,count:r?.count??0,value:r?.value??n}});return e.length?e:null}get categories(){return this.showAllEnabled?this.allCategories:this.allCategories?.slice(0,this.displayCount)}get displayCount(){return this.element.displayCount??vj}get displayType(){return this.element.displayType}get editable(){return!!this.relatedLayerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get featureCount(){return this._relationshipVM?.featureCount??0}get label(){return this.activeCategory?.name?this.activeCategory.name:this.getFormattedLabel(this.element?.label)}get loaded(){return this._relationshipVM?.state!=="loading"}get map(){return this._get("map")}set map(t){t&&this._relationshipVM?.set("map",t),this._set("map",t)}get orderByFields(){return this.element.orderByFields}get originHasValidKey(){return!(!this.relationship||!this.feature.getAttribute(this.relationship.keyField))}get relationship(){return this._relationshipVM?.relationship}get relationshipId(){return this.element.relationshipId}get relatedFeatureInfos(){let{_relationshipVM:t,timeZone:i}=this;if(!t?.relatedFeatures?.length||!t?.relatedLayer)return[];let{itemDescriptionFieldName:e,relatedFeatures:n,relatedLayer:o}=t,r=o&&"formTemplate"in o&&o.formTemplate?o.formTemplate.title:void 0;return n.map(a=>{let c;if(e){let d=a.getAttribute(e),u=o.fieldsIndex.get(e);if(u){let p=VM({values:[d],fields:[u],timeZone:i??void 0})[e];p!=null&&(c=p.toString())}}return{feature:a,description:c,title:r?rl({label:r,attributes:a.attributes,fieldsIndex:o.fieldsIndex,timeZone:i}):void 0}}).toArray()}get relatedLayer(){return this._relationshipVM?.relatedLayer}get relatedLayerIsTable(){return!!this.relatedLayer?.isTable}get relatedLayerAllowsAdds(){let{relatedLayer:t}=this;return!t||!this.relatedLayerAllowsEdits?!1:!!Uo(t)?.operations?.supportsAdd}get relatedLayerAllowsEdits(){let{relatedLayer:t}=this;return t?!!Uo(t)?.operations?.supportsEditing:!1}get showAllEnabled(){return this._get("showAllEnabled")}set showAllEnabled(t){this._relationshipVM?.set("showAllEnabled",t),this._set("showAllEnabled",t)}get showAllActionVisible(){return!this.showAllEnabled&&this.featureCount>0&&this.featureCount>this.displayCount}get showAllCategoriesVisible(){let t=this.allCategories?.length??0;return!this.showAllEnabled&&t>0&&t>this.displayCount}get visible(){let{relationship:t}=this;if(!t)return!1;let{cardinality:i}=t;return i!=="many-to-many"&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null)}get updating(){return this._relationshipVM?.state==="loading"||this._relationshipVM?.state==="querying"}incrementPage(){this._relationshipVM&&this._relationshipVM.featurePage++}getRelatedFeatureByObjectId(t){return this._relationshipVM?.getRelatedFeatureByObjectId(t)}_createRelationshipVM(t){let{feature:i,element:e,layer:n}=t;if(this._relationshipVM?.destroy(),!i||!e||!n)return;let{displayCount:o,map:r,orderByFields:a,relationshipId:c,showAllEnabled:d}=this;Ga(n)&&(this._relationshipVM=new rE({graphic:i,displayCount:o,layer:n,map:r,orderByFields:a,relationshipId:c,showAllEnabled:d}))}};s([l()],at.prototype,"_relationshipVM",void 0),s([l()],at.prototype,"canAddRelatedFeature",null),s([l()],at.prototype,"activeCategory",null),s([l()],at.prototype,"allCategories",null),s([l()],at.prototype,"categories",null),s([l()],at.prototype,"displayCount",null),s([l()],at.prototype,"displayType",null),s([l()],at.prototype,"editable",null),s([l()],at.prototype,"featureCount",null),s([l()],at.prototype,"group",void 0),s([l()],at.prototype,"label",null),s([l()],at.prototype,"loaded",null),s([l()],at.prototype,"map",null),s([l()],at.prototype,"orderByFields",null),s([l()],at.prototype,"originHasValidKey",null),s([l()],at.prototype,"relationship",null),s([l()],at.prototype,"relationshipId",null),s([l()],at.prototype,"relatedFeatureInfos",null),s([l()],at.prototype,"relatedLayer",null),s([l()],at.prototype,"relatedLayerIsTable",null),s([l()],at.prototype,"relatedLayerAllowsAdds",null),s([l()],at.prototype,"relatedLayerAllowsEdits",null),s([l()],at.prototype,"showAllEnabled",null),s([l()],at.prototype,"showAllActionVisible",null),s([l()],at.prototype,"showAllCategoriesVisible",null),s([l({readOnly:!0})],at.prototype,"type",void 0),s([l()],at.prototype,"visible",null),s([l()],at.prototype,"updating",null),at=s([b("esri.widgets.FeatureForm.RelationshipInput")],at);var eP=at;function tP(t){let i=/{[^{]+?}/g,e=[...t.matchAll(i)],n=0,o=[],r=[];for(let a of e){let c=a[0];o.push(t.slice(n,a.index)),r.push(c),n=a.index+c.length}return o.push(t.slice(n)),{literals:o,templates:r}}function iP(t,i){return i.reduce((e,n,o)=>e.concat(t.at(o),n),"").concat(t.at(-1))}var Ew,bj=["blockquote","html","hr","checkbox","table","tablerow","tablecell","image"];function nP(t){return f(this,null,function*(){return Ew||(yield Aj()),Ew.parse(t)})}function Aj(){return f(this,null,function*(){let{Marked:t}=yield import("./chunk-PUF7S4RY.js"),i=function({text:r}){return`<span style="text-decoration:line-through;">${r}</span>`},e=function({href:r,text:a,title:c}){return`<a${r!=null?` href="${r}"`:""}${c!=null?` title="${c}"`:""} target="_blank">${a??""}</a>`},n=()=>"",o={};for(let r of bj)o[r]=n;Ew=new t({renderer:x({del:i,link:e},o)})})}var zn=class extends Pd{constructor(t){super(t),this.group=null,this.id=`TextElementInput-${vh()}`,this.type="text",this._expressionReferences=new io,this._expressionsUsed=new cb,this._fieldsUsed=new cb,this._literalParts=new ee,this._templateParts=new ee,this._updatingHandles=new vt}initialize(){let{rawText:t}=this;t?this.textFormat==="markdown"?this._updatingHandles.addPromise(nP(t).then(i=>this._initializeTextParts(i))):this._initializeTextParts(t):this._literalParts.push("")}get expressionsUsed(){return Array.from(this._expressionsUsed)}get fieldsIndex(){return this.layer.fieldsIndex}set fieldsIndex(t){this._overrideIfSome("fieldsIndex",t)}get fieldsUsed(){return Array.from(this._fieldsUsed)}get rawText(){return this.element.text}get text(){let t=this._templateParts.map(i=>`${this._expressionReferences.get(i)?.lastEvaluatedValue??""}`);return AS.sanitize(iP(this._literalParts,t))}get textFormat(){return this.element.textFormat}get updating(){return this._updatingHandles.updating||Array.from(this._expressionReferences.values()).some(t=>t?.updating)}setExpressionExecutor(t,i){this._expressionReferences.set(nb(t),i)}setFieldExecutor(t,i){this._expressionReferences.set(ob(t),i)}_initializeTextParts(t){let{fieldsIndex:i}=this,{literals:e,templates:n}=tP(t),o=[],r=[];for(let a=0;a<n.length;a++){let c=e[a],d=JI(n[a])[0];if(PM(d))this._expressionsUsed.add(RM(d)),this._expressionReferences.set(d,null),o.push(c),r.push(d);else if(OM(d)){this._expressionsUsed.add(d);let u=nb(d);this._expressionReferences.set(u,null),o.push(c),r.push(u)}else if(i?.has(d)){let u=i.normalizeFieldName(d);this._fieldsUsed.add(u);let p=ob(u);this._expressionReferences.set(p,null),o.push(c),r.push(p)}else e[a+1]=c.concat(d,e[a+1])}o.push(e.at(-1)),this._literalParts.addMany(o),this._templateParts.addMany(r)}};s([l()],zn.prototype,"expressionsUsed",null),s([l()],zn.prototype,"fieldsIndex",null),s([l()],zn.prototype,"fieldsUsed",null),s([l()],zn.prototype,"group",void 0),s([l()],zn.prototype,"id",void 0),s([l()],zn.prototype,"rawText",null),s([l()],zn.prototype,"text",null),s([l()],zn.prototype,"textFormat",null),s([l()],zn.prototype,"type",void 0),s([l()],zn.prototype,"updating",null),zn=s([b("esri.widgets.FeatureForm.TextElementInput")],zn);var oP=zn;var Qt=class extends en.IdentifiableMixin(Od){constructor(t){super(t),this.group=null,this.type="utilityNetworkAssociations",this.featureItem=null,this._updatingHandlesSetUp=new vt,this.addHandles([T(()=>({feature:this.feature,element:this.element,layer:this.layer}),i=>this._createAssociationVM(i),re),T(()=>this.feature,()=>this._setFeatureItem()),T(()=>this.associatedLayer,(i,e)=>this._updateLayerEditHandle(i,e),re)])}destroy(){this._associationsVM?.destroy(),this._updatingHandlesSetUp.destroy()}get activeAssociationType(){return this._associationsVM?.activeAssociationType}get associatedFeatures(){let{associatedLayer:t}=this;if(t)return this.associatedFeatureInfos.get(t)}get associatedFeatureInfos(){let{_associationsVM:t}=this;if(!t?.associationFeatures?.size||!t?.utilityNetwork)return new Map;let{associationFeatures:i}=t,e=new Map;return i.forEach((n,o)=>{let r=n.map(a=>{if(a.title==null){let c=qa(a.feature);return O(x({},a),{title:c})}return a});e.set(o,r)}),e}get associatedLayer(){return this._get("associatedLayer")}set associatedLayer(t){this._associationsVM.showAllEnabled=t!=null,this._set("associatedLayer",t)}get associationsViewModel(){return this._associationsVM}get canAddAssociation(){let{editable:t,utilityNetwork:i}=this;return!(!i||!this.loaded)&&t}get editable(){return this.evaluatedEditableExpression??!0}get featureCount(){return this._associationsVM?.featureCount??0}get viewModel(){return this._associationsVM}get loaded(){return this._associationsVM?.state!=="loading"&&!this._updatingHandlesSetUp.updating}get map(){return this._get("map")}set map(t){t&&this._associationsVM?.set("map",t),this._set("map",t)}get utilityNetwork(){return this._associationsVM?.utilityNetwork}get associationTypes(){return this._associationsVM?.associationTypes??this.element.associationTypes}get visible(){let{utilityNetwork:t}=this;return!!t&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null)}get updating(){return this._associationsVM?.state==="loading"||this._associationsVM?.state==="querying"}refresh(){return f(this,null,function*(){yield Hi(this._associationsVM.refresh())})}_updateLayerEditHandle(t,i){i&&"layerId"in i&&this.removeHandles(i?.layerId),Pu(t)&&this.addHandles(lt(()=>t,"edits",()=>this.refresh()),t.layerId)}_createAssociationVM(t){let{feature:i,element:e,layer:n}=t;if(this._associationsVM?.destroy(),!i||!e||!n)return;let{map:o,associationTypes:r}=this;Pu(n)&&(this._associationsVM=new qu({graphic:i,layer:n,map:o,associationTypes:r,source:"featureForm",title:this.label,description:this.description}))}_setFeatureItem(){this._updatingHandlesSetUp.addPromise(f(this,null,function*(){let{feature:t,layer:i}=this;t&&i&&"getFeatureTitle"in i&&(this.featureItem={feature:t,label:yield i.getFeatureTitle(t)})}))}};s([l()],Qt.prototype,"_associationsVM",void 0),s([l()],Qt.prototype,"activeAssociationType",null),s([l()],Qt.prototype,"associatedFeatures",null),s([l()],Qt.prototype,"associatedFeatureInfos",null),s([l()],Qt.prototype,"associatedLayer",null),s([l()],Qt.prototype,"associationsViewModel",null),s([l()],Qt.prototype,"canAddAssociation",null),s([l()],Qt.prototype,"editable",null),s([l()],Qt.prototype,"featureCount",null),s([l()],Qt.prototype,"viewModel",null),s([l()],Qt.prototype,"group",void 0),s([l()],Qt.prototype,"loaded",null),s([l()],Qt.prototype,"map",null),s([l()],Qt.prototype,"utilityNetwork",null),s([l()],Qt.prototype,"associationTypes",null),s([l({readOnly:!0})],Qt.prototype,"type",void 0),s([l()],Qt.prototype,"visible",null),s([l()],Qt.prototype,"updating",null),s([l()],Qt.prototype,"featureItem",void 0),Qt=s([b("esri.widgets.FeatureForm.UtilityNetworkAssociationInput")],Qt);var ky=Qt;var rP,wj=Symbol("FormExpressionArcadeExecutor"),Qi=class extends R{constructor(t){super(t),this[rP]=!0,this._lastEvaluatedValue=null,this._abortController=new AbortController,this._initialExecutionComplete=!1,this._stale=!1,this._updatingTracking=new vt,this._executeAsyncDebounced=_i((i,e,n)=>f(this,null,function*(){let o=yield this.executor.executeAsync(i,O(x({},e),{abortSignal:n}));return n.aborted?this._lastEvaluatedValue:(this._lastEvaluatedValue=o,this._stale=!1,o)}))}get initialExecutionComplete(){return this._initialExecutionComplete}get isAsync(){return this.executor.isAsync}get fieldsUsed(){return this.executor.fieldsUsed}get syntaxTree(){return this.executor.syntaxTree}get updating(){return this._updatingTracking.updating}get stale(){return this._stale}get geometryUsed(){return this.executor.geometryUsed}get variablesUsed(){return this.executor.variablesUsed}get lastEvaluatedValue(){return this._lastEvaluatedValue}abort(){this._abortController.abort()}execute(t,i){this._abortController=new AbortController;let e=this.executor.execute(t,O(x({},i),{abortSignal:this._abortController.signal}));return this._lastEvaluatedValue=e,this._initialExecutionComplete=!0,e}executeAsync(t,i){return f(this,null,function*(){return this._abortController=new AbortController,this._updatingTracking.addPromise(this._executeAsyncDebounced(t,i??{},this._abortController.signal).then(()=>{this._initialExecutionComplete=!0}))})}markStale(){this._stale=!0}reset(){this.abort(),this._lastEvaluatedValue=null,this._stale=!1}};rP=wj,s([l()],Qi.prototype,"_lastEvaluatedValue",void 0),s([l()],Qi.prototype,"_initialExecutionComplete",void 0),s([l()],Qi.prototype,"_stale",void 0),s([l()],Qi.prototype,"_updatingTracking",void 0),s([l({constructOnly:!0})],Qi.prototype,"executor",void 0),s([l()],Qi.prototype,"initialExecutionComplete",null),s([l()],Qi.prototype,"isAsync",null),s([l()],Qi.prototype,"fieldsUsed",null),s([l()],Qi.prototype,"syntaxTree",null),s([l()],Qi.prototype,"updating",null),s([l()],Qi.prototype,"stale",null),s([l()],Qi.prototype,"geometryUsed",null),s([l()],Qi.prototype,"variablesUsed",null),s([l()],Qi.prototype,"lastEvaluatedValue",null),Qi=s([b("esri.widgets.support.forms.expressions.FormExpressionArcadeExecutor")],Qi);var aP=(t,i)=>f(void 0,null,function*(){let e=mM("form-calculation"),n=yield hM(t,e,{});return i?.fieldsIndex&&(n.fieldsUsed=Lu(i.fieldsIndex,n.fieldsUsed)),new Qi({executor:n})});var kw=new dt({attributes:{}}),xj={field:["editableExpression","requiredExpression","valueExpression","visibilityExpression"],group:["visibilityExpression"],relationship:["editableExpression","visibilityExpression"],text:["visibilityExpression"],utilityNetworkAssociations:["editableExpression","visibilityExpression"]},Sj="#JSAPI_CONTINGENT_VALUE_EMPTY_HASH",Vd="#JSAPI_CONTINGENT_VALUE_ANY_HASH",Ij="#JSAPI_CONTINGENT_VALUE_NULL_HASH",lP="esri.widgets.FeatureForm.FeatureFormViewModel",cP=()=>z.getLogger(lP),Se=class extends Xi.EsriPromiseMixin(zt.EventedAccessor){constructor(t){super(t),this._expressionExecutorsInUse=new Set,this._expressionExecutorLookup=new Map,this._expressionsManager=null,this._contingentValuesCache=null,this._featureClone=kw.clone(),this._initialFeature=kw.clone(),this._timeZone=null,this._updatingHandles=new vt,this.activeAssociation=null,this.arcadeEditType="NA",this.contingencyConstraintViolations=new Map,this.disabled=!1,this.highlightHelper=null,this.inputs=[],this.map=null,this.callbacks=null,this.strict=!1,this.pendingSubtypeChoice=null,this._updateInputs=_i(()=>f(this,null,function*(){this._stopExpressions();let{_featureClone:i,_initialFeature:e,arcadeEditType:n,formTemplate:o,inputs:r,layer:a,timeZone:c}=this;if(!a)return;let d={arcadeEditType:n,feature:i,initialFeature:e,layer:a,timeZone:c},u=r.slice(),p=o?.elements&&o.elements.length>0?yield this._updateInputsUsingFormElements(u,o.elements,d):this._updateInputsUsingLayerFields(u,a?.fields,d);this.inputs=p,yield this._startExpressions()}))}initialize(){let t=T(()=>[this.layer,!!this.layer?.loaded,this.formTemplate,this.feature,this.timeZone,this.arcadeEditType],([n,o])=>{n!=null&&(o?this._updatingHandles.addPromise(this._updateInputs()):n.load().catch(()=>{}))},gt),i=T(()=>this._arcadeContextInfo,n=>{this._expressionsManager!=null&&(this._expressionsManager.arcadeContextInfo=n,this._updatingHandles.addPromise(this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())))}),e=T(()=>this.layer,n=>{let o=n?.type==="subtype-sublayer"?n.parent:n?.type==="feature"?n:null;o&&this.addResolvingPromise(K1.createLoadedLayerContingentValuesCache(o).then(r=>{this._contingentValuesCache=r,this.notifyChange("fieldsWithContingentValues")}))},{initial:!0});this.addHandles([t,i,e])}destroy(){this.feature=null,this.layer=null,this._contingentValuesCache=Ne(this._contingentValuesCache),this.highlightHelper?.removeAll(),this._updatingHandles.destroy()}get _expressionInfosLookup(){return new Map(this.formTemplate?.expressionInfos?.map(t=>[t.name,t]))}get activeAssociationInput(){return this.allAssociationInputs.find(t=>t.uid===this.associationId)}get activeRelationshipInput(){return this.allRelationshipInputs.find(t=>t.relationshipId===this.relationshipId||t.activeCategory||t.showAllEnabled)}get _arcadeContextInfo(){let{_initialFeature:t,arcadeEditType:i,layer:e,map:n,spatialReference:o,timeZone:r}=this;return{layer:fa(e)?e:null,originalFeature:t,editType:i,map:n,spatialReference:o,timeZone:r}}get associationId(){return this._get("associationId")}set associationId(t){t==null&&this.activeAssociationInput?.viewModel&&(this.activeAssociationInput.associatedLayer=null,this.activeAssociationInput.viewModel.activeAssociationType=null),this._set("associationId",t)}get associatedLayer(){return this.activeAssociationInput?.associatedLayer}set associatedLayer(t){this.activeAssociationInput&&(this.activeAssociationInput.associatedLayer=t)}get allAssociationInputs(){return DM(this.inputs)}get allFieldInputs(){return kM(this.inputs)}get allGroupInputs(){return this.inputs.filter(Za)}get allRelationshipInputs(){return TM(this.inputs)}get _layerFieldsByName(){return new Map(this.layer?.fields.map(t=>[t.name,t]))}get feature(){return this._get("feature")}set feature(t){let i=this._get("feature");this._featureClone=t?t.clone():kw.clone(),this._initialFeature=this._featureClone.clone(),this._expressionsManager&&(this._expressionsManager.feature=this._featureClone),t?(this._resetFieldInputValues(this._featureClone),this.allRelationshipInputs.forEach(e=>e.feature=t)):(this.inputs.forEach(e=>e.destroy()),this.inputs.length=0),i!==t&&(this.pendingSubtypeChoice=null),this.contingencyConstraintViolations.clear(),this._set("feature",t)}get fieldsWithContingentValues(){if(this._contingentValuesCache==null)return new Set;let t=this._contingentValuesCache.fieldGroups.flatMap(i=>i.fields);return new Set(t)}get formTemplate(){return this.layer&&"formTemplate"in this.layer?this.layer.formTemplate:null}set formTemplate(t){t===void 0?this._clearOverride("formTemplate"):this._override("formTemplate",t)}get formDescription(){let{formTemplate:t,layer:i}=this;return t?.description&&i?rl({label:t.description,attributes:this.getValues(),fieldsIndex:i.fieldsIndex,timeZone:this.timeZone}):null}get formTitle(){let{formTemplate:t,layer:i}=this;return t?.title&&i?rl({label:t.title,attributes:this.getValues(),fieldsIndex:i.fieldsIndex,timeZone:this.timeZone}):null}get formHeaderVisible(){let{activeRelationshipInput:t,activeAssociationInput:i,formDescription:e,formTitle:n}=this;return!(t||i||!e&&!n)}get joinedContingentValues(){return this._joinContingentValues()}get layer(){return this.feature?.sourceLayer&&"applyEdits"in this.feature.sourceLayer?this.feature.sourceLayer:null}set layer(t){this._override("layer",t)}get relationshipId(){return this._get("relationshipId")}set relationshipId(t){let i=this.allRelationshipInputs;if(t!=null&&t===this.relationshipId||i.forEach(e=>{e.showAllEnabled=!1,e.activeCategory=null}),t!=null){let e=i.find(n=>n.relationshipId===t);e&&(e.showAllEnabled=!0)}this._set("relationshipId",t)}get spatialReference(){return this.layer?.spatialReference??null}set spatialReference(t){this._override("spatialReference",t)}get state(){return this.layer?.loaded?"ready":"disabled"}get submittable(){return!!this.valid||this.allFieldInputs.filter(t=>!t.valid).every(({submittable:t})=>t)}get timeZone(){let{layer:t}=this;if(t&&"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone)return kv;let i=t&&"preferredTimeZone"in t&&t.preferredTimeZone;return this._timeZone===mS?i||kv:this._timeZone||rc}set timeZone(t){this._timeZone=t}get updating(){return this._updatingHandles.updating}get valid(){let t=this.allFieldInputs;return t.length>0&&t.every(({valid:i})=>i)}findField(t){return this.allFieldInputs.find(i=>i.name===t)}getFieldValueOptionsForField(t,i){let e=this.findField(t);if(!e)return[[],[],[]];let n=e.domain?.type==="coded-value"?e.domain.codedValues.map(({name:a,code:c})=>({name:a,value:c})):[],o=e.value==null||n.some(a=>a.value===e.value)?[]:[{name:`${e.value}`,value:e.value}],r=this.fieldsWithContingentValues.has(t)?this._getContingentValueOptionsForField(t,i):[];if(r.length>0){let a=new Set(r.map(c=>c.value));return[r,n.filter(c=>!a.has(c.value)),o]}return[n,[],o]}getValue(t){let i=this.layer?.getField(t);if(i!=null)return this._featureClone.getAttribute(i.name)??null}setValue(t,i){let{_featureClone:e,strict:n}=this,o=this.findField(t);i=i===""?null:i,o&&e.getAttribute(t)!==i&&(o.value=i,n&&!o.valid||(this._afterValueChange(o),this._expressionsManager!=null&&this._updatingHandles.addPromise(this._expressionsManager.evaluateInvalidated([o.name]).finally(()=>this._afterExpressionsEvaluated()))))}getValues(){return x({},this._featureClone.attributes)}overrideInitialFeature(t){this._initialFeature=t}submit(){let t=this.allFieldInputs,i=new Set(t.filter(o=>o.valid).map(({name:o})=>o)),e=t.filter(o=>!o.valid).map(({name:o})=>o),n=this.getValues();if(this.validateContingencyConstraints(n,{includeIncompleteViolations:!0}).length>0)for(let[o,r]of this.contingencyConstraintViolations.entries())r.type==="error"&&(i.delete(o),e.push(o));this.notifyChange("submittable"),this.notifyChange("valid"),this.emit("submit",{valid:[...i],invalid:e,values:n})}validateContingencyConstraints(t,i){let{_contingentValuesCache:e}=this,n=new Map;if(this.contingencyConstraintViolations=n,e==null)return[];let{invalid:o,incomplete:r}=e.validateContingencyConstraints(t),a=[...o,...i?.includeIncompleteViolations?r:[]];for(let c of a)for(let d of c.fieldGroup.fields)n.set(d,c);return a}notifyFeatureGeometryChanged(){let{_expressionsManager:t,feature:i,_featureClone:e}=this;i&&(e.geometry=i.geometry,t!=null&&this._updatingHandles.addPromise(t.evaluateInvalidatedByGeometry().finally(()=>this._afterExpressionsEvaluated())))}applySubtypeDefaults(t){let{defaultValues:i}=t,{allFieldInputs:e}=this;for(let{name:n}of e){let o=i[n];o!=null&&this.setValue(n,o)}}_emitChangeEvent({name:t,valid:i,value:e}){this.emit("value-change",{layer:this.layer,feature:this.feature,fieldName:t,value:e,valid:i})}_updateInputsUsingFormElements(t,i,e){return f(this,null,function*(){let n=new Map;for(let a of t)if(Za(a)){n.set(a.element,a);for(let c of a.inputs)c.element&&n.set(c.element,c)}else a.element&&n.set(a.element,a);let o=new Map,r=yield this._updateInputsUsingFormElementsRecursive({existingInputsByElement:n,updatedElements:i.filter(sP),sharedInitializationProperties:e,group:null,newExpressionExecutorPromises:o});for(let[a,c]of n.entries())n.delete(a),c.destroy();return yield Promise.all(Array.from(o.values())),r})}_updateInputsUsingFormElementsRecursive(t){return f(this,null,function*(){let{existingInputsByElement:i,updatedElements:e,sharedInitializationProperties:n,group:o,newExpressionExecutorPromises:r}=t,a=[];for(let c of e){let d=i.has(c),u=d?i.get(c):this._makeInputFromElement(c,n,o);if(u){if(a.push(u),yield He(()=>!u.updating),this._assignExpressionExecutors(u,c,r),d)if(i.delete(c),Za(u)){let{feature:p,timeZone:h}=n;u.set({feature:p,timeZone:h})}else if(Gu(u)){let p=this.relationshipId===c.relationshipId;u.set(n),u.set({map:this.map,showAllEnabled:p})}else Hh(u)?(u.set(n),u.set({map:this.map})):u.set(n);if(Bv(c)){let p=c.elements.filter(h=>sP(h));u.inputs=yield this._updateInputsUsingFormElementsRecursive({existingInputsByElement:i,updatedElements:p,sharedInitializationProperties:n,group:u,newExpressionExecutorPromises:r})}}}return a})}_updateInputsUsingLayerFields(t,i,e){if(!Array.isArray(i))return cP().warn(this.declaredClass,"No attribute fields found."),[];let n=new Map;for(let r of t)if(Za(r)){for(let a of r.inputs)a.destroy();r.inputs.length=0,r.destroy()}else Gu(r)?r.destroy():Ya(r)&&(r.element!==null?r.destroy():n.set(r.field,r));let o=[];for(let r of i){let a=e.feature?.getAttribute(r.name)??null,c=n.get(r)??new Iw({field:r,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden});o.push(c.set(O(x({},e),{value:a}))),n.delete(r)}for(let[r,a]of n.entries())n.delete(r),a.destroy();return o}_resetFieldInputValues(t){for(let i of this.allFieldInputs)i.value=t.getAttribute(i.name)}_makeInputFromElement(t,i,e){return Bv(t)?Mj(t,i):sI(t)?this._makeFieldInputFromElement(t,i,e):cI(t)?this._makeRelationshipInputFromElement(t,i,e):Hh(t)?this._makeUtilityNetworkAssociationInputFromElement(t,i,e):lI(t)?Ej(t,i):Hh(t)?this._makeUtilityNetworkAssociationInputFromElement(t,i,e):void 0}_makeFieldInputFromElement(t,i,e){let{arcadeEditType:n,feature:o,initialFeature:r,layer:a,timeZone:c}=i,{fieldName:d}=t,u=d&&this._layerFieldsByName.get(d);return u?new Iw({arcadeEditType:n,element:t,field:u,value:o?.getAttribute(t.fieldName)??null,feature:o,initialFeature:r,layer:a,group:e,preservesValueWhenHidden:this.formTemplate?.preserveFieldValuesWhenHidden,timeZone:c}):null}_makeRelationshipInputFromElement(t,i,e=null){let{map:n}=this,{feature:o,layer:r,timeZone:a}=i,c=new eP({element:t,feature:o,group:e,layer:r,map:n,timeZone:a});return c.addHandles(lt(()=>c.relatedLayer,"edits",()=>this._expressionsManager?.evaluateAsyncExpressions())),c}_makeUtilityNetworkAssociationInputFromElement(t,i,e=null){let{map:n}=this,{feature:o,layer:r,timeZone:a}=i;return new ky({element:t,feature:o,group:e,layer:r,map:n,timeZone:a})}_assignExpressionExecutors(t,i,e){let n=xj[i.type],o=[];for(let r of n){let a=`${r}Executor`;if(t[a]){this._useExecutor(t[a]);continue}let c=i[r];if(c!=null&&c!==""){let d=this._expressionInfosLookup.get(c)?.expression??c;o.push(this._getOrCreateExecutorForExpression(d,e).then(u=>{t[a]=this._useExecutor(u)}))}}return Kh(t)&&o.push(...this._assignTextElementExpressionExecutors(t,e)),o}_assignTextElementExpressionExecutors(t,i){let{_expressionInfosLookup:e}=this,n=[];for(let o of t.expressionsUsed){let r=e.get(o);r!=null?n.push(this._getOrCreateExecutorForExpression(r.expression,i).then(a=>t.setExpressionExecutor(o,this._useExecutor(a)))):z.getLogger(this).error("feature-form:expression-not-found",`Could not find expressionInfo object with name '${o}'`)}for(let o of t.fieldsUsed){let r=`return $feature['${o}'];`;n.push(this._getOrCreateExecutorForExpression(r,i).then(a=>t.setFieldExecutor(o,this._useExecutor(a))))}return n}_getOrCreateExecutorForExpression(t,i){return f(this,null,function*(){let{_expressionExecutorLookup:e}=this;if(e.has(t))return e.get(t);if(i.has(t))return i.get(t);let n=aP(t,this.layer);i.set(t,n);let o=yield n;return e.set(t,o),o})}_createExpressionsManager(t){let{_arcadeContextInfo:i,_featureClone:e,allFieldInputs:n,formTemplate:o}=this;this._expressionsManager=new ir({executors:t,feature:e,arcadeContextInfo:i,fieldInputs:n,preserveFieldValuesWhenHidden:o?.preserveFieldValuesWhenHidden===!0})}_startExpressions(){return f(this,null,function*(){if(this._expressionExecutorsInUse.size===0)return;let t=Array.from(this._expressionExecutorsInUse);this._createExpressionsManager(t),yield this._expressionsManager.evaluateAll().finally(()=>this._afterExpressionsEvaluated())})}_stopExpressions(){this._expressionsManager=Ne(this._expressionsManager),this._expressionExecutorsInUse.clear()}_useExecutor(t){return this._expressionExecutorsInUse.add(t),t}_afterValueChange(t){let{name:i,value:e}=t,{_featureClone:n,formTemplate:o,layer:r}=this;if(!r)return;let a=n.getAttribute(i);n.setAttribute(i,e);let{typeFieldName:c,types:d}=Qu(r);if((t.isSubtypeField||i===c)&&e!==a){if(r.type==="subtype-sublayer"){let p=r.parent?.findSublayerForFeature(n);p&&(this.feature&&(this.feature.sourceLayer=p),n.sourceLayer=p)}let u=new Set;for(let p of d)if(p.domains&&typeof p.domains=="object")for(let h of Object.keys(p.domains))u.add(h);for(let p of u){let h=this.findField(p);h&&h.notifyChange("domain")}this.notifyChange("joinedContingentValues")}if(o!=null){let{description:u,title:p}=o;p&&xv(p,i)&&this.notifyChange("formTitle"),u&&xv(u,i)&&this.notifyChange("formDescription")}this._emitChangeEvent(t)}_afterExpressionsEvaluated(){let{_featureClone:t}=this;for(let i of this.allFieldInputs)i.value!==t.getAttribute(i.name)&&this._afterValueChange(i)}_joinContingentValues(){let t=this._contingentValuesCache;if(t==null)return[];let{typeFieldName:i}=Qu(this.layer),e=i?this.getValue(i):null,n=[];for(let a of t.fieldGroups){let{contingencies:c,fields:d,name:u}=a,p=[];for(let h of c)h.isRetired||h.subtype!=null&&h.subtype.code!==e||p.push({values:h.values});p.length>0&&n.push({name:u,fields:d,contingencies:p})}let[o,r]=this._generateJoinPlan(n);return[...o.flatMap(a=>this._joinFieldGroupContingencies(a)),...r.flatMap(a=>a.contingencies)]}_generateJoinPlan(t){let i=new Map,e=[],n=new Set;for(let d of t)for(let u of d.fields)if(i.has(u)){let p=i.get(u),h=d,y=[p.name,h.name].sort().join("|");if(n.has(y))continue;e.push([p,h]),n.add(y),i.set(u,h)}else i.set(u,d);let o=new Set(e.flat()),r=new Set(t);for(let d of o)r.delete(d);let a=new Map,c=new Map;for(let d of new Set(e.flat())){let u=Symbol(d.name);a.set(u,new Set([d])),c.set(d,u)}for(let[d,u]of e){let p=c.get(d),h=c.get(u);if(p===h)continue;let y=a.get(p),A=a.get(h);for(let C of A)y.add(C),c.set(C,p);a.delete(h)}return[[...a.values()].map(d=>[...d]),[...r]]}_joinFieldGroupContingencies(t){let i=t.slice(),e=i.shift(),n=i.shift(),o=this._generateJoinKey(e.fields,n.fields),r=new Set([...e.fields,...n.fields]),a=new Map;for(let d of e.contingencies){let[u]=this._hashContingency(d,o.codedValueFields,!0);a.has(u)?a.get(u)?.push(d):a.set(u,[d])}for(;i.length>0;){let d=new Map,u=i.shift(),p=this._generateJoinKey(r,u.fields);for(let h of n.contingencies){let[y,A]=this._hashContingency(h,o.codedValueFields),C=A?this._findMatchingContingenciesWithAnyHashMask(a,y):a.get(y);if(a.has(Vd)&&C?.push(...this._findMatchingContingenciesContainingAny(h,a.get(Vd),o.codedValueFields)),C!=null)for(let M of C){let I=o.rangeFields.length>0?this._joinContingenciesWithRangeDomains(M,h,o.rangeFields):this._joinContingencies(M,h);if(I==null)break;let[G]=this._hashContingency(I,p.codedValueFields,!0);d.has(G)?d.get(G)?.push(I):d.set(G,[I])}}a=d,n=u,o=p,r=new Set([...r,...n.fields])}let c=[];for(let d of n.contingencies){let[u,p]=this._hashContingency(d,o.codedValueFields),h=p?this._findMatchingContingenciesWithAnyHashMask(a,u):a.get(u);if(a.has(Vd)&&h.push(...this._findMatchingContingenciesContainingAny(d,a.get(Vd),o.codedValueFields)),h!=null)for(let y of h){let A=o.rangeFields.length>0?this._joinContingenciesWithRangeDomains(y,d,o.rangeFields):this._joinContingencies(y,d);A!=null&&c.push(A)}}return c}_joinContingencies(t,i){let e={values:x(x({},t.values),i.values)};for(let[n,o]of Object.entries(e.values))o.objectType==="any"&&t.values[n]!=null&&(e.values[n]=t.values[n]);return e}_joinContingenciesWithRangeDomains(t,i,e){let n=this._joinContingencies(t,i);for(let o of e){let r=t.values[o],a=i.values[o],{leftIsNull:c,rightIsNull:d,bothAreNull:u,leftIsAny:p,rightIsAny:h,bothAreAny:y,leftIsRange:A,rightIsRange:C}=this._compareObjectTypes(r.objectType,a.objectType);if(u||y)continue;if(c&&h||d&&p){n.values[o]=new di({objectType:"null"});continue}if(c&&C||d&&A)return null;p?(r.minValue=-1/0,r.maxValue=1/0):h&&(a.minValue=-1/0,a.maxValue=1/0);let M=Math.max(r.minValue,a.minValue),I=Math.min(r.maxValue,a.maxValue);if(M>I)return null;n.values[o]=new di({objectType:"range",minValue:M,maxValue:I})}return n}_findMatchingContingenciesContainingAny(t,i,e){return i.filter(n=>e.every(o=>{let r=n.values[o],a=t.values[o];return r.objectType==="any"||a.objectType==="any"||r.codedValue?.code===a.codedValue?.code}))}_findMatchingContingenciesWithAnyHashMask(t,i){let e=RegExp(`${i}$`),n=[];for(let[o,r]of t){if(o===Vd)break;e.test(o)&&n.push(...r)}return n}_generateJoinKey(t,i){let e=Array.isArray(t)?new Set(t):t,n=Array.isArray(i)?new Set(i):i,o=e.size<n.size?e:n,r=o===e?n:e,{feature:a}=this,c=new Set,d=new Set;for(let u of o)if(r.has(u)){let p=this.layer?.getFieldDomain(u,{feature:a??void 0,excludeImpliedDomains:!0});if(p==null)continue;switch(p.type){case"coded-value":c.add(u);break;case"range":d.add(u)}}return{codedValueFields:[...c],rangeFields:[...d]}}_contingencyIsValid(t,i){let e={};for(let{name:n,value:o}of this.allFieldInputs)this.fieldsWithContingentValues.has(n)&&o!=null&&n!==t&&(e[n]=o);return Object.entries(e).every(([n,o])=>!i.values.hasOwnProperty(n)||UM(o,i.values[n]))}_getContingentValueOptionsForField(t,i){let e=this.joinedContingentValues.slice(),n=new Map,o={code:"",name:i??"No value"};for(let r of e){let a=r.values[t];if(a?.objectType==="code"||a?.objectType==="null"){let{code:c,name:d}=a.codedValue&&a.objectType!=="null"?a.codedValue:o;!n.has(c)&&this._contingencyIsValid(t,r)&&n.set(c,{name:d,value:c})}}return[...n.values()]}_hashContingency(t,i,e=!1){if(i.length<1)return[Sj,!1];let n=[],o=!1;for(let r of i){let a=t.values[r];if(a.objectType==="any"){if(e)return[Vd,!0];o=!0,n.push(`${r}:.*`)}else a.objectType==="null"?n.push(`${r}:${Ij}`):n.push(`${r}:${a.codedValue?.code}`)}return[n.sort().join("&"),o]}_compareObjectTypes(t,i){return{leftIsNull:t==="null",rightIsNull:i==="null",bothAreNull:t==="null"&&i==="null",leftIsAny:t==="any",rightIsAny:i==="any",bothAreAny:t==="any"&&i==="any",leftIsRange:t==="range",rightIsRange:i==="range"}}get test(){return{featureClone:this._featureClone}}};function sP(t){return t.type==="field"||t.type==="group"||t.type==="relationship"||t.type==="text"||t.type==="utilityNetworkAssociations"||(cP().warn("form-info::unsupported-element-type","Only element types 'field', 'group' and 'relationship' are supported",`Element ${t.label} has unsupported type '${t.type}'`),!1)}function Mj(t,i){let{feature:e,layer:n}=i;return new X1({element:t,inputs:[],feature:e,layer:n})}function Ej(t,i,e=null){let{feature:n,layer:o,timeZone:r}=i;return new oP({element:t,feature:n,group:e,layer:o,timeZone:r})}s([l()],Se.prototype,"_expressionInfosLookup",null),s([l()],Se.prototype,"_featureClone",void 0),s([l()],Se.prototype,"_timeZone",void 0),s([l()],Se.prototype,"activeAssociation",void 0),s([l()],Se.prototype,"activeAssociationInput",null),s([l()],Se.prototype,"activeRelationshipInput",null),s([l()],Se.prototype,"_arcadeContextInfo",null),s([l()],Se.prototype,"associationId",null),s([l()],Se.prototype,"associatedLayer",null),s([l()],Se.prototype,"allAssociationInputs",null),s([l()],Se.prototype,"allFieldInputs",null),s([l()],Se.prototype,"allGroupInputs",null),s([l()],Se.prototype,"allRelationshipInputs",null),s([l()],Se.prototype,"_layerFieldsByName",null),s([l()],Se.prototype,"arcadeEditType",void 0),s([l()],Se.prototype,"contingencyConstraintViolations",void 0),s([l()],Se.prototype,"disabled",void 0),s([l()],Se.prototype,"feature",null),s([l()],Se.prototype,"fieldsWithContingentValues",null),s([l({type:dI})],Se.prototype,"formTemplate",null),s([l()],Se.prototype,"formDescription",null),s([l()],Se.prototype,"formTitle",null),s([l()],Se.prototype,"formHeaderVisible",null),s([l()],Se.prototype,"highlightHelper",void 0),s([l()],Se.prototype,"inputs",void 0),s([l()],Se.prototype,"joinedContingentValues",null),s([l()],Se.prototype,"layer",null),s([l()],Se.prototype,"map",void 0),s([l()],Se.prototype,"callbacks",void 0),s([l()],Se.prototype,"relationshipId",null),s([l()],Se.prototype,"spatialReference",null),s([l()],Se.prototype,"state",null),s([l()],Se.prototype,"strict",void 0),s([l()],Se.prototype,"submittable",null),s([l()],Se.prototype,"timeZone",null),s([l()],Se.prototype,"updating",null),s([l()],Se.prototype,"valid",null),s([l()],Se.prototype,"pendingSubtypeChoice",void 0),s([l()],Se.prototype,"getValues",null),s([l()],Se.prototype,"submit",null),s([l()],Se.prototype,"test",null),Se=s([b(lP)],Se);var Ld=Se;var Ty=class extends R{constructor(t){super(t),this.associationDetails=!0}};s([l({type:Boolean,nonNullable:!0})],Ty.prototype,"associationDetails",void 0),Ty=s([b("esri.widgets.FeatureForm.VisibleElements")],Ty);var Tw=Ty;function wm(t,i,e){let{associationType:n}=t;switch(n){case"attachment":return i==="to"?e.attachment:e.structure;case"containment":return i==="to"?e.content:e.container;case"junction-edge-from-connectivity":case"junction-edge-to-connectivity":case"junction-edge-midspan-connectivity":case"junction-junction-connectivity":case"connectivity":return e.connectivity}}function kj(t){let{feature:i,association:e,associationType:n,messages:o}=t,{attachment:r,connectivity:a,container:c,content:d,structure:u}=o,p=i.sourceLayer;if(!e&&!n)return;if(!e)switch(n){case"attachment":return r;case"container":return c;case"connectivity":return a;case"content":return d;case"structure":return u}if(!p)return;let h=i.attributes[p.globalIdField]===e.fromNetworkElement.globalId?"from":"to";return wm(e,h,o)}function dP(t){let{feature:i,heading:e}=t,n=e||qa(i),o=kj(t)??"";return g("calcite-block",{description:o,heading:n})}var Dy=class extends R{constructor(t){super(t),this.associationDetails=!0}};s([l({type:Boolean,nonNullable:!0})],Dy.prototype,"associationDetails",void 0),Dy=s([b("esri.widgets.FeatureForm.FeatureFormUtilityNetworkAssociations.VisibleElements")],Dy);var Dw=Dy;var Fy="esri-feature-form-utility-network-association-list",Bd={base:Fy,header:`${Fy}__header`,headingContent:`${Fy}__heading-content`,listContainer:`${Fy}__list-container`},Ao=class extends sE{constructor(t,i){super(t,i),this._isLoadingSelectFeature=!1,this.associationInput=null,this.headingLevel=5,this.messagesFeatureForm=null,this.onSelectLayer=()=>{},this.onSelectFeature=()=>f(this,null,function*(){}),this.onAddAssociation=()=>{},this.viewModel=new qu,this.visibleElements=new Dw}initialize(){this.setUpObserver()}loadDependencies(){return we({chip:()=>import("./chunk-KUULEAF3.js"),fab:()=>import("./chunk-G7EP27DA.js"),icon:()=>import("./chunk-QXDSJABL.js"),list:()=>import("./chunk-QV3363IT.js"),"list-item":()=>import("./chunk-PXFXZ5UQ.js"),tooltip:()=>import("./chunk-65CNKD3K.js")})}get associatedFeatureCount(){let{associationInput:t}=this;if(!t)return 0;let{associatedFeatureInfos:i,associatedLayer:e}=t,n=e?i.get(e):null;return n?n.length:0}render(){let{associationInput:t}=this;if(!t)return g("div",{class:this.classes(Bd.base,be.widget)});let{associatedLayer:i}=t,{state:e}=this.viewModel;return g("div",{class:this.classes(Bd.base,be.widget)},e==="loading"||e==="querying"?this.renderLoading():i?this._renderFeatureList(t,i):this._renderLayerList(t))}_renderLayerList(t){let{associatedFeatureInfos:i,editable:e}=t;return g("div",{class:Bd.listContainer},g("calcite-list",{label:this.messagesFeatureForm?.associations.associatedLayers},Array.from(i.keys(),n=>this._renderLayerItem(t,n))),e?g("calcite-fab",{appearance:"outline-fill",icon:"plus",key:`${t.uid}-add-button`,kind:"neutral",onclick:()=>this.onAddAssociation({feature:t.feature,associationType:t.activeAssociationType,utilityNetwork:t.utilityNetwork}),text:this.messagesCommon.add,textEnabled:!0}):null)}_renderFeatureList(t,i){return g(On,null,this._renderHeader(t,i),g("div",{class:Bd.listContainer},this.renderFeatureCountWarning(),g("calcite-list",{label:this.messagesFeatureForm?.associations.associatedFeatures},this._renderAssociatedFeatureListPage(t,i),this.renderFeatureObserver())))}_renderLayerTitle(t){return t.title?g(li,{key:"title",level:this.headingLevel},g("div",{class:Bd.headingContent},g("calcite-icon",{icon:"layer"}),t.title)):null}_renderTotal(t,i){let{messagesFeature:e}=this,{associatedFeatureInfos:n}=t,o=n.get(i),r=vi(e?.numberRecords,{number:o?.length??"0"});return g("div",{key:i.id},r)}_renderHeader(t,i){let{messagesFeatureForm:e}=this,{activeAssociationType:n,featureItem:o,feature:r}=t;return g("div",{class:Bd.header,key:"filter"},this.visibleElements.associationDetails?g(dP,{associationType:n?.type,feature:r,heading:o?.label,messages:e.associations}):void 0,this._renderLayerTitle(i),this.renderFilter(),this._renderTotal(t,i))}_renderAssociatedFeatureListPage(t,i){let{filterText:e,endIndex:n}=this,o=this.messagesCommon.untitled,r=t.associatedFeatureInfos.get(i)?.filter(a=>ib(a,o).toLowerCase().includes(e)??!1).slice(0,n).toArray()??[];return[...this._renderTooltips(r),...this._renderAssociatedFeatureList(r)]}_renderItemTooltip(t){let{tooltipReferenceMap:i}=this,e=t.feature.uid.toString();return lb(t.association)?g("calcite-tooltip",{key:`tooltip-${e}`,overlayPositioning:"fixed",referenceElement:i.get(e)},this.getConnectivityTooltip(t.association.associationType)):null}_renderAssociatedFeature(t){let i=this.messagesCommon.untitled,e=ib(t,i),n=t.feature.uid.toString();return g("calcite-list-item",{description:nc(t.terminalName??""),key:`associated-feature-type-${n}`,label:nc(e),onCalciteListItemSelect:()=>this._selectAssociation(t)},lb(t.association)?this.renderConnectivityIcon(t.association.associationType,n):null,lE(t.association)?g("calcite-chip",{label:sb(t.association),scale:"s",slot:"content-end"},sb(t.association)):null,g("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderTooltips(t){return t.map(i=>this._renderItemTooltip(i))}_renderAssociatedFeatureList(t){return t.map(i=>this._renderAssociatedFeature(i))}_renderLayerItem(t,i){let{associatedFeatureInfos:e}=t,n=e.get(i)?.length??0;return g("calcite-list-item",{key:`${i.id}-show-all`,label:i.title??this.messagesCommon.untitled,open:!0,value:i.id,onCalciteListItemSelect:()=>this._showAllAssociations(i)},g("calcite-chip",{label:n.toString(),scale:"s",slot:"content-end"},n),g("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_selectAssociation(t){return f(this,null,function*(){this._isLoadingSelectFeature||(this._isLoadingSelectFeature=!0,yield this.onSelectFeature({feature:t.feature,association:t.association}),this._isLoadingSelectFeature=!1)})}_showAllAssociations(t){this.onSelectLayer({layer:t,associationInput:this.associationInput})}};s([l()],Ao.prototype,"associatedFeatureCount",null),s([l({type:ky})],Ao.prototype,"associationInput",void 0),s([l()],Ao.prototype,"headingLevel",void 0),s([l(),ye("esri/widgets/FeatureForm/t9n/FeatureForm")],Ao.prototype,"messagesFeatureForm",void 0),s([l({constructOnly:!0})],Ao.prototype,"onSelectLayer",void 0),s([l({constructOnly:!0})],Ao.prototype,"onSelectFeature",void 0),s([l({constructOnly:!0})],Ao.prototype,"onAddAssociation",void 0),s([l({type:qu})],Ao.prototype,"viewModel",void 0),s([l({type:Dw,nonNullable:!0})],Ao.prototype,"visibleElements",void 0),Ao=s([b("esri.widgets.FeatureForm.FeatureFormUtilityNetworkAssociations.FeatureFormUtilityNetworkAssociationList")],Ao);var uP=Ao;var Bl="data-field-name",Je=class extends Ze{constructor(t,i){super(t,i),this._associationsWidgetsMap=new Map,this._attemptFocusOnNextRender=!1,this._dateComponentMap=new Map,this._inputsWithChanges=new Set,this._focusedFieldName=null,this._pendingSubtypeChoice=null,this._listObserverNode=null,this._listObserver=new IntersectionObserver(e=>{e.length&&e[0].isIntersecting&&this._incrementRelatedRecordPage()},{root:window.document}),this._prompt=null,this._featureFormUNAssociationList=null,this.groupDisplay="all",this.headingLevel=2,this.messages=null,this.messagesCommon=null,this.messagesFeature=null,this.messagesTemplates=null,this.viewModel=new Ld,this.visibleElements=new Tw,this._onShowAllRelatedRecordsClick=e=>{let{feature:n,callbacks:o}=this;n&&o?.showAllRelatedRecords&&o.showAllRelatedRecords({parentFeature:n,relationshipId:e})},this._onAddRelatedRecordsClick=(e,n,o)=>{let{feature:r,callbacks:a}=this,c=o;if(r&&a?.addRelatedRecord){if(Ri(o)&&e.activeCategory){let d=e.activeCategory.value,u=o.findSublayerForSubtypeCode(d);u&&Ga(u)&&(c=u)}a.addRelatedRecord({parentFeature:r,relatedLayer:c,relationshipId:n})}},this._onFormKeyDown=this._onFormKeyDown.bind(this),this._onFormSubmit=this._onFormSubmit.bind(this),this._onGroupToggle=this._onGroupToggle.bind(this),this._onComponentBlur=this._onComponentBlur.bind(this),this._onComponentFocus=this._onComponentFocus.bind(this),this._onComponentKeyDown=this._onComponentKeyDown.bind(this),this._afterComponentCreate=this._afterComponentCreate.bind(this),this._afterComponentCreateOrUpdate=this._afterComponentCreateOrUpdate.bind(this),this._afterDateComponentCreate=this._afterDateComponentCreate.bind(this),this._afterDateComponentCreateOrUpdate=this._afterDateComponentCreateOrUpdate.bind(this),this._afterRadioGroupCreateOrUpdate=this._afterRadioGroupCreateOrUpdate.bind(this)}initialize(){this.addHandles([T(()=>this.feature,()=>{this._inputsWithChanges.clear(),this._dateComponentMap.clear(),He(()=>!this.viewModel.updating).then(()=>{let t=this._getFocusableInput("forward");this._syncGroupInputStates(),this._focusedFieldName=t?.name||null,this._attemptFocusOnNextRender=!0})}),T(()=>[this._featureFormUNAssociationList,this.visibleElements.associationDetails],([t,i])=>{t&&(t.visibleElements.associationDetails=i)},re),T(()=>this.groupDisplay,()=>this._syncGroupInputStates()),this.on("submit",t=>{if(t.invalid.length>0){let[i]=t.invalid;t.invalid.forEach(e=>this._inputsWithChanges.add(e)),this._focusedFieldName=i,this._attemptFocusOnNextRender=!0,this.scheduleRender()}}),T(()=>[this.viewModel.activeRelationshipInput,this._listObserverNode],()=>this._onObserverChange()),T(()=>this.viewModel.activeAssociationInput,t=>{t&&this._featureFormUNAssociationList&&(this._featureFormUNAssociationList.associationInput=t,this._featureFormUNAssociationList.viewModel=t.viewModel)})])}loadDependencies(){return we({block:()=>import("./chunk-F3ZSOXTW.js"),button:()=>import("./chunk-BTQPJTPG.js"),chip:()=>import("./chunk-KUULEAF3.js"),combobox:()=>import("./chunk-XLG4NVYE.js"),"combobox-item":()=>import("./chunk-HOXSOD2R.js"),"combobox-item-group":()=>import("./chunk-5B466NVZ.js"),icon:()=>import("./chunk-QXDSJABL.js"),input:()=>import("./chunk-PTLKWOPS.js"),"input-date-picker":()=>import("./chunk-PLTNTKUU.js"),"input-message":()=>import("./chunk-GYVR2P2U.js"),"input-number":()=>import("./chunk-PVXNJD2V.js"),"input-time-picker":()=>import("./chunk-OI5NBMOC.js"),"input-time-zone":()=>import("./chunk-NEKA3MSG.js"),label:()=>import("./chunk-H4FMBFSZ.js"),list:()=>import("./chunk-QV3363IT.js"),"list-item":()=>import("./chunk-PXFXZ5UQ.js"),loader:()=>import("./chunk-JHM3YD5O.js"),notice:()=>import("./chunk-RIKTH4T2.js"),"radio-button":()=>import("./chunk-BPRSL55M.js"),"radio-button-group":()=>import("./chunk-DPT5S2GR.js"),switch:()=>import("./chunk-TD2VCCM5.js"),"text-area":()=>import("./chunk-NTTVSIQ5.js")})}destroy(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode)}get _relatedRecordsEnabled(){let{callbacks:t}=this;return!(!t||!(t.addRelatedRecord||t.editRelatedRecord||t.showAllRelatedRecords))}get _utilityNetworkAssociationsEnabled(){let{callbacks:t}=this;return!(!t?.viewAssociatedLayers||!t.viewAssociatedFeatures)}get _subtypes(){return GS(this.layer)}get associationId(){return this.viewModel.associationId}set associationId(t){this.viewModel.associationId=t}get associatedLayer(){return this.viewModel.associatedLayer}set associatedLayer(t){this.viewModel.associatedLayer=t}get disabled(){return this.viewModel.disabled}set disabled(t){this.viewModel.disabled=t}get feature(){return this.viewModel.feature}set feature(t){this.viewModel.feature=t}get formTemplate(){return this.viewModel.formTemplate}set formTemplate(t){this.viewModel.formTemplate=t}get icon(){return"form-field"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get map(){return this.viewModel.map}set map(t){this.viewModel.map=t}get callbacks(){return this.viewModel.callbacks}set callbacks(t){this.viewModel.callbacks=t}get relationshipId(){return this.viewModel.relationshipId}set relationshipId(t){this.viewModel.relationshipId=t}get spatialReference(){return this.viewModel.spatialReference}set spatialReference(t){this.viewModel.spatialReference=t}get strict(){return this.viewModel.strict}set strict(t){this.viewModel.strict=t}get timeZone(){return this.viewModel.timeZone}set timeZone(t){this.viewModel.timeZone=t}get showPrompt(){return t=>{this._prompt?.cancel?.(),this._prompt=t}}set showPrompt(t){this._overrideIfSome("showPrompt",t)}get clearPrompt(){return()=>this._prompt=null}set clearPrompt(t){this._overrideIfSome("clearPrompt",t)}getValues(){return this.viewModel.getValues()}submit(){return this.viewModel.submit()}render(){let{state:t}=this.viewModel;return g("div",{class:this.classes(mt.base,be.widget,be.panel)},t==="ready"?this._renderForm():null)}_renderForm(){return g("div",null,g("form",{class:mt.form,novalidate:!0,onkeydown:this._onFormKeyDown,onsubmit:this._onFormSubmit},this._renderHeader(),this._renderContent()),this._prompt?g(Iy,O(x({},this._prompt),{headingLevel:this.headingLevel})):void 0)}_renderHeader(){let t=this.viewModel,{formTitle:i,formDescription:e}=t;if(!t.formHeaderVisible)return;let n=i!=null&&g(li,{key:"title",level:this.headingLevel},i),o=e!=null&&g("p",{class:mt.description,key:"description"},e);return g("div",{class:mt.formHeader},n,o)}_renderContent(){let{viewModel:t}=this;return t.activeRelationshipInput?this._renderRelationshipInput(t.activeRelationshipInput):t.activeAssociationInput?this._renderFeatureFormUtilityNetworkAssociationList():t.inputs.filter(ot).filter(i=>i.visible).map(i=>this._renderInput(i))}_renderInput(t){return Za(t)?this._renderGroup(t):Ya(t)?this._renderLabeledField(t):Gu(t)?this._renderRelationshipInput(t):Kh(t)?this._renderTextElementInput(t):MM(t)?this._renderUtilityNetworkAssociationsElementInput(t):void 0}_renderFeatureFormUtilityNetworkAssociationList(){return this._featureFormUNAssociationList?.render()}_selectAssociatedLayer(t){let{feature:i,callbacks:e}=this;i&&e?.viewAssociatedFeatures&&e.viewAssociatedFeatures({associatedLayer:t.layer})}_selectAssociatedFeature(t){return f(this,null,function*(){let{feature:i,callbacks:e}=this;i&&e?.selectAssociatedFeature&&(yield e.selectAssociatedFeature(x({parentFeature:i},t)))})}_onAddAssociation(t){let{feature:i,callbacks:e}=this;i&&e?.addAssociation&&e.addAssociation(t)}_setUpUtilityNetworkAssociationList(){this._featureFormUNAssociationList||(this._featureFormUNAssociationList=new uP({onSelectLayer:this._selectAssociatedLayer.bind(this),onSelectFeature:this._selectAssociatedFeature.bind(this),onAddAssociation:this._onAddAssociation.bind(this)}))}_renderUtilityNetworkAssociationsElementInput(t){if(this._utilityNetworkAssociationsEnabled)return this._setUpUtilityNetworkAssociationList(),jt(this._associationsWidgetsMap,t,()=>new aE({onSelectAssociationType:({viewModel:i,listType:e})=>{i.activeAssociationType=e;let{feature:n,callbacks:o}=this;n&&o?.viewAssociatedLayers&&o.viewAssociatedLayers({associationId:t.uid})},viewModel:t.associationsViewModel})).render()}_renderDescriptionOrEmpty(t,i){return t==null?null:g("div",{class:this.classes(mt.description),id:i},t)}_renderGroup(t){let{disabled:i,formTemplate:e,headingLevel:n}=this,{description:o,id:r,inputs:a,label:c,open:d}=t,u=a.filter(A=>A.visible),p=this.viewModel.findField(this._focusedFieldName),h=p?.group===t,y=this.groupDisplay==="sequential";return g("calcite-block",{class:this.classes(mt.group,y?mt.groupSequential:null,h?mt.groupActive:null,i?mt.inputDisabled:null),collapsible:!0,"data-group":t,description:o||void 0,disabled:i,heading:c??"",headingLevel:e?.title?_r(n):n,id:r,key:r,open:d,onCalciteBlockToggle:({currentTarget:A})=>this._onGroupToggle(A,t)},u.map(A=>this._renderInput(A)))}_getFocusableInput(t,i){let e=EM(this.viewModel.inputs),n;if(t==="backward"&&e.reverse(),i)if(Za(i)){let o=i.inputs.find(r=>r.visible);n=o?e.indexOf(o):0}else{let o;if(Jh(i)&&!i.group.open){let r=i.group.inputs.filter(Ya);o=t==="forward"?r[r.length-1]:r[0]}else o=i;n=e.indexOf(o)+1}else n=0;for(let o=n;o<e.length;o++){let r=e[o];if(r.visible&&Ya(r))return r}return null}_renderLabeledField(t){let{dataType:i,feature:e,label:n,layer:o,required:r}=t,a={"aria-label":r?vi(this.messages.requiredFieldLabel,{name:n}):n,class:mt.label,key:`${o.id}-${e.uid}-${t.name}`},c=[g("div",{class:mt.labelTextContent,key:"labelTextContainer"},n,r?g("span",{"aria-hidden":"true",title:this.messagesCommon.required},"*"):void 0),i!=="unsupported"?this._renderFieldInput(t):this._renderReadOnlyComponent(t),this._renderAuxiliaryText(t)];return i==="date"&&t.domain?.type!=="coded-value"?g("label",x({},a),c):g("calcite-label",x({},a),c)}_renderFieldInput(t){let{dataType:i,domain:e,inputType:n,name:o}=t,r=this.getCommonInputProps(t);if(e?.type==="coded-value"){let a=this.viewModel.getFieldValueOptionsForField(o,this.messages.empty);return n!=="switch"||t.hasInvalidSwitchValue?n==="radio-buttons"?this._renderRadioButtonComponents(t,a.flat(),r):this._renderComboBoxComponent(t,a,r):this._renderSwitchComponent(t,r)}return n==="datetime-picker"||i==="date"?this._renderDateComponents(t,r):i==="number"?this._renderNumberComponent(t,r):this._renderStringComponent(t,r)}_renderStringComponent(t,i){return t.inputType==="text-area"?i.readOnly?g("calcite-input",O(x({},i),{loading:t.updating,type:"textarea",onCalciteInputInput:e=>this._saveValueFromComponent(e.currentTarget)})):g("calcite-text-area",O(x({},i),{resize:"vertical",onCalciteTextAreaInput:e=>this._saveValueFromComponent(e.currentTarget)})):g("calcite-input",O(x({},i),{loading:t.updating,type:"text",onCalciteInputInput:e=>this._saveValueFromComponent(e.currentTarget)}))}_renderNumberComponent(t,i){let e=qh(t.field),n=e&&i.value!==""?Math.round(parseFloat(i.value)).toString():i.value;return g("calcite-input-number",O(x({},i),{integer:e,loading:t.updating,type:"number",value:n,onCalciteInputNumberInput:o=>this._saveValueFromComponent(o.currentTarget)}))}_renderDateComponents(t,i){let{field:e}=t;switch(e.type){case"date":return this._renderDateFieldComponents(t,i);case"date-only":return this._renderDateOnlyFieldComponent(t,i);case"time-only":return this._renderTimeOnlyFieldComponent(t,i);case"timestamp-offset":return this._renderTimestampOffsetFieldComponents(t,i);default:return this._renderReadOnlyComponent(t,yM(e,i.value,x({timeZone:this.timeZone},gM(e))))}}_renderDateOnlyFieldComponent(t,i){let{range:e,valid:n,value:o}=t,{class:r,key:a,readOnly:c}=i,{rawMax:d,rawMin:u}=e;return g("calcite-input-date-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!n,class:r,"data-date-part":"date","data-field-name":i[Bl],key:`${a}-date-input`,max:Vv(d)?d:void 0,min:Vv(u)?u:void 0,numberingSystem:Uu,onblur:p=>{this._focusedFieldName=null,this._saveValueFromDateComponent(p.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:c,value:o!=null?`${o}`:void 0,onCalciteInputDatePickerChange:p=>this._saveValueFromDateComponent(p.currentTarget)})}_renderTimeOnlyFieldComponent(t,i){let{valid:e,value:n}=t,{class:o,key:r,readOnly:a}=i;return g("calcite-input-time-picker",{afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!e,class:o,"data-date-part":"time","data-field-name":i[Bl],key:`${r}-time-input`,numberingSystem:Uu,onblur:c=>{this._focusedFieldName=null,this._saveValueFromDateComponent(c.target)},onfocus:this._onComponentFocus,overlayPositioning:"fixed",readOnly:a,step:t.timeStep,value:n!=null?`${n}`:void 0,onCalciteInputTimePickerChange:c=>this._saveValueFromDateComponent(c.currentTarget)})}_renderTimestampOffsetFieldComponents(t,i){let{name:e,range:n,timeZone:o,valid:r,value:a}=t,{class:c,key:d,readOnly:u}=i,{rawMax:p,rawMin:h}=n,y={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!r,numberingSystem:Uu,overlayPositioning:"fixed",readOnly:u,[Bl]:e,onfocus:this._onComponentFocus},A=ju(p,o),C=ju(h,o),M=ju(a,o);return g("div",{class:mt.dateInputContainer,key:`${d}-date-time-container`},g("calcite-input-date-picker",O(x({},y),{class:c,"data-date-part":"date",key:`${d}-date-input`,max:A?.date??void 0,min:C?.date??void 0,onblur:I=>{this._focusedFieldName=null,this._saveValueFromDateComponent(I.target)},value:M.date??void 0,onCalciteInputDatePickerChange:I=>this._saveValueFromDateComponent(I.currentTarget)})),g("calcite-input-time-picker",O(x({},y),{class:c,"data-date-part":"time",key:`${d}-time-input`,onblur:I=>{this._focusedFieldName=null,this._saveValueFromDateComponent(I.target)},step:t.timeStep,value:M.time??void 0,onCalciteInputTimePickerChange:I=>this._saveValueFromDateComponent(I.currentTarget)})),t.includeTimeOffset?g("calcite-input-time-zone",O(x({},y),{class:c,"data-date-part":"timeZone",disabled:u,key:`${d}-timezone-input`,onblur:I=>{this._focusedFieldName=null,this._saveValueFromDateComponent(I.target)},value:M.timeZoneOffset??"0",onCalciteInputTimeZoneChange:I=>this._saveValueFromDateComponent(I.currentTarget)})):null)}_renderDateFieldComponents(t,i){let{includeTime:e,name:n,valid:o,value:r}=t,{class:a,key:c,max:d,min:u,readOnly:p}=i,{timeZone:h}=this,y={afterCreate:this._afterDateComponentCreate,afterUpdate:this._afterDateComponentCreateOrUpdate,"aria-invalid":!o,numberingSystem:Uu,overlayPositioning:"fixed",readOnly:p,[Bl]:n,onfocus:this._onComponentFocus},A=zu(r,h),C=zu(d,h),M=zu(u,h);return g("div",{class:mt.dateInputContainer,key:`${c}-date-time-container`},g("calcite-input-date-picker",O(x({},y),{class:a,"data-date-part":"date",key:`${c}-date-input`,max:C?.date??void 0,min:M?.date??void 0,onblur:I=>{this._focusedFieldName=null,this._saveValueFromDateComponent(I.target)},value:A.date??void 0,onCalciteInputDatePickerChange:I=>this._saveValueFromDateComponent(I.currentTarget)})),e?g("calcite-input-time-picker",O(x({},y),{class:a,"data-date-part":"time",key:`${c}-time-input`,onblur:I=>{this._focusedFieldName=null,this._saveValueFromDateComponent(I.target)},step:1,value:A.time??void 0,onCalciteInputTimePickerChange:I=>this._saveValueFromDateComponent(I.currentTarget)})):null)}_renderReadOnlyComponent(t,i){let e=this.getCommonInputProps(t);return g("calcite-input",O(x({},e),{class:this.classes(mt.fieldInput,mt.inputDisabled),readOnly:!0,type:"text",value:i!=null?`${i}`:e.value}))}_renderComboBoxComponent(t,i,e){let{value:n,name:o}=t,{viewModel:r,_inputsWithChanges:a}=this,c=r.arcadeEditType==="INSERT",d=a.has(o),u=n==null&&(!c||d),p=c&&t.showNoValueOptionEnabled&&!d?()=>{}:e.onblur;return g("calcite-combobox",O(x({},e),{allowCustomValues:!1,clearDisabled:!0,disabled:e.readOnly,onblur:p,overlayPositioning:"fixed",selectionMode:"single",onCalciteComboboxChange:({currentTarget:h})=>{u&&h.selectedItems.length===0?this._ignoreDeselectionOfNoValueOption(h):t.isSubtypeField&&h.selectedItems.length===0?h.value=`${t.value}`:this._saveValueFromComponent(h)}}),this.renderComboboxOptionsList(t,i))}renderComboboxOptionsList(t,i){let{value:e,name:n}=t,{messages:o,messagesTemplates:r,viewModel:a,_inputsWithChanges:c}=this,[d,u,p]=i.map(M=>M.map(({name:I,value:G})=>g("calcite-combobox-item",{key:`#${G}`,selected:e===G,textLabel:I,value:`${G}`}))),h=[];u.length>0&&h.push(g("calcite-combobox-item-group",{key:"other",label:r.other},u)),p.length>0&&h.push(g("calcite-combobox-item-group",{key:"unsupported",label:o.subtypes.unsupportedDomainGroupTitle},p)),h.length>0?h.unshift(g("calcite-combobox-item-group",{key:"recommended",label:o.recommended},d)):h.push(...d);let y=a.arcadeEditType==="INSERT",A=c.has(n),C=e==null&&(!y||A);return t.showNoValueOptionEnabled&&h.unshift(g("calcite-combobox-item",{key:"empty-option",selected:C,textLabel:t.showNoValueLabel||o.empty,value:""})),h}_renderRadioButtonComponents(t,i,e){let{name:n,value:o}=t,r=i.map(({name:a,value:c})=>this._renderRadioButtonComponent({key:a,label:a,name:n,value:c,selected:c===o,props:e}));if(t.showNoValueOptionEnabled){let a="",c=t.showNoValueLabel||this.messages.empty,d=o===a||o===null;r.unshift(this._renderRadioButtonComponent({key:"empty-option",label:c,name:n,value:a,selected:d,props:e}))}return g("calcite-radio-button-group",{afterCreate:this._afterRadioGroupCreateOrUpdate,afterUpdate:this._afterRadioGroupCreateOrUpdate,class:mt.inputRadioGroup,"data-field-name":e[Bl],key:`${e.key}-radio-group`,layout:"vertical",name:e.key,required:e.required},r)}_renderSwitchComponent(t,i){let{value:e}=t,n=!!Wu(t.element,"switch")&&e===t.element.input.onValue;return g("calcite-switch",O(x({},i),{checked:n,class:mt.inputSwitch,disabled:i.readOnly,onblur:()=>{this._focusedFieldName=null},onCalciteSwitchChange:o=>this._saveValueFromComponent(o.currentTarget)}))}_renderRadioButtonComponent({key:t,name:i,value:e,selected:n,label:o,props:r}){return g("calcite-label",{class:mt.inputRadioLabel,key:t,layout:"inline"},g("calcite-radio-button",O(x({},r),{afterCreate:void 0,afterUpdate:void 0,checked:n,class:mt.inputRadio,disabled:r.readOnly,name:i,onblur:()=>{this._focusedFieldName=null},value:e,onCalciteRadioButtonChange:({currentTarget:a})=>{a.checked&&this._saveValueFromComponent(a)}})),o)}_renderAuxiliaryText(t){let i=t.name,e=this._inputsWithChanges.has(i)&&!t.submittable?LM(t,this.messages,this.timeZone):this.viewModel.contingencyConstraintViolations.get(i)!=null?this.messages.validationErrors.valuesIncompatible:t.valueExpressionExecutor!=null&&t.valueExpressionExecutor.stale?this.messages.valueExpressionError:null;return e!=null?g("calcite-input-message",{icon:!0,status:"invalid"},e):this._inputsWithChanges.has(i)&&t.valueIsOutOfDomain?g("calcite-input-message",{icon:!0,status:"idle"},this.messages.subtypes.fieldOutOfSubtypeDomainWarning):this._renderDescriptionOrEmpty(t.description)}_renderShowAllRelatedRecordsListItem(t){if(!t.showAllActionVisible||!this.callbacks?.showAllRelatedRecords)return;let i=this.messages;return g("calcite-list-item",{description:vi(i.totalCount,{count:t.featureCount}),key:"show-all-related-features",label:i.showAll,value:!0,onCalciteListItemSelect:()=>this._onShowAllRelatedRecordsClick(t.relationshipId)},g("calcite-icon",{icon:"list",scale:"s",slot:"content-end"}))}_renderAddRelatedRecordButton(t){let{canAddRelatedFeature:i,relationshipId:e,relatedLayer:n}=t,{messages:o,callbacks:r}=this;if(i&&r?.addRelatedRecord&&n)return g("calcite-button",{alignment:"center",appearance:"outline-fill",class:mt.centeredButton,disabled:t.updating||!t.originHasValidKey,iconStart:"plus",key:`${e}-add-button`,onclick:()=>{!t.updating&&t.originHasValidKey&&this._onAddRelatedRecordsClick(t,e,n)},round:!0,scale:"s",width:"full"},t.relatedLayerIsTable?o.addRecord:o.addFeature)}_renderRelatedRecordListItem(t,i){let{feature:e,description:n,title:o}=t,{feature:r,callbacks:a}=this,{highlightHelper:c}=this.viewModel,d=()=>{c?.removeAll(),a?.editRelatedRecord&&r&&a.editRelatedRecord({parentFeature:r,relationshipId:i,relatedFeature:e})},u=c?()=>c.add(e):void 0,p=c?()=>c.remove(e):void 0;return g("calcite-list-item",{bind:this,description:n,key:`${i}-${e.uid}`,label:o,onclick:d,onmouseenter:u,onmouseleave:p,value:o},g("calcite-icon",{icon:BM(e),slot:"content-start"}),g("calcite-icon",{icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderRelationshipInput(t){if(!this._relatedRecordsEnabled||!t.editable)return;let{relationshipId:i,activeCategory:e}=t,n=e?null:this._renderDescriptionOrEmpty(t.description);return g("calcite-label",{class:this.classes(mt.label,mt.relatedRecordsLabel),key:`relationship-${i}-container`},g("div",null,this._renderRelatedRecordsHeaderContainer(t),n,this._renderRelationshipInputContent(t)),this._renderAddRelatedRecordButton(t))}_renderRelationshipInputContent(t){return t.featureCount>0?this._renderRelatedRecordsList(t):t.activeCategory&&t.featureCount===0?this._renderNoRelatedRecordsNotice():t.allCategories?.length?this._renderCategoryList(t):t.loaded?t.originHasValidKey?this._renderNoRelatedRecordsNotice():this._renderNoValidOriginKeyNotice(t):void 0}_renderCategoryList(t){return g("calcite-list",{displayMode:"flat",label:this.messages.relatedRecordsList,loading:t.updating},t.categories?.map(i=>this._renderCategory(t,i)),this._renderShowAllCategoriesListItem(t))}_renderCategory(t,i){let{count:e,name:n,value:o}=i,r=gS(e);return g("calcite-list-item",{key:`${n}-${o}`,label:n,onCalciteListItemSelect:()=>this._selectCategory(t,i)},g("calcite-chip",{label:r,scale:"s",slot:"content-end"},r),g("calcite-icon",{flipRtl:!0,icon:"chevron-left",scale:"s",slot:"content-end"}))}_selectCategory(t,i){this.relationshipId=t.relationshipId,t.activeCategory=i}_renderShowAllCategoriesListItem(t){if(!t.showAllCategoriesVisible)return;let i=this.messages;return g("calcite-list-item",{description:vi(i.totalCount,{count:t.allCategories?.length??0}),key:"show-all-categories",label:i.showAll,value:!0,onCalciteListItemSelect:()=>t.showAllEnabled=!0},g("calcite-icon",{icon:"list",scale:"s",slot:"content-end"}))}_renderRelatedRecordsHeaderContainer(t){let i=t.updating||!t.loaded;return g("div",{class:mt.relatedRecordsHeader,key:`relationship-${t.relationshipId}-header`},g("span",null,t.label),i?g("calcite-loader",{inline:!0,key:"loader",label:this.messagesCommon?.loading,scale:"s",type:"indeterminate"}):void 0)}_renderRelatedRecordsList(t){let{relationshipId:i}=t;return g("calcite-list",{class:mt.relatedRecordsList,label:this.messages?.relatedRecordsList},t.relatedFeatureInfos.map(e=>this._renderRelatedRecordListItem(e,i)),this._renderShowAllRelatedRecordsListItem(t),this._renderObserverNode())}_renderNoValidOriginKeyNotice(t){let{messages:i}=this,e=t.relatedLayerIsTable?i.noOriginKeyRecord:i.noOriginKeyFeature,n=t.relationship?.keyField,o=this.viewModel.findField(n),r=t.layer?.fieldsIndex.get(n),a=o?.label||r?.alias||n,c=vi(e,{relatedLayerName:t.relatedLayer?.title,originKeyField:a});return g("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},g("div",{slot:"message"},c))}_renderNoRelatedRecordsNotice(){return g("calcite-notice",{icon:"information",kind:"brand",open:!0,scale:"s",width:"full"},g("div",{slot:"message"},this.messagesFeature.noRelatedFeatures))}_renderObserverNode(){if(this.viewModel.activeRelationshipInput?.showAllEnabled)return g("div",{afterCreate:this._afterListObserverCreated,afterRemoved:this._afterListObserverRemoved,bind:this,class:mt.listObserver,key:"feature-observer"})}_renderTextElementInput(t){return g("div",{class:mt.textElement,innerHTML:t.text,key:t.id})}getCommonInputProps(t){let{disabled:i}=this,{editable:e,hint:n,label:o,maxLength:r,minLength:a,name:c,range:{max:d,min:u},required:p,valid:h,value:y}=t,A=this._inputsWithChanges.has(c),C=!e||i;return{afterCreate:this._afterComponentCreate,afterUpdate:this._afterComponentCreateOrUpdate,"aria-invalid":h?"false":"true",class:this.classes(mt.fieldInput,C?mt.inputDisabled:null),status:A&&!h?"invalid":"idle",key:c,label:o,max:d??void 0,min:u??void 0,maxLength:r>-1?r:void 0,minLength:a>-1?a:void 0,placeholder:n??void 0,readOnly:C,required:p,value:y==null?"":`${y}`,onblur:this._onComponentBlur,onfocus:this._onComponentFocus,onkeydown:this._onComponentKeyDown,[Bl]:c}}_getFieldInputFromHTMLElement(t){return this.viewModel.findField(t.getAttribute(Bl))}_afterDateComponentCreate(t){let i=this._getFieldInputFromHTMLElement(t),e=t.dataset.datePart,n=this._dateComponentMap.get(i.name);if("valueAsDate"in t&&t.value!=null&&i.value!=null){let o=new ResizeObserver(()=>{switch(t.value=void 0,i.field.type){case"date":t.value=zu(i.value,this.timeZone).date??"";break;case"timestamp-offset":t.value=ju(i.value,this.timeZone).date??"";break;default:t.value=`${i.value}`}o.unobserve(t)});o.observe(t)}if(n!=null)switch(e){case"date":n.date=t;break;case"time":n.time=t;break;case"timeZone":n.timeZone=t}else this._dateComponentMap.set(i.name,{[e]:t});this._afterDateComponentCreateOrUpdate(t)}_afterDateComponentCreateOrUpdate(t){this._afterComponentCreateOrUpdate(t)}_afterComponentCreate(t){let i=this._getFieldInputFromHTMLElement(t);FM(i)&&t.value!=null&&"setNumberValue"in t&&t.setNumberValue({committing:!1,value:t.value,origin:"direct"}),this._afterComponentCreateOrUpdate(t)}_afterRadioGroupCreateOrUpdate(t){let i=t.selectedItem,e=t.querySelector("calcite-radio-button"),n=i||e;n&&this._afterComponentCreateOrUpdate(n)}_afterComponentCreateOrUpdate(t){let{viewModel:i}=this,e=this._getFieldInputFromHTMLElement(t),n=i.findField(this._focusedFieldName);this._attemptFocusOnNextRender&&n===e&&(this._attemptFocusOnNextRender=!1,Jh(e)&&(e.group.open=!0),ac(t))}_onComponentFocus(t){let i=t.target,e=this._getFieldInputFromHTMLElement(i);this._focusedFieldName=e.name}_onComponentBlur(t){let i=t.target;this._focusedFieldName=null,"readOnly"in i&&i.readOnly||this._saveValueFromComponent(i)}_saveValueFromDateComponent(t){let{timeZone:i}=this,e=this._getFieldInputFromHTMLElement(t),n=e.field.type,{name:o,range:r}=e,a=this._dateComponentMap.get(o);if(!a)return;let c=this.viewModel.getValue(o),d=null;n==="date-only"?d=Array.isArray(t.value)?t.value[0]:t.value:n==="time-only"?(c=Xv(c),d=Xv(t.value)):d=n==="timestamp-offset"?t.value!=null?_M({dateComponent:a.date,timeComponent:a.time,timeZoneComponent:a.timeZone,oldValue:c,defaultTimeZone:i}):null:t.value!=null?vM({oldValue:c,dateComponent:a.date,timeComponent:a.time,timeZone:i,max:r.max,min:r.min}):null,d!==null&&t.value?c!==d&&this._updateFieldValue(o,d):this._updateFieldValue(o,null)}_saveValueFromComponent(t){let i=this._getFieldInputFromHTMLElement(t),e=this._parseValue(t),n=i.value;i.isSubtypeField&&jM(this.layer,n,e)?this._pendingSubtypeChoice||e===n||(this._pendingSubtypeChoice=this._handleSubtypeChoice(i,e)):this._updateFieldValue(i.name,e)}_handleSubtypeChoice(t,i){return f(this,null,function*(){let{value:e,name:n}=t,{messages:o,viewModel:r,messagesCommon:a,_subtypes:c}=this;if(this._updateFieldValue(n,i),!c?.length)return;let d=c.find(C=>C.code===i),u=c.find(C=>C.code===e)?.name??`${e}`;if(!d)return;let p=$t();r.pendingSubtypeChoice=p;let h="update-fields",y=[{label:o.subtypes.useDefaultValuesOption,value:"update-fields"},{label:o.subtypes.keepCurrentValuesOption,value:"keep-existing"}],A={context:"info",title:o.subtypes.changeWarningTitle,message:vi(o.subtypes.changeWarning,{originalType:u,newType:d.name}),radios:y,defaultRadioSelection:"update-fields",onRadioSelection:C=>h=C,actions:{primary:{label:a.apply,action:()=>p.resolve(h),type:"positive"},secondary:{label:a.cancel,type:"neutral",action:()=>p.resolve("undo")}},cancel:()=>p.reject()};try{switch(this.showPrompt(A),yield p.promise){case"update-fields":r.applySubtypeDefaults(d),this._validateContingenciesForNonNullFields();break;case"keep-existing":this._validateContingenciesForNonNullFields();break;case"undo":this._updateFieldValue(t.name,e)}}finally{r.pendingSubtypeChoice=null,this.clearPrompt(),this._pendingSubtypeChoice=null}})}_onComponentKeyDown({key:t,target:i}){let e=this._getFieldInputFromHTMLElement(i);t==="Enter"&&Jh(e)&&!e.group.open&&(e.group.open=!0)}_updateFieldValue(t,i){let e=this.viewModel.getValue(t);this.viewModel.setValue(t,i),this._inputsWithChanges.add(t),e!==i&&this.viewModel.fieldsWithContingentValues.has(t)&&this._validateContingenciesForNonNullFields()}_validateContingenciesForNonNullFields(){let t=Object.fromEntries(Object.entries(this.getValues()).filter(([i,e])=>e!=null));this.viewModel.validateContingencyConstraints(t)}_parseValue(t){let i=this._getFieldInputFromHTMLElement(t),e=t.value;return Wu(i.element,"switch")?t.checked?i.element.input.onValue:i.element.input.offValue:e==null||e===""?null:i.dataType==="number"?e==="-0"||e==="-0."||e==="-0,"?e:parseFloat(e):i.field.type==="date"?parseFloat(e):e}_ignoreDeselectionOfNoValueOption(t){let{firstChild:i,selectedItems:e}=t;e.length===0&&i&&"selected"in i?i.selected=!0:z.getLogger(this).warnOnce("Failed to override user attempt to deselect 'No value' option.")}_onGroupToggle(t,i){t.open?(i.open=!0,this._focusedFieldName=this._getFocusableInput("forward",i)?.name||null,this._attemptFocusOnNextRender=!0,this.groupDisplay==="sequential"&&this.viewModel.allGroupInputs.forEach(e=>{e!==i&&(e.open=!1)})):i.open=!1,this.scheduleRender()}_onFormSubmit(t){t.preventDefault()}_onFormKeyDown(t){t.key==="Enter"&&this.viewModel.submit()}_afterListObserverCreated(t){this.viewModel.activeRelationshipInput&&(this._listObserverNode=t)}_afterListObserverRemoved(){this._listObserverNode=null}_onObserverChange(){this._listObserverNode&&this._listObserver.unobserve(this._listObserverNode);let t=this.viewModel.activeRelationshipInput;t&&this._listObserverNode&&t.showAllEnabled&&this._listObserver.observe(this._listObserverNode)}_incrementRelatedRecordPage(){this.viewModel.activeRelationshipInput?.incrementPage()}_syncGroupInputStates(){if(this.groupDisplay!=="sequential")return;let t=this.viewModel.allGroupInputs;if(!t.length)return;let i=t.filter(e=>e.open);i.length===0?t[0].open=!0:i.length>1&&i.slice(1).forEach(e=>e.open=!1)}get test(){return{inputsWithChanges:this._inputsWithChanges,updateValue:this._saveValueFromComponent.bind(this)}}};s([l()],Je.prototype,"_listObserverNode",void 0),s([l()],Je.prototype,"_relatedRecordsEnabled",null),s([l()],Je.prototype,"_utilityNetworkAssociationsEnabled",null),s([l()],Je.prototype,"_prompt",void 0),s([l()],Je.prototype,"_subtypes",null),s([l()],Je.prototype,"associationId",null),s([l()],Je.prototype,"associatedLayer",null),s([l()],Je.prototype,"disabled",null),s([l()],Je.prototype,"feature",null),s([l()],Je.prototype,"_featureFormUNAssociationList",void 0),s([l()],Je.prototype,"formTemplate",null),s([l()],Je.prototype,"groupDisplay",void 0),s([l()],Je.prototype,"headingLevel",void 0),s([l()],Je.prototype,"icon",null),s([l()],Je.prototype,"label",null),s([l()],Je.prototype,"layer",null),s([l()],Je.prototype,"map",null),s([l(),ye("esri/widgets/FeatureForm/t9n/FeatureForm")],Je.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],Je.prototype,"messagesCommon",void 0),s([l(),ye("esri/widgets/Feature/t9n/Feature")],Je.prototype,"messagesFeature",void 0),s([l(),ye("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],Je.prototype,"messagesTemplates",void 0),s([l()],Je.prototype,"callbacks",null),s([l()],Je.prototype,"relationshipId",null),s([l()],Je.prototype,"spatialReference",null),s([l()],Je.prototype,"strict",null),s([l()],Je.prototype,"timeZone",null),s([l()],Je.prototype,"showPrompt",null),s([l()],Je.prototype,"clearPrompt",null),s([l(),vr(["value-change","submit"])],Je.prototype,"viewModel",void 0),s([l({type:Tw,nonNullable:!0})],Je.prototype,"visibleElements",void 0),s([l()],Je.prototype,"test",null),Je=s([b("esri.widgets.FeatureForm")],Je);var pP=Je;var Cm={key:Symbol(),label:"Other\u200B"};function Fw(t){return"templateInfos"in t}function mP(t){let i=[];for(let{layer:e,templates:n}of t)for(let o of n)i.push({layer:e,template:o});return i}function hP(t,i){let e=new Map;for(let n of t){let o=i(n),{key:r,label:a}=o.key!=null?o:Cm;jt(e,r,()=>({label:a,templateInfos:[]})).templateInfos.push(n)}return Array.from(e.values())}function fP(t,i){return{label:t.title??"",templateInfos:i.map(e=>({layer:t,template:e}))}}function gP(t,i){return f(this,null,function*(){return t.type==="subtype-sublayer"?yield t.parent?.load(i):yield t.load(i),t})}function yP(t){let i=new Map,e=[];for(let n of t)if(Br(n)){e.push(n);for(let o of n.items)i.set(o.template,o)}else i.set(n.template,n);return[i,e]}var Br=t=>"items"in t;var Rw,wo=Rw=class extends R{constructor(t){super(t),this._activeFetchInfo={id:null,request:null},this.disabledFunction=null,this.layer=null,this.template=null,this.thumbnail=null}initialize(){this.addHandles(T(()=>{let{layer:t}=this;return[t&&"renderer"in t?t.renderer:null,this.template]},()=>{this._activeFetchInfo.id=null,this._activeFetchInfo.request=null,this._set("thumbnail",null)},re))}get description(){return this.template?.description}set description(t){this.template&&(this.template.description=t)}get disabled(){return this.disabledFunction?.(this)??!1}get label(){return this.template?.name}set label(t){this.template&&(this.template.name=t)}get id(){return`${this.label??""}\u2013${this.layer?.id}`}get supportsUpload(){return this.layer?.type==="scene"}clone(){let t=this.thumbnail!=null?this.thumbnail.cloneNode(!0):null,i=new Rw({layer:this.layer,template:this.template});return i._set("thumbnail",t),i}};s([l()],wo.prototype,"description",null),s([l()],wo.prototype,"disabled",null),s([l()],wo.prototype,"disabledFunction",void 0),s([l()],wo.prototype,"label",null),s([l()],wo.prototype,"layer",void 0),s([l()],wo.prototype,"template",void 0),s([l()],wo.prototype,"thumbnail",void 0),s([l()],wo.prototype,"id",null),s([l()],wo.prototype,"supportsUpload",null),wo=Rw=s([b("esri.widgets.FeatureTemplates.TemplateItem")],wo);var _P=wo;var Ss=class extends en.IdentifiableMixin(R){constructor(t){super(t),this.allItems=[],this.filterFunction=null,this.label=null}get items(){let{filterFunction:t}=this;return t==null||t(this)?this.allItems:this.allItems.filter(t)}get id(){return this.label}reapplyFilter(){this.notifyChange("filterFunction")}findByTemplate(t){return this.items.find(i=>i.template===t)}};s([l()],Ss.prototype,"allItems",void 0),s([l()],Ss.prototype,"filterFunction",void 0),s([l()],Ss.prototype,"items",null),s([l()],Ss.prototype,"label",void 0),s([l()],Ss.prototype,"id",null),Ss=s([b("esri.widgets.FeatureTemplates.TemplateItemGroup")],Ss);var vP=Ss;var Tj=({layer:t})=>({key:t,label:t.title??""}),Dj=({layer:t})=>({key:t.geometryType,label:t.geometryType??""}),Oi=class extends zt.EventedAccessor{constructor(t){super(t),this._allItems=[],this._updatingHandles=new vt,this._updateTask=null,this.disabled=!1,this.disabledItemFunction=null,this.filterFunction=null,this.selectedItem=null,this.templateInfos=null,this.view=null}initialize(){this._get("groupBy")||(this.groupBy="layer"),this.addHandles([T(()=>[this.templateInfos,this.layers],([t],i)=>{t&&t===i?.at(0)||(this._updateTask=ft(this._updateTask),t?this._updateAllItems(t):this._getTemplatesAndUpdateAllItems())},gt),T(()=>this._groupByFunction,()=>{this.templateInfos==null&&(this._updateTask=ft(this._updateTask),this._getTemplatesAndUpdateAllItems())},Xt),T(()=>this.filterFunction,t=>{for(let i of this._allItems)Br(i)&&(i.filterFunction=t)},Xt)])}set groupBy(t){if(this._set("groupBy",t),typeof t!="function")switch(t){case"layer":this._groupByFunction=Tj;break;case"geometry":this._groupByFunction=Dj;break;default:this._groupByFunction=null}else this._groupByFunction=i=>this._ensureGroupByObject(t(i))}get layers(){return this._get("layers")}set layers(t){let i="layers";if(this.removeHandles(i),t){let e=()=>this.notifyChange("state");this.addHandles(t.map(n=>qe(()=>n.loadStatus,e)),i)}this._set("layers",t)}get state(){return this.updating?"loading":this.layers.length!==0||this.templateInfos?.length?"ready":"disabled"}get numberOfFeatureTemplates(){return this._allItems.reduce((t,i)=>Br(i)?t+i.allItems.length:t+1,0)}get items(){let{filterFunction:t}=this;return t==null?this._allItems:this._allItems.filter(i=>Br(i)?i.items.length>0:t(i))}get updating(){return this._updatingHandles.updating}refresh(){this.notifyChange("filterFunction");for(let t of this._allItems)Br(t)&&t.reapplyFilter()}select(t,{emit:i=!0}={}){let e=this.selectedItem,n=t?.clone()||null;this._set("selectedItem",n),i&&this.emit("select",{item:n,oldItem:e,template:n?.template??null})}_createItem(t,i){return new _P({disabledFunction:this.disabledItemFunction,layer:i,template:t})}_ensureGroupByObject(t){return typeof t=="string"?{key:t,label:t}:t}_updateAllItems(t){let i=this._allItems;if(t.length===0)return Fj(i),void(this._allItems=[]);let[e,n]=yP(i),o=c=>{let d=e.get(c.template);return d?(e.delete(c.template),d):this._createItem(c.template,c.layer)},{filterFunction:r}=this,a=t.filter(Pw).map(c=>Fw(c)?new vP({filterFunction:r,label:c.label,allItems:c.templateInfos.filter(Pw).map(d=>o(d))}):o(c));for(let c of[...e.values(),...n])c.destroy();this._allItems=a}_getTemplatesFromLayers(t){return f(this,null,function*(){let i=[],e={signal:t};yield Promise.all(this.layers.map(c=>f(this,null,function*(){yield gP(c,e),Le(t);let d=Uo(c)?.operations;d?.supportsEditing&&d?.supportsAdd&&(Ri(c)?i.push(...c.sublayers):i.push(c))})));let n=yield lf(i,this.view,t);Le(t);let o=mP(n),r=this._groupByFunction;if(r==null)return o;let a=hP(o,r);return a.length===1&&a[0].label===Cm.label?a[0].templateInfos:a})}_getTemplatesAndUpdateAllItems(){return f(this,null,function*(){if(this.layers.length===0)return;let t=Ui(i=>f(this,null,function*(){let e=yield this._getTemplatesFromLayers(i);Le(i),this._updateAllItems(e)}));this._updateTask=t,this._updatingHandles.addPromise(t.promise)})}};function Fj(t){for(let i of t){if(Br(i))for(let e of i.items)e.destroy();i.destroy()}}function Pw(t){return Fw(t)?t.templateInfos.some(Pw):!Ar(t.template)||t.template.visible!==!1}s([l()],Oi.prototype,"_allItems",void 0),s([l()],Oi.prototype,"_groupByFunction",void 0),s([l()],Oi.prototype,"_updatingHandles",void 0),s([l()],Oi.prototype,"disabled",void 0),s([l()],Oi.prototype,"disabledItemFunction",void 0),s([l({value:null})],Oi.prototype,"filterFunction",void 0),s([l()],Oi.prototype,"groupBy",null),s([l({value:[]})],Oi.prototype,"layers",null),s([l()],Oi.prototype,"state",null),s([l({readOnly:!0})],Oi.prototype,"numberOfFeatureTemplates",null),s([l({readOnly:!0})],Oi.prototype,"items",null),s([l({readOnly:!0})],Oi.prototype,"selectedItem",void 0),s([l()],Oi.prototype,"templateInfos",void 0),s([l()],Oi.prototype,"updating",null),s([l()],Oi.prototype,"view",void 0),Oi=s([b("esri.widgets.FeatureTemplates.FeatureTemplatesViewModel")],Oi);var xm=Oi;var Ry=class extends R{constructor(t){super(t),this.filter=!0}};s([l({type:Boolean,nonNullable:!0})],Ry.prototype,"filter",void 0),Ry=s([b("esri.widgets.FeatureTemplates.VisibleElements")],Ry);var Ow=Ry;var Is="esri-item-list",Py=`${Is}__list-item`,Nr={base:Is,filterContainerSticky:`${Is}__filter-container--sticky`,group:`${Is}__group`,groupHeader:`${Is}__group__header`,item:Py,itemDisabled:`${Py}--disabled`,itemIcon:`${Py}-icon`,itemContentEnd:`${Py}-content-end`,noMatchesMessage:`${Is}__no-matches-message`,scroller:`${Is}__scroller`,scrollerEnabled:`${Is}__scroller--enabled`},Rj=4;function Nd(t){let c=t,{disabled:i,filterText:e="",id:n,messages:o,onFilterChange:r}=c,a=Fn(c,["disabled","filterText","id","messages","onFilterChange"]);return g("div",{key:n},t.filterEnabled??1?Vj({disabled:i,filterText:e,id:n,messages:o,onFilterChange:r}):null,Oj(O(x({},a),{disabled:i,enableListScroll:t.enableListScroll??!0,filterText:e,messages:o})))}function Pj(t){return!!t.items}function Oj(t){let o=t,{headingLevel:i,items:e}=o,n=Fn(o,["headingLevel","items"]);return e.length===0?g("div",{class:Nr.noMatchesMessage,key:"no-matches"},t.messages.noMatches):g("div",{class:Ua({[Nr.scroller]:!0,[Nr.scrollerEnabled]:!!t.enableListScroll}),key:"item-container"},e.map(r=>Pj(r)?Lj(O(x({},n),{group:r,headingLevel:i})):Oy(O(x({},n),{grouped:!0,item:r}))))}function Vj(t){let{disabled:i,messages:e,filterText:n,enableListScroll:o}=t;return g("div",{class:o?void 0:Nr.filterContainerSticky,key:"filter"},g("calcite-input",{disabled:i,placeholder:e.filterPlaceholder,type:"search",value:n,onCalciteInputInput:r=>{let a=r.currentTarget;t.onFilterChange&&t.onFilterChange(a.value)}}))}function Oy(t){let{disabled:i,grouped:e,identify:n,item:o,onItemMouseEnter:r,onItemMouseLeave:a,onItemSelect:c,renderIcon:d,renderCustomItem:u,renderItemContent:p,renderItemContentEnd:h,renderItemLabel:y,renderItemDescription:A,renderItemActionEnd:C,renderItemTitle:M,selectedItem:I}=t,G=bP(o,n),X=G===bP(I,n),L=u?.(t);if(L)return L;let Z=p?.(o),ge=h?.(o),Ce=C?.(o),Me=!(!o.disabled&&!i),Yt=d?.(o);return g("calcite-list-item",{afterUpdate:Ve=>{Ve.selected=X},"aria-level":e?"2":"",class:Ua({[Nr.item]:!0,[Nr.itemDisabled]:Me}),"data-item":o,description:Z?void 0:A?.(o)??void 0,disabled:Me,key:G,label:Z?void 0:y?.(o)??o.label??void 0,onblur:Ve=>a?.(Sm(Ve)),onfocus:Ve=>r?.(Sm(Ve)),onmouseenter:Ve=>r?.(Sm(Ve)),onmouseleave:Ve=>a?.(Sm(Ve)),selected:X,title:M?.(o)??void 0,onCalciteListItemSelect:Ve=>{Ve.preventDefault(),c?.(Sm(Ve))}},Yt?g("div",{class:Nr.itemIcon,key:"content-start",slot:"content-start"},Yt):void 0,Z?g("div",{key:"content",slot:"content"},Z):null,ge?g("div",{class:Nr.itemContentEnd,key:"content-end",slot:"content-end"},ge):null,Ce??null)}function bP(t,i){return t?`${i?.(t)||t.id}__${t.label}`:""}function Sm(t){return t.currentTarget["data-item"]}function Lj(t){let d=t,{disabled:i,group:e,headingLevel:n=Rj,selectionMode:o="none",renderCustomGroupContent:r}=d,a=Fn(d,["disabled","group","headingLevel","selectionMode","renderCustomGroupContent"]),c=r?.(t);return g("div",{class:Nr.group,key:e.label??void 0},g(li,{class:Nr.groupHeader,level:n},e.label),c||g("calcite-list",{disabled:i,label:e.label??"",selectionAppearance:"border",selectionMode:o},e.items.map(u=>Oy(O(x({},a),{disabled:i,item:u,grouped:!0})))))}function Vy(t,i,e){return f(this,null,function*(){if(!Xs(t)&&fb(t)&&t.thumbnail){let r=`data:image/png;base64,${t.thumbnail.imageData}`,a=document.createElement("div");return a.classList.add("esri-thumbnail-preview"),"geometryType"in i&&i.geometryType&&a.classList.add(`esri-thumbnail-preview--${i.geometryType}`),a.style.backgroundImage=`url(${r})`,a}let n=yield Bj(i,t);if(n==null)return null;let o={maxSize:Js(e?.maxSize??32)};if((Xs(t)||Sc(t))&&"renderer"in i&&i.renderer?.type==="dictionary"&&(o.fieldMap=i.renderer.fieldMap??void 0,o.feature=Xs(t)?t:{attributes:t.prototype.attributes??{}}),Xs(t)&&t.geometry&&e?.useGeometry!==!1&&!t.geometry.type.includes("point")){o.geometry=t.geometry,o.useMarkerSymbolSize=!1;let r=Js(e?.maxSize??22);o.size={width:r,height:r}}return yield uE(n,o)})}function Bj(t,i){return f(this,null,function*(){if(!Xs(i)&&fb(i))return AP(t);if("renderer"in t&&t.renderer){let{renderer:e}=t,n=Xs(i)?i:new dt({attributes:i.prototype.attributes});if("getSymbolAsync"in e){let o=yield e.getSymbolAsync(n);if(o)return o}}return AP(t)})}function AP(t){return f(this,null,function*(){if(!("geometryType"in t))return null;let{geometryType:i}=t,e=i==="point"||i==="multipoint"?yield import("./chunk-2CFTXUMP.js"):i==="polyline"?yield import("./chunk-J2V37AIW.js"):i==="polygon"||i==="mesh"||i==="multipatch"?yield import("./chunk-RKB5UN35.js"):null;return e?new e.default:null})}var Nj={base:"esri-feature-templates"};function Hj(t){return t.length>0&&Br(t[0])}function Uj(t){return t.id}var Ft=class extends Ze{constructor(t,i){super(t,i),this.enableListScroll=!0,this.filterText="",this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.selectionMode="none",this.viewModel=new xm,this.visibleElements=new Ow,this.renderCustomItem=e=>null,this.renderCustomGroupContent=e=>null,this.renderItemLabel=()=>null,this.renderItemDescription=()=>null,this.renderItemContent=e=>null,this.renderItemContentEnd=e=>null,this._iconIntersectionObserver=new IntersectionObserver((e,n)=>{e.forEach(o=>f(this,null,function*(){if(o.isIntersecting){let r=o.target;if(zj(r))return void n.unobserve(r);let a=jj(r),{layer:c,template:d}=a;wP(r,!0);let u=yield Vy(d,c).catch(()=>(wP(r,!1),null));if(u==null)return;r.appendChild(u)}}))}),this._renderItemIcon=e=>Ho(e.layer)?g("span",{"data-has-icon":!0,"data-item":e,key:"icon"},g("calcite-icon",{icon:"table"})):g("span",{afterCreate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,afterUpdate:this._afterItemCreateOrUpdate,"data-has-icon":!1,"data-item":e,key:"icon"}),this._afterItemCreateOrUpdate=e=>{this._iconIntersectionObserver?.observe(e)},this._afterItemRemoved=e=>{this._iconIntersectionObserver?.unobserve(e)}}initialize(){let t=({label:i})=>!this.filterText||!!i?.toLowerCase().includes(this.filterText.toLowerCase());this.addHandles(T(()=>this.viewModel,(i,e)=>{i&&!i.filterFunction&&(this.filterFunction=t),e&&e!==i&&e.filterFunction===t&&(e.filterFunction=null)},re))}destroy(){this._iconIntersectionObserver?.disconnect(),this._iconIntersectionObserver=null}loadDependencies(){return we({icon:()=>import("./chunk-QXDSJABL.js"),loader:()=>import("./chunk-JHM3YD5O.js"),input:()=>import("./chunk-PTLKWOPS.js"),list:()=>import("./chunk-QV3363IT.js"),"list-item":()=>import("./chunk-PXFXZ5UQ.js"),notice:()=>import("./chunk-RIKTH4T2.js")})}get disabled(){return this.viewModel.disabled}set disabled(t){this.viewModel.disabled=t}get filterFunction(){return this.viewModel.filterFunction}set filterFunction(t){this.viewModel.filterFunction=t}get groupBy(){return this.viewModel.groupBy}set groupBy(t){this.viewModel.groupBy=t}get icon(){return"list-rectangle"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get layers(){return this.viewModel.layers}set layers(t){this.viewModel.layers=t}get selectedItem(){return this.viewModel.selectedItem}select(t,i){return this.viewModel.select(t,i)}render(){let{disabled:t,enableListScroll:i,filterText:e,headingLevel:n,messages:o,viewModel:{items:r,numberOfFeatureTemplates:a,selectedItem:c,state:d}}=this,u=this.visibleElements.filter&&a>1;if(Hj(r)){let p=r.find(h=>h.label===Cm.label);p&&(p.label=o.other)}return g("div",{"aria-label":o.widgetLabel,class:this.classes(Nj.base,be.widget)},d==="loading"?g("calcite-loader",{key:"loader",label:this.messagesCommon.loading,type:"indeterminate"}):d==="ready"?g(Nd,{disabled:t,enableListScroll:i,filterEnabled:u,filterText:e,headingLevel:n,id:this.id,identify:Uj,items:r,messages:{filterPlaceholder:o.filterPlaceholder,noItems:o.noItems,noMatches:o.noMatches},renderCustomGroupContent:this.renderCustomGroupContent,renderCustomItem:this.renderCustomItem,renderIcon:this._renderItemIcon,renderItemContent:this.renderItemContent,renderItemContentEnd:this.renderItemContentEnd,renderItemDescription:this.renderItemDescription,renderItemLabel:this.renderItemLabel,selectedItem:c??void 0,selectionMode:this.selectionMode??void 0,onFilterChange:p=>{this.filterText=p},onItemSelect:p=>!Br(p)&&this.viewModel.select(p)}):null)}};function jj(t){return t?.["data-item"]}function zj(t){return!!t?.["data-has-icon"]}function wP(t,i){t&&(t["data-has-icon"]=i)}s([l()],Ft.prototype,"disabled",null),s([l()],Ft.prototype,"enableListScroll",void 0),s([l()],Ft.prototype,"filterFunction",null),s([l()],Ft.prototype,"filterText",void 0),s([l()],Ft.prototype,"groupBy",null),s([l()],Ft.prototype,"headingLevel",void 0),s([l()],Ft.prototype,"icon",null),s([l()],Ft.prototype,"label",null),s([l()],Ft.prototype,"layers",null),s([l(),ye("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],Ft.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],Ft.prototype,"messagesCommon",void 0),s([l({readOnly:!0})],Ft.prototype,"selectedItem",null),s([l()],Ft.prototype,"selectionMode",void 0),s([l(),vr("select")],Ft.prototype,"viewModel",void 0),s([l({type:Ow,nonNullable:!0})],Ft.prototype,"visibleElements",void 0),s([l()],Ft.prototype,"renderCustomItem",void 0),s([l()],Ft.prototype,"renderCustomGroupContent",void 0),s([l()],Ft.prototype,"renderItemLabel",void 0),s([l()],Ft.prototype,"renderItemDescription",void 0),s([l()],Ft.prototype,"renderItemContent",void 0),s([l()],Ft.prototype,"renderItemContentEnd",void 0),Ft=s([b("esri.widgets.FeatureTemplates")],Ft);var CP=Ft;var Ms="esri-editor",Hr={base:Ms,helpMessage:`${Ms}__help-message`,updateActions:`${Ms}__update-actions`,updateActionsList:`${Ms}__update-actions-list`,featureTemplatesContainer:`${Ms}__feature-templates-container`,templateItemContentEnd:`${Ms}__template-item-content-end`,sketchContainer:`${Ms}__sketch-container`,pendingFeatureListIcon:`${Ms}__pending-feature-list-icon`};var Gj={"buffer-line-to-polygon":()=>import("./chunk-N2Q4COY6.js"),"buffer-point-to-polygon":()=>import("./chunk-T4O6QPSI.js"),"buffer-polygon-to-polygon":()=>import("./chunk-CEJ7OF7S.js"),"connection-point":()=>import("./chunk-3PI5Q3SX.js"),"equally-spaced":()=>import("./chunk-6ENHXBJA.js"),"offset-line":()=>import("./chunk-BTJ2O55E.js"),"offset-primary-line":()=>import("./chunk-KHJTVOXY.js"),"point-at-all-vertices-of-line":()=>import("./chunk-YHV533ZG.js"),"point-at-beginning-of-line":()=>import("./chunk-L4YDHMGY.js"),"point-at-beginning-of-radial":()=>import("./chunk-YO7M5X4B.js"),"point-at-end-of-line":()=>import("./chunk-NBBDSR2U.js"),"point-at-interior-vertices":()=>import("./chunk-4ABMB5YD.js"),"point-at-intersection-vertices-of-line":()=>import("./chunk-UGGOGJ5X.js"),"point-at-not-beginning-of-line":()=>import("./chunk-W7UFEPUH.js"),"point-at-not-end-of-line":()=>import("./chunk-XQRDH2ND.js"),"point-at-polygon-centroid":()=>import("./chunk-T4T73K2D.js"),"point-at-polygon-not-start":()=>import("./chunk-DNUP7NGB.js"),"point-at-polygon-start":()=>import("./chunk-ZOT6FBCY.js"),"point-identity":()=>import("./chunk-BG7L2RHX.js"),"point-primary-identity":()=>import("./chunk-3HZHTUFT.js"),"polygon-boundary":()=>import("./chunk-U44XEMTY.js"),"polygon-boundary-two-point":()=>import("./chunk-TBCGRSPM.js"),"polygon-identity":()=>import("./chunk-AG4STTST.js"),"polygon-primary-identity":()=>import("./chunk-MK4AVSHV.js"),"polygon-vertices":()=>import("./chunk-IWUXVPXW.js"),"radial-lines":()=>import("./chunk-A2NA444N.js"),"two-point-lines":()=>import("./chunk-DPGB5H4C.js")};function xP(t){let i=Gj[t];if(!i)throw new Error(`Builder type ${t} is not supported.`);return i()}var SP=()=>z.getLogger("esri.editing.sharedTemplates.executor.createTemplateExecutor"),Hd="globalid";function IP(t){return f(this,null,function*(){if(!NE(t))throw new D("template-executor:template-not-loaded","The template must be loaded before it can be executed.");if(Ic(t))return Wj(t);if(ta(t))return Qj(t);if(Ja(t))return Yj(t);throw new D("template-executor:unsupported-template-type","The template type is not supported.")})}function Wj(t){return i=>{let e=[],n=[];HE({geometry:i,template:t,edits:e,relationships:n});let o=cf(e);return{edits:df(e),relationships:n,primary:e[0]??null,featureExtent:o,rotationPoint:o?.center??null}}}function Qj(t){return f(this,null,function*(){let{definition:i}=t,e=yield Promise.all(i.allParts.map(qj));return(n,o)=>{let r=[],a=[],c=new Set,d=()=>{if(i.createUtilityNetworkAssociations&&o==="completion"){let{utilityNetwork:h,utilityNetworkAssociationsTable:y}=i;h&&y?Zj({associationGraphics:c,associationsTable:y,edits:r,relationships:a,utilityNetworkHelper:h}):SP().warn("Unable to create utility network associations between group template features. The utility network or its associations table is unavailable.")}let p=cf(r);return{associationGraphics:c,edits:df(r),relationships:a,primary:r[0]??null,featureExtent:p,rotationPoint:p?.center??null}};if(n==null)return SP().warn("No geometry provided to group template executor. Result will be empty."),d();let u=e.map(p=>p({edits:r,mode:o,parentTemplate:t,relationships:a,shape:n})).filter(hr);return u.length===0?d():Promise.all(u).then(()=>d())}})}function qj(t){return f(this,null,function*(){let i=yield xP(t.builderType);return e=>i.execute(O(x({},e),{templatePart:t}))})}function Yj(t){return f(this,null,function*(){let{createPresetServiceEdit:i}=yield import("./chunk-BMBUIE23.js");return(e,n,o=0)=>{if(!OS(e))throw new D("template-executor:invalid-input-geometry","The input goemetry for a preset template must be a point.");let r=[],a=[],c=i({geometry:e,template:t,edits:r,relationships:a,rotation:o,mode:n});return{edits:df(r),relationships:a,primary:r[0]??null,featureExtent:cf(r),rotationPoint:c}}})}function Zj(t){let{edits:i,utilityNetworkHelper:e}=t,n=new Map;for(let o of i)o.tag!==""&&e.layerIdToSourceIdLookup.has(o.id)&&jt(n,o.tag,()=>[]).push(o);for(let o of n.values())if(!(o.length<2))for(let r=0;r<o.length;r++){let a=o[r];for(let c=r+1;c<o.length;c++)Kj(a,o[c],t)}}function Kj(t,i,e){let{associationGraphics:n,associationsTable:o,edits:r,utilityNetworkHelper:a,relationships:c}=e,d=a.findAgat(t.graphic,t.layer),u=a.findAgat(i.graphic,i.layer);if(!d||!u)return;let p=a.findRules(d).map(A=>A.fromNetworkSource?.sourceId!==d.networkSourceId||A.fromAssetGroup?.assetGroupCode!==d.assetGroup||A.fromAssetType?.assetTypeCode!==null&&A.fromAssetType?.assetTypeCode!==d.assetType||A.toNetworkSource.sourceId!==u.networkSourceId||A.toAssetGroup?.assetGroupCode!==u.assetGroup||A.toAssetType!==null&&A.toAssetType?.assetTypeCode!==u.assetType?A.toNetworkSource.sourceId!==d.networkSourceId||A.toAssetGroup?.assetGroupCode!==d.assetGroup||A.toAssetType!==null&&A.toAssetType?.assetTypeCode!==d.assetType||A.fromNetworkSource.sourceId!==u.networkSourceId||A.fromAssetGroup?.assetGroupCode!==u.assetGroup||A.fromAssetType?.assetTypeCode!==null&&A.fromAssetType?.assetTypeCode!==u.assetType?null:{rule:A,from:{agat:u,item:i},to:{agat:d,item:t}}:{rule:A,from:{agat:d,item:t},to:{agat:u,item:i}}).filter(A=>A?.rule.ruleType===jo.RTJunctionEdgeConnectivity||A?.rule.ruleType===jo.RTEdgeJunctionEdgeConnectivity||A?.rule.ruleType===jo.RTContainment?null:A).filter(A=>A!==null);if(p.length===0)return;let h=IE(o),y=new Set;for(let A of p){let C={};C[h.fromNetworkSourceId]=A.rule.fromNetworkSource.sourceId,C[h.fromGlobalId]=A.from.item.graphic.attributes[A.from.item.layer.globalIdField??Hd],C[h.fromTerminalId]=null,A.rule.fromTerminal&&(C[h.fromTerminalId]=A.rule.fromTerminal.terminalId),C[h.toNetworkSourceId]=A.rule.toNetworkSource.sourceId,C[h.toGlobalId]=A.to.item.graphic.attributes[A.to.item.layer.globalIdField??Hd],C[h.toTerminalId]=null,A.rule.toTerminal&&(C[h.toTerminalId]=A.rule.toTerminal.terminalId),C[h.associationType]=A.rule.ruleType,C[h.percentAlong]=null,C[h.isContentVisible]=A.rule.ruleType===jo.RTContainment?1:0,C[h.status]=0,C[h.globalId]=Ha();let M=`${C[h.fromNetworkSourceId]}-${C[h.fromGlobalId]}-${C[h.toNetworkSourceId]}-${C[h.toGlobalId]}-${C[h.associationType]}`;if(y.has(M))continue;y.add(M);let I=new dt({attributes:C,sourceLayer:o});n.add(I),r.push({id:o.layerId,graphic:I,tag:"",layer:o}),c.push({sourceGraphic:A.to.item.graphic,sourceLayerId:A.to.item.layer.layerId,destinationGraphic:I,destinationLayerId:o.layerId,sourceField:A.to.item.layer.globalIdField??Hd,destinationField:h.toGlobalId??Hd}),c.push({sourceGraphic:A.from.item.graphic,sourceLayerId:A.from.item.layer.layerId,destinationGraphic:I,destinationLayerId:o.layerId,sourceField:A.from.item.layer.globalIdField??Hd,destinationField:h.fromGlobalId??Hd})}}function MP(t,i){let e=t??{},n=i??{},o=new Set(Object.keys(e));Xx(o,Object.keys(n));for(let r of o){let a=e[r],c=n[r];if(!xM(a,c))return!1}return!0}function Jj(t){return t==null?null:JSON.stringify(t)}var Gn=class extends R{constructor(t){super(t),this._stagedForDelete=!1,this.feature=null,this.initialFeature=null,this.submittable=!1,this.displayTitle=null,this.isAssociation=!1,this._debouncedRefreshDisplayTitle=_i(this._refreshDisplayTitle.bind(this),100)}get attributesModified(){return!MP(this.initialFeature?.attributes,this.feature?.attributes)}get geometryModified(){return this._stringifyGeometry(this.feature)!==this._stringifyGeometry(this.initialFeature)}get stagedForDelete(){return this._stagedForDelete}get modified(){return this.attributesModified||this.geometryModified||this._stagedForDelete}set timeZone(t){this._set("timeZone",t),Hi(this._debouncedRefreshDisplayTitle())}stageDelete(){this._stagedForDelete=!0}unstageDelete(){this._stagedForDelete=!1}trackChanges(t=this.feature){this.initialFeature=t?.clone(),Hi(this._debouncedRefreshDisplayTitle())}updateAttributes(t){let{feature:i}=this;i&&(i.attributes=t,this.notifyChange("attributesModified")),Hi(this._debouncedRefreshDisplayTitle())}updateGeometry(t){let{feature:i}=this;i&&(i.geometry=t,this.notifyChange("geometryModified"))}_stringifyGeometry(t){let i=t?.geometry;return Jj(i?.type==="mesh"?{transform:i.transform,vertexSpace:i.vertexSpace}:i)}_refreshDisplayTitle(t){return f(this,null,function*(){let i=this.feature,e=i?.sourceLayer;if(!e||!("getFeatureTitle"in e))return;let n=yield e.getFeatureTitle(i,{fetchMissingFields:!1,timeZone:this.timeZone});t.aborted||(this.displayTitle=n===""?null:n)})}};s([l()],Gn.prototype,"_stagedForDelete",void 0),s([l()],Gn.prototype,"attributesModified",null),s([l()],Gn.prototype,"feature",void 0),s([l()],Gn.prototype,"geometryModified",null),s([l()],Gn.prototype,"initialFeature",void 0),s([l()],Gn.prototype,"modified",null),s([l()],Gn.prototype,"submittable",void 0),s([l()],Gn.prototype,"displayTitle",void 0),s([l()],Gn.prototype,"isAssociation",void 0),s([l()],Gn.prototype,"timeZone",null),Gn=s([b("esri.widgets.Editor.Edits")],Gn);var Ly=Gn;var $j=()=>z.getLogger("esri.widgets.Editor.CreateFeaturesWorkflowData"),qi=class extends R{constructor(t){super(t),this.creationInfo=null,this.editorItem=null,this.fullTemplate=null,this.parent=null,this.temporaryHighlightFeature=null,this.sketchOptions=null,this.snappingManager=null,this.templateExecutorInfo=null,this.viewModel=null,this.upload=null,this._pendingEdits=new io}get isSharedTemplateWorkflow(){return!!this.fullTemplate&&Ar(this.fullTemplate)}get pendingFeatures(){return new ee([...this._pendingEdits.keys()])}set selectedPendingFeature(t){this._set("selectedPendingFeature",t),this.temporaryHighlightFeature=null}set timeZone(t){this._set("timeZone",t),this._pendingEdits.forEach(i=>{i.timeZone=t})}isSubmittable(t){let i=this._pendingEdits.get(t);return!!i?.submittable||!!i?.isAssociation}isDisplayable(t){return!this._pendingEdits.get(t)?.isAssociation}addPendingFeature(t,i=t,e={isAssociation:!1}){this.temporaryHighlightFeature=null;let{_pendingEdits:n}=this;if(n.has(t))return n.get(t);t.sourceLayer||$j().warn("source-layer-not-set","A feature added to `pendingFeatures` did not have `sourceLayer` set. This may cause problems throughout `CreateFeaturesWorkflow`.");let o=new Ly({feature:t,isAssociation:e.isAssociation});return o.trackChanges(i),n.set(t,o),o}getEditsForPendingFeature(t){return this._pendingEdits.get(t)}removePendingFeature(t){this.temporaryHighlightFeature=null;let{_pendingEdits:i}=this,e=i.get(t);e&&(e.destroy(),i.delete(t)),this.selectedPendingFeature===t&&(this.selectedPendingFeature=null)}getFeatureTitle(t){return this._pendingEdits.get(t)?.displayTitle}};s([l()],qi.prototype,"creationInfo",void 0),s([l()],qi.prototype,"editorItem",void 0),s([l()],qi.prototype,"fullTemplate",void 0),s([l()],qi.prototype,"isSharedTemplateWorkflow",null),s([l()],qi.prototype,"parent",void 0),s([l()],qi.prototype,"pendingFeatures",null),s([l()],qi.prototype,"selectedPendingFeature",null),s([l()],qi.prototype,"temporaryHighlightFeature",void 0),s([l({constructOnly:!0})],qi.prototype,"sketchOptions",void 0),s([l()],qi.prototype,"snappingManager",void 0),s([l()],qi.prototype,"templateExecutorInfo",void 0),s([l()],qi.prototype,"viewModel",void 0),s([l()],qi.prototype,"upload",void 0),s([l()],qi.prototype,"timeZone",null),qi=s([b("esri.widgets.Editor.CreateFeaturesWorkflowData")],qi);var EP=qi;var By=class extends D{constructor(i,e){super("shared-template-query-failed",`Request to fetch templates failed. templateIds: ${i.join(",")}`,{error:e}),this.templateIds=i}},Ny=class extends D{constructor(i,e){let n=new Set(e.map(r=>r.templateId)),o=eS(new Set(i),n);super("shared-template-some-templates-missing",`The service failed to return templates for the following 'templateId's: ${Array.from(o).join(",")}`)}},Hy=class extends D{constructor(){super("shared-template-required-properties-not-set","Values must be specified for the `definition`, `featureService`, `layer`, and `view` properties of a `SharedTemplate` in order to load it")}},Uy=class extends D{constructor(){super("shared-template-definition-required-properties-not-set","The `featureService`, `makeSharedTemplateFromJSON`, and `view` properties must all be set in order to load a template definition")}},jy=class extends D{constructor(i){super("shared-template-unsupported-builder",`This template uses an unsupported builder type, '${i}'`),this.builderType=i}},zy=class extends D{constructor(i,e){super("shared-template-layer-resolver-error",`The 'layerResolver' function failed to provide any layers for template with 'templateId: ${i}'`,{error:e}),this.templateId=i}},Gy=class extends D{constructor(i,e){super("shared-template-utility-network-resolver-error",`The 'utilityNetworkResolver' function threw an error while attempting to find a utility network for template with 'templateId: ${i}'`,{error:e}),this.templateId=i}},Wy=class extends D{constructor(i){super("shared-template-layer-unavailable",`None of the layers with which the template is associated are present in the view. Layer IDs: [${i.join(",")}]`),this.layerIds=i}},Qy=class extends D{constructor(i){super("shared-template-relationship-not-found",`Relationship class '${i}' could not be found.`),this.relationshipCatalogId=i}};var Es=class extends si.LoadableMixin(Xi){constructor(t){super(t),this.layerIdToSourceIdLookup=new io,this.sourceIdToLayerIdLookup=new io,this.sourceIdToNetworkInfo=new io,this._rulesBySourceId=new Map,this._terminalConfigurationsBySourceId=new Map}load(t){return f(this,null,function*(){return this.addResolvingPromise(this._load(t)),this})}agatFromRule(t,i){let e;switch(i){case"to":e={networkSource:t.toNetworkSource??null,assetGroup:t.toAssetGroup??null,assetType:t.toAssetType??null};break;case"from":e={networkSource:t.fromNetworkSource??null,assetGroup:t.fromAssetGroup??null,assetType:t.fromAssetType??null};break;case"via":e={networkSource:t.viaNetworkSource??null,assetGroup:t.viaAssetGroup??null,assetType:t.viaAssetType??null}}return e.networkSource===null?null:e}agatToFullDefinition({assetGroup:t,assetType:i,networkSourceId:e}){if(e===null||t===null||i===null)return null;let n={networkSource:null,assetGroup:null,assetType:null},o=this.sourceIdToNetworkInfo.get(e);if(!o)return null;n.networkSource=o;let r=o.assetGroupLookup.get(t);return r?(n.assetGroup=r,n.assetType=r.assetTypeLookup.get(i)??null,n.assetType===null?null:n):null}findAgat(t,i){let e=Lt(i)?i.parent:i;if(!e)throw new D("Unable to find asset group/asset type for layer. The given layer is a `SubtypeSublayer` with no parent.");if(this.utilityNetwork.featureServiceUrl!==e.url)return null;let n=this.getNetworkSourceIdForLayer(e);if(n===null)return null;let o=e.fieldsIndex.get("assettype")?.name??"";if(o==="")return null;let r=e.fieldsIndex.get("assetgroup")?.name??"";if(r==="")return null;let a=t.attributes[o],c=t.attributes[r];return a==null||c==null?null:{assetGroup:c,assetType:a,networkSourceId:n}}findAgatFullDefinition(t,i){let e=this.findAgat(t,i);return e?this.agatToFullDefinition(e):null}findRules({networkSourceId:t,assetGroup:i,assetType:e}){let n=[];if(t===null||i===null)return n;let o=this._rulesBySourceId.get(t)?.get(i);if(!o)return n;for(let r of o.generalRules)n.push(r);if(e!=null){let r=o.typeSpecificRules.get(e);if(r)for(let a of r)n.push(a)}return n}getNetworkSourceIdForLayer(t){let i=Lt(t)?t.parent:t;return i&&this.utilityNetwork.featureServiceUrl===i.url?this.layerIdToSourceIdLookup.get(i.layerId)??null:null}ruleMatchesAgat(t,i,e){switch(e){case"to":return!(t.toNetworkSource?.sourceId!==i.networkSourceId||t.toAssetGroup&&t.toAssetGroup.assetGroupCode!==i.assetGroup||t.toAssetType&&t.toAssetType.assetTypeCode!==i.assetType);case"from":return!(t.fromNetworkSource?.sourceId!==i.networkSourceId||t.fromAssetGroup&&t.fromAssetGroup.assetGroupCode!==i.assetGroup||t.fromAssetType&&t.fromAssetType.assetTypeCode!==i.assetType);case"via":return!(t.viaNetworkSource?.sourceId!==i.networkSourceId||t.viaAssetGroup&&t.viaAssetGroup.assetGroupCode!==i.assetGroup||t.viaAssetType&&t.viaAssetType.assetTypeCode!==i.assetType)}}ruleMatchesFullDefinitionAgat(t,i,e){switch(e){case"to":return!(t.toNetworkSource?.sourceId!==i.networkSource?.sourceId||t.toAssetGroup&&t.toAssetGroup.assetGroupCode!==i.assetGroup?.assetGroupCode||t.toAssetType&&t.toAssetType.assetTypeCode!==i.assetType?.assetTypeCode);case"from":return!(t.fromNetworkSource?.sourceId!==i.networkSource?.sourceId||t.fromAssetGroup&&t.fromAssetGroup.assetGroupCode!==i.assetGroup?.assetGroupCode||t.fromAssetType&&t.fromAssetType.assetTypeCode!==i.assetType?.assetTypeCode);case"via":return!(t.viaNetworkSource?.sourceId!==i.networkSource?.sourceId||t.viaAssetGroup&&t.viaAssetGroup.assetGroupCode!==i.assetGroup?.assetGroupCode||t.viaAssetType&&t.viaAssetType.assetTypeCode!==i.assetType?.assetTypeCode)}}terminalConfiguration(t,i,e){let n=this._terminalConfigurationsBySourceId.get(t);if(!n)return null;let o=n.get(i);return o&&o.get(e)||null}_load(t){return f(this,null,function*(){yield this.utilityNetwork.load(),Le(t);let{dataElement:i}=this.utilityNetwork;if(!i)throw new D("no-data-element","No data element found on utility network");for(let n of i.domainNetworks)for(let o of[...n.edgeSources??[],...n.junctionSources??[]]){this.layerIdToSourceIdLookup.set(o.layerId,o.sourceId),this.sourceIdToLayerIdLookup.set(o.sourceId,o.layerId);let r=(o.assetGroups??[]).map(d=>{let u=new io;for(let p of d.assetTypes??[])u.set(p.assetTypeCode,p);return O(x({},d),{assetTypeLookup:u})}),a=new io;for(let d of r)a.set(d.assetGroupCode,d);let c=O(x({},o),{assetGroupLookup:a,assetGroups:r});this.sourceIdToNetworkInfo.set(c.sourceId,c)}let e=yield this.utilityNetwork.getRulesTable();Le(t);for(let n of e?.rules??[])switch(n.ruleType){case jo.RTAttachment:case jo.RTContainment:this._registerRule(n.fromNetworkSource.sourceId,n.fromAssetGroup.assetGroupCode,n.fromAssetType.assetTypeCode,n),this._registerRule(n.toNetworkSource.sourceId,n.toAssetGroup.assetGroupCode,n.toAssetType.assetTypeCode,n);break;case jo.RTEdgeJunctionEdgeConnectivity:this._registerRule(n.fromNetworkSource.sourceId,n.fromAssetGroup.assetGroupCode,n.fromAssetType.assetTypeCode,n),this._registerRule(n.toNetworkSource.sourceId,n.toAssetGroup.assetGroupCode,n.toAssetType.assetTypeCode,n),this._registerRule(n.viaNetworkSource.sourceId,n.viaAssetGroup.assetGroupCode,n.viaAssetType.assetTypeCode,n);break;case jo.RTJunctionEdgeConnectivity:case jo.RTJunctionJunctionConnectivity:this._registerRule(n.fromNetworkSource.sourceId,n.fromAssetGroup.assetGroupCode,n.fromAssetType.assetTypeCode,n),this._registerRule(n.toNetworkSource.sourceId,n.toAssetGroup.assetGroupCode,n.toAssetType.assetTypeCode,n)}this._makeTerminalConfigurationLookups(i)})}_makeTerminalConfigurationLookups(t){let i={};for(let e of t.terminalConfigurations??[])i[e.terminalConfigurationId]=e;for(let e of t.domainNetworks??[])for(let n of e.junctionSources)if(n.utilityNetworkFeatureClassUsageType==="esriUNFCUTJunctionObject"||n.utilityNetworkFeatureClassUsageType==="esriUNFCUTDevice"){for(let o of n.assetGroups??[])for(let r of o.assetTypes??[])if(r.terminalConfigurationId!=null&&r.terminalConfigurationId>=0){let a=i[r.terminalConfigurationId];if(a){let c=jt(this._terminalConfigurationsBySourceId,n.sourceId,()=>new Map);jt(c,o.assetGroupCode,()=>new Map).set(r.assetTypeCode,a)}}}}_registerRule(t,i,e,n){let o=jt(this._rulesBySourceId,t,()=>new Map),r=jt(o,i,()=>({generalRules:[],typeSpecificRules:new Map}));e===-1?r.generalRules.push(n):jt(r.typeSpecificRules,e,()=>[]).push(n)}};s([l()],Es.prototype,"layerIdToSourceIdLookup",void 0),s([l()],Es.prototype,"sourceIdToLayerIdLookup",void 0),s([l()],Es.prototype,"sourceIdToNetworkInfo",void 0),s([l()],Es.prototype,"utilityNetwork",void 0),Es=s([b("esri.networks.support.UtilityNetworkLookupHelper")],Es);var kP=new Map;function Yy(t,i){return jt(kP,t,()=>{let e=new Ur({layerResolver:i?.layerResolver??iz(t),makeSharedTemplateFromJSON:i.makeSharedTemplateFromJSON,utilityNetworkResolver:i?.utilityNetworkResolver??nz(t),view:t});return t.addHandles(ve(()=>{kP.delete(t),e.destroy()})),e})}var Ur=class extends R{constructor(t){super(t),this._abortController=null,this._cache=new Map,this._pending=new Map,this._utilityNetworkLookupHelperCache=new Map,this.layerResolver=null,this.makeSharedTemplateFromJSON=null,this.utilityNetworkResolver=null,this.view=null}initialize(){this.addHandles(T(()=>this.view.spatialReference,()=>this._reset()))}destroy(){this._abortController=ft(this._abortController)}getTemplates(n){return f(this,arguments,function*({templateIds:t,featureService:i,signal:e}){let o=this._cache,r=this._pending,a=[],c=new Set,d=new Set,u=Symbol();for(let y of new Set(t)){let A=qy(i,y);if(o.has(A))a.push(o.get(A));else if(r.has(A)){let C=r.get(A);C.subscribers.add(u),d.add(C)}else c.add(y),r.set(A,ez())}if(a.length===t.length)return a;let p=()=>{for(let{subscribers:y}of d)y.delete(u)},h=Kr(e,p);try{let y=yield this._loadTemplates({templateIds:Array.from(c),featureService:i,signal:e}),A=yield Promise.all(Array.from(d).map(({resolver:C})=>C.promise));a.push(...y),a.push(...A)}catch(y){p();for(let A of c){let C=qy(i,A);r.get(C)?.resolver.reject(y),r.delete(C)}throw y}finally{h?.remove()}return Le(e),a})}_loadTemplates(n){return f(this,arguments,function*({templateIds:t,featureService:i,signal:e}){if(t.length===0)return[];let o=this._cache,r=this._pending,a=this._abortController=new AbortController,c=Kr(e,()=>{for(let p of t)if(TP(r.get(qy(i,p))))return;a.abort()}),d=yield Xj({featureService:i,templateIds:t,signal:a.signal,spatialReference:this.view.spatialReference});if(d.length<t.length)throw new Ny(t,d);let u=yield Promise.all(d.map(p=>this._makeTemplate({json:p,featureService:i})));for(let p of u){let h=qy(i,p.templateId),y=r.get(h);!e?.aborted||TP(y)?(o.set(h,p),y?.resolver.resolve(p)):y?.resolver.reject(qs()),r.delete(h)}return c?.remove(),u})}_makeTemplate(e){return f(this,arguments,function*({json:t,featureService:i}){let{view:n}=this,o=this.makeSharedTemplateFromJSON(t);o.featureService=i,o.view=n;let{layerIds:r,subtypeCode:a}=o;try{o.layer=yield this.layerResolver({featureService:i,layerIds:r,subtypeCode:a})}catch(c){throw new zy(o.templateId,c)}if(ta(o)&&o.definition?.createUtilityNetworkAssociations){let c=null;try{c=yield this.utilityNetworkResolver(i)}catch(d){throw new Gy(o.templateId,d)}if(c){o.definition.utilityNetwork=yield this._getOrCreateUtilityNetworkLookupHelper(c);let d=yield c.loadAssociationsTable();o.definition.utilityNetworkAssociationsTable=d,sf(n).additionalLayers.add(d)}}if(Ja(o)&&o.definition){o.definition.spatialReference=n.spatialReference;for(let c of o.definition.allParts)c.geometry&&(c.geometry.spatialReference=n.spatialReference)}if(Ic(o)&&o.definition?.defaultValues){let c=o.definition.defaultValues,d={},{fieldsIndex:u}=o.layer;for(let p in o.definition.defaultValues)d[u.get(p)?.name??p]=c[p];o.definition.defaultValues=d}return o})}_getOrCreateUtilityNetworkLookupHelper(t){return f(this,null,function*(){let i=this._utilityNetworkLookupHelperCache.get(t);if(i)return i;let e=yield new Es({utilityNetwork:t}).load();this._utilityNetworkLookupHelperCache.set(t,e);let n=ve(()=>{e.destroy(),this._utilityNetworkLookupHelperCache.delete(t)});return t.addHandles(n),this.addHandles(n),e})}_reset(){this._abortController?.abort(),this._cache.clear(),this._pending.clear()}};function Xj(o){return f(this,arguments,function*({templateIds:t,featureService:i,spatialReference:e,signal:n}){let r=`${i.url}/sharedTemplates/templates`;return(yield pn(r,{query:{f:"json",outSR:e,ids:t.join(",")},signal:n}).catch(c=>{throw Qx(c),new By(t,c)})).data?.templates??[]})}function TP(t){return t!=null&&t.subscribers.size>0}function ez(){return{resolver:$t(),subscribers:new Set}}function qy(t,i){return`${t.url}/${i}`}function tz(t){return uc(t)||Ri(t)}function iz(t){return n=>f(this,[n],function*({featureService:i,layerIds:e}){let o=new Set(e),{allLayers:r,allTables:a}=t.map,c=r.concat(a).find(d=>d.url===i.url&&tz(d)&&o.has(d.layerId));if(c==null)throw new Wy(e);return c})}function nz(t){return i=>f(this,null,function*(){let{map:e}=t;if(!Cc(e)||!e.utilityNetworks)return null;for(let n of e.utilityNetworks)if(n.featureServiceUrl===i.url)return n.load();return null})}s([l()],Ur.prototype,"_abortController",void 0),s([l()],Ur.prototype,"_cache",void 0),s([l()],Ur.prototype,"_pending",void 0),s([l({constructOnly:!0})],Ur.prototype,"layerResolver",void 0),s([l({constructOnly:!0})],Ur.prototype,"makeSharedTemplateFromJSON",void 0),s([l({constructOnly:!0})],Ur.prototype,"utilityNetworkResolver",void 0),s([l({constructOnly:!0})],Ur.prototype,"view",void 0),Ur=s([b("esri.editing.sharedTemplates.SharedTemplateProvider")],Ur);var En=class extends si.LoadableMixin(Xi.EsriPromiseMixin(K)){constructor(){super(...arguments),this.excludedTools=[],this.featureService=null,this.makeSharedTemplateFromJSON=null,this.view=null}readExcludedTools(t){return t.map(i=>VE.fromJSON(i))}load(t){return this.addResolvingPromise(this._load(t)),Promise.resolve(this)}_load(t){return f(this,null,function*(){let i=this.allParts,{featureService:e,makeSharedTemplateFromJSON:n,view:o}=this;if(e==null||n==null||o==null)throw new Uy;for(let u of i)u.assertIsSupportedPart();let r=Yy(o,{makeSharedTemplateFromJSON:n}),a=i.filter(u=>u.template==null),c=yield r.getTemplates({templateIds:a.map(u=>u.templateId),featureService:e,signal:t?.signal}),d=new Map(c.map(u=>[u.templateId,u]));for(let u of a){let p=d.get(u.templateId);if(p==null)throw new D(`Failed to retrieve template for template ID ${u.templateId}`);u.template=p}yield Promise.all(i.map(u=>u.template?.load(t)))})}};s([l({readOnly:!0})],En.prototype,"type",void 0),s([l({constructOnly:!0})],En.prototype,"excludedTools",void 0),s([Ti("excludedTools")],En.prototype,"readExcludedTools",null),s([l()],En.prototype,"featureService",void 0),s([l()],En.prototype,"makeSharedTemplateFromJSON",void 0),s([l()],En.prototype,"view",void 0),En=s([b("esri.editing.sharedTemplates.templateDefinitions.TemplateDefinitionBase")],En);var Co=class extends K{constructor(t){super(t),this.template=null}};s([l()],Co.prototype,"template",void 0),s([l()],Co.prototype,"templateGlobalId",void 0),s([l()],Co.prototype,"templateId",void 0),s([l({readOnly:!0,json:{read:!1,write:!1}})],Co.prototype,"type",void 0),Co=s([b("esri.editing.sharedTemplates.templateDefinitions.parts.TemplatePartBase")],Co);var ks=class extends Co{constructor(t){super(t),this.relationshipCatalogId="",this.relationshipMetadata=null,this.template=null,this.type="relationship"}assertIsSupportedPart(){}};s([l({json:{name:"relationshipClassID"}})],ks.prototype,"relationshipCatalogId",void 0),s([l()],ks.prototype,"relationshipMetadata",void 0),s([l()],ks.prototype,"template",void 0),s([l()],ks.prototype,"type",void 0),ks=s([b("esri.editing.sharedTemplates.templateDefinitions.parts.FeatureTemplateRelationshipPart")],ks);var Ts=class extends En{constructor(t){super(t),this.type="feature",this.defaultValues=null,this.relationships=[]}get allParts(){return this.relationships}initializeRelationshipMetadata(t){for(let i of this.relationships){let{relationshipCatalogId:e}=i,n=i.template?.layer,o=t.relationships?.find(a=>a.catalogId===e),r=n?.relationships?.find(a=>a.catalogId===e);if(!o||!n||!r)throw new Qy(e);i.relationshipMetadata={destinationField:r.keyField,destinationLayerId:n.layerId,sourceField:o.keyField,sourceLayerId:t.layerId}}}};s([l({readOnly:!0})],Ts.prototype,"type",void 0),s([l()],Ts.prototype,"allParts",null),s([l()],Ts.prototype,"defaultValues",void 0),s([l({constructOnly:!0,type:[ks]})],Ts.prototype,"relationships",void 0),Ts=s([b("esri.editing.sharedTemplates.templateDefinitions.FeatureTemplateDefinition")],Ts);var Vw=new fr({esri_editing_transformation_bufferLineToPolygon:"buffer-line-to-polygon",esri_editing_transformation_bufferPointToPolygon:"buffer-point-to-polygon",esri_editing_transformation_bufferPolygonToPolygon:"buffer-polygon-to-polygon",esri_editing_transformation_connectionPoint:"connection-point",esri_editing_transformation_equallySpaced:"equally-spaced",esri_editing_transformation_offsetLine:"offset-line",esri_editing_transformation_offsetPrimaryLine:"offset-primary-line",esri_editing_transformation_pointAtAllVerticesOfLine:"point-at-all-vertices-of-line",esri_editing_transformation_pointAtBeginningOfLine:"point-at-beginning-of-line",esri_editing_transformation_pointAtBeginningOfRadial:"point-at-beginning-of-radial",esri_editing_transformation_pointAtEndOfLine:"point-at-end-of-line",esri_editing_transformation_pointAtInteriorVertices:"point-at-interior-vertices",esri_editing_transformation_pointAtIntersectionVerticesOfLine:"point-at-intersection-vertices-of-line",esri_editing_transformation_pointAtNotBeginningOfLine:"point-at-not-beginning-of-line",esri_editing_transformation_pointAtNotEndOfLine:"point-at-not-end-of-line",esri_editing_transformation_pointAtPolygonCentroid:"point-at-polygon-centroid",esri_editing_transformation_pointAtPolygonNotStart:"point-at-polygon-not-start",esri_editing_transformation_pointAtPolygonStart:"point-at-polygon-start",esri_editing_transformation_pointIdentity:"point-identity",esri_editing_transformation_pointPrimaryIdentity:"point-primary-identity",esri_editing_transformation_polygonBoundary:"polygon-boundary",esri_editing_transformation_polygonBoundaryTwoPoint:"polygon-boundary-two-point",esri_editing_transformation_polygonIdentity:"polygon-identity",esri_editing_transformation_polygonPrimaryIdentity:"polygon-primary-identity",esri_editing_transformation_polygonVertices:"polygon-vertices",esri_editing_transformation_radialLines:"radial-lines",esri_editing_transformation_twoPointLines:"two-point-lines"}),DP={"buffer-line-to-polygon":"polyline","buffer-point-to-polygon":"point","buffer-polygon-to-polygon":"polygon","connection-point":"polyline","equally-spaced":"polyline","offset-line":"polyline","offset-primary-line":"polyline","point-at-all-vertices-of-line":"polyline","point-at-beginning-of-line":"polyline","point-at-beginning-of-radial":"polyline","point-at-end-of-line":"polyline","point-at-interior-vertices":"polyline","point-at-intersection-vertices-of-line":"polyline","point-at-not-beginning-of-line":"polyline","point-at-not-end-of-line":"polyline","point-at-polygon-centroid":"polygon","point-at-polygon-not-start":"polygon","point-at-polygon-start":"polygon","point-identity":"point","point-primary-identity":"point","polygon-boundary":"polygon","polygon-boundary-two-point":"polygon","polygon-identity":"polygon","polygon-primary-identity":"polygon","polygon-vertices":"polygon","radial-lines":"polyline","two-point-lines":"polyline"};var Ds=class extends Co{constructor(t){super(t),this.builderConfig={},this.type="group"}assertIsSupportedPart(){let{builderType:t}=this;if(!Vw.apiValues.includes(t))throw new jy(t)}};s([Fi(Vw,{ignoreUnknown:!1,name:"type"})],Ds.prototype,"builderType",void 0),s([l({json:{name:"options"}})],Ds.prototype,"builderConfig",void 0),s([l()],Ds.prototype,"type",void 0),Ds=s([b("esri.editing.sharedTemplates.templateDefinitions.parts.GroupTemplatePart")],Ds);var xo=class extends En{constructor(t){super(t),this.type="group",this.createUtilityNetworkAssociations=!1,this.parts=[],this.utilityNetwork=null,this.utilityNetworkAssociationsTable=null}get allParts(){return[this.basePart,...this.parts]}get inputGeometryType(){return DP[this.basePart.builderType]}};s([l({readOnly:!0})],xo.prototype,"type",void 0),s([l()],xo.prototype,"allParts",null),s([l({constructOnly:!0,type:Ds})],xo.prototype,"basePart",void 0),s([l({constructOnly:!0})],xo.prototype,"createUtilityNetworkAssociations",void 0),s([l()],xo.prototype,"inputGeometryType",null),s([l({constructOnly:!0,type:[Ds]})],xo.prototype,"parts",void 0),s([l()],xo.prototype,"utilityNetwork",void 0),s([l()],xo.prototype,"utilityNetworkAssociationsTable",void 0),xo=s([b("esri.editing.sharedTemplates.templateDefinitions.GroupTemplateDefinition")],xo);var Ud=class extends Co{constructor(t){super(t),this.geometry=null,this.type="preset"}assertIsSupportedPart(){}};s([l({types:Th,json:{read:kh}})],Ud.prototype,"geometry",void 0),s([l()],Ud.prototype,"type",void 0),Ud=s([b("esri.editing.sharedTemplates.templateDefinitions.parts.PresetTemplatePart")],Ud);var Ea=class extends En{constructor(t){super(t),this.type="preset",this.parts=[]}get allParts(){return this.parts}};s([l({readOnly:!0})],Ea.prototype,"type",void 0),s([l()],Ea.prototype,"allParts",null),s([l({constructOnly:!0,type:xe})],Ea.prototype,"origin",void 0),s([l({constructOnly:!0,type:[Ud],json:{name:"features"}})],Ea.prototype,"parts",void 0),s([l({type:Vt})],Ea.prototype,"spatialReference",void 0),Ea=s([b("esri.editing.sharedTemplates.templateDefinitions.PresetTemplateDefinition")],Ea);var oz=t=>ka.fromJSON(t),ka=class extends si.LoadableMixin(Xi.EsriPromiseMixin(LE)){constructor(t){super(t),this.definition=null,this.layer=null,this.type="feature",this.view=null}readDefinition(t,i){switch(i.type){case"feature":return Ts.fromJSON(t);case"group":return xo.fromJSON(t);case"preset":return Ea.fromJSON(t);default:throw i.type,new D("shared-template:no-definition","No value for 'definition' provided to 'SharedTemplate' constructor")}}load(t){return this.addResolvingPromise(this._load(t)),Promise.resolve(this)}_load(t){return f(this,null,function*(){let{definition:i,featureService:e,layer:n,view:o}=this;if(!(i&&e&&n&&o))throw new Hy;i.featureService=e,i.makeSharedTemplateFromJSON=oz,i.view=o,yield this.definition?.load(t),OE(i)&&i.initializeRelationshipMetadata(n)})}};s([l()],ka.prototype,"definition",void 0),s([Ti("definition")],ka.prototype,"readDefinition",null),s([l()],ka.prototype,"layer",void 0),s([l()],ka.prototype,"type",void 0),s([l()],ka.prototype,"view",void 0),ka=s([b("esri.editing.sharedTemplates.SharedTemplate")],ka);var FP=ka;function PP(t,i){let e={};i=i||{continueOnCircularDependency:!1};let n=[],o={};t.forEach(a=>{let c=a[0],d;(d=e[c])||(d=e[c]=new Zy(c)),a.forEach(u=>{u!==c&&(e[u]||(e[u]=new Zy(u)),d.afters.push(u))})});let r=Object.keys(e);return r.sort(RP),r.forEach(function a(c,d){let u=e[c],p=u.id;if(o[c])return;let h=Array.isArray(d)?d:[];h.push(p),o[c]=!0,u.afters.sort(RP),u.afters.forEach(y=>{if(h.includes(y)){if(i?.continueOnCircularDependency)return;throw new Error("Circular chain found: "+p+" must be before "+y+" due to a direct order specification, but "+y+" must be before "+p+" based on other specifications.")}a(y,h.slice())}),n.push(p)}),n.reverse()}var Zy=class{constructor(i){this.id=i,this.afters=[]}};function RP(t,i){return t<i?1:t>i?-1:0}var rz=()=>z.getLogger("esri.widgets.Editor.workflowUtils");function OP(t){return t.type==="update"}function Mm(t){let i=t.sourceLayer;if(!i||i.type!=="feature"||!dz(i.renderer))return{rotation:null,size:null};let e=null,n=null,o=i.renderer.getVisualVariablesForType("rotation").filter(a=>(!a.axis||a.axis==="heading")&&a.field&&!a.valueExpression&&fI(a,t)!=null);o.length===1&&(e=az(o[0],i));let r=i.renderer.getVisualVariablesForType("size").filter(a=>a.field&&!a.useSymbolValue&&!a.valueExpression&&hI(a)===mI.RealWorldSize&&gI(a,t)!=null);return r.length===1&&(n=cz(r[0],i)),{rotation:e,size:n}}function az(t,i){let e=(t.axis||"heading")==="heading"&&t.rotationType==="arithmetic"?-1:1,n=t.field,o=i.fields&&i.fields.filter(c=>c.name===n),r=o&&o.length===1?o[0].type:"double",a={initial:0,current:0};return{field:n,fieldType:r,getDefault:()=>Promise.resolve(0),getValue:c=>(a.current=a.initial-e*c,Bw((a.current+360)%360,r)),setInitialValue:c=>{a.initial=c,a.current=0},isUpdatingInteractively:!1,rotationType:t.rotationType??"geographic"}}function sz(t,i){switch(i){case"width":return t[0];case"depth":return t[1];case"height":return t[2];default:return t[2]||t[1]||t[0]}}function lz(t,i,e){return f(this,null,function*(){if(i==null)return 0;let{symbol:n}=aI(i);if(n==null||n.type==="web-style"||n.type==="cim")return 0;let o=n.symbolLayers.at(0);if(!o)return 0;switch(o.type){case"icon":{let{computeIconLayerResourceSize:r}=yield import("./chunk-FGM2LI3N.js");return o.size||Math.min(Fs.icon,(yield r(o,Fs.icon))[0])||Fs.icon}case"text":return o.size||Fs.text;case"line":return o.size||Fs.line;case"object":{let{computeObjectLayerResourceSize:r}=yield import("./chunk-FGM2LI3N.js");return sz(yield r(o,t.scale/Fs.viewScaleSizeFactor),e)}case"path":return(o.width!=null?o.width:o.height)||t.scale/Fs.viewScaleSizeFactor;case"extrude":return o.size||t.scale/Fs.viewScaleSizeFactor;default:return 0}})}function cz(t,i){let e=t.field,n=t.axis,o=i.fields&&i.fields.filter(u=>u.name===e),r=o&&o.length===1?o[0].type:"double",a={initial:0,current:0},c=KS[t.valueUnit]??1,d;return d=t.valueRepresentation==="area"?u=>(u*c/2)**2*Math.PI:t.valueRepresentation==="radius"||t.valueRepresentation==="distance"?u=>u*c/2:u=>u*c,{field:e,fieldType:r,getDefault:(u,p)=>f(this,null,function*(){return Bw(d(yield lz(p,u,n)),r)}),getValue:(u,p)=>(a.initial||(a.initial=p.pixelSizeAt(p.center)),a.current=a.initial*u,Bw(a.current,r)),setInitialValue:u=>{a.initial=u,a.current=0},isUpdatingInteractively:!1,displayUnit:Mz(t.valueUnit),axis:t.axis}}function Bw(t,i){switch(i){case"small-integer":case"integer":case"long":return Math.round(t);case"double":case"single":return t;default:return 0}}function dz(t){switch(t?.type){case"class-breaks":case"simple":case"unique-value":case"dot-density":case"dictionary":case"pie-chart":return!0;default:return!1}}function nr(t,i,e){return f(this,null,function*(){let n=yield Ac(t,{useSourceLayer:!0,ignoreGraphicSymbol:!0,webStyleCache:i,scale:e});yI(t.symbol,n)!=null&&(t.symbol=n)})}function Hw(t,i){if(!t||!i)throw new Error("no geometry type");if(t==="multipatch")return{tool:"mesh",createOptions:{mode:"hybrid"}};let e=new Map;e.set("circle",{mode:"freehand"}),e.set("rectangle",{mode:"freehand"});let n={mode:kE,optionsPerTool:e};if(Ar(i)){let o=i.defaultTool,r=ta(i)?i.definition?.inputGeometryType??t:t;switch(o){case"freehand":case"stream-line":return{tool:r==="polyline"?"freehandPolyline":"freehandPolygon",createOptions:n};case"autocomplete-freehand-polygons":case"stream-polygon":return{tool:"freehandPolygon",createOptions:n};case"autocomplete-polygons":case"difference-polygon":case"create-structures":case"polygon":case"trace":return{tool:r==="polygon"?"polygon":"polyline",createOptions:n};case"circle":return e.get("circle").preserveAspectRatio=!0,{tool:"circle",createOptions:n};case"ellipse":return e.get("circle").preserveAspectRatio=!1,{tool:"circle",createOptions:n};case"create-points-along-line":case"multipoint":return{tool:"multipoint",createOptions:n};case"line":case"radial-line":case"right-angle-line":case"split":case"two-point-line":return{tool:"polyline",createOptions:n};case"rectangle":case"regular-polygon":case"right-angle-polygon":return{tool:"rectangle",createOptions:n};case"elevation-point-from-contour":case"elevation-point-from-dem":case"parcel-seed":case"point":case"point-and-rotation":case"point-at-end-of-line":return{tool:"point",createOptions:n}}}else{let o=i.drawingTool;if(o==="circle"||o==="ellipse")return e.get("circle").preserveAspectRatio=o==="circle",{tool:"circle",createOptions:n};if(o==="rectangle")return{tool:"rectangle",createOptions:n};if(o==="freehand")return{tool:t==="polygon"?"freehandPolygon":"freehandPolyline",createOptions:n}}return{tool:t,createOptions:n}}function VP(t,i,e){return f(this,null,function*(){let{creationInfo:n,fullTemplate:o}=i;if(!n)throw new D("No creation info provided.");let r=n.layer,a=jd(o,n.attributeOverrides),{view:c}=t,d=c?.type==="2d";ta(o)||Ja(o)||(yield HP(t,r,a,e,d?c.scale:null));let{capabilities:u}=r;t.layer.elevationInfo=r.elevationInfo;let p=Hw(r.geometryType,o);t.defaultCreateOptions={graphicProperties:{attributes:a,sourceLayer:r},mode:p.createOptions.mode,optionsPerTool:p.createOptions.optionsPerTool,preserveAspectRatio:p.createOptions.preserveAspectRatio,hasZ:u.data.supportsZ,defaultZ:(d?u.editing.zDefault:null)??t.defaultCreateOptions.defaultZ},n.geometryToPlace==null?yield t.create(p.tool):yield t.place(n.geometryToPlace,{graphicProperties:{attributes:a,sourceLayer:r}})})}function LP(t){return f(this,null,function*(){return $i([yield uz(t),yield pz(t)])})}function uz(r){return f(this,arguments,function*({creationAttributes:t,data:i,sketchViewModel:e,view:n,webStyleCache:o}){let{creationInfo:a}=i,{fullTemplate:c}=i;if(!a||n?.type!=="2d"||ta(c)||Ja(c))return null;let d=_i(u=>HP(e,a.layer,t,o,u));return T(()=>n.scale,u=>d(u))})}function pz(n){return f(this,arguments,function*({data:t,sketchViewModel:i,view:e}){let{templateExecutorInfo:o}=t;if(!o)return null;let r=i.activeComponent;if(!e||!RE(r))return rz().error(new D("Failed to set up template feedback.")),null;let a=new Wa({effect:"saturate(0.6) opacity(0.8)",listMode:"hide",title:"Shared Template Feedback Graphics"});e.map?.add(a);let{executor:c,serviceLayersById:d}=o,u=e.theme?.accentColor??new oo([255,165,0,1]);return $i([lt(()=>r,["cursor-update","vertex-add"],()=>{a.removeAll();let p=r.graphic?.geometry;if(!p||!mz(p))return;let h=c(p,"digitizing");if(!hr(h))for(let y of h.edits){let A=d.get(y.id);if(A&&y.addFeatures&&y.addFeatures.length!==0){for(let C of A)if(!C.isTable)for(let M of y.addFeatures){let I=hz(M,u);I&&a.add(I)}}}}),ve(()=>{e.map.remove(a),a.destroy()})])})}function mz(t){switch(t.type){case"point":case"multipoint":return!0;case"polyline":return t.paths[0].length>1;case"polygon":{let i=t.rings[0];return Nx(i.at(0),i.at(-1))?i.length>2:i.length>1}default:return!1}}function hz(t,i){let e=null;switch(t.geometry?.type){case"point":case"multipoint":e=new za({angle:0,color:i,outline:new hc({cap:"round",color:i,join:"round",miterLimit:1,style:"solid",width:1}),path:"undefined",size:8,style:"circle",xoffset:0,yoffset:0});break;case"polygon":e=new Nh({color:i,outline:new hc({cap:"round",color:i,join:"round",miterLimit:1,style:"solid",width:3}),style:"none"});break;case"polyline":e=new hc({cap:"round",color:i,join:"round",miterLimit:1,style:"solid",width:2});break;default:return null}return new dt({geometry:t.geometry,symbol:e,attributes:x({},t.attributes)})}function Uw(t,i){return f(this,null,function*(){let e=yield sf(i).load(),n=Lt(t)?t.parent:t;return e.tablesAndLayersLookup.get(n)})}function BP(t,i){return f(this,null,function*(){let e=yield Uw(t,i);if(!e)return new Map;let n=new Map;for(let o of e.layersAndTables)jt(n,o.layerId,()=>[]).push(o);return n})}function Lw(t){let i=t.objectIdField,e=t.globalIdField??"";return{id:t.layerId,identifierFields:{objectIdField:i,globalIdField:e},addFeatures:[],deleteAttachments:[],addAttachments:[],deleteFeatures:[],updateFeatures:[]}}function NP(t){let{edits:i,serviceInfo:e,view:n,findOriginalFeature:o}=t,r=fz(e.layersAndTables),a=e.layersAndTables.toArray(),{allEditData:c,editDataByLayerIdMap:d,editDataByIdMap:u}=yz(i,r,o),p=_z(c,gz(a,d),d);if(bz(c,p,n),p.length===0)return i;let h=PP(p,{continueOnCircularDependency:!0}).map(I=>u.get(I)).filter(ot),y=new Map;for(let I of h)y.set(I.uniqueId,I);let A=[];for(let I of c)y.has(I.uniqueId)||A.push(I);let C=[],M=null;for(let I of h){let{layer:G}=I;switch(M==null?M=Lw(G):M.id!==G.layerId&&(C.push(M),M=Lw(G)),I.operationType){case"add":case"modify":M.addFeatures.push(I.after);break;case"delete":M.deleteFeatures.push(I.before)}}M!==null&&C.push(M);for(let I of A){let G=I.layer.layerId,X=C.find(L=>L.id===G)??Lw(I.layer);switch(C.includes(X)||C.push(X),I.operationType){case"add":X.addFeatures.push(I.after);break;case"modify":X.updateFeatures.push(I.after);break;case"delete":X.deleteFeatures.push(I.before);break;case"deleteAttachment":X.deleteAttachments.push(I.attachmentId);break;case"addAttachment":X.addAttachments.push(I.attachment)}}for(let I of C)I.deleteAttachments!==void 0&&I.deleteAttachments.length===0&&delete I.deleteAttachments,I.addAttachments!==void 0&&I.addAttachments.length===0&&delete I.addAttachments;return C}function fz(t){let i=new Map;for(let e of t)i.set(e.layerId,e);return i}function gz(t,i){let e=new Map;for(let n of t)for(let o of n.relationships??[])if(e.set(Nw(n,o),""),i.has(o.relatedTableId)){let r=i.get(o.relatedTableId);if(r.length>0){for(let a of r[0].layer.relationships??[])if(a.id===o.id){e.set(Nw(n,o),a.keyField);break}}}return e}function yz(t,i,e){let n=new Map,o=[],r=new Map,a=1;for(let c of t){let d=[],u=i.get(c.id);if(!u)throw new D(`Failed to prepare applyEdits payload. Layer with id ${c.id} not found.`);for(let p of c.addFeatures??[])d.push({uniqueId:"T"+a++,operationType:"add",layer:u,after:p});for(let p of c.deleteFeatures??[])d.push({uniqueId:"T"+a++,operationType:"delete",before:p,layer:u});for(let p of c.deleteAttachments??[])d.push({uniqueId:"T"+a++,operationType:"deleteAttachment",attachmentId:p,layer:u});for(let p of c.addAttachments??[])d.push({uniqueId:"T"+a++,operationType:"addAttachment",attachment:p,layer:u});for(let p of c.updateFeatures??[])d.push({uniqueId:"T"+a++,operationType:"modify",before:e(p),after:p,layer:u});n.set(u.layerId,d);for(let p of d)o.push(p),r.set(p.uniqueId,p)}return{allEditData:o,editDataByIdMap:r,editDataByLayerIdMap:n}}function _z(t,i,e){let n=[];for(let o of t){let r=o.layer.relationships??[],{uniqueId:a}=o;for(let c of r){let d=c.keyField;if(c.role==="origin"){let u=e.get(c.relatedTableId);if(!u||u.length===0)continue;let p=Nw(o.layer,c),h=i.get(p);if(h===void 0||h==="")continue;switch(o.operationType){case"add":for(let y of u)y!==o&&(y.operationType!=="add"&&y.operationType!=="modify"||y.after.attributes[h]===o.after.attributes[d]&&n.push([a,y.uniqueId]));break;case"modify":if(o.before.attributes[d]!==o.after.attributes[d])for(let y of u){let A=y.uniqueId;y!==o&&(y.operationType==="delete"?y.before.attributes[h]===o.before.attributes[d]?n.push([A,a]):y.before.attributes[h]===o.after.attributes[d]&&n.push([a,A]):y.operationType==="add"?y.after.attributes[h]===o.after.attributes[d]?n.push([a,A]):y.after.attributes[h]===o.before.attributes[d]&&n.push([A,a]):y.operationType==="modify"&&(y.before.attributes[h]!==y.after.attributes[h]?y.after.attributes[h]===o.after.attributes[d]?n.push([a,A]):n.push([A,a]):n.push([a,A])))}break;case"delete":for(let y of u)y!==o&&(y.operationType!=="delete"&&y.operationType!=="modify"||y.before.attributes[h]===o.before.attributes[d]&&n.push([y.uniqueId,a]))}}}}return n}function Nw(t,i){return`${t.layerId}:${i.id}`}function vz(t,i){return!!(i?.map&&"utilityNetworks"in i.map&&i.map.utilityNetworks?.length&&i.map.utilityNetworks.some(e=>!(!e.loaded||!t.url?.startsWith(e.featureServiceUrl)||t.layerId!==e.networkSystemLayers.associationsTableId)))}function bz(t,i,e){let n=[];for(let r of t)vz(r.layer,e)&&n.push(r);if(n.length===0)return;let o=[];for(let r of n){let a=r.layer;switch(r.operationType){case"delete":o=[...Ky(r.before.attributes[a.fieldsIndex.get("fromglobalid").name],t),...Ky(r.before.attributes[a.fieldsIndex.get("toglobalid").name],t)];for(let c of o)i.push([r.uniqueId,c.uniqueId]);break;case"add":o=[...Ky(r.after.attributes[a.fieldsIndex.get("fromglobalid").name],t),...Ky(r.after.attributes[a.fieldsIndex.get("toglobalid").name],t)];for(let c of o)i.push([c.uniqueId,r.uniqueId])}}}function Ky(t,i){let e=[],n=i.filter(({layer:o})=>o.globalIdField!==""&&o.globalIdField!=null);for(let o of n){let r=o.layer.globalIdField;("before"in o&&o.before?.attributes[r]===t||"after"in o&&o.after?.attributes[r]===t)&&e.push(o)}return e}function jd(t,i={}){return ta(t)||Ja(t)?{}:Sc(t)?x(x({},t.prototype.attributes),i):Ic(t)?x(x({},t.definition?.defaultValues),i):x({},i)}function HP(t,i,e,n,o){return f(this,null,function*(){let r=new dt({sourceLayer:i,attributes:e}),{rotation:a,size:c}=Mm(r),d=yield Ac(r,{useSourceLayer:!0,webStyleCache:n,scale:o}),u=!1;for(let p of[c,a])p!=null&&e[p.field]==null&&(e[p.field]=yield p.getDefault(d,t.view),u=!0);switch(u&&(d=yield Ac(r,{useSourceLayer:!0,webStyleCache:n,scale:o})),d?.type){case"simple-fill":case"polygon-3d":t.polygonSymbol=d;break;case"simple-line":case"line-3d":t.polylineSymbol=d;break;case"simple-marker":case"picture-marker":case"point-3d":case"cim":t.pointSymbol=d;break;case"mesh-3d":t.meshSymbol=d}UP(t.tooltipOptions,c,a)})}function UP(t,i,e){t.visualVariables=i!=null||e!=null?{size:i!=null?{unit:i.displayUnit,axis:i.axis,valueType:i.fieldType}:null,rotation:e!=null?{valueType:e.fieldType,rotationType:e.rotationType??"geographic"}:null}:null}function jw(t,i){return t?.find(e=>e.layer===i)}function jP(t,i,e,n){return f(this,null,function*(){switch(i.type){case"3d":return Az(t,i,e,n);case"2d":return wz(t,i,e,n)}})}function Az(t,i,e,n){return f(this,null,function*(){if(t.length===0)return[];let{updatable:o,graphicsByLayer:r}=yield e.async(()=>f(this,null,function*(){let{results:a}=yield Zs(TE(i,e),n),c=new Map,d=p=>{let h=p.layer,y=c.get(h);if(!y){let A=new Array;return c.set(h,A),A}return y};pb(a).forEach(({graphic:p})=>d(p).push(p));let u=t.filter(({capabilities:p,layer:h})=>p.update.enabled&&c.has(h));return u.length!==0&&e.stopPropagation(),{updatable:u,graphicsByLayer:c}}));return Zs(Promise.allSettled(o.map(c=>f(this,[c],function*({layer:a}){let d=r.get(a),u=zP(a);if(d.every(y=>KI(u,y)))return d;let p=[];for(let y of d){p.push(y.getObjectId());let A=Object.keys(y.attributes);Bx(u,A)}let h=a.createQuery();return h.returnGeometry=!1,h.objectIds=p,h.outFields=Lu(a.fieldsIndex,u),a.queryFeatures(h,{signal:n}).then(({features:y})=>y)}))),n)})}function wz(t,i,e,n){return f(this,null,function*(){if(t.length===0)return[];let{mapPoint:o}=e;if(o==null)return[];let r=null,a=yield e.async(()=>f(this,null,function*(){let{results:c}=yield Zs(i.hitTest(e),n);if(c.length===0)return[];let d=new Set;r=pb(c),r.forEach(({graphic:p})=>p&&d.add(p.layer));let u=t.filter(p=>d.has(p.layer)&&p.supportsUpdateWorkflow);return u.length>0&&e.stopPropagation(),u}));return Zs(Promise.allSettled(a.map(d=>f(this,[d],function*({layer:c}){let u=c.createQuery();u.returnGeometry=!0,u.outFields=zP(c);let p="renderer"in c?xE({renderer:c.renderer,pointerType:e.pointerType}):0;u.geometry=SE(o,p,i),u.outSpatialReference=i.spatialReference;let{features:h}=yield c.queryFeatures(u,{signal:n});return r?.forEach(({graphic:y})=>{y.layer!==c||h.some(A=>A.getObjectId()===y.getObjectId())||h.push(y)}),h}))),n)})}function zP(t){return Lu(t.fieldsIndex,[t.objectIdField,Qh({displayField:"displayField"in t?t.displayField:null,fields:t.fields})])}function $y(t,i,e){return f(this,null,function*(){let{sourceLayer:n}=t,o=n.createQuery();o.objectIds=[t.getAttribute(n.objectIdField)],o.outFields=["*"],o.returnM=n.capabilities.data.supportsM,o.returnZ=n.capabilities.data.supportsZ,n.type==="scene"&&n.infoFor3D!=null||(o.outSpatialReference=i);let r=yield n.queryFeatures(o,{signal:e});return Le(e),r.features[0]})}function Im(t){return f(this,null,function*(){let{graphic:i,sketchViewModel:e,sourceLayer:n,visualVariables:o}=t;yield zw(t);let r={multipleSelectionEnabled:!1};return n.geometryType==="point"&&(r.enableRotation=o.rotation!=null,r.enableScaling=o.size!=null),e.update(i,r)})}function zw(t){return f(this,null,function*(){let{graphic:i,sketchViewModel:e,sourceLayer:n,visualVariables:o,webStyleCache:r}=t,a=!1,{rotation:c,size:d}=o;if([c,d].forEach(u=>f(this,null,function*(){if(u==null)return;let p=i.getAttribute(u.field);if(p!=null)u.setInitialValue(p);else{let h=yield u.getDefault(i.symbol,e.view);u.setInitialValue(h),i.setAttribute(u.field,h),a=!0}})),a){let u=e.view?.type==="2d"?e.view.scale:null;yield nr(i,r,u)}UP(e.tooltipOptions,d,c),e.layer.elevationInfo=n.elevationInfo})}function Cz(t){return t==null||t.type!=="rotate-start"&&t.type!=="rotate"&&t.type!=="rotate-stop"?null:t}function xz(t){return t==null||t.type!=="scale-start"&&t.type!=="scale"&&t.type!=="scale-stop"?null:t}function Gw(t,i,e,n,o){return f(this,null,function*(){if(i.geometry==null||i.geometry?.type!=="point")return;let r=n.rotation,a=Cz(e.toolEventInfo);if(r!=null&&a!=null){let{field:u,getValue:p}=r;a.type==="rotate-stop"?(r.isUpdatingInteractively=!1,r.setInitialValue(i.getAttribute(u))):(r.isUpdatingInteractively=!0,i.setAttribute(u,p(a.angle,t)))}let c=n.size,d=xz(e.toolEventInfo);if(c!=null&&d!=null){let{field:u,getValue:p}=c;d.type==="scale-stop"?(c.isUpdatingInteractively=!1,c.setInitialValue(i.getAttribute(u))):(c.isUpdatingInteractively=!0,i.setAttribute(u,p(d.xScale,t)))}yield nr(i,o,t.type==="2d"?t.scale:null)})}function GP(u){return f(this,arguments,function*({feature:t,featureClone:i,visualVariableAttributes:e,sketchViewModel:n,view:o,onUpdate:r,webStyleCache:a,addUpdatingPromise:c,addHandle:d}){yield nr(i,a,o.type==="2d"?o.scale:null);let p=null;if(n?.view?.type==="2d"){let L=_i(Z=>nr(i,a,Z));p=T(()=>n?.view?.scale,Z=>L(Z))}let h=i.sourceLayer,y=Rs(o,h);yield Im({graphic:i,sketchViewModel:n,sourceLayer:h,visualVariables:e,webStyleCache:a});let A=null;y.then(L=>A=L).catch(()=>{});let C=e.size,M=e.rotation,I=T(()=>t.attributes,L=>f(this,null,function*(){let Z=!1;for(let ge in L){let Ce=L[ge];Ce!==i.getAttribute(ge)&&(i.setAttribute(ge,Ce),C==null||C.isUpdatingInteractively||C.field!==ge||C.setInitialValue(Ce),M==null||M.isUpdatingInteractively||M.field!==ge||M.setInitialValue(Ce),(A==null||A.requiredFields.includes(ge))&&(Z=!0))}Z&&(yield nr(i,a,o.type==="2d"?o.scale:null))})),G=n.on("update",L=>f(this,null,function*(){let Z=L.graphics[0],ge={graphic:Z,sketchViewModel:n,sourceLayer:h,visualVariables:e,webStyleCache:a};if(L.state==="complete"){if(o.activeTool===null)return Im(ge);let Ce=new AbortController,Me=Na(Ce);return d(Me),c(He(()=>o.activeTool===null,Ce.signal).then(()=>(Ce.abort(),Im(ge))))}yield Gw(o,Z,L,e,a),r(Jy(Z),L)})),X=n.on(["undo","redo"],L=>f(this,null,function*(){r(Jy(L.graphics[0]),L)}));return $i([X,G,ve(()=>n.cancel()),I,p])})}function WP(t,i,e){return f(this,null,function*(){let n=t.view;t.layer.add(e);let o=i.sourceLayer,r=i.layer,a=i.getAttribute(r.objectIdField),c=null;function d(u){c?.abort(),c=Ui(p=>f(this,null,function*(){let h=yield Rs(n,o);Le(p),h.setVisibility?.(a,u)}))}return yield Iz(n,e),d(!1),$i([Sz(n,e,u=>d(!u)),ve(()=>f(this,null,function*(){d(!0);try{let u=yield Rs(n,o);yield He(()=>!u.updating)}finally{t.layer.remove(e)}}))])})}function Sz(t,i,e){if(t.type==="3d"){let n=new hb({graphic:i});return $i([t.trackGraphicState(n),T(()=>n.displaying,e)])}return T(()=>i.visible,e)}function Iz(t,i){return f(this,null,function*(){if(t.type==="3d"){let e=new hb({graphic:i}),n=t.trackGraphicState(e);yield He(()=>e.displaying||e.error),n.remove()}else yield He(()=>i.visible)})}var Fs={icon:Js(24),text:Js(12),line:Js(1),viewScaleSizeFactor:100};function Xy(t,i,e){let n=!1;return t.filter(o=>!!n||(n=o===i,n)).map(o=>e[o]())}function QP(t,i){t.viewModel.syncFeatureTemplates();let e=t.creationInfo;if(i[0].id==="awaiting-feature-creation-info"&&e){let n=e.layer,o=t.viewModel.getTemplatesForLayer(n);o.length===1&&n.type!=="scene"&&(e.template=o[0],i.shift())}return i}function Mz(t){return t==="unknown"?null:t}function qP(t){t.filesEnabled=!0,t.mode="view",t.capabilities={editing:!0,operations:{add:!0,update:!0,delete:!0}}}var e_=t=>/-stop/.test(t)||/vertex-/.test(t),Rs=(t,i)=>{let e=i.type==="subtype-sublayer"?i.parent:i;return t.whenLayerView(e)};function YP(t){return"createInteractiveEditSession"in t}function Jy(t){let i=t.geometry;if(i?.type==="mesh"){let e=t.cloneShallow();return e.attributes=Qe(t.attributes),e.geometry=i.cloneShallow(),e.geometry.transform=i.transform?.clone()??null,e}return t.clone()}function t_(t){let i=t.cursor;return t.cursor="progress",ve(()=>t.cursor=i)}function ZP(t,i){return f(this,null,function*(){let{template:e}=t;if(e==null)return null;if(Zu(e))return e.load();if(Ar(e)){let n=Yy(i,{makeSharedTemplateFromJSON:Ez}),o=yield n.getTemplates({templateIds:[e.templateId],featureService:e.featureService});if(o.length===0)throw new D("editor:failed-to-load-template","Unable to load the provided template");return o[0].load()}return e})}function Ww(t){for(let i of t){let{destinationGraphic:e,destinationField:n,sourceGraphic:o,sourceField:r}=i;e.setAttribute(n,o.getAttribute(r))}}function KP(t){let i=t.templateExecutorInfo?.completionResults;return i?.length?(i.forEach(e=>Ww(e.relationships)),i.flatMap(e=>e.edits)):null}var Ez=t=>FP.fromJSON(t);function JP(r){return f(this,arguments,function*({view:t,data:i,signal:e,next:n,cancel:o}){let{creationInfo:a}=i;if(!a)return ve();if(!or(a))return ve();let{layer:c}=a,d=a.geometryToPlace!=null;if(a.geometryToPlace=null,d)return o(),ve();let{Upload:u}=yield import("./chunk-PLHOSS6D.js");Le(e);let p=new u;i.upload=p;let h=null,y=()=>h?.remove(),A=$i([T(()=>p.state,C=>{switch(C){case"default":case"error":y();break;case"pending":y(),h=t_(t);break;case"success":{a.maxFeatures=1;let{result:M}=p;M?.type==="georeferenced"||M?.type==="georeferenced-reprojected"?(a.geometryToPlace=M.mesh,a.initialFeature=new dt({attributes:jd(i.fullTemplate,a.attributeOverrides),geometry:M.mesh,sourceLayer:c}),t.goTo(a.initialFeature,{animate:!1}).catch(Hi)):a.geometryToPlace=M?.mesh,y(),n();break}}}),ve(()=>{p.cancel(),y()})]);return p.uploadTo(c),A})}function or(t){return t?.layer?.type==="scene"}var Ai=class extends zt.EventedAccessor{constructor(t){super(t),this._indexHistory=[],this._lastStepIndex=-1,this._stepIndex=-1,this._updatingHandles=new vt,this._handleKeys={afterCommit:"after-commit",beforeCommit:"before-commit"},this.data=void 0,this.started=!1,this.steps=[],this.type=null,this._pendingOperation=null}destroy(){this._updatingHandles.destroy()}get hasNextStep(){let{steps:t}=this;return!!(t&&this._stepIndex<t.filter(i=>!i.parent).length-1)}get hasPreviousStep(){return this._stepIndex>0}get reliesOnOwnerAdminPrivileges(){return!1}get hasInvalidFormTemplate(){return!1}get shouldShowAttachments(){return!1}get shouldAllowAttachmentEditing(){return!1}get stepId(){let{steps:t}=this,i=t&&t[this._stepIndex];return i&&i.id}get helpMessage(){}get hasPendingEdits(){return!1}get keyboardCancellationEnabled(){return!0}get updating(){return this._updatingHandles.updating}back(t=()=>Promise.resolve(!0)){return f(this,null,function*(){this.hasPendingEdits&&!(yield t())||(this.hasPreviousStep?yield this.previous({cancelCurrentStep:!0}):yield this.cancel({force:!0}))})}cancel(){return f(this,arguments,function*(t={force:!0}){return t.force!==!1?this._cancel(t):new Promise((i,e)=>{this.emit("cancel-request",{controller:{allow:()=>{this._cancel(O(x({},t),{force:!0})).then(i)},deny:()=>e(new D("workflow:cancel-denied","Request to cancel workflow was denied."))}})})})}commit(){return f(this,null,function*(){this.removeHandles(this._handleKeys.beforeCommit),this.onCommit&&(yield this.onCommit(this.data)),this.removeHandles(this._handleKeys.afterCommit),this.emit("commit")})}go(t){return f(this,null,function*(){let{steps:i}=this,e=i.findIndex(n=>n.id===t);this._indexHistory.push(this._stepIndex),yield this._go(e)})}next(){return f(this,null,function*(){this._indexHistory.push(this._stepIndex),yield this._go(this._stepIndex+1)})}previous(){return f(this,arguments,function*(t={cancelCurrentStep:!1}){yield this._go(this._indexHistory.pop(),t.cancelCurrentStep)})}reset(){return f(this,null,function*(){yield this._cancel({emitCancelEvent:!1}),yield this.start()})}save(){return f(this,null,function*(){yield this.commit(),yield this.reset()})}start(){return f(this,null,function*(){this._set("started",!0);let t=this._stepIndex===-1?0:this._stepIndex;yield this._go(t)})}_cancel(){return f(this,arguments,function*({emitCancelEvent:t=!0,error:i}={}){this.started&&(this._set("started",!1),yield this._transaction(()=>this.steps[this._stepIndex]?.tearDown({canceled:!0}))),this.removeHandles([this._handleKeys.afterCommit,this._handleKeys.beforeCommit]),this._resetIndexing(t),t&&this.emit("cancel",{error:i})})}_go(t=-1,i=!1){return this._transaction(()=>f(this,null,function*(){let{steps:e}=this;if(!(t<=-1||t>=e.length)){if(!this.started)return this._stepIndex=t,void this._notifyStepProps();this._lastStepIndex>-1&&(yield e[this._lastStepIndex].tearDown({canceled:i}));try{yield e[t].setUp()}catch(n){qx(n)}this._lastStepIndex=t,this._stepIndex=t,this._notifyStepProps()}}))}_transaction(t){return f(this,null,function*(){let i=this._pendingOperation,e=$t(),n=(i??Promise.resolve()).then(()=>e.promise);this._pendingOperation=n,this._updatingHandles.addPromise(n);try{i&&(yield i),yield t()}finally{e.resolve(),n===this._pendingOperation&&(this._pendingOperation=null)}})}_resetIndexing(t=!0){this._stepIndex=-1,this._lastStepIndex=-1,this._indexHistory.length=0,t&&this._notifyStepProps()}_notifyStepProps(){this.notifyChange("stepId"),this.notifyChange("hasPreviousStep"),this.notifyChange("hasNextStep")}};s([l()],Ai.prototype,"data",void 0),s([l()],Ai.prototype,"hasNextStep",null),s([l()],Ai.prototype,"hasPreviousStep",null),s([l()],Ai.prototype,"onCommit",void 0),s([l()],Ai.prototype,"reliesOnOwnerAdminPrivileges",null),s([l()],Ai.prototype,"hasInvalidFormTemplate",null),s([l()],Ai.prototype,"shouldShowAttachments",null),s([l()],Ai.prototype,"shouldAllowAttachmentEditing",null),s([l()],Ai.prototype,"started",void 0),s([l({readOnly:!0})],Ai.prototype,"stepId",null),s([l()],Ai.prototype,"steps",void 0),s([l({readOnly:!0})],Ai.prototype,"type",void 0),s([l()],Ai.prototype,"helpMessage",null),s([l()],Ai.prototype,"hasPendingEdits",null),s([l()],Ai.prototype,"keyboardCancellationEnabled",null),s([l()],Ai.prototype,"updating",null),Ai=s([b("esri.widgets.Editor.Workflow")],Ai);var Ps=Ai;var n_,kz=Symbol(),Em=Symbol(),i_=Symbol(),$P=Symbol(),Tz={point:["point"],multipoint:["multipoint"],polygon:["polygon","freehandPolygon","rectangle","circle"],polyline:["polyline","freehandPolyline"],mesh:[],multipatch:[]},oi=n_=class t extends Ps{constructor(i){super(i),this.type="create-features",this.createFeatureState="create-new",this.data=void 0,this.isNested=!1,this._getDrawMeshHelpMessage=void 0,this._webStyleCache=new Map,this._featureFormHandle=null,this._visualVariableAttributes={rotation:null,size:null},this._featureFormViewModel=new Ld,this._sketchViewModel=null,this._attachmentFileInfos=new Map,this._isActive=!0}initialize(){this.isNested&&(this._isActive=!1),this._initializeSketchViewModel()}destroy(){this._sketchViewModel.destroy()}get featureFormViewModel(){return this._featureFormViewModel}get hasPendingEdits(){if(this.pendingFeatures.some(a=>!!this.data.getEditsForPendingFeature(a)?.modified))return!0;let{creationInfo:i,upload:e}=this.data,n=this._sketchViewModel,{activeComponent:o}=n,r=n.createGraphic?.geometry?.type;return!(r!=="polyline"&&r!=="polygon"&&r!=="multipoint"||o?.type!=="draw-2d"&&o?.type!=="draw-3d")&&o.drawOperation.committedVertices.length>0||!(!e||e.state!=="pending"&&e.state!=="success")||!!i?.geometryToPlace}get hasPreviousStep(){return this._stepIndex>0||this.createFeatureState==="update-pending"&&!!this.data.selectedPendingFeature&&!this.parent&&!or(this.data.creationInfo)}get helpMessage(){let{creationInfo:i,viewModel:e}=this.data;if(this.stepId!=="creating-features"||!i)return;let n=i.layer.geometryType,o=this._sketchViewModel.createGraphic;if(n==="mesh"){this._getDrawMeshHelpMessage||import("./chunk-JWVBUPDT.js").then(d=>{this._getDrawMeshHelpMessage=d.getDrawMeshHelpMessage});let{view:c}=e;return c?.type==="3d"?this._getDrawMeshHelpMessage?.(o,c):void 0}let r=this._sketchViewModel.activeCreateToolDrawMode,a=this._sketchViewModel.activeTool;return ME(a==="rectangle"?"rectangle":a==="circle"?"circle":n,o?.geometry,r)}get layer(){return this.data.creationInfo?.layer}get numPendingFeatures(){return this.pendingFeatures.length}get numPendingFeaturesExcludingHidden(){return this.pendingFeatures.filter(i=>this.data.isDisplayable(i)).length}get parent(){return this.data.parent}get parentLayer(){return this.parent?.data.editorItem.layer}get pendingFeatures(){return this.data.pendingFeatures}get keyboardCancellationEnabled(){return this.numPendingFeatures===0}get reliesOnOwnerAdminPrivileges(){return this.data.editorItem?.capabilities.create.reliesOnOwnerAdminPrivileges??!1}get shouldShowAttachments(){return(this.data.selectedPendingFeature&&this.data.editorItem?.capabilities.create.attachments.enabled)??!1}get shouldAllowAttachmentEditing(){return this.shouldShowAttachments}get sketchViewModel(){return this._sketchViewModel}get test(){}get availableCreateTools(){let i=this.data.creationInfo?.layer.geometryType,e=this.data.viewModel.view;if(!i)return[];if(this.data.creationInfo?.maxFeatures&&this.data.creationInfo.maxFeatures<=this.numPendingFeatures)return[];if(Ar(this.data.fullTemplate)){let{tool:n}=Hw(i,this.data.fullTemplate);return[n]}return e?.type!=="2d"&&i==="multipoint"?[]:[...Tz[i]]}get _attachmentsActive(){let i=this.data.viewModel.attachmentsViewModel.mode,e=this.stepId;return this.shouldShowAttachments&&(i==="add"||i==="edit"||e==="adding-attachment"||e==="editing-attachment")}enter(){return f(this,null,function*(){this._isActive=!0,this.stepId!=="awaiting-feature-creation-info"&&(yield this._updatingHandles.addPromise(this._setUpCreatingFeaturesStep()))})}exit(){this._isActive=!1,this.removeHandles([i_])}updatePendingFeature(i){return f(this,null,function*(){if(i!==this.data.selectedPendingFeature)return this._sketchViewModel.cancel(),this._startUpdating({feature:i})})}start(){return f(this,null,function*(){return yield Kn(t.prototype,this,"start").call(this),Ho(this.data.creationInfo?.layer)?null:{enter:()=>f(this,null,function*(){}),exit:()=>f(this,null,function*(){}),viewModel:this._sketchViewModel}})}save(){return f(this,null,function*(){let{featureFormViewModel:i}=this;if(i.pendingSubtypeChoice)return;i.submit(),this._stashValidationState();let e=this.data.selectedPendingFeature,n=this._hasValidationErrors(e)?e:this.data.pendingFeatures.find(o=>this._hasValidationErrors(o));return n?(yield this._startUpdating({feature:n}),void i?.submit()):Kn(t.prototype,this,"save").call(this)})}back(i){return this.createFeatureState!=="update-pending"||!this.data.selectedPendingFeature||or(this.data.creationInfo)||this._attachmentsActive||this.parent?super.back(i):this._clearSelectedFeature()}previous(i){return this.createFeatureState!=="update-pending"||!this.data.selectedPendingFeature||or(this.data.creationInfo)||this._attachmentsActive?super.previous(i):this._clearSelectedFeature()}cancelFeature(i){this.data.isSharedTemplateWorkflow?z.getLogger(this).warn("Cannot cancel individual features created by shared templates."):(this.data.removePendingFeature(i),this.sketchViewModel.layer.graphics.remove(i))}static create(i){let{addAttachmentsCallback:e,applyEditsCallback:n,applyEditsFeatureServiceCallback:o,isNested:r,creationInfo:a,parent:c,snappingManager:d,startAt:u,viewModel:p}=i,h=i.sketchOptions??new Ka,y=a?.layer,A=y?p.findEditorItemForLayer(y):void 0,C=new n_({data:new EP({creationInfo:a,editorItem:A,parent:c,sketchOptions:h,snappingManager:d,viewModel:p}),isNested:r,onCommit:M=>f(this,null,function*(){let{creationInfo:I}=M;if(!I)return;C._sketchViewModel.cancel();let G=M.pendingFeatures.toArray(),{layer:X}=I,L=X.capabilities?.editing.supportsGlobalId&&"globalIdField"in X,Z=C._attachmentFileInfos,{fullTemplate:ge}=M,Ce=KP(C.data),Me=Zu(ge)&&Ce;if(L){if(Pz(G),Me){let Ve=Vz(Ce,Z),cr=yield Uw(X,p.view);cr&&(Ve=NP({edits:Ve,serviceInfo:cr,view:p.view,findOriginalFeature:Ji=>M.getEditsForPendingFeature(Ji)?.initialFeature??Ji})),yield o(ge.featureService,Ve,{globalIdUsed:!0,gdbVersion:ge.layer.gdbVersion??void 0})}else{let Ve=Oz(G,Z);yield n(X,Ve,{globalIdUsed:!0})}return}let Yt=Me?yield o(ge.featureService,Ce,{gdbVersion:ge.layer.gdbVersion??void 0}):[yield n(X,{addFeatures:G})];Yt&&Z.size>0&&(yield Promise.all(Yt.map(Ve=>{if(Ve?.addFeatureResults)return e(X,Rz(G,Ve.addFeatureResults,X,Z))})))})});return C._set("steps",this._createWorkflowSteps(C,u)),C}_fadeExistingFeatures(i){if("effect"in i){let n=i.effect;return i.effect="saturate(0.6) opacity(0.8)",ve(()=>i.effect=n)}let e=i.opacity;return i.opacity=.7,ve(()=>i.opacity=e)}_initializeFullTemplateAndExecutorInfo(i){return f(this,null,function*(){let{creationInfo:e}=i,{view:n}=i.viewModel;if(!e||!n)return null;let o=yield ZP(e,n);if(i.fullTemplate=o,o&&Zu(o)){let r={completionResults:[],executor:yield IP(o),serviceLayersById:yield BP(e.layer,n)};i.templateExecutorInfo=r}return o})}_startCreating(){return f(this,null,function*(){this.removeHandles(Em);let{data:i}=this;if(!i.creationInfo)return;let e=this.data.creationInfo?.maxFeatures;if(e&&this.numPendingFeatures>=e)return this.sketchViewModel.cancel(),void(this.numPendingFeatures&&(yield this._startUpdating({feature:this.pendingFeatures.at(-1)})));this.createFeatureState="create-new",yield VP(this._sketchViewModel,i,this._webStyleCache)})}_clearSelectedFeature(){return f(this,null,function*(){let i=this._featureFormViewModel.pendingSubtypeChoice;i&&(i.resolve("undo"),yield i.promise),this._stashValidationState(),this.sketchViewModel.cancel(),this.data.selectedPendingFeature=null,this._featureFormHandle=Ct(this._featureFormHandle),this._featureFormViewModel.feature=null;let e=this.data.viewModel.attachmentsViewModel;e.mode!=="add"&&e.mode!=="edit"||this.data.viewModel.activeWorkflow?.previous()})}_stashValidationState(){let i=this._featureFormViewModel.feature,e=i&&this.data.getEditsForPendingFeature(i);e&&(e.submittable=this._featureFormViewModel.submittable)}_selectFeatureForUpdate(n){return f(this,arguments,function*({feature:i,initialFeature:e=i}){this._stashValidationState();let{data:o,pendingFeatures:r,_webStyleCache:a}=this;r.includes(i)||o.addPendingFeature(i,e),o.selectedPendingFeature=i;let{_featureFormViewModel:c,_sketchViewModel:d}=this,{creationInfo:u,viewModel:p}=o,{attachmentsViewModel:h,layerInfos:y,view:A}=p;if(!A||!u)return;Ct(this._featureFormHandle);let C=i.sourceLayer,M=jw(y,C),I=M?.formTemplate,G=A.spatialReference;c.set({arcadeEditType:"INSERT",feature:i,formTemplate:I,spatialReference:G,map:A.map}),h.mode!=="add"&&h.mode!=="edit"||p.activeWorkflow?.previous(),h.graphic=i,h.fileInfos.removeAll(),h.mode="view",(this._attachmentFileInfos.get(i)||[]).forEach(({file:L,form:Z})=>h.addFile(L,Z)),yield nr(i,a,A.type==="2d"?A.scale:null);let X=o.getEditsForPendingFeature(i);this._featureFormHandle=$i([c.on("value-change",()=>f(this,null,function*(){X?.updateAttributes(c.getValues()),yield nr(i,a,A.type==="2d"?A.scale:null)})),d.on(["update","undo","redo"],L=>{(L.type==="undo"||L.type==="redo"||L.type==="update"&&L.toolEventInfo!=null&&e_(L.toolEventInfo.type))&&c.notifyFeatureGeometryChanged()}),T(()=>c.feature?.sourceLayer,L=>i.sourceLayer=L),T(()=>[c.feature,c.submittable],()=>this._stashValidationState())]),this.createFeatureState="update-pending"})}_startUpdating(n){return f(this,arguments,function*({feature:i,initialFeature:e=i}){yield this._selectFeatureForUpdate({feature:i,initialFeature:e});let{_sketchViewModel:o,data:r}=this,{creationInfo:a,viewModel:c}=r,{view:d}=c;if(!d||!a)return;let u=i.sourceLayer??a.layer;return Ho(u)?void 0:(this._visualVariableAttributes=Mm(i),Im({graphic:i,sketchViewModel:o,sourceLayer:u,visualVariables:this._visualVariableAttributes,webStyleCache:this._webStyleCache}))})}static _createWorkflowSteps(i,e="awaiting-feature-creation-info"){let{data:n}=i,o=Xy(["awaiting-feature-creation-info","creating-features","adding-attachment","editing-attachment"],e,{"awaiting-feature-creation-info":()=>({id:"awaiting-feature-creation-info",setUp(){return f(this,null,function*(){let{creationInfo:a,viewModel:c}=n,{view:d}=c;d&&(or(a)?i.addHandles(yield JP({view:d,data:n,next:()=>i.next(),cancel:()=>c.cancelWorkflow({warnIfNoWorkflow:!1})}),this.id):(n.parent&&a&&i.addHandles(c.restrictFeatureTemplatesViewModelToLayer(a.layer),this.id),i.addHandles(c.featureTemplatesViewModel.on("select",({item:u})=>{u&&(n.creationInfo=O(x({},n.creationInfo),{layer:u.layer,template:u.template}),i.next())}),this.id)))})},tearDown(){return f(this,null,function*(){i.removeHandles(this.id)})}}),"creating-features":()=>({id:"creating-features",setUp(){return f(this,null,function*(){i._isActive&&(yield i._setUpCreatingFeaturesStep())})},tearDown(a){return f(this,null,function*(){let{viewModel:c}=n;a.canceled&&(i.removeHandles([i_,kz,Em,$P]),c.attachmentsViewModel.fileInfos.removeAll(),i._attachmentFileInfos.clear())})}}),"adding-attachment":()=>({id:"adding-attachment",parent:"creating-features",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){let{attachmentsViewModel:a}=n.viewModel,{graphic:c,fileInfos:d}=a;i._attachmentFileInfos.set(c,d.toArray()),a.mode="view"})}}),"editing-attachment":()=>({id:"editing-attachment",parent:"creating-features",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){let{attachmentsViewModel:a}=n.viewModel,{graphic:c,fileInfos:d}=a;i._attachmentFileInfos.set(c,d.toArray()),a.mode="view"})}})});return QP(n,o)}static _configureSketchViewModel(i){let{data:e}=i,n=i._webStyleCache,{creationInfo:o,viewModel:r}=e,{view:a}=r,c=i._sketchViewModel,d=[];if(!a)return ve();if(a.type==="2d"){o&&d.push(i._fadeExistingFeatures(o.layer));let I=_i((G,X)=>Promise.all(G.map(L=>nr(L,n,X))));d.push(T(()=>a.scale,G=>I(c.layer.graphics,G)))}let u=jd(e.fullTemplate,o?.attributeOverrides),p=T(()=>c.createGraphic,I=>{I&&!i.hasHandles(Em)&&i._updatingHandles.addPromise(LP({creationAttributes:u,data:e,sketchViewModel:c,view:a,webStyleCache:n}).then(G=>i.addHandles(G,Em)))}),h=I=>f(this,null,function*(){if(I.state!=="cancel"&&I.state!=="complete"||i.removeHandles(Em),I.state==="cancel"&&a.activeTool!==null&&a.activeTool!==i.sketchViewModel.activeComponent&&(yield i._waitForActiveToolCleared(),yield i._startCreating()),I.state==="complete"&&I.graphic){let G=yield i._processEdits(I.graphic,{scale:a.type==="2d"?a.scale:null,useSourceLayer:!0,webStyleCache:i._webStyleCache});G&&(yield i._waitForActiveToolCleared(),yield i._startUpdating({feature:G}))}}),y=I=>f(this,null,function*(){let{attachmentsViewModel:G}=r,{_featureFormViewModel:X}=i;if(I.graphics.length>1)return void(yield i._clearSelectedFeature());let L=I.graphics[0];if(I.state==="complete"){let{submittable:Z}=X;if(i.numPendingFeatures!==o?.maxFeatures&&Z||X.submit(),yield i._clearSelectedFeature(),G.mode!=="add"&&G.mode!=="edit"||r.activeWorkflow?.previous(),!I.aborted&&a.activeTool===i.sketchViewModel.activeComponent&&(yield i.sketchViewModel.wait(),i.sketchViewModel.state==="ready"&&i.data.creationInfo?.layer.geometryType!=="mesh"))return i._startCreating()}else{if(I.state==="start")return L.sourceLayer??=e.creationInfo?.layer,yield zw({sketchViewModel:c,graphic:L,visualVariables:i._visualVariableAttributes,webStyleCache:i._webStyleCache,sourceLayer:L.sourceLayer}),i._selectFeatureForUpdate({feature:L});if(I.state==="active"){yield i.updatePendingFeature(L);let Z=i._visualVariableAttributes;yield Gw(a,L,I,Z,i._webStyleCache);let ge=L.attributes,{rotation:Ce,size:Me}=Z;if(Ce!=null){let{field:Yt}=Ce;X.setValue(Yt,ge[Yt])}if(Me!=null){let{field:Yt}=Me;X.setValue(Yt,ge[Yt])}}}}),A=I=>f(this,null,function*(){if(I.graphics.forEach(G=>{e.removePendingFeature(G)}),!or(e.creationInfo))return i._startCreating()}),C=()=>f(this,null,function*(){if(or(e.creationInfo))try{yield i.data.viewModel.back()}catch{}return i._startCreating()});d.push(p,c.on("create",I=>i._updatingHandles.addPromise(h(I))),c.on("update",I=>i._updatingHandles.addPromise(y(I))),c.on("delete",I=>i._updatingHandles.addPromise(A(I))),qe(()=>!i.numPendingFeatures,()=>i._updatingHandles.addPromise(C())),ve(()=>{c.cancel()}),Dz(c,e),...Fz(e));let M=$i(d);return c.addHandles(M),M}_initializeSketchViewModel(){let{data:i}=this,{view:e}=i.viewModel,n=new Wa({elevationInfo:i.creationInfo?.layer.elevationInfo,internal:!0,listMode:"hide",title:"createFeaturesWorkflow-internal"}),o=new xc({layer:n,creationMode:"single",sketchOptions:i.sketchOptions,snappingManager:i.snappingManager,updateOnGraphicClick:!1,defaultUpdateOptions:{multipleSelectionEnabled:!1},view:e});this._sketchViewModel=o,e?.map.add(n),this.addHandles([ve(()=>{e?.destroyed||e?.map.remove(n),n.destroy()}),T(()=>this.numPendingFeatures>0,r=>this._sketchViewModel.updateOnGraphicClick=r,re)])}_hasValidationErrors(i){return!!i&&(!this.data.isSubmittable(i)||!!this._featureFormViewModel.validateContingencyConstraints(i.attributes,{includeIncompleteViolations:!0})?.length)}_processEdits(i,e){return f(this,null,function*(){let{data:n}=this,{layerInfos:o,view:r}=n.viewModel,a=this._featureFormViewModel,{templateExecutorInfo:c}=n;if(!c){let y=i.clone();return y.geometry=null,n.addPendingFeature(i,y),i}let d=this.sketchViewModel.layer;d.remove(i);let{executor:u}=c,p=u(i.geometry,"completion"),h=hr(p)?yield p:p;c.completionResults.push(h),Ww(h.relationships),a.arcadeEditType="INSERT",a.map=r?.map,a.spatialReference=r?.spatialReference,h.primary&&n.creationInfo?.attributeOverrides&&(h.primary.graphic.attributes=x(x({},h.primary.graphic.attributes),n.creationInfo.attributeOverrides));for(let y of h.edits){let A=null;if(y.addFeatures)for(let C of y.addFeatures){let M=C.clone();M.geometry=null,C.geometry!=null&&(C.symbol=yield Ac(C,e),d.add(C));let I=n.addPendingFeature(C,M,{isAssociation:!!h.associationGraphics?.has(C)});C.sourceLayer!==A?.layer&&(A=jw(o,C.sourceLayer)),a.feature=C,a.formTemplate=A?.formTemplate,yield He(()=>!a.updating),I.submittable=a.submittable}}return a.feature=null,yield He(()=>!a.updating),h.edits.reduce((y,A)=>y+(A.addFeatures?.length??0),0)>1?null:h.primary?.graphic})}_setUpCreatingFeaturesStep(){return f(this,null,function*(){if(this.hasHandles(i_))return;let{data:i,sketchViewModel:e}=this,{creationInfo:n,viewModel:o}=i,{attachmentsViewModel:r,view:a}=o;if(!a||!n?.layer)throw new D("missing-parameters","CreateFeaturesWorkflow requires a view and creationInfo.");let{initialFeature:c,layer:d}=n,u=[],p=[];this._featureFormHandle=Ct(this._featureFormHandle),this._visualVariableAttributes={rotation:null,size:null},i.editorItem=o.findEditorItemForLayer(n.layer),n.template&&(i.fullTemplate==null&&(yield this._initializeFullTemplateAndExecutorInfo(i)),p.push(ve(()=>{i.templateExecutorInfo&&(i.templateExecutorInfo.completionResults=[])}))),e.allowDeleteKey=!i.isSharedTemplateWorkflow,qP(r),u.push(T(()=>r.mode,L=>{switch(L){case"add":this.go("adding-attachment");break;case"edit":this.go("editing-attachment")}}));let h=t_(a);u.push(h);let y=Ho(n.layer),{template:A}=n,C=!A||Sc(A)||Ar(A)&&A.type==="feature",M=y&&C;try{if(M){let L=c??new dt({attributes:jd(i.fullTemplate,n.attributeOverrides),sourceLayer:d}),Z=yield this._processEdits(L);Z&&(yield this._startUpdating({feature:Z}))}else u.push(n_._configureSketchViewModel(this)),c?(e.layer.add(c),yield this._startUpdating({feature:c})):yield this._startCreating()}finally{h.remove()}let I=ve(()=>{for(let L of i.pendingFeatures)e.layer.remove(L),i.removePendingFeature(L)}),G=T(()=>a?.timeZone,L=>{this._featureFormViewModel.timeZone=L,this.data.timeZone=L},re),X=ve(()=>{or(n)&&o.cancelWorkflow({warnIfNoWorkflow:!1})});this._featureFormHandle&&u.push(this._featureFormHandle),this.addHandles(u,this._handleKeys.beforeCommit),this.addHandles(p,this._handleKeys.afterCommit),this.addHandles([ve(()=>r.fileInfos.removeAll()),$i(u),$i(p),X,I,G],i_)})}_waitForActiveToolCleared(){return f(this,null,function*(){let i=this.data.viewModel.view;if(i?.activeTool==null)return;let e=new AbortController;this.addHandles(Na(e),$P),yield He(()=>i?.activeTool==null,e.signal),e.abort()})}};function Dz(t,i){let e=null,n=()=>t.snappingOptions.featureSources,o=()=>(e=new DE({layer:t.layer}),n().add(e),e),r=()=>{e!=null&&(n().remove(e),e=Ne(e))};return $i([T(()=>{let a=i.creationInfo?.layer,c=n().find(d=>d.layer===a);return{hasFeatureLayerSource:!!c,enabled:c?.enabled??!1}},({hasFeatureLayerSource:a,enabled:c})=>{if(!a)return r();e??=o(),e.enabled=c},gt),ve(r)])}function Fz(t){let i=t.viewModel.view;if(!i)return[];let e=[];if(i.type==="3d"){let o=new ea({view:i});e.push(T(()=>t.selectedPendingFeature,(r,a)=>{o.remove(r),o.add(a)}),ve(()=>o.destroy()))}let n=new ea({view:i,highlightName:yr});return e.push(T(()=>t.temporaryHighlightFeature,o=>{n.removeAll(),n.add(o)}),ve(()=>n.destroy())),e}function Rz(t,i,e,n){let o=[];return i.forEach((r,a)=>{if(!r.error){let c=t[a],d=n.get(c)||[];c.attributes[e.objectIdField]=r.objectId,d.forEach(({form:u})=>o.push({feature:c,attachment:u}))}}),o}function Pz(t){for(let i of t){let{sourceLayer:e}=i;e&&"globalIdField"in e&&e.globalIdField!=null&&(i.attributes[e.globalIdField]??=Ha())}}function Oz(t,i){let e=[];if(!i||i.size===0)return{addFeatures:t};for(let[n,o]of i)for(let{file:r}of o)e.push({feature:n,attachment:{globalId:Ha(),data:r}});return e.length?{addFeatures:t,addAttachments:e}:{addFeatures:t}}function Vz(t,i){return t.map(e=>{let{addFeatures:n}=e;if(!n||n.length===0)return e;let o=[];for(let r of n){let a=i.get(r);if(a)for(let{file:c}of a)o.push({feature:r,attachment:{globalId:Ha(),data:c}})}return o.length?O(x({},e),{addAttachments:o}):e})}s([l()],oi.prototype,"createFeatureState",void 0),s([l()],oi.prototype,"data",void 0),s([l({constructOnly:!0})],oi.prototype,"isNested",void 0),s([l()],oi.prototype,"featureFormViewModel",null),s([l()],oi.prototype,"hasPendingEdits",null),s([l()],oi.prototype,"hasPreviousStep",null),s([l()],oi.prototype,"_getDrawMeshHelpMessage",void 0),s([l()],oi.prototype,"helpMessage",null),s([l()],oi.prototype,"layer",null),s([l()],oi.prototype,"parent",null),s([l()],oi.prototype,"parentLayer",null),s([l()],oi.prototype,"keyboardCancellationEnabled",null),s([l()],oi.prototype,"reliesOnOwnerAdminPrivileges",null),s([l()],oi.prototype,"shouldShowAttachments",null),s([l()],oi.prototype,"shouldAllowAttachmentEditing",null),s([l()],oi.prototype,"sketchViewModel",null),s([l()],oi.prototype,"availableCreateTools",null),s([l()],oi.prototype,"_attachmentsActive",null),oi=n_=s([b("esri.widgets.Editor.CreateFeaturesWorkflow")],oi);var o_=oi;var XP=(t,i)=>{for(let e of t)if(e.type==="feature"||e.type==="subtype-group"){if(!e.url)continue;let n=oc(e.url).url.path,o=i.get(n);if(o)o.layers.push(e);else{let r=new BE({url:n}),a=[e];i.set(n,{featureService:r,layers:a})}}else e.type==="group"&&XP(e.layers.filter(n=>n.type==="feature"||n.type==="subtype-group"||n.type==="group"),i)};function r_(t){let i=new Map;return XP(t,i),i}var Qw,jr=Qw=class extends R{constructor(t){super(t),this.editorItem=null,this.feature=null,this.utilityNetwork=null,this.associationType=null,this.parent=null,this.associationInput=null,this.viewModel=null}static create(t){return f(this,null,function*(){let{feature:i,parent:e,viewModel:n,utilityNetwork:o,associationType:r,associationInput:a}=t,c=n.editorItems.find(d=>d.layer===i.layer);if(!c)throw new D("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return new Qw({editorItem:c,feature:i,parent:e,viewModel:n,utilityNetwork:o,associationType:r,associationInput:a})})}};s([l({constructOnly:!0})],jr.prototype,"editorItem",void 0),s([l()],jr.prototype,"feature",void 0),s([l({constructOnly:!0})],jr.prototype,"utilityNetwork",void 0),s([l({constructOnly:!0})],jr.prototype,"associationType",void 0),s([l()],jr.prototype,"parent",void 0),s([l()],jr.prototype,"associationInput",void 0),s([l()],jr.prototype,"viewModel",void 0),jr=Qw=s([b("esri.widgets.Editor.AddAssociationWorkflowData")],jr);var eO=jr;function tO(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function qw(t){return new GI({fromNetworkElement:iO(t.fromFeature,t.utilityNetwork),toNetworkElement:iO(t.toFeature,t.utilityNetwork),associationType:t.associationType,globalId:Ha()})}function iO(t,i){let e=Lt(t.sourceLayer)?t.sourceLayer.parent:t.sourceLayer;if(e&&"globalIdField"in e&&"layerId"in e&&e.globalIdField){let n=i.getSourceIdByLayerId(e.layerId),o=i.getSourceTypeById(n)==="junction"?i.getTerminalConfiguration(t):void 0,r=o?.terminals.at(0)?.id,a=e.fieldsIndex.get("assetGroup").name,c=e.fieldsIndex.get("assetType").name,d=t.attributes[a],u=t.attributes[c],p=t.attributes[e.globalIdField];if(p&&n!=null)return new zI({globalId:p,networkSourceId:n,assetGroupCode:d,assetTypeCode:u,terminalId:r})}}var Yw=100,nO="association-key",tt=class extends R{constructor(t){super(t),this.graphic=null,this.layer=null,this.map=null,this.utilityNetwork=null,this.associationType=null,this.featureCount=0,this._queryAbortController=null,this._queryPageAbortController=null,this._queryFeatureCountAbortController=null,this.featuresPerPage=30,this.selectedFeature=null,this.association=null,this.filterOptionsVisible=!1,this.filterWhereClause=null,this._rulesTable=null,this._canAssociate=!1,this._whereClause=null,this._setUpItemsTask=null,this._updatingHandlesSetUp=new vt,this._queryFeaturesTask=null,this._updatingHandlesQueryFeatures=new vt,this._validateAssociationTask=null,this._updatingHandlesAssociation=new vt,this._cancelQuery=()=>{let{_queryAbortController:i}=this;i&&i.abort(),this._queryAbortController=null},this._cancelQueryFeatureCount=()=>{let{_queryFeatureCountAbortController:i}=this;i&&i.abort(),this._queryFeatureCountAbortController=null},this._cancelQueryPage=()=>{let{_queryPageAbortController:i}=this;i&&i.abort(),this._queryPageAbortController=null},this._queryController=()=>f(this,null,function*(){this._cancelQuery();let i=new AbortController;this._queryAbortController=i,yield Hi(this._query()).catch(()=>this._cancelQuery()),this._queryAbortController===i&&(this._queryAbortController=null)}),this._queryFeatureCountController=i=>f(this,null,function*(){this._cancelQueryFeatureCount();let e=new AbortController;this._queryFeatureCountAbortController=e,yield Hi(this._queryFeatureCount(i)).catch(()=>this._cancelQueryFeatureCount()),this._queryFeatureCountAbortController===e&&(this._queryFeatureCountAbortController=null)}),this._queryPageController=()=>f(this,null,function*(){let i=new AbortController;this._queryPageAbortController=i,yield Hi(this._queryPage()).catch(()=>this._cancelQueryPage()),this._queryPageAbortController===i&&(this._queryPageAbortController=null)}),this._queryDebounced=_i(this._queryController,Yw),this._queryFeatureCountDebounced=_i(this._queryFeatureCountController,Yw),this._queryPageDebounced=_i(this._queryPageController,Yw)}initialize(){this.addHandles([T(()=>[this.graphic,this.layer,this.map,this.utilityNetwork,this.globalId,this.associationType],()=>this._syncLayerItems(),re),T(()=>[this.selectedLayer,this.filterWhereClause,this.featuresPerPage],()=>{this.selectedLayer&&this._setUpFeatures()}),T(()=>this.selectedFeature,()=>{this._setUpAssociation()}),T(()=>this.featurePage,()=>this._queryPageDebounced())])}destroy(){this._setUpItemsTask=ft(this._setUpItemsTask),this._updatingHandlesSetUp.destroy(),this._queryFeaturesTask=ft(this._queryFeaturesTask),this._updatingHandlesQueryFeatures.destroy(),this._validateAssociationTask=ft(this._validateAssociationTask),this._updatingHandlesAssociation.destroy(),this._cancelQuery(),this._cancelQueryFeatureCount(),this._cancelQueryPage()}get mapLayers(){let{map:t}=this;if(!t)return null;let i=new Set,e=o=>{!Pu(o)||Ri(o)||i.has(o)||i.add(o)},n=o=>{ef(o)||o.type==="catalog-footprint"||(NS(o)?(o.layers?.forEach(e),o.tables?.forEach(e)):tO(o)?(o.sublayers?.forEach(e),o.subtables?.forEach(e)):Ri(o)?o.sublayers?.forEach(e):e(o))};return t.allLayers.forEach(n),t.allTables.forEach(n),new ee([...i])}get state(){let{_queryAbortController:t,_queryPageAbortController:i,canQuery:e}=this;return t||i||this._updatingHandlesQueryFeatures.updating?"querying":this.canLoad&&this._updatingHandlesSetUp.updating?"loading":this._updatingHandlesAssociation.updating?"validating":e?"ready":"disabled"}get canAddAssociation(){return!(this.updating||!this.association)&&this._canAssociate}get globalId(){return(this.globalIdField&&this.graphic?.attributes?.[this.globalIdField])??null}get globalIdField(){let{layer:t}=this;return t?.globalIdField??null}get layerItems(){return this._get("layerItems")||new ee}get featureItems(){return this._get("featureItems")||new ee}set featurePage(t){let{featuresPerPage:i,featureCount:e}=this,n=1,o=Math.ceil(e/i)||1;this._set("featurePage",Math.min(Math.max(t,n),o))}get featurePage(){return this._get("featurePage")}get canLoad(){let{map:t,utilityNetwork:i,graphic:e,associationType:n}=this;return!!(t&&i&&e&&n)}get canQuery(){let{utilityNetwork:t,graphic:i,associationType:e,selectedLayer:n}=this;return!!(t&&i&&e&&n)}get updating(){return this._updatingHandlesSetUp.updating||this._updatingHandlesAssociation.updating}get selectedLayer(){return this._get("selectedLayer")}set selectedLayer(t){t!==this.selectedLayer&&(this.filterWhereClause=null),this._set("selectedLayer",t)}get queryWhereClause(){let{_whereClause:t,filterWhereClause:i}=this;return Dh(t,i)}_queryFeatureCount(t){return f(this,null,function*(){let{selectedLayer:i,_queryFeatureCountAbortController:e}=this;if(this._set("featureCount",0),!i)return;yield i.load();let n=i.createQuery();n.returnGeometry=!1,n.where=Dh(n.where,t);let o=yield i.queryFeatureCount(n,{signal:e?.signal});o>0&&this._set("featureCount",o)})}_query(){return f(this,null,function*(){let{canQuery:t,queryWhereClause:i,_queryAbortController:e,featureItems:n}=this;t&&(this.featurePage=1,n.destroyAll(),this.featureCount&&!this.destroyed&&n.addMany(yield this._queryAssociatedFeatures(i,{signal:e?.signal})))})}_queryPage(){return f(this,null,function*(){let{canQuery:t,queryWhereClause:i,featurePage:e,_queryPageAbortController:n,featureCount:o,featureItems:r}=this;t&&(e<2||!o||r.addMany(yield this._queryAssociatedFeatures(i,{signal:n?.signal})))})}_convertTypeToDirection(t){switch(t){case"attachment":return[{type:"attachment",direction:"from"}];case"connectivity":return[{type:"junction-junction-connectivity"},{type:"junction-edge-from-connectivity"},{type:"junction-edge-midspan-connectivity"},{type:"junction-edge-to-connectivity"}];case"container":return[{type:"containment",direction:"to"}];case"content":return[{type:"containment",direction:"from"}];case"structure":return[{type:"attachment",direction:"to"}]}}getRulesTable(){return f(this,null,function*(){let{utilityNetwork:t}=this;if(!t)return null;if(this._rulesTable)return this._rulesTable;let i=yield t.getRulesTable();return yield i?.load(),this._rulesTable=i,i})}_syncLayerItems(){return f(this,null,function*(){ft(this._setUpItemsTask);let{graphic:t,associationType:i,layerItems:e,canLoad:n}=this,o=Ui(r=>f(this,null,function*(){if(this.selectedLayer=null,e.destroyAll(),!n)return;let a=this.mapLayers?.toArray();if(!a||r.aborted)return;let c=yield this.getRulesTable(),d=this._convertTypeToDirection(i.type),u=c?.getLayersCanAssociateWith(t,a,d);r.aborted||e.addMany(u||[])}));this._updatingHandlesSetUp.addPromise(o.promise),this._setUpItemsTask=o})}_setUpFeatures(){return f(this,null,function*(){ft(this._queryFeaturesTask);let{graphic:t,associationType:i,selectedLayer:e,canQuery:n}=this;if(!n)return;let o=Ui(r=>f(this,null,function*(){let a=yield this.getRulesTable(),c=this._convertTypeToDirection(i.type),d=a?.getFeaturesCanAssociateWithClause(t,e,c);this._whereClause=d,r.aborted||(yield this._queryFeatureCountDebounced(this.queryWhereClause),yield this._queryDebounced())}));this._updatingHandlesQueryFeatures.addPromise(o.promise),this._queryFeaturesTask=o})}_determineFromAndTo(t,i,e){return e==="from"?{fromFeature:t,toFeature:i}:{fromFeature:i,toFeature:t}}_determineJunctionEdgeConnectivity(t,i){let{utilityNetwork:e}=this,n=Lt(t.sourceLayer)?t.sourceLayer.parent:t.sourceLayer,o=Lt(i.sourceLayer)?i.sourceLayer.parent:i.sourceLayer;if(!(e&&n&&"layerId"in n&&o&&"layerId"in o))return{fromFeature:t,toFeature:i,type:"junction-junction-connectivity"};let r=e.getSourceIdByLayerId(n.layerId),a=e.getSourceIdByLayerId(o.layerId);if(!r||!a)return{fromFeature:t,toFeature:i,type:"junction-junction-connectivity"};let c=e.getSourceTypeById(r)==="junction",d=e.getSourceTypeById(a)==="junction";return c&&d?{fromFeature:t,toFeature:i,type:"junction-junction-connectivity"}:d?{fromFeature:i,toFeature:t,type:"junction-edge-midspan-connectivity"}:{fromFeature:t,toFeature:i,type:"junction-edge-midspan-connectivity"}}_setUpAssociationHandles(){this.removeHandles(nO),this.association&&this.addHandles(T(()=>[this.association?.associationType,this.association?.fromNetworkElement,this.association?.fromNetworkElement?.terminalId,this.association?.toNetworkElement,this.association?.toNetworkElement?.terminalId],()=>this.validateAssociation(),re),nO)}_setUpAssociation(){let{utilityNetwork:t,graphic:i,selectedFeature:e,associationType:n}=this;if(!(t&&i&&e&&n))return void(this.association=null);let o=this._convertTypeToDirection(n.type);if(o.length>1){let{fromFeature:c,toFeature:d,type:u}=this._determineJunctionEdgeConnectivity(i,e.feature);return this.association=qw({fromFeature:c,toFeature:d,utilityNetwork:t,associationType:u}),void this._setUpAssociationHandles()}let{fromFeature:r,toFeature:a}=this._determineFromAndTo(i,e.feature,o[0].direction);this.association=qw({fromFeature:r,toFeature:a,utilityNetwork:t,associationType:o[0].type}),this._setUpAssociationHandles()}_processFeatures(t){return f(this,null,function*(){return Promise.all(t.map(i=>f(this,null,function*(){let{sourceLayer:e}=i;return e&&"getFeatureTitle"in e?{label:yield e.getFeatureTitle(i),feature:i}:{label:qa(i),feature:i}})))})}_queryAssociatedFeatures(t,i){return f(this,null,function*(){let{featuresPerPage:e,layer:n,featurePage:o,featureCount:r,selectedLayer:a}=this,{canQuery:c,globalId:d}=this;if(!c||!n||!a||d==null)return[];let u=((o-1)*e+r)%r,p=e,{historicMoment:h,gdbVersion:y}=a,A=a.createQuery();A.where=Dh(A.where,t),A.start=u,A.num=p,A.returnGeometry=!1,A.historicMoment=h,A.gdbVersion=y,A.outFields=["*"];let C=yield a.queryFeatures(A,{signal:i?.signal});return yield this._processFeatures(C.features)})}validateAssociation(){ft(this._validateAssociationTask);let{utilityNetwork:t,association:i}=this,e=Ui(()=>f(this,null,function*(){t&&i&&(this._canAssociate=yield t.canAddAssociation(i))}));this._updatingHandlesAssociation.addPromise(e.promise),this._validateAssociationTask=e}};s([l({type:dt})],tt.prototype,"graphic",void 0),s([l()],tt.prototype,"layer",void 0),s([l()],tt.prototype,"map",void 0),s([l({readOnly:!0})],tt.prototype,"mapLayers",null),s([l()],tt.prototype,"utilityNetwork",void 0),s([l()],tt.prototype,"associationType",void 0),s([l()],tt.prototype,"state",null),s([l({readOnly:!0})],tt.prototype,"canAddAssociation",null),s([l({readOnly:!0})],tt.prototype,"globalId",null),s([l({readOnly:!0})],tt.prototype,"globalIdField",null),s([l()],tt.prototype,"featureCount",void 0),s([l({readOnly:!0})],tt.prototype,"layerItems",null),s([l({readOnly:!0})],tt.prototype,"featureItems",null),s([l()],tt.prototype,"_queryAbortController",void 0),s([l()],tt.prototype,"_queryPageAbortController",void 0),s([l()],tt.prototype,"_queryFeatureCountAbortController",void 0),s([l({value:1})],tt.prototype,"featurePage",null),s([l()],tt.prototype,"featuresPerPage",void 0),s([l({readOnly:!0})],tt.prototype,"canLoad",null),s([l({readOnly:!0})],tt.prototype,"canQuery",null),s([l({readOnly:!0})],tt.prototype,"updating",null),s([l()],tt.prototype,"selectedLayer",null),s([l()],tt.prototype,"selectedFeature",void 0),s([l()],tt.prototype,"association",void 0),s([l()],tt.prototype,"filterOptionsVisible",void 0),s([l()],tt.prototype,"filterWhereClause",void 0),s([l()],tt.prototype,"queryWhereClause",null),s([l()],tt.prototype,"_rulesTable",void 0),s([l()],tt.prototype,"_canAssociate",void 0),s([l()],tt.prototype,"_whereClause",void 0),tt=s([b("esri.widgets.FeatureForm.UtilityNetworkAssociationAddAssociationViewModel")],tt);var km=tt;var Zw,oO={exit:Symbol()},rn=Zw=class t extends Ps{constructor(i){super(i),this._utilityNetworkAssociationAddAssociationViewModel=new km,this._highlightHelper=null,this.sourceFeatureItem=null,this.type="add-association"}initialize(){let{data:i}=this,{view:e}=i.viewModel;e&&(this._highlightHelper=new ea({view:e,highlightName:yr}),this.addHandles(ve(()=>this._highlightHelper?.removeAll())));let n=new AbortController;this.addHandles(Na(n)),this._updatingHandles.addPromise(this._setup(n))}get editorItem(){return this.data.editorItem}get featureFormViewModel(){return this._featureFormViewModel}get utilityNetworkAssociationAddAssociationViewModel(){return this._utilityNetworkAssociationAddAssociationViewModel}get hasPendingEdits(){return!!this._utilityNetworkAssociationAddAssociationViewModel.selectedFeature}get layer(){return this.data.editorItem.layer}get parent(){return this.data.parent}get parentLayer(){return this.parent?.data.editorItem.layer}get reliesOnOwnerAdminPrivileges(){return this.editorItem.capabilities.create.reliesOnOwnerAdminPrivileges}enter(){return f(this,null,function*(){this._initializeUtilityNetworkAssociationAddAssociationViewModel()})}exit(){this.removeHandles(oO.exit)}start(){return f(this,null,function*(){return yield Kn(t.prototype,this,"start").call(this),null})}_setup(i){return f(this,null,function*(){let{data:e}=this,{feature:n}=e;try{let o=yield $y(n,e.viewModel.view.spatialReference,i.signal);if(Ys(i))return;let r=o.sourceLayer&&"getFeatureTitle"in o.sourceLayer?yield o.sourceLayer.getFeatureTitle(o):qa(o);if(Ys(i))return;this.sourceFeatureItem={feature:n,label:r},this._initializeUtilityNetworkAssociationAddAssociationViewModel()}catch(o){this.cancel({force:!0,error:new D("editor:failed-to-fetch-full-feature","Failed to retrieve all information for this feature. The update cannot proceed.",{detail:{error:o}})})}})}_initializeUtilityNetworkAssociationAddAssociationViewModel(){let{viewModel:{view:i},utilityNetwork:e,associationType:n}=this.data,o=this._utilityNetworkAssociationAddAssociationViewModel;o.graphic=this.sourceFeatureItem.feature,o.map=i?.map,o.utilityNetwork=e,o.layer=this.layer,o.associationType=n,e.networkSystemLayers.loadAssociationsTable(),this.addHandles([T(()=>o.selectedLayer,r=>{r&&this.go("add-association-select-feature")}),T(()=>o.selectedFeature,r=>{r&&this.go("add-association-create-association")})],oO.exit)}static create(i){return f(this,null,function*(){let e=new Zw({data:yield eO.create(i),onCommit:this._onCommitFactory(i.applyEditsFeatureService)});return e._set("steps",this._createWorkflowSteps(e)),e})}static _createWorkflowSteps(i){return[{id:"add-association-select-layer",setUp(){return f(this,null,function*(){let{utilityNetworkAssociationAddAssociationViewModel:r}=i.data.viewModel;r&&(r.selectedLayer=null,r.selectedFeature=null,r.association=null)})},tearDown(){return f(this,null,function*(){})}},{id:"add-association-select-feature",setUp(){return f(this,null,function*(){let{utilityNetworkAssociationAddAssociationViewModel:r}=i.data.viewModel;r&&(r.selectedFeature=null,r.association=null)})},tearDown(){return f(this,null,function*(){})}},{id:"add-association-create-association",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){})}}]}};rn._onCommitFactory=t=>i=>f(void 0,null,function*(){let{feature:e,utilityNetwork:n,associationInput:o}=i,{utilityNetworkAssociationAddAssociationViewModel:r}=i.viewModel,{association:a}=r;yield n.networkSystemLayers.loadAssociationsTable();let c=n?.generateAddAssociations([a]);if(!c)throw new D("editor:failed-to-add-association","Could not create payload needed to add association");let d=e.sourceLayer,u=Lt(d)&&d.parent?d.parent:d,p=r_([u]),h=p.values().next().value?.featureService;if(!h)throw new D("editor:failed-to-delete-association","Could not retrieve feature service needed to delete association");yield h?.load();let y=n?.gdbVersion??void 0;yield t(h,[c],{gdbVersion:y}),yield o.refresh()}),s([l()],rn.prototype,"_utilityNetworkAssociationAddAssociationViewModel",void 0),s([l()],rn.prototype,"_featureFormViewModel",void 0),s([l()],rn.prototype,"editorItem",null),s([l()],rn.prototype,"featureFormViewModel",null),s([l()],rn.prototype,"utilityNetworkAssociationAddAssociationViewModel",null),s([l()],rn.prototype,"sourceFeatureItem",void 0),s([l()],rn.prototype,"hasPendingEdits",null),s([l()],rn.prototype,"layer",null),s([l()],rn.prototype,"parent",null),s([l()],rn.prototype,"parentLayer",null),s([l()],rn.prototype,"reliesOnOwnerAdminPrivileges",null),rn=Zw=s([b("esri.widgets.Editor.AddAssociationWorkflow")],rn);var a_,rr=a_=class extends R{constructor(t){super(t),this.association=null,this.editorItem=null,this.edits=null,this.parent=null,this.featureFormCallbacks=null,this.viewModel=null}get attachmentsCapabilities(){let t=this.editorItem.capabilities.update.attachments.enabled;return{editing:!0,operations:{add:t,update:t,delete:t}}}get formTemplate(){return this.editorItem.formTemplate}static create(t){return f(this,null,function*(){let i=a_._makeConstructorProps(t);return new a_(i)})}static _makeConstructorProps(t){let{association:i,feature:e,parent:n,featureFormCallbacks:o,viewModel:r}=t,a=r.editorItems.find(c=>c.layer===e.layer);if(!a)throw new D("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return{association:i,editorItem:a,edits:new Ly({feature:e}),parent:n,featureFormCallbacks:o,viewModel:r}}};s([l()],rr.prototype,"association",void 0),s([l()],rr.prototype,"attachmentsCapabilities",null),s([l({constructOnly:!0})],rr.prototype,"editorItem",void 0),s([l()],rr.prototype,"edits",void 0),s([l()],rr.prototype,"formTemplate",null),s([l()],rr.prototype,"parent",void 0),s([l()],rr.prototype,"featureFormCallbacks",void 0),s([l()],rr.prototype,"viewModel",void 0),rr=a_=s([b("esri.widgets.Editor.UpdateRecordWorkflowData")],rr);var s_=rr;var l_,zd=l_=class extends s_{constructor(t){super(t),this.sketchOptions=null,this.snappingManager=null}static create(t){return f(this,null,function*(){let{feature:i,snappingManager:e,viewModel:n}=t,o=t.sketchOptions??new Ka,{view:r}=n;if(!r)throw new D("editor:cannot-create-workflow-data","The provided EditorViewModel does not have an associated view");let a=yield Rs(r,i.layer);return new l_(O(x({},l_._makeConstructorProps(t)),{layerView:a,sketchOptions:o,snappingManager:e}))})}};s([l()],zd.prototype,"layerView",void 0),s([l({constructOnly:!0})],zd.prototype,"sketchOptions",void 0),s([l()],zd.prototype,"snappingManager",void 0),zd=l_=s([b("esri.widgets.Editor.UpdateFeatureWorkflowData")],zd);var rO=zd;var Kw,c_={exit:Symbol()},Vi=Kw=class t extends Ps{constructor(i){super(i),this._highlightHelper=null,this.fullFeature=null,this.type="update-table-record"}initialize(){let{data:i}=this,{edits:e}=i,{view:n}=i.viewModel,o=e.feature;n&&(this._highlightHelper=new ea({view:n,highlightName:yr}),this.addHandles(ve(()=>this._highlightHelper?.removeAll())));let r=new AbortController;this.addHandles(Na(r)),this._updatingHandles.addPromise($y(o,i.viewModel.view.spatialReference,r.signal).then(a=>{Ys(r)||(this._onFullFeatureLoaded(a),this._initializeFeatureFormViewModel())},a=>this.cancel({force:!0,error:new D("editor:failed-to-fetch-full-feature","Failed to retrieve all information for this feature. The update cannot proceed.",{detail:{error:a}})})))}get editorItem(){return this.data.editorItem}get featureFormViewModel(){return this._featureFormViewModel}get hasPendingEdits(){return this.data.edits.modified}get layer(){return this.data.editorItem.layer}get parent(){return this.data.parent}get parentLayer(){return this.parent?.data.editorItem.layer}get shouldShowAttachments(){return this.editorItem.capabilities.attachments.enabled}get shouldAllowAttachmentEditing(){return this.editorItem.capabilities.update.attachments.enabled}get reliesOnOwnerAdminPrivileges(){let i=this.editorItem.capabilities;return i.update.reliesOnOwnerAdminPrivileges||i.delete.reliesOnOwnerAdminPrivileges}deleteAndCommit(){return f(this,null,function*(){return this.data.edits.stageDelete(),this.commit()})}enter(){return f(this,null,function*(){this._configureAttachmentsViewModel()})}exit(i){this.removeHandles(c_.exit)}start(){return f(this,null,function*(){return yield Kn(t.prototype,this,"start").call(this),null})}_configureAttachmentsViewModel(){let{data:i,fullFeature:e}=this,{attachmentsCapabilities:n,viewModel:o}=i,{attachmentsViewModel:r}=o;r.set({capabilities:n,graphic:e,filesEnabled:!1,mode:"view"}),this.addHandles([ve(()=>r.fileInfos.removeAll()),T(()=>r.mode,a=>{switch(a){case"add":this.go("adding-attachment");break;case"edit":this.go("editing-attachment")}})],c_.exit)}_initializeFeatureFormViewModel(){let{association:i,edits:e,formTemplate:n,viewModel:{view:o}}=this.data,r=this._featureFormViewModel=new Ld({activeAssociation:i,arcadeEditType:"UPDATE",feature:this.fullFeature,formTemplate:n,highlightHelper:this._highlightHelper,map:o?.map,spatialReference:o.spatialReference,timeZone:o?.timeZone});r.callbacks=O(x({},this.data.featureFormCallbacks),{showAllRelatedRecords:c=>r.relationshipId=c.relationshipId,viewAssociatedLayers:c=>r.associationId=c.associationId,viewAssociatedFeatures:c=>r.associatedLayer=c.associatedLayer});let{initialFeature:a}=e;a&&r.overrideInitialFeature(a),this.addHandles([r.on("value-change",()=>{e.updateAttributes(r.getValues()),this.fullFeature.attributes=e.feature.attributes}),T(()=>o?.timeZone,c=>r.timeZone=c)])}_onFullFeatureLoaded(i){this.fullFeature=i;let{edits:e}=this.data;e.updateAttributes(i.attributes),e.trackChanges()}static create(i){return f(this,null,function*(){let e=new Kw({data:yield s_.create(i),onCommit:this._onCommitFactory(i.applyEdits)});return e._set("steps",this._createWorkflowSteps(e)),e})}static _createWorkflowSteps(i){let{attachmentsViewModel:e}=i.data.viewModel;return[{id:"editing-attributes",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){})}},{id:"adding-attachment",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){e.mode="view"})}},{id:"editing-attachment",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){e.mode="view"})}}]}};Vi._onCommitFactory=t=>i=>f(void 0,null,function*(){let{edits:e}=i,{feature:n}=e;if(!n)return;let o=n.sourceLayer,r=n.clone();if(!e.attributesModified||e.stagedForDelete){let c=o.objectIdField;if(r.attributes={[c]:n.getAttribute(c)},o.type==="scene"&&o.infoFor3D!=null){let d=o.associatedLayer?.globalIdField;d!=null&&r.setAttribute(d,n.getAttribute(d))}}e.geometryModified&&!e.stagedForDelete||(r.geometry=null);let a=e.stagedForDelete?"deleteFeatures":"updateFeatures";yield t(o,{[a]:[r]})}),s([l()],Vi.prototype,"_featureFormViewModel",void 0),s([l()],Vi.prototype,"editorItem",null),s([l()],Vi.prototype,"featureFormViewModel",null),s([l()],Vi.prototype,"fullFeature",void 0),s([l()],Vi.prototype,"hasPendingEdits",null),s([l()],Vi.prototype,"layer",null),s([l()],Vi.prototype,"parent",null),s([l()],Vi.prototype,"parentLayer",null),s([l()],Vi.prototype,"shouldShowAttachments",null),s([l()],Vi.prototype,"shouldAllowAttachmentEditing",null),s([l()],Vi.prototype,"reliesOnOwnerAdminPrivileges",null),Vi=Kw=s([b("esri.widgets.Editor.UpdateRecordWorkflow")],Vi);var Jw,Wn=O(x({},c_),{highlights:Symbol(),sketchGraphics:Symbol(),sketchViewModel:Symbol(),waitingForTool:Symbol()}),Nl=Jw=class t extends Vi{constructor(i){super(i),this.type="update-feature",this._layerViewEditSession=null,this._sketchGraphicClone=null,this._sketchViewModel=null,this._webStyleCache=new Map}destroy(){this._layerViewEditSession?.rollback()}commit(){return f(this,null,function*(){this.removeHandles(Wn.sketchGraphics);try{let i=this.data.edits.stagedForDelete;yield Kn(t.prototype,this,"commit").call(this);let e=this._layerViewEditSession;i?e?.rollback():e?.commit()}catch(i){throw yield this._configureSketchViewModel(),new D("editor-workflow:failed-to-commit","An error occurred when sending the updates to the service",{error:i})}})}start(){return f(this,null,function*(){return yield Kn(t.prototype,this,"start").call(this),yield this._initializeSketchViewModel()})}_initializeFeatureFormViewModel(){super._initializeFeatureFormViewModel(),this.addHandles([this._featureFormViewModel.on("value-change",i=>{this._layerViewEditSession?.setAttribute(i.fieldName,i.value)}),T(()=>this._featureFormViewModel.feature?.sourceLayer,i=>this._sketchGraphicClone.sourceLayer=i)])}_configureHighlight(){let{edits:i,layerView:e}=this.data;jh(e)&&this.addHandles(e.highlight(i.feature),Wn.highlights)}_configureSketchViewModel(){return f(this,null,function*(){let i=this._sketchViewModel;if(!i)return;let{data:e,_featureFormViewModel:n,_sketchGraphicClone:o}=this,{edits:r,viewModel:a}=e,c=r.feature,{view:d}=a,u=Mm(c),p=yield GP({feature:c,featureClone:o,visualVariableAttributes:u,sketchViewModel:i,view:d,onUpdate:({geometry:h,attributes:y},A)=>{if(r.updateAttributes(y),r.updateGeometry(h),n.feature&&(n.feature.geometry=h),u.rotation!=null){let{field:C}=u.rotation;n.setValue(C,y[C])}if(u.size!=null){let{field:C}=u.size;n.setValue(C,y[C])}(A.type==="undo"||A.type==="redo"||A.type==="update"&&A.toolEventInfo!=null&&e_(A.toolEventInfo.type))&&n.notifyFeatureGeometryChanged()},addUpdatingPromise:h=>{this._updatingHandles.addPromise(h)},addHandle:h=>{this.addHandles(h,Wn.waitingForTool)},webStyleCache:this._webStyleCache});this.addHandles(p,Wn.sketchGraphics),i.addHandles(p)})}_initializeSketchViewModel(){return f(this,null,function*(){let{data:i,_sketchGraphicClone:e}=this,n=i.edits.feature,{capabilities:o,layer:r}=i.editorItem,{view:a}=i.viewModel;if(this.removeHandles([Wn.highlights,Wn.sketchGraphics,Wn.sketchViewModel,Wn.waitingForTool]),!o.update.geometry||a?.type==="3d"&&zh(r.elevationInfo))return{enter:()=>f(this,null,function*(){this.hasHandles(Wn.highlights)||this._configureHighlight()}),exit:()=>this.removeHandles([Wn.highlights])};let c=new Wa({elevationInfo:r.elevationInfo,internal:!0,listMode:"hide"}),d=new xc({allowDeleteKey:!1,layer:c,sketchOptions:i.sketchOptions,snappingManager:i.snappingManager,updateOnGraphicClick:!1,view:a});return this._sketchViewModel=d,a?.map.add(c),this.addHandles(ve(()=>{a?.destroyed||a?.map.remove(c),c.destroy(),this._sketchViewModel=Ne(d)}),Wn.sketchViewModel),yield nr(e,this._webStyleCache,a?.type==="2d"?a.scale:null),this.addHandles([yield WP(d,n,e)]),{enter:()=>f(this,null,function*(){this.hasHandles(Wn.sketchGraphics)||(yield this._configureSketchViewModel())}),exit:()=>this.removeHandles([Wn.sketchGraphics]),viewModel:d}})}_onFullFeatureLoaded(i){super._onFullFeatureLoaded(i);let e=this._sketchGraphicClone=Jy(i),{edits:n,layerView:o}=this.data;n.updateGeometry(i.geometry),n.trackChanges(),YP(o)&&(this._layerViewEditSession=o.createInteractiveEditSession(e))}static create(i){return f(this,null,function*(){let e=new Jw({data:yield rO.create(i),onCommit:this._onCommitFactory(i.applyEdits)});return e._set("steps",this._createWorkflowSteps(e)),e})}get test(){}};s([l()],Nl.prototype,"_layerViewEditSession",void 0),s([l()],Nl.prototype,"_sketchGraphicClone",void 0),s([l()],Nl.prototype,"_sketchViewModel",void 0),Nl=Jw=s([b("esri.widgets.Editor.UpdateFeatureWorkflow")],Nl);var ar=class extends R{constructor(t){super(t),this.addAttachmentsCallback=null,this.applyEditsCallback=null,this.applyEditsFeatureServiceCallback=null,this.candidates=null,this.rootFeature=null,this.sketchOptions=null,this.snappingManager=null,this.viewModel=null}};s([l()],ar.prototype,"addAttachmentsCallback",void 0),s([l()],ar.prototype,"applyEditsCallback",void 0),s([l()],ar.prototype,"applyEditsFeatureServiceCallback",void 0),s([l()],ar.prototype,"candidates",void 0),s([l()],ar.prototype,"rootFeature",void 0),s([l({constructOnly:!0})],ar.prototype,"sketchOptions",void 0),s([l()],ar.prototype,"snappingManager",void 0),s([l()],ar.prototype,"viewModel",void 0),ar=s([b("esri.widgets.Editor.UpdateWorkflowData")],ar);var aO=ar;var $w,lO="esri.widgets.Editor.UpdateWorkflow",Lz=()=>z.getLogger(lO),ui=$w=class t extends Ps{constructor(i){super(i),this._workflowStack=new Fv(Mv),this._sketchStack=new Fv(Mv),this.data=void 0,this.type="update"}destroy(){this._drainWorkflowStack(i=>i.cancel({force:!0}))}get activeEditorItem(){return this.activeWorkflow?.data.editorItem??void 0}get activeFeatureFormViewModel(){return this.activeWorkflow?.featureFormViewModel}get activeUtilityNetworkAssociationAddAssociationViewModel(){return this.activeWorkflow?.type==="add-association"?this.activeWorkflow.utilityNetworkAssociationAddAssociationViewModel:null}get activeSketchViewModel(){return this._sketchStack.peek()?.viewModel}get canDeleteAssociation(){let{activeFeatureFormViewModel:i}=this;if(!this.activeWorkflow||!this.data.viewModel.view?.map||!i)return!1;let{activeAssociation:e,feature:n}=i;return!(!e||!n?.sourceLayer||!uc(n?.sourceLayer)&&!Lt(n?.sourceLayer))}get activeWorkflow(){return this._workflowStack.last()}get updating(){return this._updatingHandles.updating||!!this.activeWorkflow?.updating}get hasPreviousStep(){let i=this.activeWorkflow?.featureFormViewModel;return this._stepIndex>0||this.nestedWorkflowCount>1||i?.relationshipId!=null||this.data.viewModel.attachmentsViewModel.mode!=="view"||i?.associationId!=null||i?.associatedLayer!=null}get hasUpdatableCandidates(){let{candidates:i,viewModel:e}=this.data;return i.some(({layer:n})=>e.findEditorItemForLayer(n)?.supportsUpdateWorkflow)}get nestedWorkflowCount(){return this._workflowStack.length}get shouldShowAttachments(){return!!this.activeEditorItem?.capabilities.attachments.enabled}get shouldAllowAttachmentEditing(){return!!this.activeEditorItem?.capabilities.update.attachments.enabled}get hasPendingEdits(){return Array.from(this._workflowStack).some(i=>i.hasPendingEdits)}get helpMessage(){return this.activeWorkflow?.helpMessage?this.activeWorkflow.helpMessage:this.stepId==="awaiting-feature-to-update"?"select":void 0}get reliesOnOwnerAdminPrivileges(){return this.activeWorkflow?.reliesOnOwnerAdminPrivileges??!1}get hasInvalidFormTemplate(){return!!this.activeEditorItem?.hasInvalidFormTemplate}back(i=()=>Promise.resolve(!0)){return f(this,null,function*(){let{activeWorkflow:e}=this,n=e?.featureFormViewModel;if(n?.activeRelationshipInput){let o=n.activeRelationshipInput;if(o.activeCategory)return void(o.activeCategory=null);if(n.relationshipId!=null)return void(n.relationshipId=null);if(o.showAllEnabled)return void(o.showAllEnabled=!1)}if(e?.type==="add-association"){let{activeUtilityNetworkAssociationAddAssociationViewModel:o}=this;if(o?.filterOptionsVisible)return void(o.filterOptionsVisible=!1)}if(n?.associatedLayer==null)if(n?.associationId==null)if(e?.type==="create-features"&&e.hasPreviousStep)yield e.previous({cancelCurrentStep:!0});else if(e){if(e.hasPendingEdits&&!(yield i()))return;e.hasPreviousStep?yield e.previous({cancelCurrentStep:!0}):yield this.cancelActiveWorkflow({force:!0})}else this.hasPreviousStep?yield this.previous({cancelCurrentStep:!0}):yield this.cancel({force:!0});else n.associationId=null;else n.associatedLayer=null})}cancelActiveWorkflow(i){return f(this,null,function*(){yield this.activeWorkflow?.cancel(i),yield this._popWorkflow()})}commit(){return f(this,null,function*(){yield this._drainWorkflowStack(i=>i.commit()),yield Kn(t.prototype,this,"commit").call(this)})}static create(i){let{viewModel:e,snappingManager:n,startAt:o,addAttachmentsCallback:r,applyEditsCallback:a,applyEditsFeatureServiceCallback:c}=i,d=i.sketchOptions??new Ka,u=new $w({data:new aO({addAttachmentsCallback:r,applyEditsCallback:a,applyEditsFeatureServiceCallback:c,sketchOptions:d,snappingManager:n,viewModel:e}),onCommit:()=>f(this,null,function*(){})});return u._set("steps",this._createWorkflowSteps(u,o)),u}save(){return f(this,null,function*(){this.nestedWorkflowCount>1?(yield this.activeWorkflow?.commit(),yield this._popWorkflow()):yield this.commit()})}startCreatingRelatedRecord(i){return f(this,null,function*(){try{let e=yield this._createNestedCreateFeaturesWorkflow(i);yield this._pushWorkflow(e)}catch(e){throw new D("editor:unable-to-start-creating","Could not begin updating the provided feature or table record.",{error:e})}})}startUpdating(i,e){return f(this,null,function*(){try{let n=yield this._createNestedUpdateWorkflow(i,e);yield this._pushWorkflow(n)}catch(n){throw new D("editor:unable-to-start-updating","Could not begin updating the provided feature or table record.",{error:n})}})}startAddAssociation(i,e,n){return f(this,null,function*(){try{let o=yield this._createNestedAddAssociationWorkflow(i,e,n);yield this._pushWorkflow(o)}catch(o){throw new D("editor:unable-to-start-updating","Could not begin updating the provided feature or table record.",{error:o})}})}deleteActiveFeature(){return f(this,null,function*(){let{activeWorkflow:i}=this;if(!i)throw new D("editor:nothing-to-delete","There is no feature to delete");Bz(i)?yield i.deleteAndCommit():yield i.cancel(),this.nestedWorkflowCount===1?yield this.reset():(yield this._popWorkflow(),yield this._returnToPageWithContent())})}deleteActiveAssociation(){return f(this,null,function*(){if(!this.canDeleteAssociation)throw new D("editor:nothing-to-delete","There is no association to delete");yield this._deleteActiveAssociation(),yield this._popWorkflow(),yield this._returnToPageWithContent()})}cancelAll(){return f(this,null,function*(){yield this._drainWorkflowStack(i=>i.cancel({force:!0}))})}_deleteActiveAssociation(){return f(this,null,function*(){let{activeFeatureFormViewModel:i,data:e}=this,{activeAssociation:n,feature:o}=i,{applyEditsFeatureServiceCallback:r,viewModel:a}=e,{sourceLayer:c}=o,d=Lt(c)&&c.parent?c.parent:c,u=r_([d]),p=u.values().next().value?.featureService;if(!p)throw new D("editor:failed-to-delete-association","Could not retrieve feature service needed to delete association");yield p?.load();let h=a.view.map,y=MI(h,d);yield y?.networkSystemLayers.loadAssociationsTable();let A=y?.generateDeleteAssociations([n]);if(!A)throw new D("editor:failed-to-delete-association","Could not create payload needed to delete association");let C=y?.gdbVersion??void 0;yield r(p,[A],{gdbVersion:C,globalIdUsed:!0})})}_returnToPageWithContent(){return f(this,null,function*(){let{activeFeatureFormViewModel:i}=this;if(!i?.activeAssociationInput)return;let{activeAssociationInput:e,associationId:n}=i;yield e.refresh(),e.associatedLayer&&!e.associatedFeatures?.length&&(i.associatedLayer=null),n==null||e.associatedFeatureInfos.size||(i.associationId=null)})}_createNestedCreateFeaturesWorkflow(i){return f(this,null,function*(){let{relatedLayer:e}=i,{addAttachmentsCallback:n,applyEditsCallback:o,applyEditsFeatureServiceCallback:r,sketchOptions:a,snappingManager:c,viewModel:d}=this.data;if(!fa(e))throw new D("editor:unsupported-layer","Editing is not supported on the provided layer");let u=this._getCreationInfoForNestedCreateFeaturesWorkflow(i),p=u.template||u.initialFeature?"creating-features":"awaiting-feature-creation-info",h=this.activeWorkflow?.type!=="create-features"&&this.activeWorkflow?.type!=="add-association"?this.activeWorkflow:void 0;return o_.create({addAttachmentsCallback:n,applyEditsCallback:o,applyEditsFeatureServiceCallback:r,creationInfo:u,isNested:!0,parent:h,sketchOptions:a,snappingManager:c,startAt:p,viewModel:d})})}_getCreationInfoForNestedCreateFeaturesWorkflow(i){let{relatedLayer:e}=i;if(!fa(e)||Ri(e))throw new D("editor:unsupported-layer","Editing is not supported on the provided layer");let{viewModel:n}=this.data,o={layer:e,maxFeatures:1},r=this._makeRelatedRecordAttributes(i),a=n.getTemplatesForLayer(e);return a?.length>0?(o.attributeOverrides=r,a.length===1&&(o.template=a[0])):o.initialFeature=new dt({sourceLayer:e,attributes:r}),o}_createNestedUpdateWorkflow(i,e){return f(this,null,function*(){let n=Ho(i.sourceLayer)?Vi:Nl,{applyEditsCallback:o,applyEditsFeatureServiceCallback:r,sketchOptions:a,snappingManager:c,viewModel:d}=this.data,u=this.activeWorkflow?.type!=="create-features"&&this.activeWorkflow?.type!=="add-association"?this.activeWorkflow:void 0,p=yield n.create({association:e,feature:i,parent:u,sketchOptions:a,snappingManager:c,viewModel:d,applyEdits:o,applyEditsFeatureService:r,featureFormCallbacks:{addRelatedRecord:h=>f(this,null,function*(){return yield this.startCreatingRelatedRecord(h)}),editRelatedRecord:y=>f(this,[y],function*({relatedFeature:h}){return yield this.startUpdating(h)}),selectAssociatedFeature:A=>f(this,[A],function*({feature:h,association:y}){return yield this.startUpdating(h,y)}),addAssociation:h=>f(this,null,function*(){return yield this.startAddAssociation(h.feature,h.utilityNetwork,h.associationType)})}});return yield He(()=>!p.updating),p})}_createNestedAddAssociationWorkflow(i,e,n){return f(this,null,function*(){let o=rn,{applyEditsCallback:r,applyEditsFeatureServiceCallback:a,viewModel:c}=this.data,d=this.activeWorkflow?.type!=="create-features"&&this.activeWorkflow?.type!=="add-association"?this.activeWorkflow:void 0,u=this.activeFeatureFormViewModel?.activeAssociationInput,p=yield o.create({utilityNetwork:e,associationType:n,feature:i,parent:d,viewModel:c,associationInput:u,applyEdits:r,applyEditsFeatureService:a});return yield He(()=>!p.updating),p})}_drainWorkflowStack(i){return f(this,null,function*(){let e=this._workflowStack,n=[];for(;e.length>0;){let o=e.pop();this._sketchStack.pop();let r=i(o).then(()=>o.destroy());this._updatingHandles.addPromise(r),n.push(r)}yield Promise.all(n)})}_makeRelatedRecordAttributes(i){let{parentFeature:e,relatedLayer:n,relationshipId:o}=i;if(!II(e))return;let r=n.relationships?.find(h=>h.id===o);if(!r)return void Tm("relationship-not-found","Could not begin creating a related record because the relationship specified could not be found on the destination layer.");if(r.role==="origin")return void Tm("unsupported-role","Creating new related records in the 'origin' table of a relationship is not yet supported");let a=e.sourceLayer;r.relatedTableId!==a.layerId&&Tm("invalid-argument-combination","The given parent feature does not belong to the relationship designated by the given relationship ID.");let c=a.relationships?.find(h=>h.id===o);if(!c)return void Tm("relationship-not-found","Could not begin creating a related record because the relationship specified could not be found on the origin layer.");let d=sO(a,c),u=e.getAttribute(d);return u||Tm("no-key-on-origin-feature","The given parent feature does not have a value for the relationship's origin primary key field."),{[sO(n,r)]:u}}_popWorkflow(){return f(this,null,function*(){this._workflowStack.pop()?.destroy(),this._sketchStack.pop();let i=yield this._reconcileWorkflowStack();if(i.failureCount>0)throw new D("editor:next-workflow-failed","Popped the top workflow, but the next workflow in the stack failed to activate",i)})}_pushWorkflow(i){return f(this,null,function*(){let e=this._workflowRequiresSketchViewModel(i);this.activeWorkflow?.exit({removeSketchHandles:e});let n=this._sketchStack,o=yield i?.start(),r=n.peek();o?(r?.exit(),n.push(o)):n.push(this._cloneSketchController(r)),this._workflowStack.push(i);let a=yield this._reconcileWorkflowStack();if(a.failureCount>0)throw new D("editor:failed-to-start-updating-feature","Failed to enter the provided workflow.",a)})}_reconcileWorkflowStack(){return f(this,null,function*(){let i=this._workflowStack,e=this._sketchStack;try{let n=i.peek();return yield n?.enter(),yield e.peek()?.enter(),{activeWorkflow:n,failureCount:0}}catch{i.pop().destroy(),e.pop();let{activeWorkflow:o,failureCount:r}=yield this._reconcileWorkflowStack();return{activeWorkflow:o,failureCount:r+1}}})}_cloneSketchController(i){return{enter:i?.enter??(()=>f(this,null,function*(){})),exit:i?.exit??(()=>f(this,null,function*(){})),viewModel:i?.viewModel}}_workflowRequiresSketchViewModel(i){let{type:e}=i;return e==="update-feature"||e==="create-features"&&!Ho(i.data.creationInfo?.layer)}static _createWorkflowSteps(i,e="awaiting-feature-to-update"){let{data:n}=i;return Xy(["awaiting-feature-to-update","awaiting-update-feature-candidate","editing-existing-feature","adding-attachment","editing-attachment"],e,{"awaiting-feature-to-update":()=>({id:"awaiting-feature-to-update",setUp(){return f(this,null,function*(){let{spinnerViewModel:r}=n.viewModel,a=n.viewModel.view;a.activeTool=null;let c=null;i.addHandles(ve(()=>{c=ft(c)}),this.id),n.rootFeature=null,n.candidates=[];let d=a.on("immediate-click",p=>f(this,null,function*(){let h=$t();i._updatingHandles.addPromise(h.promise);try{r.location=p.mapPoint,r.visible=!0,c?.abort();let{editorItems:y}=n.viewModel;c=new AbortController;let A=yield p.async(()=>new Promise((C,M)=>{Kr(c?.signal,()=>M(qs())),C(jP(y,a,p,c?.signal))}));if(Le(c),n.candidates=A.filter(C=>C.status==="fulfilled").flatMap(C=>C.value).filter(C=>!C.isAggregate),r.visible=n.candidates.length===1,n.candidates.length===0)return;p.stopPropagation(),n.candidates.length===1?(n.rootFeature=n.candidates[0],i.go("editing-existing-feature").catch(()=>{}).then(()=>r.visible=!1)):i.next()}finally{h.resolve()}}),zo.TOOL),u=qe(()=>a.activeTool!=null,()=>i.cancel({force:!0}),{once:!0});a.focus(),i.addHandles([d,u],this.id)})},tearDown(){return f(this,null,function*(){n.candidates.length===0&&(n.viewModel.spinnerViewModel.visible=!1),i.removeHandles(this.id)})}}),"awaiting-update-feature-candidate":()=>({id:"awaiting-update-feature-candidate",setUp(){return f(this,null,function*(){n.rootFeature=null;let{view:r}=n.viewModel;if(!r)return;let a=new ea({view:r,highlightName:yr});i.addHandles([T(()=>n.rootFeature,(c,d)=>{a.remove(d),a.add(c)},Xt),ve(()=>a.removeAll())],this.id)})},tearDown(){return f(this,null,function*(){i.removeHandles(this.id)})}}),"editing-existing-feature":()=>({id:"editing-existing-feature",setUp(){return f(this,null,function*(){let{rootFeature:r,viewModel:a}=i.data;if(!r)throw new D("editor:no-feature-specified","Cannot setup the 'updating-existing-feature' step until the root feature is defined");yield i.startUpdating(r),a.spinnerViewModel.visible=!1;let c=_i(()=>f(this,null,function*(){yield He(()=>!i.updating),i.previous()}));i.addHandles([T(()=>i.nestedWorkflowCount,(d,u)=>{d===0&&u!==0&&c()},Xt)],this.id)})},tearDown(){return f(this,null,function*(){yield i.cancelAll(),i.removeHandles(this.id)})}}),"adding-attachment":()=>({id:"adding-attachment",parent:"editing-existing-feature",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){n.viewModel.attachmentsViewModel.mode="view"})}}),"editing-attachment":()=>({id:"editing-attachment",parent:"editing-existing-feature",setUp(){return f(this,null,function*(){})},tearDown(){return f(this,null,function*(){n.viewModel.attachmentsViewModel.mode="view"})}})})}};function sO(t,{keyField:i}){return t.getField(i)?.name??i}s([l()],ui.prototype,"activeEditorItem",null),s([l()],ui.prototype,"activeFeatureFormViewModel",null),s([l()],ui.prototype,"activeUtilityNetworkAssociationAddAssociationViewModel",null),s([l()],ui.prototype,"activeSketchViewModel",null),s([l()],ui.prototype,"canDeleteAssociation",null),s([l()],ui.prototype,"activeWorkflow",null),s([l()],ui.prototype,"updating",null),s([l()],ui.prototype,"data",void 0),s([l()],ui.prototype,"hasPreviousStep",null),s([l()],ui.prototype,"hasUpdatableCandidates",null),s([l()],ui.prototype,"nestedWorkflowCount",null),s([l()],ui.prototype,"shouldShowAttachments",null),s([l()],ui.prototype,"shouldAllowAttachmentEditing",null),s([l()],ui.prototype,"hasPendingEdits",null),s([l()],ui.prototype,"helpMessage",null),s([l()],ui.prototype,"reliesOnOwnerAdminPrivileges",null),s([l()],ui.prototype,"hasInvalidFormTemplate",null),ui=$w=s([b(lO)],ui);var Tm=(t,i)=>Lz().warn(`editor:${t}`,i,"The create operation will be allowed to proceed, but the resulting feature may not be related to the given parent feature."),Bz=t=>!!t&&/update-/.test(t.type),cO=ui;var kn=class extends R{constructor(t){super(t),this.layer=null}get attachments(){return{enabled:this._effectiveEnabled&&!!this._effectiveCapabilities?.data.supportsAttachment}}get create(){let{_effectiveCapabilities:t,layer:i}=this,e=this._createEnabled,n=e,o=i.capabilities?.operations.supportsAdd,r=!!t?.operations.supportsAdd;return{attachments:{enabled:e&&this.attachments.enabled},attributes:e,enabled:e,geometry:n,reliesOnOwnerAdminPrivileges:!o&&r}}get delete(){let{_effectiveCapabilities:t,layer:i}=this,e=i.capabilities?.operations.supportsDelete,n=!!t?.operations.supportsDelete;return{enabled:this._effectiveEnabled&&!!t?.operations.supportsDelete,reliesOnOwnerAdminPrivileges:!e&&n}}get reliesOnOwnerAdminPrivileges(){return this._effectiveEnabled&&!this.layer.editingEnabled||this.create.reliesOnOwnerAdminPrivileges||this.update.reliesOnOwnerAdminPrivileges||this.delete.reliesOnOwnerAdminPrivileges}get update(){let{_effectiveCapabilities:t,layer:i}=this,e=this._updateEnabled,n=!(!e||!t?.editing.supportsGeometryUpdate),o=i.capabilities?.operations.supportsUpdate,r=!!t?.operations.supportsUpdate,a=this.attachments.enabled,c=a&&this._canCreateOrUpdate;return{attachments:{enabled:a,create:c,update:c},attributes:e,enabled:e,geometry:n,reliesOnOwnerAdminPrivileges:!o&&r}}get _createEnabled(){return this._effectiveEnabled&&!!this._effectiveCapabilities?.operations.supportsAdd}get _updateEnabled(){return this._effectiveEnabled&&!!this._effectiveCapabilities?.operations.supportsUpdate}get _canCreateOrUpdate(){return!(!this._createEnabled&&!this._updateEnabled)}get _effectiveEnabled(){return Rh(this.layer)}get _effectiveCapabilities(){return Uo(this.layer)}};s([l()],kn.prototype,"attachments",null),s([l()],kn.prototype,"create",null),s([l()],kn.prototype,"delete",null),s([l()],kn.prototype,"layer",void 0),s([l()],kn.prototype,"reliesOnOwnerAdminPrivileges",null),s([l()],kn.prototype,"update",null),s([l()],kn.prototype,"_createEnabled",null),s([l()],kn.prototype,"_updateEnabled",null),s([l()],kn.prototype,"_canCreateOrUpdate",null),s([l()],kn.prototype,"_effectiveEnabled",null),s([l()],kn.prototype,"_effectiveCapabilities",null),kn=s([b("esri.layers.support.EditingCapabilities")],kn);var Xw=kn;var Gd="esri.views.layers.support.editableLayerViews";function dO(t,i){let{associatedLayer:e}=t,n=e?.infoFor3D;if(!n)return!1;let o=vI(n);if(!(o!=null&&n.queryFormats.includes(o)))return z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits because it does not support GLB queries.`),!1;let r=t.spatialReference,a=e.spatialReference;if(!No(r,a))return z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits because its spatial reference (wkid:${r.wkid}) is different from its associated FeatureLayer's spatial reference (wkid:${a.wkid}).`),!1;let c=e.sourceJSON.sourceSpatialReference;if(!(c==null||No(c,a)))return z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits because the spatial reference of its associated FeatureLayer's service (wkid:${a.wkid}) is different from its source spatial reference (wkid:${c.wkid}).`),!1;let{view:d}=i;if(i.destroyed||d==null)return!1;let u=d.spatialReference,{viewingMode:p}=d.state,h=Sh(r),y=p===ro.Global;return h&&!y?(z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits in local viewing mode because its spatial reference (wkid:${r.wkid}) is geographic. Please consider changing the viewing mode to global.`),!1):!h&&y?(z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits in global viewing mode because its spatial reference (wkid:${r.wkid}) is projected. Please consider changing the viewing mode to local.`),!1):!!(No(r,u)||y&&SS(u)&&Ih(r))||(z.getLogger(Gd).warnOnce(`SceneLayer (${t.title??"Untitled layer"}, ${t.id}) does not support geometry edits because its spatial reference (wkid:${r.wkid}) does not match the view spatial reference (wkid:${u.wkid}).`),!1)}var So=class extends Xw{constructor(t){super(t),this.layerInfo=null,this.layerView=null}get attachments(){let t=this.defaults.attachments.enabled,i=this.layerInfo;return{enabled:t&&i?.enabled!==!1}}get create(){let{attachments:t,defaults:i,layerInfo:e,layer:n,layerView:o}=this,r=i.create,a=e?.enabled!==!1&&e?.addEnabled!==!1,c=r.enabled&&a;return{attributes:c&&r.attributes,enabled:c,geometry:c&&r.geometry&&uO(n,o),attachments:{enabled:t.enabled&&c&&e?.attachmentsOnCreateEnabled!==!1},reliesOnOwnerAdminPrivileges:r.reliesOnOwnerAdminPrivileges}}get defaults(){return new Xw({layer:this.layer})}get delete(){let{defaults:t,layerInfo:i}=this,e=t.delete,n=i?.enabled!==!1&&i?.deleteEnabled!==!1;return{enabled:e.enabled&&n,reliesOnOwnerAdminPrivileges:e.reliesOnOwnerAdminPrivileges}}get formTemplate(){let{layer:t,layerInfo:i}=this;return i?.formTemplate?i.formTemplate:t&&"formTemplate"in t?t.formTemplate:null}get relationship(){let{layer:t}=this,i=!(!Ga(t)||!t.relationships?.length),e=!!this.formTemplate?.elements?.some(n=>n.type==="relationship");return{enabled:i&&e}}get update(){let{attachments:t,defaults:i,layerInfo:e,layer:n,layerView:o}=this,r=i.update,a=e?.enabled!==!1&&e?.updateEnabled!==!1,c=r.enabled&&a,d=c&&r.attributes&&e?.attributeUpdatesEnabled!==!1,u=c&&r.geometry&&e?.geometryUpdatesEnabled!==!1&&uO(n,o),p=t.enabled&&e?.attachmentsOnUpdateEnabled!==!1;return{attributes:d,enabled:c,geometry:u,attachments:{enabled:p,create:p&&r.attachments.create,update:p&&r.attachments.update},reliesOnOwnerAdminPrivileges:r.reliesOnOwnerAdminPrivileges}}};function uO(t,i){return t.type!=="scene"||i!=null&&"type"in i&&i.type==="scene-layer-3d"&&dO(t,i)}s([l()],So.prototype,"attachments",null),s([l()],So.prototype,"create",null),s([l()],So.prototype,"defaults",null),s([l()],So.prototype,"delete",null),s([l()],So.prototype,"formTemplate",null),s([l()],So.prototype,"layerInfo",void 0),s([l()],So.prototype,"layerView",void 0),s([l()],So.prototype,"relationship",null),s([l()],So.prototype,"update",null),So=s([b("esri.widgets.Editor.support.EditorEditingCapabilities")],So);var pO=So;var an=class extends R{constructor(t){super(t),this.disabled=!1,this.layer=null,this.layerInfo=null,this.layerView=null}get _suspended(){return!!this.layerView?.suspended}get capabilities(){return new pO({layer:this.layer,layerInfo:this.layerInfo,layerView:this.layerView})}get editable(){let{create:t,relationship:i,update:e,delete:{enabled:n}}=this.capabilities,o=t.attachments.enabled||e.attachments.enabled;return!this.disabled&&(t.enabled||e.enabled||o||n||i.enabled)}get formTemplate(){return this.capabilities.formTemplate}get hasInvalidFormTemplate(){return NM(this.layer,this.formTemplate)}get isTable(){return Ho(this.layer)}get supportsCreateFeaturesWorkflow(){if(this.disabled||this.layerView?.view?.type==="3d"&&zh(this.layer.elevationInfo))return!1;let{enabled:t,geometry:i}=this.capabilities.create;return this.isTable?t:t&&i}get supportsUpdateWorkflow(){let{capabilities:t}=this;return!this.disabled&&(t.update.enabled||t.update.attachments.enabled||t.delete.enabled)}get visible(){let{layer:t}=this,i=t.parent;return!this._suspended&&t.visible&&(!i||!("visible"in i)||i.visible)}};s([l()],an.prototype,"_suspended",null),s([l()],an.prototype,"capabilities",null),s([l()],an.prototype,"disabled",void 0),s([l()],an.prototype,"editable",null),s([l()],an.prototype,"formTemplate",null),s([l()],an.prototype,"hasInvalidFormTemplate",null),s([l()],an.prototype,"isTable",null),s([l()],an.prototype,"layer",void 0),s([l()],an.prototype,"layerInfo",void 0),s([l()],an.prototype,"layerView",void 0),s([l()],an.prototype,"supportsCreateFeaturesWorkflow",null),s([l()],an.prototype,"supportsUpdateWorkflow",null),s([l()],an.prototype,"visible",null),an=s([b("esri.widgets.Editor.support.EditorItem")],an);var mO=an;var hO="esri.widgets.Editor.EditorViewModel",Nz=()=>z.getLogger(hO);function Os(t,i,e){Nz().error(new D(t,i,e))}function Hz(t,i){return t?.find(e=>e.layer===i)}var Ie=class extends zt.EventedAccessor{constructor(t){super(t),this._templatesByLayer=new Map,this._sketchEventListenerHandle=null,this._sketchGraphicsLayer=new Wa({listMode:"hide",internal:!0}),this._snappingManager=null,this._updateItemsTask=null,this._updateTemplatesTask=null,this._updatingHandles=new vt,this._featureTemplatesViewModelIsRestricted=!1,this.activeWorkflow=null,this._activityQueue=new ee,this.editorItems=new ee,this.failures=[],this.hideTemplatesForInactiveLayers=!1,this.attachmentsViewModel=new $v({capabilities:{editing:!0}}),this.featureTemplatesViewModel=new xm({disabledItemFunction:({layer:i})=>this._itemIsSuspended(i)}),this.layerInfos=null,this.ownSketchViewModel=new xc({layer:this._sketchGraphicsLayer}),this.sketchOptions=new Ka,this.snappingOptions=new mb({attributeRulesEnabled:!0}),this.spinnerViewModel=new cE,this.pageStack=[],this.showDiscardEditsPrompt=()=>Promise.resolve(!0),this._candidateCommitted=!1,this.back=()=>f(this,null,function*(){this.canGoBack&&(this.activeWorkflow?.hasPreviousStep?yield this.activeWorkflow.back(this.showDiscardEditsPrompt):yield this._cancelWorkflow({force:!this.hasPendingEdits}))}),this.saveWorkflow=()=>f(this,null,function*(){let{featureFormViewModel:i}=this;if(i&&this.activeWorkflow?.type!=="create-features"){if(i.submit(),!i.submittable||i.pendingSubtypeChoice)return;let e=i.getValues();if(i.validateContingencyConstraints(e,{includeIncompleteViolations:!0}).length>0)return}yield this.activeWorkflow?.save()}),this.selectFeature=(i,e=!1)=>{let n=this.activeWorkflow;this._candidateCommitted||n?.type!=="update"||(n.data.rootFeature=i,e&&(n.next(),this._candidateCommitted=!0))}}initialize(){this.addHandles([T(()=>{let t=this.view,i=t?.map?.editableLayers.toArray(),e=t?.allLayerViews,n=e?.filter(o=>!!i?.includes(o.layer));return[i,n,this.layerInfos]},()=>this._updateEditorItems(),gt),T(()=>this.hideTemplatesForInactiveLayers,()=>this.syncFeatureTemplates()),lt(()=>this.activeWorkflow,"cancel",()=>this.emit("workflow-cancel")),lt(()=>this.activeWorkflow,"commit",()=>this.emit("workflow-commit")),lt(()=>this.activeWorkflow,"complete",()=>{this.emit("workflow-commit"),this._set("activeWorkflow",null)}),qe(()=>this.view?.map,t=>t.add(this._sketchGraphicsLayer),re),lt(()=>this.editorItems,"change",()=>this._afterEditorItemsChange()),T(()=>[this.canCreate,this.canUpdateVisible],()=>this._afterEditorItemsChange()),T(()=>this.page,(t,i)=>{let e=[...this.pageStack];if(e.indexOf(t)===-1)e.push(t);else for(;e.length&&e.at(-1)!==t;)e.pop();this.pageStack=e},gt),qe(()=>this.state==="awaiting-update-feature-candidate",()=>this._candidateCommitted=!1),lt(()=>this.featureTemplatesViewModel,"select",e=>f(this,[e],function*({item:t,oldItem:i}){let{activeWorkflow:n}=this;if(n){if(n.type==="update"&&n.activeWorkflow?.stepId==="awaiting-feature-creation-info")return;try{yield this.cancelWorkflow({force:!this.hasPendingEdits})}catch{return void this.featureTemplatesViewModel.select(i,{emit:!1})}}if(!t)return;let o={layer:t.layer,template:t.template};if(t.supportsUpload)return this.featureTemplatesViewModel.select(i,{emit:!1}),this.startCreateFeaturesWorkflow(o);this.startCreateFeaturesWorkflowAtFeatureCreation(o)})),T(()=>[this.view,this.featureTemplatesViewModel],([t,i])=>{i.view=t},gt),lt(()=>this.view,"key-down",t=>{t.key==="Escape"&&this.activeWorkflow?.keyboardCancellationEnabled&&(t.stopPropagation(),this.back())}),lt(()=>this.sketchViewModel,["create","delete","update"],t=>{let{activeWorkflow:i}=this,e=i?.type==="update",n=e?i.activeWorkflow?.layer:i?.layer,o=e?i?.activeWorkflow?.parentLayer:void 0,r=`sketch-${t.type}`;this.emit(r,{type:r,detail:t,layer:n,parentLayer:o})},Xt),T(()=>this.view,t=>{if(this._snappingManager=Ne(this._snappingManager),!t)return;let i=this.snappingOptions;this._snappingManager=new FE({view:t,options:i}),this.ownSketchViewModel.snappingManager=this._snappingManager},gt),T(()=>this.snappingOptions,t=>{this._snappingManager&&(this._snappingManager.options=t)},gt)])}destroy(){this._cancelWorkflow({warnIfNoWorkflow:!1}).then(()=>{this.view?.map?.remove(this._sketchGraphicsLayer),this.view=null}),this._updateItemsTask=ft(this._updateItemsTask),this._updatingHandles.destroy(),this._sketchEventListenerHandle=Ct(this._sketchEventListenerHandle)}get _featureTemplatesLayersAndTables(){let t=new ee;for(let i of this.editorItems){let e=this.hideTemplatesForInactiveLayers&&!i.visible;i.supportsCreateFeaturesWorkflow&&!e&&t.push(i.layer)}return t}get activeLeafWorkflow(){let t=this.activeWorkflow;return t&&OP(t)?t.activeWorkflow??t:t}get canCreate(){return this.editorItems.some(t=>t.supportsCreateFeaturesWorkflow)}get canCreateVisible(){return!!this.featureTemplatesLayers.length}get canUpdate(){return this.editorItems.some(t=>t.supportsUpdateWorkflow)}get canUpdateVisible(){return this.editorItems.some(t=>t.supportsUpdateWorkflow&&t.visible)}get featureTemplatesLayers(){return this._featureTemplatesLayersAndTables.filter(t=>t.type==="scene"||!t.isTable)}get featureFormViewModel(){let{activeWorkflow:t}=this;return t?.type==="update"?t.activeFeatureFormViewModel:t?.type==="create-features"?t.featureFormViewModel:null}get utilityNetworkAssociationAddAssociationViewModel(){let{activeWorkflow:t}=this;return t?.type==="update"?t.activeUtilityNetworkAssociationAddAssociationViewModel:null}get labelOptions(){return this.sketchOptions.labels}set labelOptions(t){this.sketchOptions.labels=t}get sketchViewModel(){let{activeWorkflow:t}=this;return t?.type==="update"?t.activeSketchViewModel:t?.type==="create-features"?t.sketchViewModel:this.ownSketchViewModel}get state(){if(!this.view?.ready)return"disabled";let t=this.attachmentsViewModel.mode;if(t==="add")return"adding-attachment";if(t==="edit")return"editing-attachment";let{activeWorkflow:i}=this;return i?.stepId?i.type==="update"&&i.activeWorkflow?.stepId?i.activeWorkflow.stepId:i.stepId:"ready"}get syncing(){return this._activityQueue.length>0}get updating(){return this._updatingHandles.updating||this.activeWorkflow?.updating===!0}get tooltipOptions(){return this.sketchOptions.tooltips}set tooltipOptions(t){this.sketchOptions.tooltips=t}get valueOptions(){return this.sketchOptions.values}set valueOptions(t){this.sketchOptions.values=t}set view(t){this.ownSketchViewModel.view=t,this.spinnerViewModel.view=t,this._set("view",t)}get canZoomTo(){let t=this.sketchViewModel,i=t?.createGraphic?.geometry?.type;return!(!t?.updateGraphics?.length&&i!=="multipoint")}get page(){let{activeWorkflow:t,state:i}=this;if(t?.type==="update"&&t?.activeWorkflow?.featureFormViewModel?.associatedLayer!=null)return"viewing-associated-features";if(t?.type==="update"&&t?.activeWorkflow?.featureFormViewModel?.associationId!=null)return"viewing-associated-layers";if(t?.type==="update"&&t.stepId==="awaiting-feature-to-update")return"ready";if(t?.type==="create-features"&&t.numPendingFeatures===0){let e=t.data.upload;if(e)return e.state==="default"?"ready":"creating-features-upload-details"}return i??"disabled"}get featureFormDisabled(){let{activeWorkflow:t}=this;return t?.type==="update"&&t.activeEditorItem?.capabilities.update.attributes===!1}get featureFormHasAssociation(){return!!this.featureFormViewModel?.activeAssociation}get canGoBack(){return this.activeWorkflow!=null&&!this.syncing}get shouldShowDeleteButton(){let{activeWorkflow:t}=this;return!!t&&t.type==="update"&&!!t.activeEditorItem?.capabilities.delete.enabled}get hasPendingEdits(){return this.activeWorkflow?.hasPendingEdits??!1}get snappingManager(){return this._snappingManager}getTemplatesForLayer(t){return this._templatesByLayer.get(t)??[]}startCreateFeaturesWorkflowAtFeatureTypeSelection(){return f(this,null,function*(){return this.startCreateFeaturesWorkflow()})}startCreateFeaturesWorkflowAtFeatureCreation(t){return f(this,null,function*(){return this.startCreateFeaturesWorkflow(t,"creating-features")})}startCreateFeaturesWorkflow(t,i="awaiting-feature-creation-info"){return f(this,null,function*(){if(yield He(()=>!this.updating),!this.canCreate)throw new D("editing:unsupported-workflow","Creating features is unsupported or disabled.");let e=this._createUpdatingResolver();try{yield this._cancelWorkflow();let n=this._createCreateFeaturesWorkflow(t,i);this._set("activeWorkflow",n),yield n.start()}catch(n){this._logErrorAndCancelWorkflow(n)}finally{e.resolve()}})}startCreateFeaturesWorkflowAtFeatureEdit(t){return f(this,null,function*(){yield He(()=>!this.updating);let i=this._createUpdatingResolver();try{let{initialFeature:e}=t,n=e.sourceLayer=e.layer,o=n?this.findEditorItemForLayer(n):void 0;if(!o?.supportsCreateFeaturesWorkflow)throw new D("editing:unsupported-workflow","Creating features is unsupported or disabled for this layer.");yield this._cancelWorkflow();let r=this._createCreateFeaturesWorkflow({initialFeature:e,layer:o.layer,maxFeatures:1},"creating-features");this._set("activeWorkflow",r),yield r.start()}catch(e){this._logErrorAndCancelWorkflow(e)}finally{i.resolve()}})}startUpdateWorkflowAtFeatureSelection(){return f(this,null,function*(){if(yield He(()=>!this.updating),!this.canUpdate)return void Os("editing:unsupported-workflow","Update workflow is unsupported or disabled.");let t=this._createUpdatingResolver();try{yield this._cancelWorkflow();let i=this._createUpdateWorkflow();this._set("activeWorkflow",i),yield i.start()}catch(i){this._logErrorAndCancelWorkflow(i)}finally{t.resolve()}})}startUpdateWorkflowAtMultipleFeatureSelection(t){return f(this,null,function*(){if(yield He(()=>!this.updating),!this.canUpdate)return void Os("editing:unsupported-workflow","Update workflow is unsupported or disabled.");let i=this._createUpdatingResolver();try{yield this._cancelWorkflow();let e=this._createUpdateWorkflow("awaiting-update-feature-candidate");e.data.candidates=t,this._set("activeWorkflow",e),yield e.start()}catch(e){this._logErrorAndCancelWorkflow(e)}finally{i.resolve()}})}startUpdateWorkflowAtFeatureEdit(t){return f(this,null,function*(){if(yield He(()=>!this.updating),!this.canUpdate)return void Os("editing:unsupported-workflow","Update workflow is unsupported or disabled.");let i=this._createUpdatingResolver();try{yield this._cancelWorkflow();let e=this._createUpdateWorkflow("editing-existing-feature");e.data.rootFeature=t,this._set("activeWorkflow",e),yield e.start()}catch(e){this._logErrorAndCancelWorkflow(e)}finally{i.resolve()}})}deleteFeatureFromWorkflow(){return f(this,null,function*(){let{activeWorkflow:t}=this;t&&t.type==="update"?yield t.deleteActiveFeature():Os("editing:unsupported-workflow","Deleting a feature requires an active update workflow.")})}deleteAssociationFromWorkflow(){return f(this,null,function*(){let{activeWorkflow:t}=this;t&&t.type==="update"?yield t.deleteActiveAssociation():Os("editing:unsupported-workflow","Deleting an association requires an active update workflow.")})}cancelWorkflow(t){return f(this,null,function*(){return this._cancelWorkflow(x({warnIfNoWorkflow:!0},t))})}findEditorItemForLayer(t){return this.editorItems.find(i=>i.layer===t)}itemHasInvalidFormTemplate(t){return t!=null&&this.findEditorItemForLayer(t.layer)?.hasInvalidFormTemplate===!0}syncFeatureTemplates(){this._featureTemplatesViewModelIsRestricted||this._updateTemplates()}zoomTo(t){let i=this.sketchViewModel,e=t?t.geometry:i?.updateGraphics.length?i?.updateGraphics.toArray().map(n=>n.geometry).filter(ot):i?.createGraphic?.geometry;e&&this.view?.goTo(e)}toggleUpdateWorkflow(){return f(this,null,function*(){this.canUpdate&&(this.hasPendingEdits&&!(yield this.showDiscardEditsPrompt())||(this.activeWorkflow&&this.state==="awaiting-feature-to-update"?yield this.cancelWorkflow({force:!0}):yield this.startUpdateWorkflowAtFeatureSelection()))})}restrictFeatureTemplatesViewModelToLayer(t){return this._featureTemplatesViewModelIsRestricted=!0,this._setFeatureTemplatesViewModelLayers([t]),ve(()=>{this._featureTemplatesViewModelIsRestricted=!1,this._setFeatureTemplatesViewModelLayers(this.featureTemplatesLayers)})}_getEditorItemCandidates(t){return f(this,null,function*(){let{view:i}=this;if(!i?.map)return[];let{map:e}=i,n=e.editableLayers.toArray(),o=e.allTables.toArray().filter(r=>uc(r)||Ri(r));return yield Promise.allSettled([...n.flatMap(r=>this._getLayerLoadPromise(r)),...o.flatMap(r=>this._getLayerLoadPromise(r))]),Le(t),[...n.reverse(),...o.reverse()].filter(r=>fa(r)&&(r.geometryType!=="mesh"||i.type==="3d")).flatMap(r=>r.type==="subtype-group"?r.sublayers.toArray():r)})}_getLayerLoadPromise(t){return Ri(t)?t.loadAll():t.load()}_drainEditorItems(){this.editorItems.drain(t=>t.destroy())}_updateEditorItems(){ft(this._updateItemsTask);let{view:t}=this,i=Ui(e=>f(this,null,function*(){if(!t?.map||!t?.allLayerViews)return;let n=yield this._getEditorItemCandidates(e);if(!n.length)return void this._drainEditorItems();let o=[],r=[],a=[],{layerInfos:c}=this;for(let u of n){let p=Hz(c,u),h=yield Rs(t,u).catch(()=>null);(p?o:h?r:a).push(new mO({layer:u,layerInfo:p,layerView:h}))}c?.length&&o.sort((u,p)=>c.findIndex(({layer:h})=>h===u.layer)-c.findIndex(({layer:h})=>h===p.layer));let d=[...o,...r,...a];e.aborted||(this._drainEditorItems(),this.editorItems.addMany(d))}));this._updatingHandles.addPromise(i.promise),this._updateItemsTask=i}_updateTemplates(){ft(this._updateTemplatesTask);let t=Ui(i=>f(this,null,function*(){let e=this._templatesByLayer,n=this._featureTemplatesLayersAndTables.filter(o=>!e.has(o));if(n.length>0){let o=yield lf(n.toArray(),this.view,i);for(let{layer:r,templates:a}of o)e.set(r,a)}this._setFeatureTemplatesViewModelLayers(this.featureTemplatesLayers)}));this._updatingHandles.addPromise(t.promise),this._updateTemplatesTask=t}_setFeatureTemplatesViewModelLayers(t){let i=this._templatesByLayer,e=[];for(let n of t){let o=i.get(n);o&&o.length>0&&e.push(fP(n,o))}this.featureTemplatesViewModel.templateInfos=e}_afterEditorItemsChange(){let{activeWorkflow:t}=this;if(this.syncFeatureTemplates(),!t)return;let{stepId:i}=t;t.type!=="create-features"?t.type==="update"&&(i==="awaiting-feature-to-update"&&!this.canUpdateVisible||i==="awaiting-update-feature-candidate"&&!t.hasUpdatableCandidates)&&this._cancelWorkflow():i!=="awaiting-feature-creation-info"||this.canCreate||this._cancelWorkflow()}_cancelWorkflow(t){return f(this,null,function*(){let i=this.activeWorkflow;if(!i)return void(t?.warnIfNoWorkflow&&Os("editing:no-active-workflow","There is no active workflow to cancel."));if(!t||t.force!==!1){this.emit("workflow-cancel"),this._set("activeWorkflow",null);try{yield i.cancel(t)}finally{i.destroy()}}else try{yield i.cancel(t),this._set("activeWorkflow",null),i.destroy()}catch{}})}_createCreateFeaturesWorkflow(t,i){return o_.create({viewModel:this,creationInfo:t,sketchOptions:this.sketchOptions,snappingManager:this._snappingManager,startAt:i,applyEditsCallback:(e,n,o)=>this._applyEdits(e,n,o),applyEditsFeatureServiceCallback:(e,n,o)=>this._applyEditsFeatureService(e,n,o),addAttachmentsCallback:(e,n)=>this._addAttachments(e,n)})}_createUpdateWorkflow(t){return cO.create({viewModel:this,sketchOptions:this.sketchOptions,snappingManager:this._snappingManager,startAt:t,applyEditsCallback:(i,e,n)=>this._applyEdits(i,e,n),applyEditsFeatureServiceCallback:(i,e,n)=>this._applyEditsFeatureService(i,e,n),addAttachmentsCallback:(i,e)=>this._addAttachments(i,e)})}_addAttachments(t,i){let e=i.map(n=>this._addAttachment(t,n.feature,n.attachment))??[];return Promise.all(e)}_addAttachment(t,i,e){return f(this,null,function*(){let n=null;if(!("addAttachment"in t)||t.capabilities?.attachment==null)throw new D("editor:attachments-not-supported","Adding attachments is not supported for this layer type");return yield this._queueOperation(()=>f(this,null,function*(){return n=(yield t.addAttachment?.(i,e).catch(o=>{throw o?.error||o}))??null,n})),n})}_applyEdits(t,i,e){return f(this,null,function*(){let n=null,o=t.url?yield zS(t.url):null,r=x({returnServiceEditsOption:(!o||!sS(o))&&!RegExp("/hosted/","i").test(t.url)?"original-and-current-features":void 0},e);return yield this._queueOperation(()=>f(this,null,function*(){let{view:a}=this;if(!a)return null;let c=yield Rs(a,t).catch(()=>null);return n=yield t.applyEdits(i,r),c&&(yield He(()=>!c.updating)),n})),n})}_applyEditsFeatureService(t,i,e){return f(this,null,function*(){let n=null;return yield this._queueOperation(()=>f(this,null,function*(){return n=yield t.applyEdits(i,e)})),n})}_queueOperation(t){this._activityQueue.push(t);let i=(e,n)=>{let o=n.indexOf(e);o>-1&&n.splice(o,1)};return t().then(e=>(Array.isArray(e)?e.forEach(n=>this._handleEditsResultError(n)):this._handleEditsResultError(e),e)).catch(e=>{Os("editing:operation-error","An error occurred.",{error:e});let n={error:e,retry:()=>(i(n,this.failures),this._queueOperation(t)),cancel:()=>{i(n,this.failures)}};this._set("failures",[...this.failures,n])}).then(()=>{i(t,this._activityQueue)})}_handleEditsResultError(t){if(t!=null&&"error"in t&&t.error!=null)throw t.error;if(t!=null&&"addFeatureResults"in t){let{addFeatureResults:i,deleteFeatureResults:e,updateFeatureResults:n}=t,o=i.find(r=>!!r.error)||n.find(r=>!!r.error)||e.find(r=>!!r.error);if(o)throw o.error}}_createUpdatingResolver(){let t=$t();return this._updatingHandles.addPromise(t.promise),t}_logErrorAndCancelWorkflow(t){let{name:i,message:e,details:n}=t;Os(i??"editing:workflow-start-failed",e??void 0,n??t),this._cancelWorkflow({force:!0})}_itemIsSuspended(t){let i=this.findEditorItemForLayer(t);return i!=null&&(!i.visible||i.disabled)}};s([l()],Ie.prototype,"_featureTemplatesLayersAndTables",null),s([l()],Ie.prototype,"_snappingManager",void 0),s([l({readOnly:!0})],Ie.prototype,"activeWorkflow",void 0),s([l()],Ie.prototype,"activeLeafWorkflow",null),s([l({readOnly:!0})],Ie.prototype,"_activityQueue",void 0),s([l({readOnly:!0})],Ie.prototype,"canCreate",null),s([l()],Ie.prototype,"canCreateVisible",null),s([l({readOnly:!0})],Ie.prototype,"canUpdate",null),s([l()],Ie.prototype,"canUpdateVisible",null),s([l()],Ie.prototype,"featureTemplatesLayers",null),s([l()],Ie.prototype,"editorItems",void 0),s([l({readOnly:!0})],Ie.prototype,"failures",void 0),s([l()],Ie.prototype,"hideTemplatesForInactiveLayers",void 0),s([l({type:$v})],Ie.prototype,"attachmentsViewModel",void 0),s([l()],Ie.prototype,"featureFormViewModel",null),s([l()],Ie.prototype,"utilityNetworkAssociationAddAssociationViewModel",null),s([l({type:xm})],Ie.prototype,"featureTemplatesViewModel",void 0),s([l()],Ie.prototype,"labelOptions",null),s([l()],Ie.prototype,"layerInfos",void 0),s([l()],Ie.prototype,"ownSketchViewModel",void 0),s([l()],Ie.prototype,"sketchOptions",void 0),s([l()],Ie.prototype,"sketchViewModel",null),s([l({type:mb,nonNullable:!0})],Ie.prototype,"snappingOptions",void 0),s([l()],Ie.prototype,"spinnerViewModel",void 0),s([l()],Ie.prototype,"state",null),s([l({readOnly:!0})],Ie.prototype,"syncing",null),s([l()],Ie.prototype,"updating",null),s([l()],Ie.prototype,"tooltipOptions",null),s([l()],Ie.prototype,"valueOptions",null),s([l()],Ie.prototype,"view",null),s([l()],Ie.prototype,"canZoomTo",null),s([l()],Ie.prototype,"pageStack",void 0),s([l()],Ie.prototype,"showDiscardEditsPrompt",void 0),s([l()],Ie.prototype,"_candidateCommitted",void 0),s([l()],Ie.prototype,"page",null),s([l()],Ie.prototype,"featureFormDisabled",null),s([l()],Ie.prototype,"featureFormHasAssociation",null),s([l()],Ie.prototype,"canGoBack",null),s([l()],Ie.prototype,"shouldShowDeleteButton",null),s([l()],Ie.prototype,"hasPendingEdits",null),s([l()],Ie.prototype,"snappingManager",null),Ie=s([b(hO)],Ie);var fO=Ie;var vn=class extends R{constructor(t){super(t),this.createFeaturesSection=!0,this.directionModePicker=!1,this.editFeaturesSection=!0,this.flow=!0,this.labelsToggle=!0,this.settingsMenu=!0,this.snappingControls=!0,this.snappingControlsElements=new Ku,this.tooltipsToggle=!0,this.undoRedoButtons=!0,this.sketch=!0,this.zoomToButton=!0}};s([l({type:Boolean,nonNullable:!0})],vn.prototype,"createFeaturesSection",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"directionModePicker",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"editFeaturesSection",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"flow",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"labelsToggle",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"settingsMenu",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"snappingControls",void 0),s([l({type:Ku,nonNullable:!0})],vn.prototype,"snappingControlsElements",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"tooltipsToggle",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"undoRedoButtons",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"sketch",void 0),s([l({type:Boolean,nonNullable:!0})],vn.prototype,"zoomToButton",void 0),vn=s([b("esri.widgets.Editor.VisibleElements")],vn);var eC=vn;var Dm="esri-editor__panel-content",Fm={base:Dm,message:`${Dm}__message`,section:`${Dm}__section`,sectionGroup:`${Dm}__section__group`,scrimContainer:`${Dm}__scrim-container`},zr=()=>we({scrim:()=>import("./chunk-S3XENTVM.js")});function bn(t,...i){return g("div",{class:Ua(Fm.base,t?.showScrimOverlay?Fm.scrimContainer:void 0),key:t?.key??"panel-content"},...i,t?.showScrimOverlay?g("calcite-scrim",null):void 0)}function d_(t,...i){return g("div",{class:Fm.message,"data-testid":"panel-content-message",key:t?.key??"panel-content-message"},...i)}function Qn(t,...i){return g("div",{class:Fm.section,key:t?.key??"panel-content-section"},...i)}function gO(t,...i){return g("div",{class:Fm.sectionGroup,key:t?.key??"panel-content-section-group"},...i)}var yO=()=>zr();function _O({helpMessage:t,renderSketchToolbar:i}){return g(On,null,i(),g(bn,{key:"creating-features-panel-content"},g(d_,{key:"content-message"},t)))}var vO=()=>Promise.all([zr(),we({action:()=>import("./chunk-CXZZQXIM.js")})]);function bO({editorItems:t,filterText:i,id:e,messagesTemplates:n,onFilterTextChange:o,onSelectFeature:r,onZoomTo:a,workflow:c,editorMessages:d}){let u=new Map,p=c.data.candidates,h=0;p.map(C=>({label:Uz(C),id:C.attributes[C.layer.objectIdField],data:C})).filter(({label:C,data:M})=>{let I=i.toLowerCase(),{title:G}=M.layer,X=t.find(L=>L.layer===M.sourceLayer);return X?X.supportsUpdateWorkflow&&(!I||C?.toLowerCase().includes(I)||G?.toLowerCase().includes(I)):null}).filter(ot).forEach(C=>{h++;let M=C.data.layer;u.has(M)?u.get(M)?.items.push(C):u.set(M,{id:`${M.id}`,label:M.title??"",items:[C]})});let y=t.toArray().map(({layer:C})=>u.get(C)).filter(ot),A=h>10||i.length>0;return g(bn,{key:"feature-list"},g(Qn,null,Nd({enableListScroll:!1,filterEnabled:A,filterText:i,id:e,items:y,messages:{filterPlaceholder:n.filterPlaceholder,noItems:n.noItems,noMatches:n.noMatches},onFilterChange:C=>o(C),onItemMouseEnter:C=>r(C.data),onItemMouseLeave:()=>r(null),onItemSelect:C=>r(C.data,!0),renderItemActionEnd:C=>jz(C.data,a,d.zoomTo)})))}function Uz(t){let i=t.layer;if(!i)return null;let e=i.fieldsIndex.get(i.objectIdField),n=e.alias||e.name,{attributes:o}=t,r=Qh(i);return r&&o[r]&&`${o[r]}`||`${n}: ${o[e.name]}`}function jz(t,i,e){return g("calcite-action",{appearance:"transparent",icon:"zoom-to-object",onclick:()=>i(t),scale:"s",slot:"actions-end",text:e,title:e})}var zz={base:"esri-editor__actions"},Wd=()=>we({button:()=>import("./chunk-BTQPJTPG.js"),"split-button":()=>import("./chunk-S2DI54EY.js"),"dropdown-group":()=>import("./chunk-JJCQWH2X.js"),"dropdown-item":()=>import("./chunk-YQASGTZN.js")});function Ta({buttons:t,key:i}){return g("div",{class:zz.base,key:i??"footer-actions",slot:"footer"},t.filter(ot).map((e,n)=>e.type==="split-button"?Wz(e,n):Gz(e,n)))}var Gz=(a,r)=>{var c=a,{disabled:t,onClick:i,label:e,key:n}=c,o=Fn(c,["disabled","onClick","label","key"]);return g("calcite-button",x({disabled:t??!1,key:n??`action-${r}`,onclick:i,width:"full"},o),e)},Wz=(a,r)=>{var c=a,{disabled:t,onClick:i,key:e,dropdownItems:n}=c,o=Fn(c,["disabled","onClick","key","dropdownItems"]);return g("calcite-split-button",x({disabled:t??!1,key:e??`split-action-${r}`,width:"full",onCalciteSplitButtonPrimaryClick:i},o),g("calcite-dropdown-group",{selectionMode:"none"},n.filter(ot).map(Qz)))},Qz=(a,r)=>{var c=a,{disabled:t,onClick:i,label:e,key:n}=c,o=Fn(c,["disabled","onClick","label","key"]);return g("calcite-dropdown-item",x({disabled:t??!1,key:n??`dropdown-item-${r}`,onCalciteDropdownItemSelect:i},o),e)};var qz={notice:"esri-editor__notice"},u_=()=>we({notice:()=>import("./chunk-RIKTH4T2.js")});function AO({workflow:t,messages:i}){let e=[],n="content-start";if(t?.reliesOnOwnerAdminPrivileges){let o=i.ownerAdminNotice;e.push(g(Rm,{key:"owner-admin-notice",message:o,slot:n}))}if(t?.hasInvalidFormTemplate){let o=i.formFieldUpdateError;e.push(g(Rm,{key:"form-field-error",kind:"warning",message:o,slot:n}))}if(t?.type==="create-features"&&t.data.upload?.result?.type==="georeferenced-reprojected"){let o=i.helpMessages3d.meshReprojected;e.push(g(Rm,{key:"mesh-reprojected",kind:"warning",message:o,slot:n}))}return g(On,null,e)}function Rm(t){let i=t.kind??"brand";return g("calcite-notice",{class:qz.notice,icon:Sy[i],key:t.key,kind:i,open:!0,scale:"s"},t.title?g("div",{slot:"title"},t.title):null,g("div",{slot:"message"},t.message))}var Yz={settingsContainer:"esri-editor__settings"},wO=()=>we({accordion:()=>import("./chunk-KK5XWOLN.js"),"accordion-item":()=>import("./chunk-ZTADVLH4.js")});function CO({editorViewModel:t,messagesCommon:i,visibleElements:e}){let{snappingOptions:n,sketchOptions:o,view:r,snappingManager:a}=t,c=[],d={directionModePicker:e.directionModePicker,labelsToggle:e.labelsToggle,tooltipsToggle:e.tooltipsToggle};return Object.values(d).includes(!0)&&c.push(g(jE,{sketchOptions:o,viewType:r?.type,visibleElements:new UE(d)})),e.snappingControls&&c.push(g(zE,{afterCreate:u=>u.layerListOpen=!1,snappingManager:a,snappingOptions:n,view:r,visibleElements:e.snappingControlsElements??new Ku})),c.length===0?null:g("calcite-accordion",{appearance:"transparent",class:Yz.settingsContainer,key:"settings"},g("calcite-accordion-item",{"data-testid":"settings",heading:i.settings,iconStart:"gear"},c))}var Zz={base:"esri-editor__panel-toolbar"},xO=()=>wO();function SO({editorViewModel:t,messagesCommon:i,visibleElements:e}){return g("div",{class:Zz.base,key:"panel-toolbar"},g(CO,{editorViewModel:t,messagesCommon:i,visibleElements:e}))}var Qd=class extends Ze{constructor(){super(...arguments),this.workflow=null,this.headingLevel=4,this._iconIntersectionObserver=new IntersectionObserver((t,i)=>{t.forEach(e=>f(this,null,function*(){if(e.isIntersecting){let n=e.target;if(Jz(n))return void i.unobserve(n);let o=Kz(n),{graphic:r}=o,a=r.sourceLayer??this.workflow?.data.creationInfo?.layer;if(!a||!r)return;IO(n,!0);let c=yield Vy(r,a).catch(()=>(IO(n,!1),null));if(c==null)return;n.appendChild(c)}}))}),this.messages=null,this._renderActionEnd=({graphic:t})=>{let{workflow:i,messages:e}=this;if(!i)return;let n=t.geometry?g("calcite-action",{appearance:"transparent",icon:"zoom-to-object",onblur:()=>{i.data.temporaryHighlightFeature=null},onclick:()=>i.data.viewModel.zoomTo(t),onfocus:()=>{i.data.temporaryHighlightFeature=t},scale:"s",slot:"actions-end",text:this.messages.zoomTo,title:this.messages.zoomTo}):void 0,o=i.data.isSharedTemplateWorkflow?void 0:g("calcite-action",{appearance:"transparent",icon:"trash",onblur:()=>{i.data.temporaryHighlightFeature=null},onclick:()=>i.cancelFeature(t),onfocus:()=>{i.data.temporaryHighlightFeature=t},scale:"s",slot:"actions-end",text:e.createFeaturesSelectionList.discard,title:e.createFeaturesSelectionList.discard});return g(On,null,n,o)},this._renderItemContentEnd=({graphic:t})=>{let{workflow:i}=this;return[i?.data.isSubmittable(t)?void 0:g("calcite-icon",{class:Hr.pendingFeatureListIcon,icon:"exclamation-mark-triangle",scale:"s",slot:"content-end"})]},this._renderItemIcon=t=>{if(t?.graphic?.geometry!=null)return g("span",{afterCreate:this._afterItemCreateOrUpdate,afterRemoved:this._afterItemRemoved,afterUpdate:this._afterItemCreateOrUpdate,"data-has-icon":!1,"data-item":t,key:"icon"})},this._afterItemCreateOrUpdate=t=>{this._iconIntersectionObserver?.observe(t)},this._afterItemRemoved=t=>{this._iconIntersectionObserver?.unobserve(t)}}loadDependencies(){return we({action:()=>import("./chunk-CXZZQXIM.js"),icon:()=>import("./chunk-QXDSJABL.js"),list:()=>import("./chunk-QV3363IT.js")})}destroy(){this._iconIntersectionObserver?.disconnect(),this._iconIntersectionObserver=null}render(){let t=this.workflow;if(!t)return g(On,null,void 0);let i=this.messages,e=t.pendingFeatures.filter(n=>t.data.isDisplayable(n)).map((n,o)=>{let r=t.data.isSubmittable(n),a=r?i.createFeaturesSelectionList.featureReadyToSubmit:i.createFeaturesSelectionList.featureNotReadyToSubmit;return{disabled:!1,id:`${t.data.getFeatureTitle(n)??o}`,graphic:n,label:a,submittable:r}}).toArray();return g("div",null,g(li,{level:_r(this.headingLevel)},i.createFeaturesSelectionList.heading),g("calcite-list",{label:i.createFeaturesSelectionList.heading},Nd({enableListScroll:!1,filterEnabled:!1,filterText:"",id:"update-features-pick-list",items:e,messages:{filterPlaceholder:"",noItems:"",noMatches:""},renderIcon:this._renderItemIcon,renderItemTitle:n=>n.label,renderItemLabel:n=>n.id,onItemMouseEnter:n=>t.data.temporaryHighlightFeature=n.graphic,onItemMouseLeave:()=>t.data.temporaryHighlightFeature=null,onItemSelect:n=>t.updatePendingFeature(n.graphic),renderItemContentEnd:this._renderItemContentEnd,renderItemActionEnd:this._renderActionEnd})))}};function Kz(t){return t?.["data-item"]}function Jz(t){return!!t?.["data-has-icon"]}function IO(t,i){t&&(t["data-has-icon"]=i)}s([l()],Qd.prototype,"workflow",void 0),s([l()],Qd.prototype,"headingLevel",void 0),s([l(),ye("esri/widgets/Editor/t9n/Editor")],Qd.prototype,"messages",void 0),Qd=s([b("esri.widgets.Editor.components.PendingFeatureList")],Qd);var tC=Qd;var MO=()=>Promise.all([Wd(),u_(),zr()]);function p_({editorViewModel:t,headingLevel:i,messages:e,messagesCommon:n,onDelete:o,onDeleteAssociation:r,onSave:a,renderAttachments:c,renderFeatureForm:d,renderSketchToolbar:u}){let{activeLeafWorkflow:p,activeWorkflow:h,featureFormViewModel:y,syncing:A}=t;if(!p||!h||!y)return null;let C=p.type.includes("update"),M=C&&!p.hasPendingEdits||A||y.updating,I=C?n.update:n.create,G=p?.type==="create-features"?p.numPendingFeaturesExcludingHidden:0,X=p?.type!=="create-features"||!!p.data.selectedPendingFeature,L=G>1?vi(e.createFeaturesTemplate,{numFeatures:G}):I,Z="shouldShowAttachments"in p&&p.shouldShowAttachments&&!y.activeRelationshipInput,ge=y.inputs.every(Yl=>!Yl.visible)&&!Z,Ce=ge?g(Qn,null,p.type==="create-features"?g(tC,{headingLevel:i,key:"pending-feature-list",workflow:p}):void 0):g(Qn,{key:"panel-content-section"},g(AO,{messages:e,workflow:h}),g(gO,null,X||p.type!=="create-features"?d():g(tC,{headingLevel:i,key:"pending-feature-list",workflow:p}),Z?g("div",{key:"attachments"},g(li,{level:_r(i)},e.attachments),c()):null)),Me=()=>{let{featureFormViewModel:Yl}=t;Yl?.associationId!=null&&(Yl.associationId=null)},Yt={appearance:"solid",onClick:a,disabled:M,label:L,type:"button"},Ve={appearance:"outline",onClick:o,disabled:A,kind:"danger",label:n.delete,type:"button"},cr=O(x({},Ve),{onClick:r,label:e.deleteAssociationTitle,type:"button"}),Ji=O(x({},Ve),{primaryLabel:n.delete,primaryText:n.delete,dropdownItems:[{onClick:r,label:e.deleteAssociationTitle}],type:"split-button"}),ex={appearance:"outline",onClick:Me,disabled:A,label:n.cancel,type:"button"},_u=t.page==="viewing-associated-features"||t.page==="viewing-associated-layers"?[ex]:[Yt,t.shouldShowDeleteButton&&!t.featureFormHasAssociation?Ve:void 0,t.shouldShowDeleteButton&&t.featureFormHasAssociation?Ji:void 0,!t.shouldShowDeleteButton&&t.featureFormHasAssociation?cr:void 0];return g(On,null,ge?u():void 0,g(bn,{key:"attribute-panel-content"},Ce),g(Ta,{buttons:_u}))}var Tn="esri-editor__upload-details",Io={base:Tn,status:`${Tn}__status`,titleWrapper:`${Tn}__title-wrapper`,title:`${Tn}__title`,description:`${Tn}__description`,loader:`${Tn}__loader`,iconSuccess:`${Tn}__icon ${Tn}__icon--success`,iconError:`${Tn}__icon ${Tn}__icon--error`,fileList:`${Tn}__file-list`,file:`${Tn}__file`,fileIcon:`${Tn}__file-icon`,fileName:`${Tn}__file-name`},kO=()=>Promise.all([we({icon:()=>import("./chunk-QXDSJABL.js"),loader:()=>import("./chunk-JHM3YD5O.js")}),Wd(),zr()]);function TO(t){let{messages:i,key:e,upload:n}=t;return g(On,null,g(bn,{key:e??"upload-details"},g(Qn,null,$z(t))),n.state==="error"?g(Ta,{buttons:[{onClick:()=>n.retry(),label:i.modelUploads.error.uploadNew,iconStart:"upload-to",type:"button"}],key:"upload-details-footer-actions"}):null)}function $z(t){let i=Xz(t);return i?g("div",{class:Io.base,"data-testid":"upload-details",key:"upload-details-content"},g("div",{class:Io.status,key:"status"},i.iconContent,g("div",{class:Io.titleWrapper,key:"text"},g("div",{class:Io.title,key:"title"},i.title),g("div",{class:Io.description,key:"description"},i.description))),tG(t.upload)):null}function Xz({helpMessage:t,messages:i,upload:e}){switch(e.state){case"pending":{let{title:n,description:o}=i.modelUploads.pending;return{title:n,description:o,iconContent:g("calcite-loader",{"aria-hidden":"true",class:Io.loader,label:"",scale:"s",type:"determinate",value:Math.min(Math.round(100*e.progress),e.progress===1?100:99)})}}case"success":{let{title:n}=i.modelUploads.success;return{title:n,description:t||i.helpMessages3d.mesh,iconContent:g("calcite-icon",{class:Ua(Io.iconSuccess),icon:"check",scale:"l"})}}case"error":{let{title:n}=i.modelUploads.error;return{title:n,description:eG(e.error,i),iconContent:g("calcite-icon",{class:Ua(Io.iconError),icon:"exclamation-mark-circle",scale:"l"})}}default:return null}}function eG(t,i){if(!t)return null;let e=i.modelUploads.error.messages;switch(t.constructor){case LI:return e.noModel;case BI:return e.multipleModels;case VI:return e.conversionFailed;case D:switch(t.name){case"glt-loader-error":case"gltf-loader-invalid-glb":return e.loadFailed;case"gltf-loader-unsupported-feature":return e.unsupportedFeature;case"glt-loader-request-error":return e.resourceRequestFailed;default:return e.default}default:return e.default}}function tG(t){return g("div",{class:Io.fileList,key:"file-list"},t.files.map(i=>g("div",{class:Io.file,key:`file-${i.name}`},g("calcite-icon",{class:Io.fileIcon,icon:nG(i),scale:"s"}),g("span",{class:Io.fileName},iG(i.name)))))}function iG(t){return t.split("/").pop()?.split("\\").pop()??""}function nG(t){let i=t.name.split(".").pop()?.toLowerCase();return(i?rG[i]:null)??oG}var oG="file",EO="file-shape",m_="file-image",rG={glb:EO,gltf:EO,jpeg:m_,jpg:m_,png:m_,svg:m_,zip:"file-zip"};var h_={date:[],dateOnly:[],id:["is","isNot","startsWith","endsWith","contains","doesNotContain"],number:["is","isNot","startsWith","endsWith","contains","doesNotContain","isBlank","isNotBlank"],timeOnly:[],timestampOffset:[],string:["is","isNot","startsWith","endsWith","contains","doesNotContain","isBlank","isNotBlank","isEmpty","isNotEmpty"]};var qt=class extends R{constructor(t){super(t),this.fieldName=null,this.layer=null,this.operator="is",this.operators=h_,this.value=null}initialize(){this.addHandles(T(()=>this.layer,t=>f(this,null,function*(){t&&!t.loaded&&(yield t.load())}),re))}get domain(){let{fieldName:t,layer:i}=this;if(t&&i)return i.getFieldDomain(t)}get field(){let{fieldName:t,layer:i}=this;if(t&&i)return i.fieldsIndex.get(t)}get fields(){return(this.layer?.fields??[]).filter(t=>!!(Qa(t)||nl(t)||Yv(t)||Zv(t)))}get fieldLabel(){let{field:t}=this;return t&&(t.alias||t.name)||""}get isObjectIDField(){let{field:t}=this;return!!t&&Yv(t)}get isGlobalIDField(){let{field:t}=this;return!!t&&Zv(t)}get isIntegerField(){return qh(this.field)}get isNumericField(){return nl(this.field)}get isStringField(){return Qa(this.field)}get isTimeOnlyField(){return Bu(this.field)}get normalizedFieldName(){return WI(this.field?.name)}get state(){let{layer:t}=this;return t?t.loaded?"ready":"loading":"disabled"}get valueAsString(){let{value:t}=this;return t==null||t===""?"":`${t}`}get normalizedValue(){let{value:t,isNumericField:i,isObjectIDField:e}=this;return t==null||t===""?"":i||e?`${t}`:`'${t}'`}get whereClause(){let{normalizedFieldName:t,operator:i,normalizedValue:e}=this;return t&&i?i==="isBlank"?`${t} IS NULL`:i==="isNotBlank"?`${t} IS NOT NULL`:i==="isEmpty"?`${t} = ''`:i==="isNotEmpty"?`${t} <> ''`:e===""?null:i==="is"?`${t} = ${e}`:i==="isNot"?`${t} <> ${e}`:i==="startsWith"?`${t} LIKE ${e}%`:i==="endsWith"?`${t} LIKE %${e}`:i==="contains"?`${t} LIKE %${e}%`:i==="doesNotContain"?`${t} NOT LIKE %${e}%`:null:null}};s([l()],qt.prototype,"domain",null),s([l()],qt.prototype,"field",null),s([l()],qt.prototype,"fields",null),s([l()],qt.prototype,"fieldLabel",null),s([l()],qt.prototype,"fieldName",void 0),s([l()],qt.prototype,"isObjectIDField",null),s([l()],qt.prototype,"isIntegerField",null),s([l()],qt.prototype,"isNumericField",null),s([l()],qt.prototype,"isStringField",null),s([l()],qt.prototype,"isTimeOnlyField",null),s([l()],qt.prototype,"layer",void 0),s([l()],qt.prototype,"normalizedFieldName",null),s([l()],qt.prototype,"operator",void 0),s([l()],qt.prototype,"operators",void 0),s([l()],qt.prototype,"state",null),s([l()],qt.prototype,"value",void 0),s([l()],qt.prototype,"valueAsString",null),s([l()],qt.prototype,"normalizedValue",null),s([l()],qt.prototype,"whereClause",null),qt=s([b("esri.widgets.support.FilterCondition.FilterConditionViewModel")],qt);var DO=qt;var FO={},iC="esri-filter-condition",RO={base:iC,container:`${iC}__container`,valueInputContainer:`${iC}__value-input-container`},Mt=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.viewModel=new DO,this.visibleElements=x({},FO)}loadDependencies(){return we({input:()=>import("./chunk-PTLKWOPS.js"),option:()=>import("./chunk-2TXETXAY.js"),select:()=>import("./chunk-ULOX3FPE.js")})}get _defaultFieldName(){let{fields:t,fieldName:i}=this;return i||(t?.length?t[0].name:void 0)}get _valueInputType(){let{viewModel:t}=this;return t.isNumericField||t.isObjectIDField?"number":"text"}get _visibleOperators(){let{field:t,operators:i,viewModel:e}=this;return t?e.isStringField||e.isGlobalIDField?i.string:e.isNumericField?i.number:e.isObjectIDField?i.id:[]:[]}get _isValueInputHidden(){let{operator:t}=this;return!!t&&["isBlank","isNotBlank","isEmpty","isNotEmpty"].includes(t)}get domain(){return this.viewModel.domain}get field(){return this.viewModel.field}get fields(){return this.viewModel.fields}get fieldLabel(){return this.viewModel.fieldLabel}get fieldName(){return this.viewModel.fieldName}set fieldName(t){this.viewModel.fieldName=t}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get normalizedFieldName(){return this.viewModel.normalizedFieldName}get operator(){return this.viewModel.operator}set operator(t){this.viewModel.operator=t}get operators(){return this.viewModel.operators}set operators(t){this.viewModel.operators=t}get state(){return this.viewModel.state}get value(){return this.viewModel.value}set value(t){this.viewModel.value=t}get valueAsString(){return this.viewModel.valueAsString}castVisibleElements(t){return x(x({},FO),t)}get whereClause(){return this.viewModel.whereClause}render(){return g("div",{class:RO.base},this._renderFieldSelection(),this._renderOperatorSelection(),this._renderValueInput())}_renderFieldSelection(){let t=this.normalizedFieldName;return g("div",null,g("calcite-select",{afterCreate:()=>{this.fieldName||(this.fieldName=this._defaultFieldName)},bind:this,label:this.messages.chooseField,width:"full",onCalciteSelectChange:({currentTarget:i})=>{this.value=null,this.fieldName=i.value}},this.fields.map(i=>this._renderOption(i.name,i.alias,t))))}_renderOperatorSelection(){let{_visibleOperators:t,messages:i,operator:e}=this;if(t.length)return g("div",null,g("calcite-select",{afterUpdate:n=>{let o=n.value;this._visibleOperators.includes(o)||(this.operator=this._visibleOperators[0])},bind:this,label:i.operator,required:!0,width:"full",onCalciteSelectChange:n=>{this.operator=n.currentTarget.value}},t.map(n=>this._renderOption(n,i.operators[n],e))))}_renderOption(t,i,e){return g("calcite-option",{key:t,label:i??t,selected:t===e,value:t})}_renderValueInput(){let{valueAsString:t,domain:i,messages:e,operator:n}=this;if(!this._isValueInputHidden){if(i?.type==="coded-value"&&i.codedValues.length&&(n==="is"||n==="isNot")){let o=i.codedValues[0].code;return g("div",{key:"value-select"},g("calcite-select",{afterCreate:()=>this._afterSelectCreateOrUpdate(o),afterUpdate:()=>this._afterSelectCreateOrUpdate(o),bind:this,label:e.value,required:!0,width:"full",onCalciteSelectChange:({currentTarget:r})=>{this._onValueChange(r.value)}},i.codedValues.map(({code:r,name:a})=>this._renderOption(`${r}`,a,t))))}return g("div",{class:RO.valueInputContainer,key:"value-input"},g("calcite-input",{label:e.value,type:this._valueInputType,value:t,onCalciteInputInput:({currentTarget:o})=>{this._onValueChange(o.value)}}))}}_afterSelectCreateOrUpdate(t){this.value==null&&(this.value=t)}_onValueChange(t){let{viewModel:i}=this;t&&t!==""?i.isStringField||i.isGlobalIDField?this.value=t.toString():(i.isNumericField||i.isObjectIDField)&&(this.value=parseFloat(t)):this.value=null}};s([l()],Mt.prototype,"_defaultFieldName",null),s([l()],Mt.prototype,"_valueInputType",null),s([l()],Mt.prototype,"_visibleOperators",null),s([l()],Mt.prototype,"_isValueInputHidden",null),s([l()],Mt.prototype,"domain",null),s([l()],Mt.prototype,"field",null),s([l()],Mt.prototype,"fields",null),s([l()],Mt.prototype,"fieldLabel",null),s([l()],Mt.prototype,"fieldName",null),s([l()],Mt.prototype,"layer",null),s([l(),ye("esri/widgets/support/FilterCondition/t9n/FilterCondition")],Mt.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],Mt.prototype,"messagesCommon",void 0),s([l()],Mt.prototype,"normalizedFieldName",null),s([l()],Mt.prototype,"operator",null),s([l()],Mt.prototype,"operators",null),s([l()],Mt.prototype,"state",null),s([l()],Mt.prototype,"value",null),s([l()],Mt.prototype,"valueAsString",null),s([l()],Mt.prototype,"viewModel",void 0),s([l()],Mt.prototype,"visibleElements",void 0),s([ki("visibleElements")],Mt.prototype,"castVisibleElements",null),s([l()],Mt.prototype,"whereClause",null),Mt=s([b("esri.widgets.support.FilterCondition")],Mt);var PO=Mt;var sr=class extends R{constructor(t){super(t),this.conditionOperator="AND",this.conditionWidgets=new ee,this.layer=null,this.operators=h_}initialize(){this.addHandles([T(()=>this.layer,t=>f(this,null,function*(){t&&!t.loaded&&(yield t.load())}),re)])}get count(){return this.conditionWidgets.length}get state(){let{layer:t}=this;return t?t.loaded?"ready":"loading":"disabled"}get whereClause(){let{conditionOperator:t,whereClauses:i}=this,e="";return i.forEach((n,o)=>{e+=o>0?` ${t} (${n})`:`(${n})`}),e}get whereClauses(){return this.conditionWidgets.toArray().map(t=>t.whereClause).filter(ot)}addCondition(t,i){let{layer:e,operators:n}=this;e&&this.conditionWidgets.add(new PO(O(x({},t),{layer:e,operators:n})),i)}duplicateCondition(t){let i=this.conditionWidgets.at(t);if(!i)return;let{fieldName:e,operator:n,value:o}=i;this.addCondition({fieldName:e,operator:n,value:o})}reset(){this.conditionWidgets.removeAll()}removeCondition(t){t==null?this.conditionWidgets.pop():this.conditionWidgets.splice(t,1)}};s([l()],sr.prototype,"conditionOperator",void 0),s([l()],sr.prototype,"conditionWidgets",void 0),s([l()],sr.prototype,"count",null),s([l()],sr.prototype,"layer",void 0),s([l()],sr.prototype,"operators",void 0),s([l()],sr.prototype,"state",null),s([l()],sr.prototype,"whereClause",null),s([l()],sr.prototype,"whereClauses",null),sr=s([b("esri.widgets.support.FilterBuilder.FilterBuilderViewModel")],sr);var OO=sr;var VO={fab:!0,menu:!0},f_="esri-filter-builder",nC={base:f_,container:`${f_}__container`,conditionContainer:`${f_}__condition-container`,operatorSelect:`${f_}__operator-select`},An=class extends Ze{constructor(t,i){super(t,i),this.messages=null,this.messagesCommon=null,this.viewModel=new OO,this.visibleElements=x({},VO)}loadDependencies(){return we({action:()=>import("./chunk-CXZZQXIM.js"),"action-menu":()=>import("./chunk-O5BPNJF3.js"),block:()=>import("./chunk-F3ZSOXTW.js"),fab:()=>import("./chunk-G7EP27DA.js"),option:()=>import("./chunk-2TXETXAY.js"),select:()=>import("./chunk-ULOX3FPE.js")})}get conditionOperator(){return this.viewModel.conditionOperator}set conditionOperator(t){this.viewModel.conditionOperator=t}get count(){return this.viewModel.count}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get operators(){return this.viewModel.operators}set operators(t){this.viewModel.operators=t}get state(){return this.viewModel.state}castVisibleElements(t){return x(x({},VO),t)}get whereClause(){return this.viewModel.whereClause}get whereClauses(){return this.viewModel.whereClauses}render(){return g("div",{class:nC.base},this._renderOperatorSelect(),this._renderConditions(),this._renderFAB())}reset(){this.viewModel.reset()}_renderOperatorSelect(){if(this.count<2)return;let{conditionOperator:t,messages:i}=this,e=t==="AND";return g("div",{class:nC.operatorSelect},g("calcite-select",{label:i.condition,width:"full",onCalciteSelectChange:({currentTarget:n})=>{this.conditionOperator=n.value}},g("calcite-option",{label:i.allAreTrue,selected:e,value:"AND"}),g("calcite-option",{label:i.anyAreTrue,selected:!e,value:"OR"})))}_renderConditions(){return this.viewModel.conditionWidgets.toArray().map((t,i)=>this._renderConditionContainer(t,i))}_renderConditionContainer(t,i){return g("calcite-block",{class:nC.conditionContainer,heading:this.messages.condition,open:!0},t.render(),this._renderConditionrMenu(i))}_renderFAB(){if(!this.visibleElements.fab)return;let t=this.state==="loading";return g("calcite-fab",{appearance:"outline-fill",disabled:t,icon:"plus",kind:"neutral",loading:t,onclick:()=>this.viewModel.addCondition(),text:this.messages.addNew,textEnabled:!0})}_renderConditionrMenu(t){if(!this.visibleElements.menu)return;let{messages:i}=this;return g("calcite-action-menu",{label:i.moreOptions,overlayPositioning:"fixed",placement:"bottom-end",slot:"control"},g("calcite-action",{onclick:()=>this.viewModel.removeCondition(t),text:i.delete,textEnabled:!0}),g("calcite-action",{onclick:()=>this.viewModel.duplicateCondition(t),text:i.duplicate,textEnabled:!0}))}};s([l()],An.prototype,"conditionOperator",null),s([l()],An.prototype,"count",null),s([l()],An.prototype,"layer",null),s([l(),ye("esri/widgets/support/FilterBuilder/t9n/FilterBuilder")],An.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],An.prototype,"messagesCommon",void 0),s([l()],An.prototype,"operators",null),s([l()],An.prototype,"state",null),s([l()],An.prototype,"viewModel",void 0),s([l()],An.prototype,"visibleElements",void 0),s([ki("visibleElements")],An.prototype,"castVisibleElements",null),s([l()],An.prototype,"whereClause",null),s([l()],An.prototype,"whereClauses",null),An=s([b("esri.widgets.support.FilterBuilder")],An);var LO=An;var Gr="esri-feature-form-utility-network-association-layers",lr={base:Gr,header:`${Gr}__header`,headingContent:`${Gr}__heading-content`,featureObserver:`${Gr}__feature-observer`,filterContainer:`${Gr}__filter-container`,filterOptionsContainer:`${Gr}__filter-options-container`,filterOptionsHeader:`${Gr}__filter-options-header`,listContainer:`${Gr}__list-container`,stickySpinnerContainer:`${Gr}__sticky-loading-container`,loadingContainer:`${Gr}__loading-container`},wi=class extends Ze{constructor(t,i){super(t,i),this.headingLevel=5,this.messagesCommon=null,this.messagesFeature=null,this.messagesFeatureForm=null,this.messagesFilterBuilder=null,this.viewModel=new km,this._filterBuilder=new LO,this._featureFilterText="",this._layerFilterText="",this._observer=new IntersectionObserver(([e])=>{e?.isIntersecting&&this._increaseFeaturePage()},{root:window.document}),this._observerNode=null}initialize(){this.addHandles([T(()=>this.viewModel,()=>this.reset()),T(()=>[this.viewModel.state,this._observerNode],()=>this._onObserverChange()),T(()=>this.selectedLayer,t=>{this._filterBuilder.layer=t,t||(this.filterOptionsVisible=!1,this._featureFilterText="")})])}loadDependencies(){return we({action:()=>import("./chunk-CXZZQXIM.js"),button:()=>import("./chunk-BTQPJTPG.js"),icon:()=>import("./chunk-QXDSJABL.js"),input:()=>import("./chunk-PTLKWOPS.js"),list:()=>import("./chunk-QV3363IT.js"),"list-item":()=>import("./chunk-PXFXZ5UQ.js"),loader:()=>import("./chunk-JHM3YD5O.js")})}get filterOptionsVisible(){return this.viewModel.filterOptionsVisible}set filterOptionsVisible(t){this.viewModel.filterOptionsVisible=t}get selectedLayer(){return this.viewModel.selectedLayer}set selectedLayer(t){this.viewModel.selectedLayer=t}get selectedFeature(){return this.viewModel.selectedFeature}set selectedFeature(t){this.viewModel.selectedFeature=t}get filterWhereClause(){return this.viewModel.filterWhereClause}set filterWhereClause(t){this.viewModel.filterWhereClause=t,t||this._filterBuilder.reset()}get _filteredFeatureItems(){let{_featureFilterText:t}=this;return this.viewModel.featureItems.map(i=>({label:i.label,graphic:i.feature,layer:i.feature.sourceLayer})).filter(i=>i.label?.toLowerCase().includes(t)??!1)}render(){let{state:t,filterOptionsVisible:i}=this.viewModel;return g("div",{class:this.classes(lr.base,be.widget)},t==="loading"?this._renderLoading():i?this._renderFilterOptions():this.selectedLayer?this._renderFeatures():this._renderLayers())}applyFilterOptions(){let{selectedLayer:t}=this;this.filterOptionsVisible=!1,t&&(this.filterWhereClause=this._filterBuilder.whereClause)}reset(){this.filterWhereClause=null,this._featureFilterText="",this._layerFilterText="",this.filterOptionsVisible=!1,this._filterBuilder.reset()}_onObserverChange(){return f(this,null,function*(){this._observerNode&&this._observer.unobserve(this._observerNode);let{state:t}=this.viewModel;this._observerNode&&t==="ready"&&this._observer.observe(this._observerNode)})}_increaseFeaturePage(){let{featureCount:t,featurePage:i,state:e}=this.viewModel;t||i===1?e==="ready"&&this.viewModel.featurePage++:this.viewModel.featurePage=1}_renderStickyLoading(){return this.viewModel.state==="querying"?g("div",{class:lr.stickySpinnerContainer,key:"sticky-loader"},this._renderLoadingIcon()):null}_renderLoading(){return g("div",{class:lr.loadingContainer,key:"loading-container"},this._renderLoadingIcon())}_renderLoadingIcon(){return g("calcite-loader",{inline:!0,label:this.messagesCommon.loading})}_renderFilterOptions(){return g("div",{class:lr.filterOptionsContainer},g("div",{class:lr.filterOptionsHeader},g("span",null,this.messagesFilterBuilder.widgetLabel),g("calcite-button",{appearance:"transparent",onclick:()=>this._filterBuilder.reset()},this.messagesCommon.clear)),this._filterBuilder.render())}_renderLayers(){let t=this.messagesFeatureForm.associations,i=t.availableLayers,e=t.filterLayers;return g("div",null,this._renderHeader({heading:i,placeholder:e,renderFilterOptions:!1,renderTotal:!1}),g("div",{class:lr.listContainer},g("calcite-list",{label:t.associatedFeatures},this._renderLayerItems(),this._renderStickyLoading())))}_renderLayerItems(){let{_layerFilterText:t,viewModel:i,messagesCommon:e}=this,{layerItems:n}=i;return n.map(o=>({label:o.title??e.untitled,layer:o})).filter(o=>o.label?.toLowerCase().includes(t)??!1).toArray().map(o=>this._renderLayerItem(o))}_renderLayerItem(t){let{label:i,layer:e}=t;return g("calcite-list-item",{key:`layer-item-${e.id}`,label:nc(i),onCalciteListItemSelect:()=>{this.selectedLayer=e,this._filterBuilder.reset()}},g("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_renderFeatures(){let{selectedLayer:t}=this;if(!t)return;let i=this.messagesFeatureForm.associations,e=t.title??this.messagesCommon.untitled,n=i.filterFeatures;return g("div",null,this._renderHeader({heading:e,placeholder:n,renderFilterOptions:!0,renderTotal:!0}),g("div",{class:lr.listContainer},g("calcite-list",{label:i.associatedFeatures},this._renderFeatureItems(),this._renderStickyLoading(),this._renderFeatureObserver())))}_renderFeatureItems(){return this._filteredFeatureItems.toArray().map(t=>this._renderFeatureItem(t))}_renderFeatureItem(t){let{label:i,graphic:e}=t;return g("calcite-list-item",{key:`feature-item-${e.uid}`,label:nc(i),onCalciteListItemSelect:()=>{this.selectedFeature={feature:e,label:i}}},g("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s",slot:"content-end"}))}_onObserverCreate(t){this._observerNode=t}_renderFeatureObserver(){return g("div",{afterCreate:this._onObserverCreate,bind:this,class:lr.featureObserver,key:"feature-observer"})}_renderHeader(t){return g("div",{class:lr.header,key:"filter"},this._renderHeading(t.heading),this._renderFilter(t.placeholder,t.renderFilterOptions),t.renderTotal?this._renderTotal():null)}_renderHeading(t){return t?g(li,{key:"title",level:this.headingLevel},g("div",{class:lr.headingContent},g("calcite-icon",{icon:"layer"}),t)):null}_renderFilter(t,i){let e=!this.selectedLayer,n=e?this._layerFilterText:this._featureFilterText;return g("div",{class:lr.filterContainer,key:"filter"},g("calcite-input",{icon:"search",placeholder:t,type:"search",value:n,onCalciteInputInput:o=>{e?this._layerFilterText=o.currentTarget.value.trim().toLowerCase():this._featureFilterText=o.currentTarget.value.trim().toLowerCase()}},i?this._renderFilterOptionsAction():null))}_renderFilterOptionsAction(){let t=this.messagesFeatureForm.associations.filterOptions;return g("calcite-action",{appearance:"transparent",icon:"sliders",indicator:!!this._filterBuilder.whereClause,onclick:()=>{this.viewModel.filterOptionsVisible=!this.viewModel.filterOptionsVisible},scale:"s",slot:"action",text:t,title:t})}_renderTotal(){let{messagesFeature:t,viewModel:i}=this,e=vi(t.numberRecords,{number:i.featureCount});return g("div",{key:"total"},e)}};s([l()],wi.prototype,"filterOptionsVisible",null),s([l()],wi.prototype,"headingLevel",void 0),s([l(),ye("esri/t9n/common")],wi.prototype,"messagesCommon",void 0),s([l(),ye("esri/widgets/Feature/t9n/Feature")],wi.prototype,"messagesFeature",void 0),s([l(),ye("esri/widgets/FeatureForm/t9n/FeatureForm")],wi.prototype,"messagesFeatureForm",void 0),s([l(),ye("esri/widgets/support/FilterBuilder/t9n/FilterBuilder")],wi.prototype,"messagesFilterBuilder",void 0),s([l()],wi.prototype,"selectedLayer",null),s([l({type:km})],wi.prototype,"viewModel",void 0),s([l()],wi.prototype,"selectedFeature",null),s([l()],wi.prototype,"filterWhereClause",null),s([l()],wi.prototype,"_filterBuilder",void 0),s([l()],wi.prototype,"_featureFilterText",void 0),s([l()],wi.prototype,"_layerFilterText",void 0),s([l()],wi.prototype,"_observer",void 0),s([l()],wi.prototype,"_filteredFeatureItems",null),s([l()],wi.prototype,"_observerNode",void 0),wi=s([b("esri.widgets.FeatureForm.FeatureFormUtilityNetworkAssociations.UtilityNetworkAssociationItemList")],wi);var BO=wi;function oC(t,i){return!!(t.layer&&"globalIdField"in t.layer&&t.layer.globalIdField&&i.fromNetworkElement)&&t.attributes[t.layer.globalIdField]===i.fromNetworkElement.globalId}var NO="esri-feature-form-utility-network-association-settings",HO={base:NO,infoContainer:`${NO}__info-container`},Dn=class extends Ze{constructor(t,i){super(t,i),this.percentAlong=50,this.headingLevel=5,this.messagesFeature=null,this.messagesCommon=null,this.messagesFeatureForm=null,this.readOnly=!1,this.sourceFeature=null,this.targetFeature=null,this.utilityNetwork=null}loadDependencies(){return we({block:()=>import("./chunk-F3ZSOXTW.js"),combobox:()=>import("./chunk-XLG4NVYE.js"),"combobox-item":()=>import("./chunk-HOXSOD2R.js"),"input-number":()=>import("./chunk-PVXNJD2V.js"),label:()=>import("./chunk-H4FMBFSZ.js"),switch:()=>import("./chunk-TD2VCCM5.js")})}get association(){return this._get("association")}set association(t){this.percentAlong=t.percentAlong?100*t.percentAlong:50,this._set("association",t)}get associationType(){return this.association.associationType}set associationType(t){this.association.associationType=t,t!=="junction-edge-to-connectivity"&&t!=="junction-edge-from-connectivity"||(this.association.percentAlong=void 0)}render(){return g("div",{class:this.classes(HO.base,be.widget)},this._renderFromAssociationEndpoint(),this._renderToAssociationEndpoint(),this._renderAdditionalContent())}_renderFromAssociationEndpoint(){let{associationType:t,association:i,sourceFeature:e,targetFeature:n,messagesFeatureForm:o}=this,r=oC(e.feature,i)?e:n,a=r.label,c=wm(i,"from",o.associations);switch(t){case"connectivity":case"junction-junction-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-from-connectivity":case"junction-edge-to-connectivity":return this._renderAssociationEndpoint(a,c,this._renderConnectivityContent(r.feature,i.fromNetworkElement))}return this._renderAssociationEndpoint(a,c)}_renderToAssociationEndpoint(){let{associationType:t,association:i,sourceFeature:e,targetFeature:n,messagesFeatureForm:o}=this,r=oC(e.feature,i)?n:e,a=r.label,c=wm(i,"to",o.associations);switch(t){case"connectivity":case"junction-junction-connectivity":return this._renderAssociationEndpoint(a,c,this._renderConnectivityContent(r.feature,i.toNetworkElement));case"containment":return this._renderAssociationEndpoint(a,c,this._renderContainmentContent())}return this._renderAssociationEndpoint(a,c)}_renderAssociationEndpoint(t,i,e){return g("calcite-block",{description:i,heading:t,open:!0},e)}_renderContainmentContent(){let{messagesFeatureForm:t,association:i}=this,e=i.isContentVisible??!1;return g("calcite-label",{layout:"inline"},t.associations.visible,g("calcite-switch",{checked:e,onCalciteSwitchChange:({currentTarget:n})=>{i.isContentVisible=n.checked}}))}_renderConnectivityContent(t,i){let{messagesFeatureForm:e,utilityNetwork:n}=this,o=n.getTerminalConfiguration(t),r=o?.terminals.map(a=>this._renderComboboxListItemNumber(a.id,i.terminalId,a.name))||[];return g("calcite-label",null,e.associations.terminal,g("calcite-combobox",{allowCustomValues:!1,clearDisabled:!0,label:e.associations.terminalComboboxLabel,overlayPositioning:"fixed",selectionMode:"single",onCalciteComboboxChange:({currentTarget:a})=>{i.terminalId=parseInt(a.value,10)}},...r))}_renderAdditionalContent(){let{associationType:t}=this;switch(t){case"connectivity":case"junction-junction-connectivity":case"attachment":case"containment":return}let i=t==="junction-edge-midspan-connectivity"?t:"junction-edge-from-connectivity",{messagesFeatureForm:e}=this,n=[this._renderComboboxListItemString("junction-edge-midspan-connectivity",i,e.associations.midspanEdge),this._renderComboboxListItemString("junction-edge-from-connectivity",i,e.associations.endpointEdge)];return g("div",{class:HO.infoContainer},g("calcite-label",{key:"additional-content"},e.associations.connectTo,g("calcite-combobox",{allowCustomValues:!1,clearDisabled:!0,label:e.associations.edgeConnectionComboboxLabel,overlayPositioning:"fixed",selectionMode:"single",onCalciteComboboxChange:({currentTarget:o})=>{this.associationType=o.value}},...n)),i==="junction-edge-midspan-connectivity"?this._renderMidspanEdgeContent():this._renderEndpointEdgeContent())}_renderMidspanEdgeContent(){let{messagesFeatureForm:t,percentAlong:i,association:e}=this;return e.percentAlong=i/100,g("calcite-label",{key:"midspan-edge"},t.associations.midspanLocation,g("calcite-input-number",{max:100,min:0,numberButtonType:"vertical",suffixText:"%",value:`${i}`,onCalciteInputNumberInput:({currentTarget:n})=>{this.percentAlong=parseFloat(n.value)}}))}_renderEndpointEdgeContent(){let{associationType:t,messagesFeatureForm:i}=this,e=t==="junction-edge-to-connectivity";return g("calcite-label",{key:"endpoint-edge"},i.associations.edgeSide,g("calcite-label",{layout:"inline"},i.associations.fromSide,g("calcite-switch",{checked:e,onCalciteSwitchChange:({currentTarget:n})=>{let o=n.checked?"junction-edge-to-connectivity":"junction-edge-from-connectivity";this.associationType=o}}),i.associations.toSide))}_renderComboboxListItemNumber(t,i,e){return g("calcite-combobox-item",{heading:e,key:`#${t}`,selected:i===t,value:`${t}`})}_renderComboboxListItemString(t,i,e){return g("calcite-combobox-item",{heading:e,key:`#${t}`,selected:i===t,value:`${t}`})}};s([l()],Dn.prototype,"association",null),s([l()],Dn.prototype,"percentAlong",void 0),s([l()],Dn.prototype,"associationType",null),s([l()],Dn.prototype,"headingLevel",void 0),s([l(),ye("esri/widgets/Feature/t9n/Feature")],Dn.prototype,"messagesFeature",void 0),s([l(),ye("esri/t9n/common")],Dn.prototype,"messagesCommon",void 0),s([l(),ye("esri/widgets/FeatureForm/t9n/FeatureForm")],Dn.prototype,"messagesFeatureForm",void 0),s([l()],Dn.prototype,"readOnly",void 0),s([l()],Dn.prototype,"sourceFeature",void 0),s([l()],Dn.prototype,"targetFeature",void 0),s([l()],Dn.prototype,"utilityNetwork",void 0),Dn=s([b("esri.widgets.FeatureForm.FeatureFormUtilityNetworkAssociations.UtilityNetworkAssociationSettings")],Dn);var UO=Dn;var aG=500,sG=1e3;function jO({getLoading:t,setEffectiveLoading:i}){let e,n;function o(){clearTimeout(n),n=void 0}function r(c){e=c?Date.now():void 0,i(c)}function a(c,d){if(c<=0)return r(d);n=setTimeout(()=>{o(),r(d)},c)}return r(t()),$i([T(t,c=>{o(),c?a(aG,!0):a(e!=null?sG-(Date.now()-e):0,!1)},Xt),ve(o)])}var zO=Symbol("sketch-setup-handles"),it=class extends Ze{constructor(t,i){super(t,i),this._featureForm=new pP,this._sketchToolbar=null,this._attachments=new uM({visibleElements:{addSubmitButton:!1,cancelAddButton:!1,cancelUpdateButton:!1,deleteButton:!1,errorMessage:!1,progressBar:!1,updateButton:!1}}),this._associationItemList=new BO,this._associationSettings=new UO,this._featureTemplates=new CP({enableListScroll:!1,renderItemContentEnd:e=>e.supportsUpload?g("calcite-icon",{class:Hr.templateItemContentEnd,icon:"upload-to",key:"upload-icon"}):null,renderItemLabel:e=>e.label,renderCustomGroupContent:e=>this._renderCustomTemplateGroupContent(e)}),this._filterText="",this._prompt=null,this._spinner=new dE,this._loading=!1,this.headingLevel=4,this.messages=null,this.messagesCommon=null,this.messagesTemplates=null,this.messagesFeature=null,this.supportingWidgetDefaults=null,this.viewModel=new fO,this.visibleElements=new eC,this._renderAttachments=()=>this._attachments.render(),this._renderFeatureForm=()=>this._featureForm.render(),this._renderAssociationItemList=()=>this._associationItemList.render(),this._renderAssociationSettings=()=>this._associationSettings.render(),this._renderFeatureTemplates=()=>this._featureTemplates.render(),this._renderSketch=()=>this._sketchToolbar?g("div",{class:Hr.sketchContainer,key:"editor-sketch-container"},this._sketchToolbar?.render()):void 0,this._renderSelectIcon=()=>g("calcite-icon",{icon:"cursor",slot:"content-start"}),this.EditorPanel=({heading:e,key:n,selected:o},...r)=>{let{visibleElements:a}=this;return g("calcite-flow-item",{closable:!1,heading:e,headingLevel:this.headingLevel,key:n,loading:this._loading,selected:o,onCalciteFlowItemBack:this._onBack},a.zoomToButton&&this.viewModel.canZoomTo?g("calcite-action",{alignment:"center",appearance:"transparent",icon:"zoom-to-object",key:"zoom-to-button",onclick:()=>this.viewModel.zoomTo(),slot:"header-actions-end",text:this.messages.zoomTo,title:this.messages.zoomTo}):null,a.settingsMenu?g(SO,{editorViewModel:this.viewModel,messagesCommon:this.messagesCommon,visibleElements:a}):null,...r)},this._showDiscardEditsPrompt=()=>{let{messages:e,activeWorkflow:n}=this,o={title:e.cancelEditTitle,message:e.cancelEditWarningMessage,yesLabel:e.discardEdits,noLabel:e.continueEditing};return n?.type==="create-features"&&or(n.data.creationInfo)?this._showPromptAndWait(n.data.upload?.state==="success"?e.modelUploads.cancelPlacementPrompt:e.modelUploads.cancelUploadPrompt):n?.type==="update"&&n.activeFeatureFormViewModel?.activeAssociation?this._showPromptAndWait(O(x({},o),{message:e.cancelAssociationEditWarning})):this._showPromptAndWait(o)},this._showGenericCancelPrompt=()=>{let{messages:e,messagesCommon:n}=this;return this._showPromptAndWait({title:e.cancelRequestTitle,message:e.cancelRequestWarningMessage,yesLabel:n.form.yes,noLabel:n.form.no})},this._showPrompt=e=>{this._prompt?.cancel?.(),this._prompt=e},this._clearPrompt=()=>{this._prompt=null},this._onSave=()=>{this.viewModel.saveWorkflow()},this._onDelete=()=>{let{messages:e,messagesCommon:n}=this;this._showPrompt({title:e.deleteWarningTitle,message:e.deleteWarningMessage,context:"danger",actions:{primary:{label:n.delete,action:()=>{this.deleteFeatureFromWorkflow(),this._clearPrompt()}},secondary:{label:e.keepFeature,action:this._clearPrompt}}})},this._onDeleteAssociation=()=>{let{messages:e,messagesCommon:n}=this;this._showPrompt({title:e.deleteAssociationTitle,message:e.deleteAssociationMessage,context:"danger",actions:{primary:{label:n.delete,action:()=>{this.deleteAssociationFromWorkflow(),this._clearPrompt()}},secondary:{label:e.keepAssociation,action:this._clearPrompt}}})},this._onToggleUpdateWorkflow=()=>this.viewModel.toggleUpdateWorkflow(),this._onBack=e=>(e?.stopPropagation(),this.viewModel.back()),this._onAttachmentAdd=()=>{let{activeWorkflow:e}=this.viewModel;e&&(e.type==="create-features"||e.type==="update"&&e.activeWorkflow?.type==="create-features"?(this._attachments.addFile(),e.back()):this._attachments.addAttachment().then(()=>e.back()))},this._onAttachmentUpdate=()=>{let{activeWorkflow:e}=this.viewModel;e&&(e.type==="create-features"?(this._attachments.updateFile(),e.back()):this._attachments.updateAttachment().then(()=>e.back()))},this._onAttachmentDelete=()=>{let{messages:e,messagesCommon:n}=this;this._showPrompt({title:e.deleteAttachmentWarningTitle,message:e.deleteAttachmentWarningMessage,context:"danger",actions:{primary:{label:n.delete,action:this._onAttachmentDeleteConfirm},secondary:{label:e.keepAttachment,action:this._clearPrompt}}})},this._onAttachmentDeleteConfirm=()=>f(this,null,function*(){let e=this._attachments,{activeWorkflow:n}=this.viewModel;n&&(n.type==="create-features"?e.deleteFile():(yield e.deleteAttachment(e.viewModel.activeAttachmentInfo),this._clearPrompt()),yield n.back(),this._clearPrompt())}),this._onAttachmentsError=e=>{this._showPrompt({title:this.messages.errorWarningTitle,message:e.message,context:"warning",actions:{primary:{label:this.messagesCommon.form.ok,action:this._clearPrompt}}})}}initialize(){this._featureForm.showPrompt=this._showPrompt,this._featureForm.clearPrompt=this._clearPrompt,this.addHandles([T(()=>_r(this.headingLevel),t=>{this._featureForm.headingLevel=t,this._featureTemplates.headingLevel=t},re),lt(()=>this.viewModel.activeWorkflow,"cancel-request",({controller:t})=>{(this.viewModel.hasPendingEdits?this._showDiscardEditsPrompt():this._showGenericCancelPrompt()).then(i=>i?t.allow():t.deny())}),qe(()=>this.viewModel.featureFormViewModel,t=>{this._featureForm.viewModel=t},re),qe(()=>this.viewModel.utilityNetworkAssociationAddAssociationViewModel,t=>{this._associationItemList.viewModel=t},re),qe(()=>this.viewModel.utilityNetworkAssociationAddAssociationViewModel?.association,()=>{this._setUpAssociationSettings()}),T(()=>this.viewModel,t=>{this._attachments.viewModel=t?.attachmentsViewModel??null,this._featureTemplates.viewModel=t?.featureTemplatesViewModel??null,this._spinner.viewModel=t?.spinnerViewModel??null,t.showDiscardEditsPrompt=this._showDiscardEditsPrompt},re),T(()=>this.view,(t,i)=>{let e=`editor-${this.id}-spinner`;i?.ui.remove(this._spinner,e),t?.ui.add(this._spinner,{key:e,position:"manual"})},re),T(()=>[this.supportingWidgetDefaults,this.viewModel.sketchViewModel],([t])=>{t&&(this._featureForm.set(t.featureForm),this._attachments.set(t.attachments),this._featureTemplates.set(t.featureTemplates),this.viewModel.sketchViewModel?.set(t.sketch))},re),qe(()=>this._attachments?.error,t=>this._onAttachmentsError(t)),qe(()=>this.viewModel?.failures,t=>{let{messages:i}=this,[{error:e,retry:n,cancel:o}]=t;this._showPrompt({title:i.errorWarningTitle,message:vi(i.errorWarningMessageTemplate,{errorMessage:e.message}),context:"warning",actions:{primary:{label:i.retry,action:()=>{n(),this._clearPrompt()}},secondary:{label:i.ignore,action:()=>{o(),this._clearPrompt()}}}})}),T(()=>this.viewModel?.state,t=>{switch(t){case"awaiting-feature-to-update":case"ready":case"disabled":this._filterText="",this._featureTemplates.filterText=""}}),T(()=>this.viewModel.featureFormDisabled,t=>this._featureForm.disabled=t),T(()=>this.visibleElements.sketch,()=>this._setupSketch(),re),jO({getLoading:()=>{let{viewModel:t}=this;return t.syncing||t.updating||this._attachments.submitting},setEffectiveLoading:t=>{this._loading=t}})])}destroy(){this._associationItemList.destroy(),this._associationSettings.destroy(),this._attachments.destroy(),this._featureForm.destroy(),this._featureTemplates.destroy(),this._sketchToolbar=Ne(this._sketchToolbar)}loadDependencies(){return Promise.all([we({action:()=>import("./chunk-CXZZQXIM.js"),flow:()=>import("./chunk-OAM4JG7J.js"),"flow-item":()=>import("./chunk-K65PJZVW.js"),icon:()=>import("./chunk-QXDSJABL.js"),list:()=>import("./chunk-QV3363IT.js")}),yO(),vO(),Wd(),u_(),zr(),xO(),Q1(),MO(),kO()])}get _deleteButtonCommonInfo(){return{appearance:"outline",kind:"danger"}}get activeWorkflow(){return this.viewModel.activeWorkflow}get hideTemplatesForInactiveLayers(){return this.viewModel.hideTemplatesForInactiveLayers}set hideTemplatesForInactiveLayers(t){this.viewModel.hideTemplatesForInactiveLayers=t}get icon(){return"pencil"}set icon(t){this._overrideIfSome("icon",t)}get label(){return this.messages?.widgetLabel??""}set label(t){this._overrideIfSome("label",t)}get labelOptions(){return this.viewModel.labelOptions}set labelOptions(t){this.viewModel.labelOptions=t}get layerInfos(){return this.viewModel.layerInfos}set layerInfos(t){this.viewModel.layerInfos=t}get snappingOptions(){return this.viewModel.snappingOptions}set snappingOptions(t){this.viewModel.snappingOptions=t}get tooltipOptions(){return this.viewModel.tooltipOptions}set tooltipOptions(t){this.viewModel.tooltipOptions=t}get valueOptions(){return this.viewModel.valueOptions}set valueOptions(t){this.viewModel.valueOptions=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}startCreateFeaturesWorkflowAtFeatureTypeSelection(){return this.viewModel.startCreateFeaturesWorkflowAtFeatureTypeSelection()}startCreateFeaturesWorkflowAtFeatureCreation(t){return this.viewModel.startCreateFeaturesWorkflowAtFeatureCreation(t)}startCreateFeaturesWorkflowAtFeatureEdit(t){return this.viewModel.startCreateFeaturesWorkflowAtFeatureEdit(t)}startUpdateWorkflowAtFeatureSelection(){return this.viewModel.startUpdateWorkflowAtFeatureSelection()}startUpdateWorkflowAtMultipleFeatureSelection(t){return this.viewModel.startUpdateWorkflowAtMultipleFeatureSelection(t)}startUpdateWorkflowAtFeatureEdit(t){return this.viewModel.startUpdateWorkflowAtFeatureEdit(t)}deleteFeatureFromWorkflow(){return this.viewModel.deleteFeatureFromWorkflow()}deleteAssociationFromWorkflow(){return this.viewModel.deleteAssociationFromWorkflow()}cancelWorkflow(t){return this.viewModel.cancelWorkflow(t)}render(){let{visibleElements:t,viewModel:i}=this,e=this.classes(Hr.base,be.widget,be.panel);if(!i)return g("div",{class:e,key:"empty"});let{pageStack:n}=i,o=n.length-1,r=n.map((a,c)=>this._renderPage(a,c===o));return g("div",{class:e,key:"base"},t.flow?g("calcite-flow",{key:"flow"},r):r,this._prompt?g(Iy,O(x({},this._prompt),{headingLevel:this.headingLevel})):void 0)}_renderPage(t,i){let e={selected:i};switch(t){case"disabled":break;case"ready":return this._renderReady(e);case"awaiting-feature-creation-info":return this._renderAwaitingFeatureCreationInfo(e);case"creating-features-upload-details":return this._renderUploadDetails(e);case"creating-features":return this._renderCreatingFeatures(e);case"editing-existing-feature":case"editing-attributes":return this._renderUpdateFeature(e);case"awaiting-update-feature-candidate":return this._renderFeatureList(e);case"adding-attachment":return this._renderAttachmentAdding(e);case"editing-attachment":return this._renderAttachmentEditing(e);case"viewing-associated-layers":case"viewing-associated-features":return this._renderViewAssociatedLayers(e);case"add-association-select-layer":case"add-association-select-feature":return this._renderSelectFeature(e);case"add-association-create-association":return this._renderAddAssociation(e)}return g("div",{key:"empty-page"})}_renderAwaitingFeatureCreationInfo(t){let{EditorPanel:i,messages:e}=this;return g(i,x({heading:e.selectTemplate,key:"templates-panel"},t),g(bn,{key:"feature-templates"},g(Qn,null,this._renderFeatureTemplates())))}_renderUploadDetails(t){let{EditorPanel:i,activeWorkflow:e,messages:n}=this;if(e?.type!=="create-features")return null;let o=e.data.upload;return o?g(i,x({heading:n.createFeatures,key:"upload-details-panel"},t),g(TO,{helpMessage:this._helpMessage,messages:n,upload:o})):null}_renderCreatingFeatures(t){let{EditorPanel:i,activeWorkflow:e,messages:n,messagesCommon:o,headingLevel:r,viewModel:a}=this;if(!e)return null;let c=e.type==="create-features"&&e.numPendingFeatures>0||e.type==="update"&&e?.activeWorkflow?.type==="create-features"&&e.activeWorkflow?.numPendingFeatures>0;return g(i,x({heading:n.createFeatures,key:"create-features-panel"},t),c?g(p_,{editorViewModel:a,headingLevel:r,messages:n,messagesCommon:o,renderAttachments:this._renderAttachments,renderFeatureForm:this._renderFeatureForm,renderSketchToolbar:this._renderSketch,onDelete:this._onDelete,onDeleteAssociation:this._onDeleteAssociation,onSave:this._onSave}):g(_O,{helpMessage:this._helpMessage,renderSketchToolbar:this._renderSketch}))}_renderUpdateFeature(t){let{EditorPanel:i,messages:e,messagesCommon:n,headingLevel:o,viewModel:r}=this;return g(i,x({heading:e.editFeature,key:"update-feature-panel"},t),g(p_,{editorViewModel:r,headingLevel:o,messages:e,messagesCommon:n,renderAttachments:this._renderAttachments,renderFeatureForm:this._renderFeatureForm,renderSketchToolbar:this._renderSketch,onDelete:this._onDelete,onDeleteAssociation:this._onDeleteAssociation,onSave:this._onSave}))}_getAssociationTypeTitle(t){let{messages:i}=this;if(!t)return i.editFeature;if(t.title)return t.title;let{messagesFeature:e}=this;switch(t.type){case"attachment":return e.associationsAttachments;case"connectivity":return e.associationsConnectivity;case"structure":return e.associationsStructure;case"content":return e.associationsContents;case"container":return e.associationsContainer}}_getAddAssociationTypeTitle(t){let{messages:i}=this;if(!t)return i.editFeature;let e=i.associations;switch(t.type){case"attachment":return e.addAttachment;case"connectivity":return e.addConnectivity;case"structure":return e.addStructure;case"content":return e.addContent;case"container":return e.addContainer}}_renderViewAssociatedLayers(t){let{EditorPanel:i,messages:e,messagesCommon:n,headingLevel:o,viewModel:r}=this,a=r.featureFormViewModel?.activeAssociationInput?.activeAssociationType,c=this._getAssociationTypeTitle(a);return g(i,x({heading:c,key:"viewing-associated-layers-panel"},t),g(p_,{editorViewModel:r,headingLevel:o,messages:e,messagesCommon:n,renderAttachments:this._renderAttachments,renderFeatureForm:this._renderFeatureForm,renderSketchToolbar:this._renderSketch,onDelete:this._onDelete,onDeleteAssociation:this._onDeleteAssociation,onSave:this._onSave}))}_renderSelectFeature(t){let{_associationItemList:i,EditorPanel:e,viewModel:n,messagesCommon:o}=this,r=n.utilityNetworkAssociationAddAssociationViewModel,a=this._getAddAssociationTypeTitle(r?.associationType),c=r?.state!=="ready";return g(e,x({heading:a,key:"add-association-select-feature"},t),g(bn,{key:"select-feature"},g(Qn,null,this._renderAssociationItemList())),g(Ta,{buttons:[i.filterOptionsVisible?{appearance:"solid",label:o.apply,disabled:c,onClick:()=>i.applyFilterOptions(),type:"button"}:void 0,{appearance:"outline",label:o.cancel,disabled:c,onClick:()=>{n.activeWorkflow?.type==="update"&&n.activeWorkflow.cancelActiveWorkflow()},type:"button"}]}))}_setUpAssociationSettings(){let{viewModel:t,_associationSettings:i}=this,e=t.utilityNetworkAssociationAddAssociationViewModel,n=t.activeWorkflow?.type==="update"?t.activeWorkflow:null,o=n?n.activeWorkflow:null,r=o?.type==="add-association"?o.sourceFeatureItem:null,a=e?.selectedFeature,c=e?.association,d=e?.utilityNetwork;r&&a&&c&&d&&(i.sourceFeature=r,i.targetFeature=a,i.association=c,i.utilityNetwork=d)}_renderAddAssociation(t){let{EditorPanel:i,viewModel:e,messagesCommon:n}=this,o=e.utilityNetworkAssociationAddAssociationViewModel,r=this._getAddAssociationTypeTitle(o?.associationType),a=o?.state!=="ready";return g(i,x({heading:r,key:"add-association"},t),g(bn,{key:"add-association-content"},g(Qn,null,this._renderAssociationSettings())),g(Ta,{buttons:[{label:n.add,disabled:a||!o.canAddAssociation,onClick:()=>this._onSave(),type:"button"},{appearance:"outline",label:n.cancel,disabled:a,onClick:()=>{e.activeWorkflow?.type==="update"&&e.activeWorkflow.cancelActiveWorkflow()},type:"button"}]}))}_renderCustomTemplateGroupContent(t){let{messages:i,viewModel:e}=this,n=Qs(t.group.items,o=>e.itemHasInvalidFormTemplate(o)?i.formFieldCreateError:void 0);return n?g(Rm,{kind:"warning",message:n}):null}_renderAttachmentAdding(t){let{EditorPanel:i,_attachments:e,messages:n,messagesCommon:o}=this;return g(i,x({heading:n.addAttachment,key:"attachment-adding-panel"},t),g(bn,{key:"attachments"},this._renderAttachments()),g(Ta,{buttons:[{label:e.submitting?o.cancel:o.add,disabled:e.submitting||!e.selectedFile,onClick:this._onAttachmentAdd,type:"button"}]}))}_renderAttachmentEditing(t){let{EditorPanel:i,_attachments:e,activeWorkflow:n,messages:o,messagesCommon:r}=this;return n?g(i,x({heading:o.editAttachment,key:"attachment-editing-panel"},t),g(bn,{key:"attachments"},this._renderAttachments()),n.shouldAllowAttachmentEditing?g(Ta,{buttons:[{label:r.update,disabled:e.submitting||!e.selectedFile,onClick:this._onAttachmentUpdate,type:"button"},O(x({},this._deleteButtonCommonInfo),{onClick:this._onAttachmentDelete,disabled:e.submitting,label:r.delete,type:"button"})]}):void 0):null}_renderReady(t){let{EditorPanel:i,messages:e,viewModel:n,visibleElements:o}=this,r=this._helpMessage;return g(i,x({heading:e.widgetLabel,key:"landing-panel"},t),g(bn,{key:"landing-content"},n.editorItems.length?[o.editFeaturesSection?g(Qn,{key:"edit-actions"},this._renderUpdateActions()):null,o.createFeaturesSection&&n.canCreateVisible?g(Qn,{key:"create-actions"},this._renderCreateActions()):null]:g(d_,{key:"no-content"},e.noEditableLayers)),r?g("div",{class:Hr.helpMessage,key:"footer-actions",slot:"footer"},r):void 0)}get _helpMessage(){let{activeWorkflow:t,messages:i,view:e}=this,n=t?.helpMessage;return n?i[e?.type==="3d"?"helpMessages3d":"helpMessages2d"]?.[n]:void 0}_renderUpdateActions(){let{messages:t,messagesCommon:i,viewModel:e}=this,n={id:"select",label:i.select};return g("div",{class:Hr.updateActions,key:"update-actions"},g(li,{level:_r(this.headingLevel)},t.editFeatures),g("calcite-list",{class:Hr.updateActionsList,label:t.editFeaturesList,selectionAppearance:"border",selectionMode:"single"},Oy({disabled:!e.canUpdateVisible,grouped:!1,item:n,selectedItem:e.activeWorkflow?.stepId==="awaiting-feature-to-update"?n:void 0,renderIcon:this._renderSelectIcon,onItemSelect:this._onToggleUpdateWorkflow})))}_renderCreateActions(){return g("div",{key:"create-actions"},g(li,{level:_r(this.headingLevel)},this.messages.createFeatures),g("div",{class:Hr.featureTemplatesContainer,key:"templates"},this._renderFeatureTemplates()))}_renderFeatureList(t){let{EditorPanel:i,viewModel:e}=this,{activeWorkflow:n}=e;if(n?.type!=="update")return null;let o=n.data.candidates,r=vi(this.messages.multipleFeaturesTemplate,{total:o.length});return g(i,x({heading:r,key:"feature-list"},t),g(bO,{editorItems:e.editorItems,editorMessages:this.messages,filterText:this._filterText,id:this.id,messagesTemplates:this.messagesTemplates,workflow:n,onFilterTextChange:a=>this._filterText=a,onSelectFeature:(a,c)=>e.selectFeature(a,c),onZoomTo:a=>e.zoomTo(a)}))}_showPromptAndWait({title:t,message:i,yesLabel:e,noLabel:n}){let o=$t(),{view:r}=this,a=r?.focused;return this._showPrompt({title:t,message:i,context:"danger",actions:{primary:{label:e,action:()=>o.resolve(!0)},secondary:{label:n,action:()=>o.resolve(!1)}}}),o.promise.finally(()=>{this._clearPrompt(),a&&r?.focus()})}_setupSketch(){return f(this,null,function*(){if(!this.visibleElements.sketch)return this._sketchImportAbortController=ft(this._sketchImportAbortController),this._sketchToolbar=Ne(this._sketchToolbar),void this.removeHandles(zO);if(this._sketchImportAbortController)return;let t=new AbortController;this._sketchImportAbortController=t;let i=yield import("./chunk-S4WT47IS.js");if(!t.signal.aborted)try{this._sketchToolbar=new i.default({toolbarKind:"docked",contextualToolLocation:"inline-end",scale:"s",visibleElements:new WE({deleteButton:!1,settingsMenu:!1,directionModePicker:!1,selectionCountLabel:!1,duplicateButton:!1,createTools:new GE({freehandPolygon:!0,freehandPolyline:!0})})}),this.addHandles([T(()=>this.viewModel.activeLeafWorkflow?.availableCreateTools,e=>{this._sketchToolbar&&(this._sketchToolbar.availableCreateTools=e)},re),T(()=>this.visibleElements.undoRedoButtons,e=>{this._sketchToolbar&&(this._sketchToolbar.visibleElements.undoRedoMenu=e)},re),qe(()=>this.viewModel?.sketchViewModel,e=>{this._sketchToolbar&&(this._sketchToolbar.viewModel=e)},re)],zO)}finally{this._sketchImportAbortController=null}})}get test(){return{sketch:this._sketchToolbar,showPrompt:this._showPromptAndWait.bind(this)}}};s([l()],it.prototype,"_featureForm",void 0),s([l()],it.prototype,"_sketchToolbar",void 0),s([l()],it.prototype,"_attachments",void 0),s([l()],it.prototype,"_associationItemList",void 0),s([l()],it.prototype,"_associationSettings",void 0),s([l()],it.prototype,"_featureTemplates",void 0),s([l()],it.prototype,"_filterText",void 0),s([l()],it.prototype,"_prompt",void 0),s([l()],it.prototype,"_spinner",void 0),s([l()],it.prototype,"_deleteButtonCommonInfo",null),s([l()],it.prototype,"_loading",void 0),s([l({readOnly:!0})],it.prototype,"activeWorkflow",null),s([l()],it.prototype,"headingLevel",void 0),s([l()],it.prototype,"hideTemplatesForInactiveLayers",null),s([l()],it.prototype,"icon",null),s([l()],it.prototype,"label",null),s([l()],it.prototype,"labelOptions",null),s([l()],it.prototype,"layerInfos",null),s([l(),ye("esri/widgets/Editor/t9n/Editor")],it.prototype,"messages",void 0),s([l(),ye("esri/t9n/common")],it.prototype,"messagesCommon",void 0),s([l(),ye("esri/widgets/FeatureTemplates/t9n/FeatureTemplates")],it.prototype,"messagesTemplates",void 0),s([l(),ye("esri/widgets/Feature/t9n/Feature")],it.prototype,"messagesFeature",void 0),s([l()],it.prototype,"snappingOptions",null),s([l()],it.prototype,"tooltipOptions",null),s([l()],it.prototype,"supportingWidgetDefaults",void 0),s([l({type:EE,nonNullable:!0})],it.prototype,"valueOptions",null),s([l()],it.prototype,"view",null),s([l(),vr(["sketch-create","sketch-delete","sketch-update","workflow-cancel","workflow-commit"])],it.prototype,"viewModel",void 0),s([l({type:eC,nonNullable:!0})],it.prototype,"visibleElements",void 0),s([l()],it.prototype,"_helpMessage",null),it=s([b("esri.widgets.Editor")],it);var GO=it;function lG(t,i){}var Vs=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;componentFactoryResolver;providers;container;templateContext};var aC=(()=>{class t extends pa{_elementRef=m(oe);_focusTrapFactory=m(zf);_config;_interactivityChecker=m(jf);_ngZone=m(pe);_overlayRef=m(_l);_focusMonitor=m(aa);_renderer=m(Pt);_platform=m(De);_document=m(fe,{optional:!0});_portalOutlet;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_changeDetectorRef=m(je);_injector=m(Te);_isDestroyed=!1;constructor(){super(),this._config=m(Vs,{optional:!0})||new Vs,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let n=this._ariaLabelledByQueue.indexOf(e);n>-1&&(this._ariaLabelledByQueue.splice(n,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}attachDomPortal=e=>{this._portalOutlet.hasAttached();let n=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),n};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),a(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),a=this._renderer.listen(e,"mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_trapFocus(){this._isDestroyed||mi(()=>{let e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,n=null;if(typeof e=="string"?n=this._document.querySelector(e):typeof e=="boolean"?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&typeof n.focus=="function"){let o=ra(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let e=this._elementRef.nativeElement,n=ra();return e===n||e.contains(n)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ra()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(n,o){if(n&1&&le(gn,7),n&2){let r;J(r=$())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(n,o){n&2&&ue("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[Xe],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(n,o){n&1&&V(0,lG,0,0,"ng-template",0)},dependencies:[gn],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return t})(),Pm=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new Q;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(i,e){this.overlayRef=i,this.config=e,this.disableClose=e.disableClose,this.backdropClick=i.backdropClick(),this.keydownEvents=i.keydownEvents(),this.outsidePointerEvents=i.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!bt(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=i.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(i,e){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(i),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(i="",e=""){return this.overlayRef.updateSize({width:i,height:e}),this}addPanelClass(i){return this.overlayRef.addPanelClass(i),this}removePanelClass(i){return this.overlayRef.removePanelClass(i),this}},cG=new H("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.block()}}),dG=new H("DialogData"),uG=new H("DefaultDialogConfig");var WO=(()=>{class t{_overlay=m(yt);_injector=m(Te);_defaultOptions=m(uG,{optional:!0});_parentDialog=m(t,{optional:!0,skipSelf:!0});_overlayContainer=m(jp);_idGenerator=m(Dt);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Q;_afterOpenedAtThisLevel=new Q;_ariaHiddenElements=new Map;_scrollStrategy=m(cG);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Qr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ht(void 0)));constructor(){}open(e,n){let o=this._defaultOptions||new Vs;n=x(x({},o),n),n.id=n.id||this._idGenerator.getId("cdk-dialog-"),n.id&&this.getDialogById(n.id);let r=this._getOverlayConfig(n),a=this._overlay.create(r),c=new Pm(a,n),d=this._attachContainer(a,c,n);return c.containerInstance=d,this._attachDialogContent(e,c,d,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.closed.subscribe(()=>this._removeOpenDialog(c,!0)),this.afterOpened.next(c),c}closeAll(){rC(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){rC(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),rC(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let n=new mo({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,o){let r=o.injector||o.viewContainerRef?.injector,a=[{provide:Vs,useValue:o},{provide:Pm,useValue:n},{provide:_l,useValue:e}],c;o.container?typeof o.container=="function"?c=o.container:(c=o.container.type,a.push(...o.container.providers(o))):c=aC;let d=new fn(c,o.viewContainerRef,Te.create({parent:r||this._injector,providers:a}));return e.attach(d).instance}_attachDialogContent(e,n,o,r){if(e instanceof ln){let a=this._createInjector(r,n,o,void 0),c={$implicit:r.data,dialogRef:n};r.templateContext&&(c=x(x({},c),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new Cn(e,null,c,a))}else{let a=this._createInjector(r,n,o,this._injector),c=o.attachComponentPortal(new fn(e,r.viewContainerRef,a));n.componentRef=c,n.componentInstance=c.instance}}_createInjector(e,n,o,r){let a=e.injector||e.viewContainerRef?.injector,c=[{provide:dG,useValue:e.data},{provide:Pm,useValue:n}];return e.providers&&(typeof e.providers=="function"?c.push(...e.providers(n,e,o)):c.push(...e.providers)),e.direction&&(!a||!a.get(Nt,null,{optional:!0}))&&c.push({provide:Nt,useValue:{value:e.direction,change:se()}}),Te.create({parent:a||r,providers:c})}_removeOpenDialog(e,n){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let e=this._overlayContainer.getContainerElement();if(e.parentElement){let n=e.parentElement.children;for(let o=n.length-1;o>-1;o--){let r=n[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rC(t,i){let e=t.length;for(;e--;)i(t[e])}function pG(t,i){}var Vm=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;componentFactoryResolver;enterAnimationDuration;exitAnimationDuration},sC="mdc-dialog--open",QO="mdc-dialog--opening",qO="mdc-dialog--closing",mG=150,hG=75,KO=(()=>{class t extends aC{_animationMode=m(rt,{optional:!0});_animationStateChanged=new q;_animationsEnabled=this._animationMode!=="NoopAnimations";_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?ZO(this._config.enterAnimationDuration)??mG:0;_exitAnimationDuration=this._animationsEnabled?ZO(this._config.exitAnimationDuration)??hG:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(YO,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(QO,sC)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(sC),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(sC),this._animationsEnabled?(this._hostElement.style.setProperty(YO,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(qO)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(QO,qO)}_waitForAnimationToComplete(e,n){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(n,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let n=super.attachComponentPortal(e);return n.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),n}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275cmp=U({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(n,o){n&2&&(ur("id",o._config.id),ue("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),te("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[Xe],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(v(0,"div",0)(1,"div",1),V(2,pG,0,0,"ng-template",2),_()())},dependencies:[gn],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mdc-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mdc-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mdc-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mdc-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mdc-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mdc-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mdc-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mdc-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mdc-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mdc-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mdc-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mdc-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return t})(),YO="--mat-dialog-transition-duration";function ZO(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?Qo(t.substring(0,t.length-2)):t.endsWith("s")?Qo(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Om=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Om||{}),qd=class{_ref;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Q;_beforeClosed=new Q;_result;_closeFallbackTimeout;_state=Om.OPEN;_closeInteractionType;constructor(i,e,n){this._ref=i,this._containerInstance=n,this.disableClose=e.disableClose,this.id=i.id,i.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(nt(o=>o.state==="opened"),Zt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(nt(o=>o.state==="closed"),Zt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),i.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Mi(this.backdropClick(),this.keydownEvents().pipe(nt(o=>o.keyCode===27&&!this.disableClose&&!bt(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),lC(this,o.type==="keydown"?"keyboard":"mouse"))})}close(i){this._result=i,this._containerInstance._animationStateChanged.pipe(nt(e=>e.state==="closing"),Zt(1)).subscribe(e=>{this._beforeClosed.next(i),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Om.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(i){let e=this._ref.config.positionStrategy;return i&&(i.left||i.right)?i.left?e.left(i.left):e.right(i.right):e.centerHorizontally(),i&&(i.top||i.bottom)?i.top?e.top(i.top):e.bottom(i.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(i="",e=""){return this._ref.updateSize(i,e),this}addPanelClass(i){return this._ref.addPanelClass(i),this}removePanelClass(i){return this._ref.removePanelClass(i),this}getState(){return this._state}_finishDialogClose(){this._state=Om.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function lC(t,i,e){return t._closeInteractionType=i,t.close(e)}var JO=new H("MatMdcDialogData"),$O=new H("mat-mdc-dialog-default-options"),XO=new H("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.block()}});var Yi=(()=>{class t{_overlay=m(yt);_defaultOptions=m($O,{optional:!0});_scrollStrategy=m(XO);_parentDialog=m(t,{optional:!0,skipSelf:!0});_idGenerator=m(Dt);_dialog=m(WO);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new Q;_afterOpenedAtThisLevel=new Q;dialogConfigClass=Vm;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Qr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ht(void 0)));constructor(){this._dialogRefConstructor=qd,this._dialogContainerType=KO,this._dialogDataToken=JO}open(e,n){let o;n=x(x({},this._defaultOptions||new Vm),n),n.id=n.id||this._idGenerator.getId("mat-mdc-dialog-"),n.scrollStrategy=n.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,O(x({},n),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:n},{provide:Vs,useValue:n}]},templateContext:()=>({dialogRef:o}),providers:(a,c,d)=>(o=new this._dialogRefConstructor(a,n,d),o.updatePosition(n?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let n=e.length;for(;n--;)e[n].close()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ci=(()=>{class t{dialogRef=m(qd,{optional:!0});_elementRef=m(oe);_dialog=m(Yi);ariaLabel;type="button";dialogResult;_matDialogClose;constructor(){}ngOnInit(){this.dialogRef||(this.dialogRef=eV(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){let n=e._matDialogClose||e._matDialogCloseResult;n&&(this.dialogResult=n.currentValue)}_onButtonClick(e){lC(this.dialogRef,e.screenX===0&&e.screenY===0?"keyboard":"mouse",this.dialogResult)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(n,o){n&1&&P("click",function(a){return o._onButtonClick(a)}),n&2&&ue("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[ht]})}return t})(),fG=(()=>{class t{_dialogRef=m(qd,{optional:!0});_elementRef=m(oe);_dialog=m(Yi);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=eV(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t})}return t})();var xi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Mx([Qc])]})}return t})(),Si=(()=>{class t extends fG{align;_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275dir=ne({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(n,o){n&2&&te("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},features:[Xe]})}return t})();function eV(t,i){let e=t.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?i.find(n=>n.id===e.id):null}var gG=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-text-field-style-loader",""],decls:0,vars:0,template:function(n,o){},styles:["textarea.cdk-textarea-autosize{resize:none}textarea.cdk-textarea-autosize-measuring{padding:2px 0 !important;box-sizing:content-box !important;height:auto !important;overflow:hidden !important}textarea.cdk-textarea-autosize-measuring-firefox{padding:2px 0 !important;box-sizing:content-box !important;height:0 !important}@keyframes cdk-text-field-autofill-start{/*!*/}@keyframes cdk-text-field-autofill-end{/*!*/}.cdk-text-field-autofill-monitored:-webkit-autofill{animation:cdk-text-field-autofill-start 0s 1ms}.cdk-text-field-autofill-monitored:not(:-webkit-autofill){animation:cdk-text-field-autofill-end 0s 1ms}"],encapsulation:2,changeDetection:0})}return t})(),yG={passive:!0},tV=(()=>{class t{_platform=m(De);_ngZone=m(pe);_renderer=m(Ni).createRenderer(null,null);_styleLoader=m(Bt);_monitoredElements=new Map;constructor(){}monitor(e){if(!this._platform.isBrowser)return Rn;this._styleLoader.load(gG);let n=hn(e),o=this._monitoredElements.get(n);if(o)return o.subject;let r=new Q,a="cdk-text-field-autofilled",c=u=>{u.animationName==="cdk-text-field-autofill-start"&&!n.classList.contains(a)?(n.classList.add(a),this._ngZone.run(()=>r.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&n.classList.contains(a)&&(n.classList.remove(a),this._ngZone.run(()=>r.next({target:u.target,isAutofilled:!1})))},d=this._ngZone.runOutsideAngular(()=>(n.classList.add("cdk-text-field-autofill-monitored"),St(this._renderer,n,"animationstart",c,yG)));return this._monitoredElements.set(n,{subject:r,unlisten:d}),r}stopMonitoring(e){let n=hn(e),o=this._monitoredElements.get(n);o&&(o.unlisten(),o.subject.complete(),n.classList.remove("cdk-text-field-autofill-monitored"),n.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(n))}ngOnDestroy(){this._monitoredElements.forEach((e,n)=>this.stopMonitoring(n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iV=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({})}return t})();var dV=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||t)(Y(Pt),Y(oe))};static \u0275dir=ne({type:t})}return t})(),_G=(()=>{class t extends dV{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275dir=ne({type:t,features:[Xe]})}return t})(),x_=new H("");var vG={provide:x_,useExisting:Yr(()=>Bs),multi:!0};function bG(){let t=ec()?ec().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var AG=new H(""),Bs=(()=>{class t extends dV{_compositionMode;_composing=!1;constructor(e,n,o){super(e,n),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!bG())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||t)(Y(Pt),Y(oe),Y(AG,8))};static \u0275dir=ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,o){n&1&&P("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Ye([vG]),Xe]})}return t})();function fC(t){return t==null||gC(t)===0}function gC(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var jm=new H(""),yC=new H(""),wG=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,st=class{static min(i){return CG(i)}static max(i){return xG(i)}static required(i){return SG(i)}static requiredTrue(i){return IG(i)}static email(i){return MG(i)}static minLength(i){return EG(i)}static maxLength(i){return kG(i)}static pattern(i){return TG(i)}static nullValidator(i){return uV()}static compose(i){return yV(i)}static composeAsync(i){return _V(i)}};function CG(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function xG(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function SG(t){return fC(t.value)?{required:!0}:null}function IG(t){return t.value===!0?null:{required:!0}}function MG(t){return fC(t.value)||wG.test(t.value)?null:{email:!0}}function EG(t){return i=>{let e=i.value?.length??gC(i.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function kG(t){return i=>{let e=i.value?.length??gC(i.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function TG(t){if(!t)return uV;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if(fC(n.value))return null;let o=n.value;return i.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}function uV(t){return null}function pV(t){return t!=null}function mV(t){return th(t)?sn(t):t}function hV(t){let i={};return t.forEach(e=>{i=e!=null?x(x({},i),e):i}),Object.keys(i).length===0?null:i}function fV(t,i){return i.map(e=>e(t))}function DG(t){return!t.validate}function gV(t){return t.map(i=>DG(i)?i:e=>i.validate(e))}function yV(t){if(!t)return null;let i=t.filter(pV);return i.length==0?null:function(e){return hV(fV(e,i))}}function _C(t){return t!=null?yV(gV(t)):null}function _V(t){if(!t)return null;let i=t.filter(pV);return i.length==0?null:function(e){let n=fV(e,i).map(mV);return eh(n).pipe(_e(hV))}}function vC(t){return t!=null?_V(gV(t)):null}function nV(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function vV(t){return t._rawValidators}function bV(t){return t._rawAsyncValidators}function cC(t){return t?Array.isArray(t)?t:[t]:[]}function __(t,i){return Array.isArray(t)?t.includes(i):t===i}function oV(t,i){let e=cC(i);return cC(t).forEach(o=>{__(e,o)||e.push(o)}),e}function rV(t,i){return cC(i).filter(e=>!__(t,e))}var v_=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=_C(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=vC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},Da=class extends v_{name;get formDirective(){return null}get path(){return null}},Wr=class extends v_{_parent=null;name=null;valueAccessor=null},b_=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},FG={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},lYe=O(x({},FG),{"[class.ng-submitted]":"isSubmitted"}),$d=(()=>{class t extends b_{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(Y(Wr,2))};static \u0275dir=ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,o){n&2&&te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Xe]})}return t})(),Xd=(()=>{class t extends b_{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(Y(Da,10))};static \u0275dir=ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,o){n&2&&te("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Xe]})}return t})();var Lm="VALID",g_="INVALID",Yd="PENDING",Bm="DISABLED",Ls=class{},A_=class extends Ls{value;source;constructor(i,e){super(),this.value=i,this.source=e}},Hm=class extends Ls{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},Um=class extends Ls{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},Zd=class extends Ls{status;source;constructor(i,e){super(),this.status=i,this.source=e}},dC=class extends Ls{source;constructor(i){super(),this.source=i}},uC=class extends Ls{source;constructor(i){super(),this.source=i}};function bC(t){return(S_(t)?t.validators:t)||null}function RG(t){return Array.isArray(t)?_C(t):t||null}function AC(t,i){return(S_(i)?i.asyncValidators:t)||null}function PG(t){return Array.isArray(t)?vC(t):t||null}function S_(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function AV(t,i,e){let n=t.controls;if(!(i?Object.keys(n):n).length)throw new We(1e3,"");if(!n[e])throw new We(1001,"")}function wV(t,i,e){t._forEachChild((n,o)=>{if(e[o]===void 0)throw new We(1002,"")})}var Kd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return Lo(this.statusReactive)}set status(i){Lo(()=>this.statusReactive.set(i))}_status=pr(()=>this.statusReactive());statusReactive=Po(void 0);get valid(){return this.status===Lm}get invalid(){return this.status===g_}get pending(){return this.status==Yd}get disabled(){return this.status===Bm}get enabled(){return this.status!==Bm}errors;get pristine(){return Lo(this.pristineReactive)}set pristine(i){Lo(()=>this.pristineReactive.set(i))}_pristine=pr(()=>this.pristineReactive());pristineReactive=Po(!0);get dirty(){return!this.pristine}get touched(){return Lo(this.touchedReactive)}set touched(i){Lo(()=>this.touchedReactive.set(i))}_touched=pr(()=>this.touchedReactive());touchedReactive=Po(!1);get untouched(){return!this.touched}_events=new Q;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(oV(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(oV(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(rV(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(rV(i,this._rawAsyncValidators))}hasValidator(i){return __(this._rawValidators,i)}hasAsyncValidator(i){return __(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(O(x({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new Um(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=i.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),e&&i.emitEvent!==!1&&this._events.next(new Um(!1,n))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(O(x({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new Hm(!1,n))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=i.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),e&&i.emitEvent!==!1&&this._events.next(new Hm(!0,n))}markAsPending(i={}){this.status=Yd;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new Zd(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(O(x({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=Bm,this.errors=null,this._forEachChild(o=>{o.disable(O(x({},i),{onlySelf:!0}))}),this._updateValue();let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new A_(this.value,n)),this._events.next(new Zd(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(O(x({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=Lm,this._forEachChild(n=>{n.enable(O(x({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(O(x({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lm||this.status===Yd)&&this._runAsyncValidator(n,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new A_(this.value,e)),this._events.next(new Zd(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(O(x({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bm:Lm}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=Yd,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=mV(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,o)=>n&&n._find(o),this)}getError(i,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new Zd(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,n)}_initObservables(){this.valueChanges=new q,this.statusChanges=new q}_calculateStatus(){return this._allControlsDisabled()?Bm:this.errors?g_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yd)?Yd:this._anyControlsHaveStatus(g_)?g_:Lm}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let n=!this._anyControlsDirty(),o=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),o&&this._events.next(new Hm(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new Um(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){S_(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=RG(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=PG(this._rawAsyncValidators)}},Jd=class extends Kd{constructor(i,e,n){super(bC(e),AC(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){wV(this,!0,i),Object.keys(i).forEach(n=>{AV(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(n=>{let o=this.controls[n];o&&o.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,o)=>{n.reset(i?i[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,n,o)=>((n.enabled||this.disabled)&&(e[o]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((o,r)=>{n=e(n,o,r)}),n}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var pC=class extends Jd{};var I_=new H("",{providedIn:"root",factory:()=>M_}),M_="always";function OG(t,i){return[...i.path,t]}function mC(t,i,e=M_){wC(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),LG(t,i),NG(t,i),BG(t,i),VG(t,i)}function aV(t,i,e=!0){let n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),C_(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function w_(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function VG(t,i){if(i.valueAccessor.setDisabledState){let e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function wC(t,i){let e=vV(t);i.validator!==null?t.setValidators(nV(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let n=bV(t);i.asyncValidator!==null?t.setAsyncValidators(nV(n,i.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let o=()=>t.updateValueAndValidity();w_(i._rawValidators,o),w_(i._rawAsyncValidators,o)}function C_(t,i){let e=!1;if(t!==null){if(i.validator!==null){let o=vV(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==i.validator);r.length!==o.length&&(e=!0,t.setValidators(r))}}if(i.asyncValidator!==null){let o=bV(t);if(Array.isArray(o)&&o.length>0){let r=o.filter(a=>a!==i.asyncValidator);r.length!==o.length&&(e=!0,t.setAsyncValidators(r))}}}let n=()=>{};return w_(i._rawValidators,n),w_(i._rawAsyncValidators,n),e}function LG(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&CV(t,i)})}function BG(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&CV(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function CV(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function NG(t,i){let e=(n,o)=>{i.valueAccessor.writeValue(n),o&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function xV(t,i){t==null,wC(t,i)}function HG(t,i){return C_(t,i)}function UG(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function jG(t){return Object.getPrototypeOf(t.constructor)===_G}function SV(t,i){t._syncPendingControls(),i.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function zG(t,i){if(!i)return null;Array.isArray(i);let e,n,o;return i.forEach(r=>{r.constructor===Bs?e=r:jG(r)?n=r:o=r}),o||n||e||null}function GG(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}var WG={provide:Da,useExisting:Yr(()=>eu)},Nm=Promise.resolve(),eu=(()=>{class t extends Da{callSetDisabledState;get submitted(){return Lo(this.submittedReactive)}_submitted=pr(()=>this.submittedReactive());submittedReactive=Po(!1);_directives=new Set;form;ngSubmit=new q;options;constructor(e,n,o){super(),this.callSetDisabledState=o,this.form=new Jd({},_C(e),vC(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Nm.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),mC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Nm.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Nm.then(()=>{let n=this._findContainer(e.path),o=new Jd({});xV(o,e),n.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Nm.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Nm.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),SV(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||t)(Y(jm,10),Y(yC,10),Y(I_,8))};static \u0275dir=ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,o){n&1&&P("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ye([WG]),Xe]})}return t})();function sV(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function lV(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var y_=class extends Kd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,n){super(bC(e),AC(n,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),S_(e)&&(e.nonNullable||e.initialValueIsDefault)&&(lV(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){sV(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){sV(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){lV(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}};var QG=t=>t instanceof y_;var tu=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var IV=new H("");var qG={provide:Da,useExisting:Yr(()=>Mo)},Mo=(()=>{class t extends Da{callSetDisabledState;get submitted(){return Lo(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=pr(()=>this._submittedReactive());_submittedReactive=Po(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new q;constructor(e,n,o){super(),this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(C_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return mC(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){aV(e.control||null,e,!1),GG(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),SV(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new dC(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new uC(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,o=this.form.get(e.path);n!==o&&(aV(n||null,e),QG(o)&&(mC(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);xV(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&HG(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){wC(this.form,this),this._oldForm&&C_(this._oldForm,this)}static \u0275fac=function(n){return new(n||t)(Y(jm,10),Y(yC,10),Y(I_,8))};static \u0275dir=ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,o){n&1&&P("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ye([qG]),Xe,ht]})}return t})();var YG={provide:Wr,useExisting:Yr(()=>Ul)},Ul=(()=>{class t extends Wr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new q;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,o,r,a){super(),this._ngModelWarningConfig=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(o),this.valueAccessor=zG(this,r)}ngOnChanges(e){this._added||this._setUpControl(),UG(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return OG(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||t)(Y(Da,13),Y(jm,10),Y(yC,10),Y(x_,10),Y(IV,8))};static \u0275dir=ne({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ye([YG]),Xe,ht]})}return t})();var MV=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({})}return t})(),hC=class extends Kd{constructor(i,e,n){super(bC(e),AC(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(i){return this.controls[this._adjustIndex(i)]}push(i,e={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(i,e,n={}){this.controls.splice(i,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(i,e={}){let n=this._adjustIndex(i);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(i,e,n={}){let o=this._adjustIndex(i);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,e={}){wV(this,!1,i),i.forEach((n,o)=>{AV(this,!1,o),this.at(o).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(i.forEach((n,o)=>{this.at(o)&&this.at(o).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i=[],e={}){this._forEachChild((n,o)=>{n.reset(i[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(i=>i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_adjustIndex(i){return i<0?i+this.length:i}_syncPendingControls(){let i=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((e,n)=>{i(e,n)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(e=>e.enabled&&i(e))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(let i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}_find(i){return this.at(i)??null}};function cV(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var jl=(()=>{class t{useNonNullable=!1;get nonNullable(){let e=new t;return e.useNonNullable=!0,e}group(e,n=null){let o=this._reduceControls(e),r={};return cV(n)?r=n:n!==null&&(r.validators=n.validator,r.asyncValidators=n.asyncValidator),new Jd(o,r)}record(e,n=null){let o=this._reduceControls(e);return new pC(o,n)}control(e,n,o){let r={};return this.useNonNullable?(cV(n)?r=n:(r.validators=n,r.asyncValidators=o),new y_(e,O(x({},r),{nonNullable:!0}))):new y_(e,n,o)}array(e,n,o){let r=e.map(a=>this._createControl(a));return new hC(r,n,o)}_reduceControls(e){let n={};return Object.keys(e).forEach(o=>{n[o]=this._createControl(e[o])}),n}_createControl(e){if(e instanceof y_)return e;if(e instanceof Kd)return e;if(Array.isArray(e)){let n=e[0],o=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(n,o,r)}else return this.control(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var iu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:I_,useValue:e.callSetDisabledState??M_}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[MV]})}return t})(),nu=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:IV,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:I_,useValue:e.callSetDisabledState??M_}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[MV]})}return t})();var E_=new H("MAT_INPUT_VALUE_ACCESSOR");var xC=class{_box;_destroyed=new Q;_resizeSubject=new Q;_resizeObserver;_elementObservables=new Map;constructor(i){this._box=i,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(i){return this._elementObservables.has(i)||this._elementObservables.set(i,new Jn(e=>{let n=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(i,{box:this._box}),()=>{this._resizeObserver?.unobserve(i),n.unsubscribe(),this._elementObservables.delete(i)}}).pipe(nt(e=>e.some(n=>n.target===i)),lv({bufferSize:1,refCount:!0}),Ge(this._destroyed))),this._elementObservables.get(i)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},k_=(()=>{class t{_cleanupErrorListener;_observers=new Map;_ngZone=m(pe);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,e]of this._observers)e.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(e,n){let o=n?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new xC(o)),this._observers.get(o).observe(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ZG=["notch"],KG=["matFormFieldNotchedOutline",""],JG=["*"],$G=["textField"],XG=["iconPrefixContainer"],eW=["textPrefixContainer"],tW=["iconSuffixContainer"],iW=["textSuffixContainer"],nW=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],oW=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function rW(t,i){t&1&&F(0,"span",21)}function aW(t,i){if(t&1&&(v(0,"label",20),Ee(1,1),V(2,rW,1,0,"span",21),_()),t&2){let e=k(2);E("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),ue("for",e._control.disableAutomaticLabeling?null:e._control.id),w(2),j(!e.hideRequiredMarker&&e._control.required?2:-1)}}function sW(t,i){if(t&1&&V(0,aW,3,5,"label",20),t&2){let e=k();j(e._hasFloatingLabel()?0:-1)}}function lW(t,i){t&1&&F(0,"div",7)}function cW(t,i){}function dW(t,i){if(t&1&&V(0,cW,0,0,"ng-template",13),t&2){k(2);let e=Et(1);E("ngTemplateOutlet",e)}}function uW(t,i){if(t&1&&(v(0,"div",9),V(1,dW,1,1,null,13),_()),t&2){let e=k();E("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),w(),j(e._forceDisplayInfixLabel()?-1:1)}}function pW(t,i){t&1&&(v(0,"div",10,2),Ee(2,2),_())}function mW(t,i){t&1&&(v(0,"div",11,3),Ee(2,3),_())}function hW(t,i){}function fW(t,i){if(t&1&&V(0,hW,0,0,"ng-template",13),t&2){k();let e=Et(1);E("ngTemplateOutlet",e)}}function gW(t,i){t&1&&(v(0,"div",14,4),Ee(2,4),_())}function yW(t,i){t&1&&(v(0,"div",15,5),Ee(2,5),_())}function _W(t,i){t&1&&F(0,"div",16)}function vW(t,i){t&1&&(v(0,"div",18),Ee(1,6),_())}function bW(t,i){if(t&1&&(v(0,"mat-hint",22),S(1),_()),t&2){let e=k(2);E("id",e._hintLabelId),w(),Ue(e.hintLabel)}}function AW(t,i){if(t&1&&(v(0,"div",19),V(1,bW,2,2,"mat-hint",22),Ee(2,7),F(3,"div",23),Ee(4,8),_()),t&2){let e=k();w(),j(e.hintLabel?1:-1)}}var Fa=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["mat-label"]]})}return t})(),wW=new H("MatError");var SC=(()=>{class t{align="start";id=m(Dt).getId("mat-mdc-hint-");static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(n,o){n&2&&(ur("id",o.id),ue("align",null),te("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"}})}return t})(),CW=new H("MatPrefix");var PV=new H("MatSuffix"),zm=(()=>{class t{set _isTextSelector(e){this._isText=!0}_isText=!1;static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},features:[Ye([{provide:PV,useExisting:t}])]})}return t})(),OV=new H("FloatingLabelParent"),EV=(()=>{class t{_elementRef=m(oe);get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=m(k_);_ngZone=m(pe);_parent=m(OV);_resizeSubscription=new $e;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return xW(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(n,o){n&2&&te("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return t})();function xW(t){let i=t;if(i.offsetParent!==null)return i.scrollWidth;let e=i.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);let n=e.scrollWidth;return e.remove(),n}var kV="mdc-line-ripple--active",T_="mdc-line-ripple--deactivating",TV=(()=>{class t{_elementRef=m(oe);_cleanupTransitionEnd;constructor(){let e=m(pe),n=m(Pt);e.runOutsideAngular(()=>{this._cleanupTransitionEnd=n.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let e=this._elementRef.nativeElement.classList;e.remove(T_),e.add(kV)}deactivate(){this._elementRef.nativeElement.classList.add(T_)}_handleTransitionEnd=e=>{let n=this._elementRef.nativeElement.classList,o=n.contains(T_);e.propertyName==="opacity"&&o&&n.remove(kV,T_)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return t})(),DV=(()=>{class t{_elementRef=m(oe);_ngZone=m(pe);open=!1;_notch;constructor(){}ngAfterViewInit(){let e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){!this.open||!e?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(n,o){if(n&1&&le(ZG,5),n&2){let r;J(r=$())&&(o._notch=r.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(n,o){n&2&&te("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:KG,ngContentSelectors:JG,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(n,o){n&1&&(_t(),F(0,"div",1),v(1,"div",2,0),Ee(3),_(),F(4,"div",3))},encapsulation:2,changeDetection:0})}return t})(),ou=(()=>{class t{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t})}return t})();var zl=new H("MatFormField"),SW=new H("MAT_FORM_FIELD_DEFAULT_OPTIONS"),FV="fill",IW="auto",RV="fixed",MW="translateY(-50%)",Gl=(()=>{class t{_elementRef=m(oe);_changeDetectorRef=m(je);_dir=m(Nt);_platform=m(De);_idGenerator=m(Dt);_ngZone=m(pe);_injector=m(Te);_defaults=m(SW,{optional:!0});_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=xx(Fa);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ua(e)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||IW}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearance}set appearance(e){let n=this._appearance,o=e||this._defaults?.appearance||FV;this._appearance=o,this._appearance==="outline"&&this._appearance!==n&&(this._needsOutlineLabelOffsetUpdate=!0)}_appearance=FV;get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||RV}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||RV}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}_destroyed=new Q;_isFocused=null;_explicitFormFieldControl;_needsOutlineLabelOffsetUpdate=!1;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_animationsDisabled;constructor(){let e=this._defaults;e&&(e.appearance&&(this.appearance=e.appearance),this._hideRequiredMarker=!!e?.hideRequiredMarker,e.color&&(this.color=e.color)),this._animationsDisabled=m(rt,{optional:!0})==="NoopAnimations"}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=pr(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(e){let n=this._control,o="mat-mdc-form-field-type-";e&&this._elementRef.nativeElement.classList.remove(o+e.controlType),n.controlType&&this._elementRef.nativeElement.classList.add(o+n.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=n.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=n.stateChanges.pipe(Ht([void 0,void 0]),_e(()=>[n.errorState,n.userAriaDescribedBy]),sv(),nt(([[r,a],[c,d]])=>r!==c||a!==d)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),n.ngControl&&n.ngControl.valueChanges&&(this._valueChanges=n.ngControl.valueChanges.pipe(Ge(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Mi(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),Jl(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Ge(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=pr(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(e){let n=this._control?this._control.ngControl:null;return n&&n[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&e.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let n=this._hintChildren?this._hintChildren.find(r=>r.align==="start"):null,o=this._hintChildren?this._hintChildren.find(r=>r.align==="end"):null;n?e.push(n.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(n=>n.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let e=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){e.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let n=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,r=this._iconSuffixContainer?.nativeElement,a=this._textSuffixContainer?.nativeElement,c=n?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0,p=a?.getBoundingClientRect().width??0,h=this._dir.value==="rtl"?"-1":"1",y=`${c+d}px`,C=`calc(${h} * (${y} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;e.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${MW} translateX(${C})
    )`;let M=c+d+u+p;this._elementRef.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${M}px)`)}_isAttachedToDom(){let e=this._elementRef.nativeElement;if(e.getRootNode){let n=e.getRootNode();return n&&n!==e}return document.documentElement.contains(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-form-field"]],contentQueries:function(n,o,r){if(n&1&&(kx(r,o._labelChild,Fa,5),Jt(r,ou,5),Jt(r,CW,5),Jt(r,PV,5),Jt(r,wW,5),Jt(r,SC,5)),n&2){Tx();let a;J(a=$())&&(o._formFieldControl=a.first),J(a=$())&&(o._prefixChildren=a),J(a=$())&&(o._suffixChildren=a),J(a=$())&&(o._errorChildren=a),J(a=$())&&(o._hintChildren=a)}},viewQuery:function(n,o){if(n&1&&(le($G,5),le(XG,5),le(eW,5),le(tW,5),le(iW,5),le(EV,5),le(DV,5),le(TV,5)),n&2){let r;J(r=$())&&(o._textField=r.first),J(r=$())&&(o._iconPrefixContainer=r.first),J(r=$())&&(o._textPrefixContainer=r.first),J(r=$())&&(o._iconSuffixContainer=r.first),J(r=$())&&(o._textSuffixContainer=r.first),J(r=$())&&(o._floatingLabel=r.first),J(r=$())&&(o._notchedOutline=r.first),J(r=$())&&(o._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:40,hostBindings:function(n,o){n&2&&te("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Ye([{provide:zl,useExisting:t},{provide:OV,useExisting:t}])],ngContentSelectors:oW,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(n,o){if(n&1){let r=he();_t(nW),V(0,sW,1,1,"ng-template",null,0,sh),v(2,"div",6,1),P("click",function(c){return B(r),N(o._control.onContainerClick(c))}),V(4,lW,1,0,"div",7),v(5,"div",8),V(6,uW,2,2,"div",9)(7,pW,3,0,"div",10)(8,mW,3,0,"div",11),v(9,"div",12),V(10,fW,1,1,null,13),Ee(11),_(),V(12,gW,3,0,"div",14)(13,yW,3,0,"div",15),_(),V(14,_W,1,0,"div",16),_(),v(15,"div",17),V(16,vW,2,0,"div",18)(17,AW,5,1,"div",19),_()}if(n&2){let r;w(2),te("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),w(2),j(!o._hasOutline()&&!o._control.disabled?4:-1),w(2),j(o._hasOutline()?6:-1),w(),j(o._hasIconPrefix?7:-1),w(),j(o._hasTextPrefix?8:-1),w(2),j(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),w(2),j(o._hasTextSuffix?12:-1),w(),j(o._hasIconSuffix?13:-1),w(),j(o._hasOutline()?-1:14),w(),te("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),w(),j((r=o._getDisplayedMessages())==="error"?16:r==="hint"?17:-1)}},dependencies:[EV,DV,uh,TV,SC],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-filled-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mdc-outlined-text-field-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mdc-filled-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-filled-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-filled-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-filled-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mdc-outlined-text-field-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mdc-outlined-text-field-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mdc-outlined-text-field-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color, var(--mat-sys-outline));border-width:var(--mdc-outlined-text-field-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),100% - max(12px,var(--mdc-outlined-text-field-container-shape, var(--mat-sys-corner-extra-small)))*2)}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none;--mat-form-field-notch-max-width: 100%}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,changeDetection:0})}return t})();var D_=(()=>{class t{isErrorState(e,n){return!!(e&&e.invalid&&(e.touched||n&&n.submitted))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ru=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(i,e,n,o,r){this._defaultMatcher=i,this.ngControl=e,this._parentFormGroup=n,this._parentForm=o,this._stateChanges=r}updateErrorState(){let i=this.errorState,e=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,r=n?.isErrorState(o,e)??!1;r!==i&&(this.errorState=r,this._stateChanges.next())}};var Eo=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Ip,Pe]})}return t})();var EW=["button","checkbox","file","hidden","image","radio","range","reset","submit"],kW=new H("MAT_INPUT_CONFIG"),au=(()=>{class t{_elementRef=m(oe);_platform=m(De);ngControl=m(Wr,{optional:!0,self:!0});_autofillMonitor=m(tV);_ngZone=m(pe);_formField=m(zl,{optional:!0});_renderer=m(Pt);_uid=m(Dt).getId("mat-input-");_previousNativeValue;_inputValueAccessor;_signalBasedValueAccessor;_previousPlaceholder;_errorStateTracker;_config=m(kW,{optional:!0});_cleanupIosKeyup;_cleanupWebkitWheel;_formFieldDescribedBy;_isServer;_isNativeSelect;_isTextarea;_isInFormField;focused=!1;stateChanges=new Q;controlType="mat-input";autofilled=!1;get disabled(){return this._disabled}set disabled(e){this._disabled=ua(e),this.focused&&(this.focused=!1,this.stateChanges.next())}_disabled=!1;get id(){return this._id}set id(e){this._id=e||this._uid}_id;placeholder;name;get required(){return this._required??this.ngControl?.control?.hasValidator(st.required)??!1}set required(e){this._required=ua(e)}_required;get type(){return this._type}set type(e){let n=this._type;this._type=e||"text",this._validateType(),!this._isTextarea&&bA().has(this._type)&&(this._elementRef.nativeElement.type=this._type),this._type!==n&&this._ensureWheelDefaultBehavior()}_type="text";get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}userAriaDescribedBy;get value(){return this._signalBasedValueAccessor?this._signalBasedValueAccessor.value():this._inputValueAccessor.value}set value(e){e!==this.value&&(this._signalBasedValueAccessor?this._signalBasedValueAccessor.value.set(e):this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ua(e)}_readonly=!1;disabledInteractive;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}_neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(e=>bA().has(e));constructor(){let e=m(eu,{optional:!0}),n=m(Mo,{optional:!0}),o=m(D_),r=m(E_,{optional:!0,self:!0}),a=this._elementRef.nativeElement,c=a.nodeName.toLowerCase();r?js(r.value)?this._signalBasedValueAccessor=r:this._inputValueAccessor=r:this._inputValueAccessor=a,this._previousNativeValue=this.value,this.id=this.id,this._platform.IOS&&this._ngZone.runOutsideAngular(()=>{this._cleanupIosKeyup=this._renderer.listen(a,"keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ru(o,this.ngControl,n,e,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=c==="select",this._isTextarea=c==="textarea",this._isInFormField=!!this._formField,this.disabledInteractive=this._config?.disabledInteractive||!1,this._isNativeSelect&&(this.controlType=a.multiple?"mat-native-select-multiple":"mat-native-select"),this._signalBasedValueAccessor&&lh(()=>{this._signalBasedValueAccessor.value(),this.stateChanges.next()})}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._cleanupIosKeyup?.(),this._cleanupWebkitWheel?.()}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){if(e!==this.focused){if(!this._isNativeSelect&&e&&this.disabled&&this.disabledInteractive){let n=this._elementRef.nativeElement;n.type==="number"?(n.type="text",n.setSelectionRange(0,0),n.type="number"):n.setSelectionRange(0,0)}this.focused=e,this.stateChanges.next()}}_onInput(){}_dirtyCheckNativeValue(){let e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){let e=this._getPlaceholder();if(e!==this._previousPlaceholder){let n=this._elementRef.nativeElement;this._previousPlaceholder=e,e?n.setAttribute("placeholder",e):n.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){EW.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let e=this._elementRef.nativeElement,n=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&n&&n.label)}else return this.focused&&!this.disabled||!this.empty}setDescribedByIds(e){let n=this._elementRef.nativeElement,o=n.getAttribute("aria-describedby"),r;if(o){let a=this._formFieldDescribedBy||e;r=e.concat(o.split(" ").filter(c=>c&&!a.includes(c)))}else r=e;this._formFieldDescribedBy=e,r.length?n.setAttribute("aria-describedby",r.join(" ")):n.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}_iOSKeyupListener=e=>{let n=e.target;!n.value&&n.selectionStart===0&&n.selectionEnd===0&&(n.setSelectionRange(1,1),n.setSelectionRange(0,0))};_webkitBlinkWheelListener=()=>{};_ensureWheelDefaultBehavior(){this._cleanupWebkitWheel?.(),this._type==="number"&&(this._platform.BLINK||this._platform.WEBKIT)&&(this._cleanupWebkitWheel=this._renderer.listen(this._elementRef.nativeElement,"wheel",this._webkitBlinkWheelListener))}_getReadonlyAttribute(){return this._isNativeSelect?null:this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:21,hostBindings:function(n,o){n&1&&P("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),n&2&&(ur("id",o.id)("disabled",o.disabled&&!o.disabledInteractive)("required",o.required),ue("name",o.name||null)("readonly",o._getReadonlyAttribute())("aria-disabled",o.disabled&&o.disabledInteractive?"true":null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),te("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mat-mdc-input-disabled-interactive",o.disabledInteractive)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly",disabledInteractive:[2,"disabledInteractive","disabledInteractive",me]},exportAs:["matInput"],features:[Ye([{provide:ou,useExisting:t}]),ht]})}return t})(),su=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Eo,Eo,iV,Pe]})}return t})();var VV=(()=>{class t{_animationMode=m(rt,{optional:!0});state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(n,o){n&2&&te("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(n,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return t})();var TW=["text"],DW=[[["mat-icon"]],"*"],FW=["mat-icon","*"];function RW(t,i){if(t&1&&F(0,"mat-pseudo-checkbox",1),t&2){let e=k();E("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function PW(t,i){if(t&1&&F(0,"mat-pseudo-checkbox",3),t&2){let e=k();E("disabled",e.disabled)}}function OW(t,i){if(t&1&&(v(0,"span",4),S(1),_()),t&2){let e=k();w(),Vo("(",e.group.label,")")}}var EC=new H("MAT_OPTION_PARENT_COMPONENT"),kC=new H("MatOptgroup");var MC=class{source;isUserInput;constructor(i,e=!1){this.source=i,this.isUserInput=e}},Wl=(()=>{class t{_element=m(oe);_changeDetectorRef=m(je);_parent=m(EC,{optional:!0});group=m(kC,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_disabled=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=m(Dt).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new q;_text;_stateChanges=new Q;constructor(){let e=m(Bt);e.load(os),e.load(qo),this._signalDisableRipple=!!this._parent&&js(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,n){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(n)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!bt(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new MC(this,e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-option"]],viewQuery:function(n,o){if(n&1&&le(TW,7),n&2){let r;J(r=$())&&(o._text=r.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(n,o){n&1&&P("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),n&2&&(ur("id",o.id),ue("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),te("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",me]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:FW,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(n,o){n&1&&(_t(DW),V(0,RW,1,2,"mat-pseudo-checkbox",1),Ee(1),v(2,"span",2,0),Ee(4,1),_(),V(5,PW,1,1,"mat-pseudo-checkbox",3)(6,OW,2,1,"span",4),F(7,"div",5)),n&2&&(j(o.multiple?0:-1),w(5),j(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),w(),j(o.group&&o.group._inert?6:-1),w(),E("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[VV,Vp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-minimal-pseudo-checkbox-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})();function LV(t,i,e){if(e.length){let n=i.toArray(),o=e.toArray(),r=0;for(let a=0;a<t+1;a++)n[a].group&&n[a].group===o[r]&&r++;return r}return 0}function BV(t,i,e,n){return t<e?t:t+i>e+n?Math.max(0,t-n+i):e}var Gm=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new Q;constructor(i=!1,e,n=!0,o){this._multiple=i,this._emitChanges=n,this.compareWith=o,e&&e.length&&(i?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...i){this._verifyValueAssignment(i),i.forEach(n=>this._markSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...i){this._verifyValueAssignment(i),i.forEach(n=>this._unmarkSelected(n));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...i){this._verifyValueAssignment(i);let e=this.selected,n=new Set(i.map(r=>this._getConcreteValue(r)));i.forEach(r=>this._markSelected(r)),e.filter(r=>!n.has(this._getConcreteValue(r,n))).forEach(r=>this._unmarkSelected(r));let o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(i){return this.isSelected(i)?this.deselect(i):this.select(i)}clear(i=!0){this._unmarkAll();let e=this._hasQueuedChanges();return i&&this._emitChangeEvent(),e}isSelected(i){return this._selection.has(this._getConcreteValue(i))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(i){this._multiple&&this.selected&&this._selected.sort(i)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(i){i=this._getConcreteValue(i),this.isSelected(i)||(this._multiple||this._unmarkAll(),this.isSelected(i)||this._selection.add(i),this._emitChanges&&this._selectedToEmit.push(i))}_unmarkSelected(i){i=this._getConcreteValue(i),this.isSelected(i)&&(this._selection.delete(i),this._emitChanges&&this._deselectedToEmit.push(i))}_unmarkAll(){this.isEmpty()||this._selection.forEach(i=>this._unmarkSelected(i))}_verifyValueAssignment(i){i.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(i,e){if(this.compareWith){e=e??this._selection;for(let n of e)if(this.compareWith(i,n))return n;return i}else return i}};var NV=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe]})}return t})();var TC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Gc,Pe,NV]})}return t})();var VW=["trigger"],LW=["panel"],BW=[[["mat-select-trigger"]],"*"],NW=["mat-select-trigger","*"];function HW(t,i){if(t&1&&(v(0,"span",4),S(1),_()),t&2){let e=k();w(),Ue(e.placeholder)}}function UW(t,i){t&1&&Ee(0)}function jW(t,i){if(t&1&&(v(0,"span",11),S(1),_()),t&2){let e=k(2);w(),Ue(e.triggerValue)}}function zW(t,i){if(t&1&&(v(0,"span",5),V(1,UW,1,0)(2,jW,2,1,"span",11),_()),t&2){let e=k();w(),j(e.customTrigger?1:2)}}function GW(t,i){if(t&1){let e=he();v(0,"div",12,1),P("keydown",function(o){B(e);let r=k();return N(r._handleKeydown(o))}),Ee(2,1),_()}if(t&2){let e=k();Ex("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),te("mat-select-panel-animations-enabled",!e._animationsDisabled),E("ngClass",e.panelClass),ue("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}var DC=new H("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.reposition()}});function HV(t){return()=>t.scrollStrategies.reposition()}var UV=new H("MAT_SELECT_CONFIG"),jV={provide:DC,deps:[yt],useFactory:HV},zV=new H("MatSelectTrigger"),F_=class{source;value;constructor(i,e){this.source=i,this.value=e}},Wm=(()=>{class t{_viewportRuler=m(ma);_changeDetectorRef=m(je);_elementRef=m(oe);_dir=m(Nt,{optional:!0});_idGenerator=m(Dt);_renderer=m(Pt);_parentFormField=m(zl,{optional:!0});ngControl=m(Wr,{self:!0,optional:!0});_liveAnnouncer=m(Mp);_defaultOptions=m(UV,{optional:!0});_animationsDisabled=m(rt,{optional:!0})==="NoopAnimations";_initialized=new Q;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(e){let n=this.options.toArray()[e];if(n){let o=this.panel.nativeElement,r=LV(e,this.options,this.optionGroups),a=n._getHostElement();e===0&&r===1?o.scrollTop=0:o.scrollTop=BV(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new F_(this,e)}_scrollStrategyFactory=m(DC);_panelOpen=!1;_compareWith=(e,n)=>e===n;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new Q;_errorStateTracker;stateChanges=new Q;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;disableRipple=!1;tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(st.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(e){this._selectionModel,this._multiple=e}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=Qr(()=>{let e=this.options;return e?e.changes.pipe(Ht(e),Ei(()=>Mi(...e.map(n=>n.onSelectionChange)))):this._initialized.pipe(Ei(()=>this.optionSelectionChanges))});openedChange=new q;_openedStream=this.openedChange.pipe(nt(e=>e),_e(()=>{}));_closedStream=this.openedChange.pipe(nt(e=>!e),_e(()=>{}));selectionChange=new q;valueChange=new q;constructor(){let e=m(D_),n=m(eu,{optional:!0}),o=m(Mo,{optional:!0}),r=m(new La("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new ru(e,this.ngControl,o,n,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=r==null?0:parseInt(r)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Gm(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ge(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ge(this._destroy)).subscribe(e=>{e.added.forEach(n=>n.select()),e.removed.forEach(n=>n.deselect())}),this.options.changes.pipe(Ht(null),Ge(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let e=this._getTriggerAriaLabelledby(),n=this.ngControl;if(e!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}n&&(this._previousControl!==n.control&&(this._previousControl!==void 0&&n.disabled!==null&&n.disabled!==this.disabled&&(this.disabled=n.disabled),this._previousControl=n.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(Zt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;let n=`${this.id}-panel`;this._trackedModal&&Kf(this._trackedModal,"aria-owns",n),TA(e,"aria-owns",n),this._trackedModal=e}_clearFromModal(){if(!this._trackedModal)return;let e=`${this.id}-panel`;Kf(this._trackedModal,"aria-owns",e),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{n(),clearTimeout(o),this._cleanupDetach=void 0};let e=this.panel.nativeElement,n=this._renderer.listen(e,"animationend",r=>{r.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),o=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);e.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let e=this._selectionModel.selected.map(n=>n.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){let n=e.keyCode,o=n===40||n===38||n===37||n===39,r=n===13||n===32,a=this._keyManager;if(!a.isTyping()&&r&&!bt(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){let c=this.selected;a.onKeydown(e);let d=this.selected;d&&c!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(e){let n=this._keyManager,o=e.keyCode,r=o===40||o===38,a=n.isTyping();if(r&&e.altKey)e.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&n.activeItem&&!bt(e))e.preventDefault(),n.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&e.ctrlKey){e.preventDefault();let c=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(c?d.select():d.deselect())})}else{let c=n.activeItemIndex;n.onKeydown(e),this._multiple&&r&&e.shiftKey&&n.activeItem&&n.activeItemIndex!==c&&n.activeItem._selectViaInteraction()}}_handleOverlayKeydown(e){e.keyCode===27&&!bt(e)&&(e.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(n=>n.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(n=>this._selectOptionByValue(n)),this._sortValues();else{let n=this._selectOptionByValue(e);n?this._keyManager.updateActiveItem(n):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){let n=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return(o.value!=null||this.canSelectNullableOptions)&&this._compareWith(o.value,e)}catch{return!1}});return n&&this._selectionModel.select(n),n}_assignValue(e){return e!==this._value||this._multiple&&Array.isArray(e)?(this.options&&this._setSelectionByValue(e),this._value=e,!0):!1}_skipPredicate=e=>this.panelOpen?!1:e.disabled;_getOverlayWidth(e){return this.panelWidth==="auto"?(e instanceof Yc?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Tp(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let e=Mi(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ge(e)).subscribe(n=>{this._onSelect(n.source,n.isUserInput),n.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Mi(...this.options.map(n=>n._stateChanges)).pipe(Ge(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,n){let o=this._selectionModel.isSelected(e);!this.canSelectNullableOptions&&e.value==null&&!this._multiple?(e.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(e.value)):(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),n&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),n&&this.focus())),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let e=this.options.toArray();this._selectionModel.sort((n,o)=>this.sortComparator?this.sortComparator(n,o,e):e.indexOf(n)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let n;this.multiple?n=this.selected.map(o=>o.value):n=this.selected?this.selected.value:e,this._value=n,this.valueChange.emit(n),this._onChange(n),this.selectionChange.emit(this._getChangeEvent(n)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let n=0;n<this.options.length;n++)if(!this.options.get(n).disabled){e=n;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId()||null,n=e?e+" ":"";return this.ariaLabelledby?n+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._parentFormField?.getLabelId(),n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-select"]],contentQueries:function(n,o,r){if(n&1&&(Jt(r,zV,5),Jt(r,Wl,5),Jt(r,kC,5)),n&2){let a;J(a=$())&&(o.customTrigger=a.first),J(a=$())&&(o.options=a),J(a=$())&&(o.optionGroups=a)}},viewQuery:function(n,o){if(n&1&&(le(VW,5),le(LW,5),le(cg,5)),n&2){let r;J(r=$())&&(o.trigger=r.first),J(r=$())&&(o.panel=r.first),J(r=$())&&(o._overlayDir=r.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(n,o){n&1&&P("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),n&2&&(ue("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),te("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",me],disableRipple:[2,"disableRipple","disableRipple",me],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:eo(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",me],placeholder:"placeholder",required:[2,"required","required",me],multiple:[2,"multiple","multiple",me],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",me],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",eo],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",me]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Ye([{provide:ou,useExisting:t},{provide:EC,useExisting:t}]),ht],ngContentSelectors:NW,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(n,o){if(n&1){let r=he();_t(BW),v(0,"div",2,0),P("click",function(){return B(r),N(o.open())}),v(3,"div",3),V(4,HW,2,1,"span",4)(5,zW,3,1,"span",5),_(),v(6,"div",6)(7,"div",7),Ro(),v(8,"svg",8),F(9,"path",9),_()()()(),V(10,GW,3,10,"ng-template",10),P("detach",function(){return B(r),N(o.close())})("backdropClick",function(){return B(r),N(o.close())})("overlayKeydown",function(c){return B(r),N(o._handleOverlayKeydown(c))})}if(n&2){let r=Et(1);w(3),ue("id",o._valueId),w(),j(o.empty?4:5),w(6),E("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||r)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Yc,cg,Ut],styles:['@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}'],encapsulation:2,changeDetection:0})}return t})();var Ql=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[jV],imports:[ho,TC,Pe,po,Eo,TC,Pe]})}return t})();var WV={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};function WW(t,i){if(t&1){let e=he();v(0,"div",1)(1,"button",2),P("click",function(){B(e);let o=k();return N(o.action())}),S(2),_()()}if(t&2){let e=k();w(2),Vo(" ",e.data.action," ")}}var QW=["label"];function qW(t,i){}var YW=Math.pow(2,31)-1,Qm=class{_overlayRef;instance;containerInstance;_afterDismissed=new Q;_afterOpened=new Q;_onAction=new Q;_durationTimeoutId;_dismissedByAction=!1;constructor(i,e){this._overlayRef=e,this.containerInstance=i,i._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(i){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(i,YW))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},QV=new H("MatSnackBarData"),lu=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},ZW=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return t})(),KW=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return t})(),JW=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return t})(),$W=(()=>{class t{snackBarRef=m(Qm);data=m(QV);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,o){n&1&&(v(0,"div",0),S(1),_(),V(2,WW,3,1,"div",1)),n&2&&(w(),Vo(" ",o.data.message,`
`),w(),j(o.hasAction?2:-1))},dependencies:[uo,ZW,KW,JW],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return t})(),FC="_mat-snack-bar-enter",RC="_mat-snack-bar-exit",XW=(()=>{class t extends pa{_ngZone=m(pe);_elementRef=m(oe);_changeDetectorRef=m(je);_platform=m(De);_rendersRef;_animationsDisabled=m(rt,{optional:!0})==="NoopAnimations";snackBarConfig=m(lu);_document=m(fe);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new Q;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Q;_onExit=new Q;_onEnter=new Q;_animationState="void";_live;_label;_role;_liveElementId=m(Dt).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Jl(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),n}attachTemplatePortal(e){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),n}attachDomPortal=e=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),n};onAnimationEnd(e){e===RC?this._completeExit():e===FC&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(Zt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(FC)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(FC)},200)))}exit(){return this._destroyed?se(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(Zt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(RC)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(RC),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(a=>e.classList.add(a)):e.classList.add(n)),this._exposeToModals();let o=this._label.nativeElement,r="mdc-snackbar__label";o.classList.toggle(r,!o.querySelector(`.${r}`))}_exposeToModals(){let e=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<n.length;o++){let r=n[o],a=r.getAttribute("aria-owns");this._trackedModals.add(r),a?a.indexOf(e)===-1&&r.setAttribute("aria-owns",a+" "+e):r.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let n=e.getAttribute("aria-owns");if(n){let o=n.replace(this._liveElementId,"").trim();o.length>0?e.setAttribute("aria-owns",o):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,n=e.querySelector("[aria-hidden]"),o=e.querySelector("[aria-live]");if(n&&o){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(r=document.activeElement),n.removeAttribute("aria-hidden"),o.appendChild(n),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,o){if(n&1&&(le(gn,7),le(QW,7)),n&2){let r;J(r=$())&&(o._portalOutlet=r.first),J(r=$())&&(o._label=r.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,o){n&1&&P("animationend",function(a){return o.onAnimationEnd(a.animationName)})("animationcancel",function(a){return o.onAnimationEnd(a.animationName)}),n&2&&te("mat-snack-bar-container-enter",o._animationState==="visible")("mat-snack-bar-container-exit",o._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!o._animationsDisabled)},features:[Xe],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,o){n&1&&(v(0,"div",1)(1,"div",2,0)(3,"div",3),V(4,qW,0,0,"ng-template",4),_(),F(5,"div"),_()()),n&2&&(w(5),ue("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[gn],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return t})();function e4(){return new lu}var t4=new H("mat-snack-bar-default-options",{providedIn:"root",factory:e4}),Li=(()=>{class t{_overlay=m(yt);_live=m(Mp);_injector=m(Te);_breakpointObserver=m(Sp);_parentSnackBar=m(t,{optional:!0,skipSelf:!0});_defaultConfig=m(t4);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=$W;snackBarContainerComponent=XW;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,n){return this._attach(e,n)}openFromTemplate(e,n){return this._attach(e,n)}open(e,n="",o){let r=x(x({},this._defaultConfig),o);return r.data={message:e,action:n},r.announcementMessage===e&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,n){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector,r=Te.create({parent:o||this._injector,providers:[{provide:lu,useValue:n}]}),a=new fn(this.snackBarContainerComponent,n.viewContainerRef,r),c=e.attach(a);return c.instance.snackBarConfig=n,c.instance}_attach(e,n){let o=x(x(x({},new lu),this._defaultConfig),n),r=this._createOverlay(o),a=this._attachSnackBarContainer(r,o),c=new Qm(a,r);if(e instanceof ln){let d=new Cn(e,null,{$implicit:o.data,snackBarRef:c});c.instance=a.attachTemplatePortal(d)}else{let d=this._createInjector(o,c),u=new fn(e,void 0,d),p=a.attachComponentPortal(u);c.instance=p.instance}return this._breakpointObserver.observe(WV.HandsetPortrait).pipe(Ge(r.detachments())).subscribe(d=>{r.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&a._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(c,o),this._openedSnackBarRef=c,this._openedSnackBarRef}_animateSnackBar(e,n){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let n=new mo;n.direction=e.direction;let o=this._overlay.position().global(),r=e.direction==="rtl",a=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!r||e.horizontalPosition==="end"&&r,c=!a&&e.horizontalPosition!=="center";return a?o.left("0"):c?o.right("0"):o.centerHorizontally(),e.verticalPosition==="top"?o.top("0"):o.bottom("0"),n.positionStrategy=o,this._overlay.create(n)}_createInjector(e,n){let o=e&&e.viewContainerRef&&e.viewContainerRef.injector;return Te.create({parent:o||this._injector,providers:[{provide:Qm,useValue:n},{provide:QV,useValue:e.data}]})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BC=["*"];function i4(t,i){t&1&&Ee(0)}var n4=["tabListContainer"],o4=["tabList"],r4=["tabListInner"],a4=["nextPaginator"],s4=["previousPaginator"],l4=["content"];function c4(t,i){}var d4=["tabBodyWrapper"],u4=["tabHeader"];function p4(t,i){}function m4(t,i){if(t&1&&V(0,p4,0,0,"ng-template",12),t&2){let e=k().$implicit;E("cdkPortalOutlet",e.templateLabel)}}function h4(t,i){if(t&1&&S(0),t&2){let e=k().$implicit;Ue(e.textLabel)}}function f4(t,i){if(t&1){let e=he();v(0,"div",7,2),P("click",function(){let o=B(e),r=o.$implicit,a=o.$index,c=k(),d=Et(1);return N(c._handleClick(r,d,a))})("cdkFocusChange",function(o){let r=B(e).$index,a=k();return N(a._tabFocusChanged(o,r))}),F(2,"span",8)(3,"div",9),v(4,"span",10)(5,"span",11),V(6,m4,1,1,null,12)(7,h4,1,1),_()()()}if(t&2){let e=i.$implicit,n=i.$index,o=Et(1),r=k();ri(e.labelClass),te("mdc-tab--active",r.selectedIndex===n),E("id",r._getTabLabelId(n))("disabled",e.disabled)("fitInkBarToContent",r.fitInkBarToContent),ue("tabIndex",r._getTabIndex(n))("aria-posinset",n+1)("aria-setsize",r._tabs.length)("aria-controls",r._getTabContentId(n))("aria-selected",r.selectedIndex===n)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),w(3),E("matRippleTrigger",o)("matRippleDisabled",e.disabled||r.disableRipple),w(3),j(e.templateLabel?6:7)}}function g4(t,i){t&1&&Ee(0)}function y4(t,i){if(t&1){let e=he();v(0,"mat-tab-body",13),P("_onCentered",function(){B(e);let o=k();return N(o._removeTabBodyWrapperHeight())})("_onCentering",function(o){B(e);let r=k();return N(r._setTabBodyWrapperHeight(o))})("_beforeCentering",function(o){B(e);let r=k();return N(r._bodyCentered(o))}),_()}if(t&2){let e=i.$implicit,n=i.$index,o=k();ri(e.bodyClass),E("id",o._getTabContentId(n))("content",e.content)("position",e.position)("animationDuration",o.animationDuration)("preserveContent",o.preserveContent),ue("tabindex",o.contentTabIndex!=null&&o.selectedIndex===n?o.contentTabIndex:null)("aria-labelledby",o._getTabLabelId(n))("aria-hidden",o.selectedIndex!==n)}}var _4=new H("MatTabContent"),v4=(()=>{class t{template=m(ln);constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matTabContent",""]],features:[Ye([{provide:_4,useExisting:t}])]})}return t})(),b4=new H("MatTabLabel"),KV=new H("MAT_TAB"),NC=(()=>{class t extends NA{_closestTab=m(KV,{optional:!0});static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275dir=ne({type:t,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[Ye([{provide:b4,useExisting:t}]),Xe]})}return t})(),JV=new H("MAT_TAB_GROUP"),ql=(()=>{class t{_viewContainerRef=m(cn);_closestTabGroup=m(JV,{optional:!0});disabled=!1;get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}_templateLabel;_explicitContent=void 0;_implicitContent;textLabel="";ariaLabel;ariaLabelledby;labelClass;bodyClass;_contentPortal=null;get content(){return this._contentPortal}_stateChanges=new Q;position=null;origin=null;isActive=!1;constructor(){m(Bt).load(os)}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Cn(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab"]],contentQueries:function(n,o,r){if(n&1&&(Jt(r,NC,5),Jt(r,v4,7,ln)),n&2){let a;J(a=$())&&(o.templateLabel=a.first),J(a=$())&&(o._explicitContent=a.first)}},viewQuery:function(n,o){if(n&1&&le(ln,7),n&2){let r;J(r=$())&&(o._implicitContent=r.first)}},hostAttrs:["hidden",""],inputs:{disabled:[2,"disabled","disabled",me],textLabel:[0,"label","textLabel"],ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[Ye([{provide:KV,useExisting:t}]),ht],ngContentSelectors:BC,decls:1,vars:0,template:function(n,o){n&1&&(_t(),V(0,i4,1,0,"ng-template"))},encapsulation:2})}return t})(),PC="mdc-tab-indicator--active",qV="mdc-tab-indicator--no-transition",OC=class{_items;_currentItem;constructor(i){this._items=i}hide(){this._items.forEach(i=>i.deactivateInkBar()),this._currentItem=void 0}alignToElement(i){let e=this._items.find(o=>o.elementRef.nativeElement===i),n=this._currentItem;if(e!==n&&(n?.deactivateInkBar(),e)){let o=n?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(o),this._currentItem=e}}},A4=(()=>{class t{_elementRef=m(oe);_inkBarElement;_inkBarContentElement;_fitToContent=!1;get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){let n=this._elementRef.nativeElement;if(!e||!n.getBoundingClientRect||!this._inkBarContentElement){n.classList.add(PC);return}let o=n.getBoundingClientRect(),r=e.width/o.width,a=e.left-o.left;n.classList.add(qV),this._inkBarContentElement.style.setProperty("transform",`translateX(${a}px) scaleX(${r})`),n.getBoundingClientRect(),n.classList.remove(qV),n.classList.add(PC),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(PC)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){let e=this._elementRef.nativeElement.ownerDocument||document,n=this._inkBarElement=e.createElement("span"),o=this._inkBarContentElement=e.createElement("span");n.className="mdc-tab-indicator",o.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",n.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){this._inkBarElement;let e=this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement;e.appendChild(this._inkBarElement)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,inputs:{fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",me]}})}return t})();var $V=(()=>{class t extends A4{elementRef=m(oe);disabled=!1;focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275dir=ne({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(n,o){n&2&&(ue("aria-disabled",!!o.disabled),te("mat-mdc-tab-disabled",o.disabled))},inputs:{disabled:[2,"disabled","disabled",me]},features:[Xe]})}return t})(),YV={passive:!0},w4=650,C4=100,x4=(()=>{class t{_elementRef=m(oe);_changeDetectorRef=m(je);_viewportRuler=m(ma);_dir=m(Nt,{optional:!0});_ngZone=m(pe);_platform=m(De);_sharedResizeObserver=m(k_);_injector=m(Te);_renderer=m(Pt);_animationMode=m(rt,{optional:!0});_eventCleanups;_scrollDistance=0;_selectedIndexChanged=!1;_destroyed=new Q;_showPaginationControls=!1;_disableScrollAfter=!0;_disableScrollBefore=!0;_tabLabelCount;_scrollDistanceChanged;_keyManager;_currentTextContent;_stopScrolling=new Q;disablePagination=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let n=isNaN(e)?0:e;this._selectedIndex!=n&&(this._selectedIndexChanged=!0,this._selectedIndex=n,this._keyManager&&this._keyManager.updateActiveItem(n))}_selectedIndex=0;selectFocusedIndex=new q;indexFocused=new q;constructor(){this._eventCleanups=this._ngZone.runOutsideAngular(()=>[this._renderer.listen(this._elementRef.nativeElement,"mouseleave",()=>this._stopInterval())])}ngAfterViewInit(){this._eventCleanups.push(St(this._renderer,this._previousPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("before"),YV),St(this._renderer,this._nextPaginator.nativeElement,"touchstart",()=>this._handlePaginatorPress("after"),YV))}ngAfterContentInit(){let e=this._dir?this._dir.change:se("ltr"),n=this._sharedResizeObserver.observe(this._elementRef.nativeElement).pipe(Oa(32),Ge(this._destroyed)),o=this._viewportRuler.change(150).pipe(Ge(this._destroyed)),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Dp(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),mi(r,{injector:this._injector}),Mi(e,o,n,this._items.changes,this._itemsResized()).pipe(Ge(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return typeof ResizeObserver!="function"?Rn:this._items.changes.pipe(Ht(this._items),Ei(e=>new Jn(n=>this._ngZone.runOutsideAngular(()=>{let o=new ResizeObserver(r=>n.next(r));return e.forEach(r=>o.observe(r.elementRef.nativeElement)),()=>{o.disconnect()}}))),Zl(1),nt(e=>e.some(n=>n.contentRect.width>0&&n.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!bt(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){let n=this._items.get(this.focusIndex);n&&!n.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){let e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return this._items?!!this._items.toArray()[e]:!0}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();let n=this._tabListContainer.nativeElement;this._getLayoutDirection()=="ltr"?n.scrollLeft=0:n.scrollLeft=n.scrollWidth-n.offsetWidth}}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;let e=this.scrollDistance,n=this._getLayoutDirection()==="ltr"?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(n)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){let n=this._tabListContainer.nativeElement.offsetWidth,o=(e=="before"?-1:1)*n/3;return this._scrollTo(this._scrollDistance+o)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;let n=this._items?this._items.toArray()[e]:null;if(!n)return;let o=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:a}=n.elementRef.nativeElement,c,d;this._getLayoutDirection()=="ltr"?(c=r,d=c+a):(d=this._tabListInner.nativeElement.offsetWidth-r,c=d-a);let u=this.scrollDistance,p=this.scrollDistance+o;c<u?this.scrollDistance-=u-c:d>p&&(this.scrollDistance+=Math.min(d-p,c-u))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{let e=this._tabListInner.nativeElement.scrollWidth,n=this._elementRef.nativeElement.offsetWidth,o=e-n>=5;o||(this.scrollDistance=0),o!==this._showPaginationControls&&(this._showPaginationControls=o,this._changeDetectorRef.markForCheck())}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=this.scrollDistance==0,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){let e=this._tabListInner.nativeElement.scrollWidth,n=this._tabListContainer.nativeElement.offsetWidth;return e-n||0}_alignInkBarToSelectedTab(){let e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,n=e?e.elementRef.nativeElement:null;n?this._inkBar.alignToElement(n):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,n){n&&n.button!=null&&n.button!==0||(this._stopInterval(),nx(w4,C4).pipe(Ge(Mi(this._stopScrolling,this._destroyed))).subscribe(()=>{let{maxScrollDistance:o,distance:r}=this._scrollHeader(e);(r===0||r>=o)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};let n=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(n,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:n,distance:this._scrollDistance}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,inputs:{disablePagination:[2,"disablePagination","disablePagination",me],selectedIndex:[2,"selectedIndex","selectedIndex",eo]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"}})}return t})(),S4=(()=>{class t extends x4{_items;_tabListContainer;_tabList;_tabListInner;_nextPaginator;_previousPaginator;_inkBar;ariaLabel;ariaLabelledby;disableRipple=!1;ngAfterContentInit(){this._inkBar=new OC(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275cmp=U({type:t,selectors:[["mat-tab-header"]],contentQueries:function(n,o,r){if(n&1&&Jt(r,$V,4),n&2){let a;J(a=$())&&(o._items=a)}},viewQuery:function(n,o){if(n&1&&(le(n4,7),le(o4,7),le(r4,7),le(a4,5),le(s4,5)),n&2){let r;J(r=$())&&(o._tabListContainer=r.first),J(r=$())&&(o._tabList=r.first),J(r=$())&&(o._tabListInner=r.first),J(r=$())&&(o._nextPaginator=r.first),J(r=$())&&(o._previousPaginator=r.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(n,o){n&2&&te("mat-mdc-tab-header-pagination-controls-enabled",o._showPaginationControls)("mat-mdc-tab-header-rtl",o._getLayoutDirection()=="rtl")},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],disableRipple:[2,"disableRipple","disableRipple",me]},features:[Xe],ngContentSelectors:BC,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["mat-ripple","",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled"]],template:function(n,o){if(n&1){let r=he();_t(),v(0,"div",5,0),P("click",function(){return B(r),N(o._handlePaginatorClick("before"))})("mousedown",function(c){return B(r),N(o._handlePaginatorPress("before",c))})("touchend",function(){return B(r),N(o._stopInterval())}),F(2,"div",6),_(),v(3,"div",7,1),P("keydown",function(c){return B(r),N(o._handleKeydown(c))}),v(5,"div",8,2),P("cdkObserveContent",function(){return B(r),N(o._onContentChanges())}),v(7,"div",9,3),Ee(9),_()()(),v(10,"div",10,4),P("mousedown",function(c){return B(r),N(o._handlePaginatorPress("after",c))})("click",function(){return B(r),N(o._handlePaginatorClick("after"))})("touchend",function(){return B(r),N(o._stopInterval())}),F(12,"div",6),_()}n&2&&(te("mat-mdc-tab-header-pagination-disabled",o._disableScrollBefore),E("matRippleDisabled",o._disableScrollBefore||o.disableRipple),w(3),te("_mat-animation-noopable",o._animationMode==="NoopAnimations"),w(2),ue("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby||null),w(5),te("mat-mdc-tab-header-pagination-disabled",o._disableScrollAfter),E("matRippleDisabled",o._disableScrollAfter||o.disableRipple))},dependencies:[Vp,xA],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;outline:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color, var(--mat-sys-on-surface))}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height, 1px);border-bottom-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height, 1px);border-top-color:var(--mat-tab-header-divider-color, var(--mat-sys-surface-variant))}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.cdk-drop-list .mat-mdc-tab-labels,.mat-mdc-tab-labels.cdk-drop-list{min-height:var(--mdc-secondary-navigation-tab-container-height, 48px)}.mat-mdc-tab::before{margin:5px}@media(forced-colors: active){.mat-mdc-tab[aria-disabled=true]{color:GrayText}}"],encapsulation:2})}return t})(),I4=new H("MAT_TABS_CONFIG"),ZV=(()=>{class t extends gn{_host=m(VC);_centeringSub=$e.EMPTY;_leavingSub=$e.EMPTY;constructor(){super()}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Ht(this._host._isCenterPosition())).subscribe(e=>{this._host._content&&e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matTabBodyHost",""]],features:[Xe]})}return t})(),VC=(()=>{class t{_elementRef=m(oe);_dir=m(Nt,{optional:!0});_ngZone=m(pe);_injector=m(Te);_renderer=m(Pt);_animationsModule=m(rt,{optional:!0});_eventCleanups;_initialized;_fallbackTimer;_positionIndex;_dirChangeSubscription=$e.EMPTY;_position;_previousPosition;_onCentering=new q;_beforeCentering=new q;_afterLeavingCenter=new q;_onCentered=new q(!0);_portalHost;_contentElement;_content;animationDuration="500ms";preserveContent=!1;set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(){if(this._dir){let e=m(je);this._dirChangeSubscription=this._dir.change.subscribe(n=>{this._computePositionAnimationState(n),e.markForCheck()})}}ngOnInit(){this._bindTransitionEvents(),this._position==="center"&&(this._setActiveClass(!0),mi(()=>this._onCentering.emit(this._elementRef.nativeElement.clientHeight),{injector:this._injector})),this._initialized=!0}ngOnDestroy(){clearTimeout(this._fallbackTimer),this._eventCleanups?.forEach(e=>e()),this._dirChangeSubscription.unsubscribe()}_bindTransitionEvents(){this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement,n=o=>{o.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.remove("mat-tab-body-animating"),o.type==="transitionend"&&this._transitionDone())};this._eventCleanups=[this._renderer.listen(e,"transitionstart",o=>{o.target===this._contentElement?.nativeElement&&(this._elementRef.nativeElement.classList.add("mat-tab-body-animating"),this._transitionStarted())}),this._renderer.listen(e,"transitionend",n),this._renderer.listen(e,"transitioncancel",n)]})}_transitionStarted(){clearTimeout(this._fallbackTimer);let e=this._position==="center";this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_transitionDone(){this._position==="center"?this._onCentered.emit():this._previousPosition==="center"&&this._afterLeavingCenter.emit()}_setActiveClass(e){this._elementRef.nativeElement.classList.toggle("mat-mdc-tab-body-active",e)}_getLayoutDirection(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_isCenterPosition(){return this._positionIndex===0}_computePositionAnimationState(e=this._getLayoutDirection()){this._previousPosition=this._position,this._positionIndex<0?this._position=e=="ltr"?"left":"right":this._positionIndex>0?this._position=e=="ltr"?"right":"left":this._position="center",this._animationsDisabled()?this._simulateTransitionEvents():this._initialized&&(this._position==="center"||this._previousPosition==="center")&&(clearTimeout(this._fallbackTimer),this._fallbackTimer=this._ngZone.runOutsideAngular(()=>setTimeout(()=>this._simulateTransitionEvents(),100)))}_simulateTransitionEvents(){this._transitionStarted(),mi(()=>this._transitionDone(),{injector:this._injector})}_animationsDisabled(){return this._animationsModule==="NoopAnimations"||this.animationDuration==="0ms"||this.animationDuration==="0s"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab-body"]],viewQuery:function(n,o){if(n&1&&(le(ZV,5),le(l4,5)),n&2){let r;J(r=$())&&(o._portalHost=r.first),J(r=$())&&(o._contentElement=r.first)}},hostAttrs:[1,"mat-mdc-tab-body"],hostVars:1,hostBindings:function(n,o){n&2&&ue("inert",o._position==="center"?null:"")},inputs:{_content:[0,"content","_content"],animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_onCentered:"_onCentered"},decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(n,o){n&1&&(v(0,"div",1,0),V(2,c4,0,0,"ng-template",2),_()),n&2&&te("mat-tab-body-content-left",o._position==="left")("mat-tab-body-content-right",o._position==="right")("mat-tab-body-content-can-animate",o._position==="center"||o._previousPosition==="center")},dependencies:[ZV,Qc],styles:[".mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto;transform:none;visibility:hidden}.mat-tab-body-animating>.mat-mdc-tab-body-content,.mat-mdc-tab-body-active>.mat-mdc-tab-body-content{visibility:visible}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-tab-body-content-can-animate{transition:transform var(--mat-tab-animation-duration) 1ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable .mat-tab-body-content-can-animate{transition:none}.mat-tab-body-content-left{transform:translate3d(-100%, 0, 0)}.mat-tab-body-content-right{transform:translate3d(100%, 0, 0)}"],encapsulation:2})}return t})(),cu=(()=>{class t{_elementRef=m(oe);_changeDetectorRef=m(je);_ngZone=m(pe);_tabsSubscription=$e.EMPTY;_tabLabelSubscription=$e.EMPTY;_tabBodySubscription=$e.EMPTY;_animationMode=m(rt,{optional:!0});_allTabs;_tabBodies;_tabBodyWrapper;_tabHeader;_tabs=new Kl;_indexToSelect=0;_lastFocusedTabIndex=null;_tabBodyWrapperHeight=0;color;get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}_fitInkBarToContent=!1;stretchTabs=!0;alignTabs=null;dynamicHeight=!1;get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}_selectedIndex=null;headerPosition="above";get animationDuration(){return this._animationDuration}set animationDuration(e){let n=e+"";this._animationDuration=/^\d+$/.test(n)?e+"ms":n}_animationDuration;get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}_contentTabIndex;disablePagination=!1;disableRipple=!1;preserveContent=!1;get backgroundColor(){return this._backgroundColor}set backgroundColor(e){let n=this._elementRef.nativeElement.classList;n.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&n.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}_backgroundColor;ariaLabel;ariaLabelledby;selectedIndexChange=new q;focusChange=new q;animationDone=new q;selectedTabChange=new q(!0);_groupId;_isServer=!m(De).isBrowser;constructor(){let e=m(I4,{optional:!0});this._groupId=m(Dt).getId("mat-tab-group-"),this.animationDuration=e&&e.animationDuration?e.animationDuration:"500ms",this.disablePagination=e&&e.disablePagination!=null?e.disablePagination:!1,this.dynamicHeight=e&&e.dynamicHeight!=null?e.dynamicHeight:!1,e?.contentTabIndex!=null&&(this.contentTabIndex=e.contentTabIndex),this.preserveContent=!!e?.preserveContent,this.fitInkBarToContent=e&&e.fitInkBarToContent!=null?e.fitInkBarToContent:!1,this.stretchTabs=e&&e.stretchTabs!=null?e.stretchTabs:!0,this.alignTabs=e&&e.alignTabs!=null?e.alignTabs:null}ngAfterContentChecked(){let e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){let n=this._selectedIndex==null;if(!n){this.selectedTabChange.emit(this._createChangeEvent(e));let o=this._tabBodyWrapper.nativeElement;o.style.minHeight=o.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((o,r)=>o.isActive=r===e),n||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((n,o)=>{n.position=o-e,this._selectedIndex!=null&&n.position==0&&!n.origin&&(n.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{let e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){let n=this._tabs.toArray(),o;for(let r=0;r<n.length;r++)if(n[r].isActive){this._indexToSelect=this._selectedIndex=r,this._lastFocusedTabIndex=null,o=n[r];break}!o&&n[e]&&Promise.resolve().then(()=>{n[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._tabBodySubscription=this._tabBodies.changes.subscribe(()=>this._bodyCentered(!0))}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Ht(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(n=>n._closestTabGroup===this||!n._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe(),this._tabBodySubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){let n=this._tabHeader;n&&(n.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){let n=new LC;return n.index=e,this._tabs&&this._tabs.length&&(n.tab=this._tabs.toArray()[e]),n}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Mi(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`${this._groupId}-label-${e}`}_getTabContentId(e){return`${this._groupId}-content-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight){this._tabBodyWrapperHeight=e;return}let n=this._tabBodyWrapper.nativeElement;n.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(n.style.height=e+"px")}_removeTabBodyWrapperHeight(){let e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this._ngZone.run(()=>this.animationDone.emit())}_handleClick(e,n,o){n.focusIndex=o,e.disabled||(this.selectedIndex=o)}_getTabIndex(e){let n=this._lastFocusedTabIndex??this.selectedIndex;return e===n?0:-1}_tabFocusChanged(e,n){e&&e!=="mouse"&&e!=="touch"&&(this._tabHeader.focusIndex=n)}_bodyCentered(e){e&&this._tabBodies?.forEach((n,o)=>n._setActiveClass(o===this._selectedIndex))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-tab-group"]],contentQueries:function(n,o,r){if(n&1&&Jt(r,ql,5),n&2){let a;J(a=$())&&(o._allTabs=a)}},viewQuery:function(n,o){if(n&1&&(le(d4,5),le(u4,5),le(VC,5)),n&2){let r;J(r=$())&&(o._tabBodyWrapper=r.first),J(r=$())&&(o._tabHeader=r.first),J(r=$())&&(o._tabBodies=r)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:11,hostBindings:function(n,o){n&2&&(ue("mat-align-tabs",o.alignTabs),ri("mat-"+(o.color||"primary")),Oo("--mat-tab-animation-duration",o.animationDuration),te("mat-mdc-tab-group-dynamic-height",o.dynamicHeight)("mat-mdc-tab-group-inverted-header",o.headerPosition==="below")("mat-mdc-tab-group-stretch-tabs",o.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[2,"fitInkBarToContent","fitInkBarToContent",me],stretchTabs:[2,"mat-stretch-tabs","stretchTabs",me],alignTabs:[0,"mat-align-tabs","alignTabs"],dynamicHeight:[2,"dynamicHeight","dynamicHeight",me],selectedIndex:[2,"selectedIndex","selectedIndex",eo],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[2,"contentTabIndex","contentTabIndex",eo],disablePagination:[2,"disablePagination","disablePagination",me],disableRipple:[2,"disableRipple","disableRipple",me],preserveContent:[2,"preserveContent","preserveContent",me],backgroundColor:"backgroundColor",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"]},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],features:[Ye([{provide:JV,useExisting:t}])],ngContentSelectors:BC,decls:9,vars:8,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination","aria-label","aria-labelledby"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","class","content","position","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","_beforeCentering","id","content","position","animationDuration","preserveContent"]],template:function(n,o){if(n&1){let r=he();_t(),v(0,"mat-tab-header",3,0),P("indexFocused",function(c){return B(r),N(o._focusChanged(c))})("selectFocusedIndex",function(c){return B(r),N(o.selectedIndex=c)}),hi(2,f4,8,17,"div",4,dn),_(),V(4,g4,1,0),v(5,"div",5,1),hi(7,y4,1,10,"mat-tab-body",6,dn),_()}n&2&&(E("selectedIndex",o.selectedIndex||0)("disableRipple",o.disableRipple)("disablePagination",o.disablePagination)("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby),w(2),fi(o._tabs),w(2),j(o._isServer?4:-1),w(),te("_mat-animation-noopable",o._animationMode==="NoopAnimations"),w(2),fi(o._tabs))},dependencies:[S4,$V,xp,Vp,gn,VC],styles:['.mdc-tab{min-width:90px;padding:0 24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;z-index:1}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab--active .mdc-tab__text-label{transition-delay:100ms}._mat-animation-noopable .mdc-tab__text-label{transition:none}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transition:var(--mat-tab-animation-duration, 250ms) transform cubic-bezier(0.4, 0, 0.2, 1);transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}._mat-animation-noopable .mdc-tab-indicator__content,.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mat-mdc-tab-ripple.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;height:var(--mdc-secondary-navigation-tab-container-height, 48px);font-family:var(--mat-tab-header-label-text-font, var(--mat-sys-title-small-font));font-size:var(--mat-tab-header-label-text-size, var(--mat-sys-title-small-size));letter-spacing:var(--mat-tab-header-label-text-tracking, var(--mat-sys-title-small-tracking));line-height:var(--mat-tab-header-label-text-line-height, var(--mat-sys-title-small-line-height));font-weight:var(--mat-tab-header-label-text-weight, var(--mat-sys-title-small-weight))}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color, var(--mat-sys-primary));border-top-width:var(--mdc-tab-indicator-active-indicator-height, 2px);border-radius:var(--mdc-tab-indicator-active-indicator-shape, 0)}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color, var(--mat-sys-primary))}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color, var(--mat-sys-on-surface));display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color, var(--mat-sys-on-surface))}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}return t})(),LC=class{index;tab};var du=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Pe]})}return t})();var pu=new H("MAT_DATE_LOCALE",{providedIn:"root",factory:XV});function XV(){return m(Fx)}var uu="Method not implemented",Ii=class{locale;_localeChanges=new Q;localeChanges=this._localeChanges;setTime(i,e,n,o){throw new Error(uu)}getHours(i){throw new Error(uu)}getMinutes(i){throw new Error(uu)}getSeconds(i){throw new Error(uu)}parseTime(i,e){throw new Error(uu)}addSeconds(i,e){throw new Error(uu)}getValidDateOrNull(i){return this.isDateInstance(i)&&this.isValid(i)?i:null}deserialize(i){return i==null||this.isDateInstance(i)&&this.isValid(i)?i:this.invalid()}setLocale(i){this.locale=i,this._localeChanges.next()}compareDate(i,e){return this.getYear(i)-this.getYear(e)||this.getMonth(i)-this.getMonth(e)||this.getDate(i)-this.getDate(e)}compareTime(i,e){return this.getHours(i)-this.getHours(e)||this.getMinutes(i)-this.getMinutes(e)||this.getSeconds(i)-this.getSeconds(e)}sameDate(i,e){if(i&&e){let n=this.isValid(i),o=this.isValid(e);return n&&o?!this.compareDate(i,e):n==o}return i==e}sameTime(i,e){if(i&&e){let n=this.isValid(i),o=this.isValid(e);return n&&o?!this.compareTime(i,e):n==o}return i==e}clampDate(i,e,n){return e&&this.compareDate(i,e)<0?e:n&&this.compareDate(i,n)>0?n:i}},Ra=new H("mat-date-formats");var M4=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/,E4=/^(\d?\d)[:.](\d?\d)(?:[:.](\d?\d))?\s*(AM|PM)?$/i;function UC(t,i){let e=Array(t);for(let n=0;n<t;n++)e[n]=i(n);return e}var k4=(()=>{class t extends Ii{useUtcForDisplay=!1;_matDateLocale=m(pu,{optional:!0});constructor(){super();let e=m(pu,{optional:!0});e!==void 0&&(this._matDateLocale=e),super.setLocale(this._matDateLocale)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){let n=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return UC(12,o=>this._format(n,new Date(2017,o,1)))}getDateNames(){let e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return UC(31,n=>this._format(e,new Date(2017,0,n+1)))}getDayOfWeekNames(e){let n=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return UC(7,o=>this._format(n,new Date(2017,0,o+1)))}getYearName(e){let n=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(n,e)}getFirstDayOfWeek(){if(typeof Intl<"u"&&Intl.Locale){let e=new Intl.Locale(this.locale),n=(e.getWeekInfo?.()||e.weekInfo)?.firstDay??0;return n===7?0:n}return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,n,o){let r=this._createDateWithOverflow(e,n,o);return r.getMonth()!=n,r}today(){return new Date}parse(e,n){return typeof e=="number"?new Date(e):e?new Date(Date.parse(e)):null}format(e,n){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");let o=new Intl.DateTimeFormat(this.locale,O(x({},n),{timeZone:"utc"}));return this._format(o,e)}addCalendarYears(e,n){return this.addCalendarMonths(e,n*12)}addCalendarMonths(e,n){let o=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+n,this.getDate(e));return this.getMonth(o)!=((this.getMonth(e)+n)%12+12)%12&&(o=this._createDateWithOverflow(this.getYear(o),this.getMonth(o),0)),o}addCalendarDays(e,n){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+n)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if(typeof e=="string"){if(!e)return null;if(M4.test(e)){let n=new Date(e);if(this.isValid(n))return n}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}setTime(e,n,o,r){let a=this.clone(e);return a.setHours(n,o,r,0),a}getHours(e){return e.getHours()}getMinutes(e){return e.getMinutes()}getSeconds(e){return e.getSeconds()}parseTime(e,n){if(typeof e!="string")return e instanceof Date?new Date(e.getTime()):null;let o=e.trim();if(o.length===0)return null;let r=this._parseTimeString(o);if(r===null){let a=o.replace(/[^0-9:(AM|PM)]/gi,"").trim();a.length>0&&(r=this._parseTimeString(a))}return r||this.invalid()}addSeconds(e,n){return new Date(e.getTime()+n*1e3)}_createDateWithOverflow(e,n,o){let r=new Date;return r.setFullYear(e,n,o),r.setHours(0,0,0,0),r}_2digit(e){return("00"+e).slice(-2)}_format(e,n){let o=new Date;return o.setUTCFullYear(n.getFullYear(),n.getMonth(),n.getDate()),o.setUTCHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e.format(o)}_parseTimeString(e){let n=e.toUpperCase().match(E4);if(n){let o=parseInt(n[1]),r=parseInt(n[2]),a=n[3]==null?void 0:parseInt(n[3]),c=n[4];if(o===12?o=c==="AM"?0:o:c==="PM"&&(o+=12),jC(o,0,23)&&jC(r,0,59)&&(a==null||jC(a,0,59)))return this.setTime(this.today(),o,r,a||0)}return null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function jC(t,i,e){return!isNaN(t)&&t>=i&&t<=e}var T4={parse:{dateInput:null,timeInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},timeInput:{hour:"numeric",minute:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"},timeOptionLabel:{hour:"numeric",minute:"numeric"}}};var eL=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[qm()]})}return t})();function qm(t=T4){return[{provide:Ii,useClass:k4},{provide:Ra,useValue:t}]}var F4=["mat-calendar-body",""];function R4(t,i){return this._trackRow(i)}var sL=(t,i)=>i.id;function P4(t,i){if(t&1&&(v(0,"tr",0)(1,"td",3),S(2),_()()),t&2){let e=k();w(),Oo("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ue("colspan",e.numCols),w(),Vo(" ",e.label," ")}}function O4(t,i){if(t&1&&(v(0,"td",3),S(1),_()),t&2){let e=k(2);Oo("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),ue("colspan",e._firstRowOffset),w(),Vo(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function V4(t,i){if(t&1){let e=he();v(0,"td",6)(1,"button",7),P("click",function(o){let r=B(e).$implicit,a=k(2);return N(a._cellClicked(r,o))})("focus",function(o){let r=B(e).$implicit,a=k(2);return N(a._emitActiveDateChange(r,o))}),v(2,"span",8),S(3),_(),F(4,"span",9),_()()}if(t&2){let e=i.$implicit,n=i.$index,o=k().$index,r=k();Oo("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),ue("data-mat-row",o)("data-mat-col",n),w(),te("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",r._isActiveCell(o,n))("mat-calendar-body-range-start",r._isRangeStart(e.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",r._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(e.compareValue,o,n))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(e.compareValue,o,n))("mat-calendar-body-comparison-start",r._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",r._isInPreview(e.compareValue)),E("ngClass",e.cssClasses)("tabindex",r._isActiveCell(o,n)?0:-1),ue("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",r._isSelected(e.compareValue))("aria-current",r.todayValue===e.compareValue?"date":null)("aria-describedby",r._getDescribedby(e.compareValue)),w(),te("mat-calendar-body-selected",r._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",r.todayValue===e.compareValue),w(),Vo(" ",e.displayValue," ")}}function L4(t,i){if(t&1&&(v(0,"tr",1),V(1,O4,2,6,"td",4),hi(2,V4,5,48,"td",5,sL),_()),t&2){let e=i.$implicit,n=i.$index,o=k();w(),j(n===0&&o._firstRowOffset?1:-1),w(),fi(e)}}function B4(t,i){if(t&1&&(v(0,"th",2)(1,"span",6),S(2),_(),v(3,"span",3),S(4),_()()),t&2){let e=i.$implicit;w(2),Ue(e.long),w(2),Ue(e.narrow)}}var N4=["*"];function H4(t,i){}function U4(t,i){if(t&1){let e=he();v(0,"mat-month-view",4),rh("activeDateChange",function(o){B(e);let r=k();return oh(r.activeDate,o)||(r.activeDate=o),N(o)}),P("_userSelection",function(o){B(e);let r=k();return N(r._dateSelected(o))})("dragStarted",function(o){B(e);let r=k();return N(r._dragStarted(o))})("dragEnded",function(o){B(e);let r=k();return N(r._dragEnded(o))}),_()}if(t&2){let e=k();nh("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)("startDateAccessibleName",e.startDateAccessibleName)("endDateAccessibleName",e.endDateAccessibleName)("activeDrag",e._activeDrag)}}function j4(t,i){if(t&1){let e=he();v(0,"mat-year-view",5),rh("activeDateChange",function(o){B(e);let r=k();return oh(r.activeDate,o)||(r.activeDate=o),N(o)}),P("monthSelected",function(o){B(e);let r=k();return N(r._monthSelectedInYearView(o))})("selectedChange",function(o){B(e);let r=k();return N(r._goToDateInView(o,"month"))}),_()}if(t&2){let e=k();nh("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function z4(t,i){if(t&1){let e=he();v(0,"mat-multi-year-view",6),rh("activeDateChange",function(o){B(e);let r=k();return oh(r.activeDate,o)||(r.activeDate=o),N(o)}),P("yearSelected",function(o){B(e);let r=k();return N(r._yearSelectedInMultiYearView(o))})("selectedChange",function(o){B(e);let r=k();return N(r._goToDateInView(o,"year"))}),_()}if(t&2){let e=k();nh("activeDate",e.activeDate),E("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function G4(t,i){}var W4=["button"],Q4=[[["","matDatepickerToggleIcon",""]]],q4=["[matDatepickerToggleIcon]"];function Y4(t,i){t&1&&(Ro(),v(0,"svg",2),F(1,"path",3),_())}var fu=(()=>{class t{changes=new Q;calendarLabel="Calendar";openCalendarLabel="Open calendar";closeCalendarLabel="Close calendar";prevMonthLabel="Previous month";nextMonthLabel="Next month";prevYearLabel="Previous year";nextYearLabel="Next year";prevMultiYearLabel="Previous 24 years";nextMultiYearLabel="Next 24 years";switchToMonthViewLabel="Choose date";switchToMultiYearViewLabel="Choose month and year";startDateLabel="Start date";endDateLabel="End date";comparisonDateLabel="Comparison range";formatYearRange(e,n){return`${e} \u2013 ${n}`}formatYearRangeLabel(e,n){return`${e} to ${n}`}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Z4=0,Zm=class{value;displayValue;ariaLabel;enabled;cssClasses;compareValue;rawValue;id=Z4++;constructor(i,e,n,o,r={},a=i,c){this.value=i,this.displayValue=e,this.ariaLabel=n,this.enabled=o,this.cssClasses=r,this.compareValue=a,this.rawValue=c}},K4={passive:!1,capture:!0},R_={passive:!0,capture:!0},tL={passive:!0},hu=(()=>{class t{_elementRef=m(oe);_ngZone=m(pe);_platform=m(De);_intl=m(fu);_eventCleanups;_skipNextFocus;_focusActiveCellAfterViewChecked=!1;label;rows;todayValue;startValue;endValue;labelMinRequiredCells;numCols=7;activeCell=0;ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}isRange=!1;cellAspectRatio=1;comparisonStart;comparisonEnd;previewStart=null;previewEnd=null;startDateAccessibleName;endDateAccessibleName;selectedValueChange=new q;previewChange=new q;activeDateChange=new q;dragStarted=new q;dragEnded=new q;_firstRowOffset;_cellPadding;_cellWidth;_startDateLabelId;_endDateLabelId;_comparisonStartDateLabelId;_comparisonEndDateLabelId;_didDragSinceMouseDown=!1;_injector=m(Te);comparisonDateAccessibleName=this._intl.comparisonDateLabel;_trackRow=e=>e;constructor(){let e=m(Pt),n=m(Dt);this._startDateLabelId=n.getId("mat-calendar-body-start-"),this._endDateLabelId=n.getId("mat-calendar-body-end-"),this._comparisonStartDateLabelId=n.getId("mat-calendar-body-comparison-start-"),this._comparisonEndDateLabelId=n.getId("mat-calendar-body-comparison-end-"),m(Bt).load(os),this._ngZone.runOutsideAngular(()=>{let o=this._elementRef.nativeElement,r=[St(e,o,"touchmove",this._touchmoveHandler,K4),St(e,o,"mouseenter",this._enterHandler,R_),St(e,o,"focus",this._enterHandler,R_),St(e,o,"mouseleave",this._leaveHandler,R_),St(e,o,"blur",this._leaveHandler,R_),St(e,o,"mousedown",this._mousedownHandler,tL),St(e,o,"touchstart",this._mousedownHandler,tL)];this._platform.isBrowser&&r.push(e.listen("window","mouseup",this._mouseupHandler),e.listen("window","touchend",this._touchendHandler)),this._eventCleanups=r})}_cellClicked(e,n){this._didDragSinceMouseDown||e.enabled&&this.selectedValueChange.emit({value:e.value,event:n})}_emitActiveDateChange(e,n){e.enabled&&this.activeDateChange.emit({value:e.value,event:n})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){let n=e.numCols,{rows:o,numCols:r}=this;(e.rows||n)&&(this._firstRowOffset=o&&o.length&&o[0].length?r-o[0].length:0),(e.cellAspectRatio||n||!this._cellPadding)&&(this._cellPadding=`${50*this.cellAspectRatio/r}%`),(n||!this._cellWidth)&&(this._cellWidth=`${100/r}%`)}ngOnDestroy(){this._eventCleanups.forEach(e=>e())}_isActiveCell(e,n){let o=e*this.numCols+n;return e&&(o-=this._firstRowOffset),o==this.activeCell}_focusActiveCell(e=!0){mi(()=>{setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(e||(this._skipNextFocus=!0),n.focus())})},{injector:this._injector})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return WC(e,this.startValue,this.endValue)}_isRangeEnd(e){return QC(e,this.startValue,this.endValue)}_isInRange(e){return qC(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return WC(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,n,o){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let r=this.rows[n][o-1];if(!r){let a=this.rows[n-1];r=a&&a[a.length-1]}return r&&!this._isRangeEnd(r.compareValue)}_isComparisonBridgeEnd(e,n,o){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let r=this.rows[n][o+1];if(!r){let a=this.rows[n+1];r=a&&a[0]}return r&&!this._isRangeStart(r.compareValue)}_isComparisonEnd(e){return QC(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return qC(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return WC(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return QC(e,this.previewStart,this.previewEnd)}_isInPreview(e){return qC(e,this.previewStart,this.previewEnd,this.isRange)}_getDescribedby(e){if(!this.isRange)return null;if(this.startValue===e&&this.endValue===e)return`${this._startDateLabelId} ${this._endDateLabelId}`;if(this.startValue===e)return this._startDateLabelId;if(this.endValue===e)return this._endDateLabelId;if(this.comparisonStart!==null&&this.comparisonEnd!==null){if(e===this.comparisonStart&&e===this.comparisonEnd)return`${this._comparisonStartDateLabelId} ${this._comparisonEndDateLabelId}`;if(e===this.comparisonStart)return this._comparisonStartDateLabelId;if(e===this.comparisonEnd)return this._comparisonEndDateLabelId}return null}_enterHandler=e=>{if(this._skipNextFocus&&e.type==="focus"){this._skipNextFocus=!1;return}if(e.target&&this.isRange){let n=this._getCellFromElement(e.target);n&&this._ngZone.run(()=>this.previewChange.emit({value:n.enabled?n:null,event:e}))}};_touchmoveHandler=e=>{if(!this.isRange)return;let n=iL(e),o=n?this._getCellFromElement(n):null;n!==e.target&&(this._didDragSinceMouseDown=!0),GC(e.target)&&e.preventDefault(),this._ngZone.run(()=>this.previewChange.emit({value:o?.enabled?o:null,event:e}))};_leaveHandler=e=>{this.previewEnd!==null&&this.isRange&&(e.type!=="blur"&&(this._didDragSinceMouseDown=!0),e.target&&this._getCellFromElement(e.target)&&!(e.relatedTarget&&this._getCellFromElement(e.relatedTarget))&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:e})))};_mousedownHandler=e=>{if(!this.isRange)return;this._didDragSinceMouseDown=!1;let n=e.target&&this._getCellFromElement(e.target);!n||!this._isInRange(n.compareValue)||this._ngZone.run(()=>{this.dragStarted.emit({value:n.rawValue,event:e})})};_mouseupHandler=e=>{if(!this.isRange)return;let n=GC(e.target);if(!n){this._ngZone.run(()=>{this.dragEnded.emit({value:null,event:e})});return}n.closest(".mat-calendar-body")===this._elementRef.nativeElement&&this._ngZone.run(()=>{let o=this._getCellFromElement(n);this.dragEnded.emit({value:o?.rawValue??null,event:e})})};_touchendHandler=e=>{let n=iL(e);n&&this._mouseupHandler({target:n})};_getCellFromElement(e){let n=GC(e);if(n){let o=n.getAttribute("data-mat-row"),r=n.getAttribute("data-mat-col");if(o&&r)return this.rows[parseInt(o)][parseInt(r)]}return null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange",dragStarted:"dragStarted",dragEnded:"dragEnded"},exportAs:["matCalendarBody"],features:[ht],attrs:F4,decls:11,vars:11,consts:[["aria-hidden","true"],["role","row"],[1,"mat-calendar-body-hidden-label",3,"id"],[1,"mat-calendar-body-label"],[1,"mat-calendar-body-label",3,"paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"click","focus","ngClass","tabindex"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(n,o){n&1&&(V(0,P4,3,6,"tr",0),hi(1,L4,4,1,"tr",1,R4,!0),v(3,"span",2),S(4),_(),v(5,"span",2),S(6),_(),v(7,"span",2),S(8),_(),v(9,"span",2),S(10),_()),n&2&&(j(o._firstRowOffset<o.labelMinRequiredCells?0:-1),w(),fi(o.rows),w(2),E("id",o._startDateLabelId),w(),Vo(" ",o.startDateAccessibleName,`
`),w(),E("id",o._endDateLabelId),w(),Vo(" ",o.endDateAccessibleName,`
`),w(),E("id",o._comparisonStartDateLabelId),w(),yi(" ",o.comparisonDateAccessibleName," ",o.startDateAccessibleName,`
`),w(),E("id",o._comparisonEndDateLabelId),w(),yi(" ",o.comparisonDateAccessibleName," ",o.endDateAccessibleName,`
`))},dependencies:[Ut],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-outline-color, var(--mat-sys-primary))}.mat-calendar-body-label{height:0;line-height:0;text-align:start;padding-left:4.7142857143%;padding-right:4.7142857143%;font-size:var(--mat-datepicker-calendar-body-label-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-body-label-text-weight, var(--mat-sys-title-small-weight));color:var(--mat-datepicker-calendar-body-label-text-color, var(--mat-sys-on-surface))}.mat-calendar-body-hidden-label{display:none}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size));-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;display:block;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview{color:var(--mat-datepicker-calendar-date-preview-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.mat-calendar-body-disabled>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){color:var(--mat-datepicker-calendar-date-disabled-state-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-disabled>.mat-calendar-body-today:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){border-color:var(--mat-datepicker-calendar-date-today-disabled-state-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mat-calendar-body-disabled{opacity:.5}}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px;color:var(--mat-datepicker-calendar-date-text-color, var(--mat-sys-on-surface));border-color:var(--mat-datepicker-calendar-date-outline-color, transparent)}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}@media(forced-colors: active){.mat-calendar-body-cell-content{border:none}}.cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical),.cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-focus-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent))}@media(hover: hover){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected):not(.mat-calendar-body-comparison-identical){background-color:var(--mat-datepicker-calendar-date-hover-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}}.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-state-background-color, var(--mat-sys-primary));color:var(--mat-datepicker-calendar-date-selected-state-text-color, var(--mat-sys-on-primary))}.mat-calendar-body-disabled>.mat-calendar-body-selected{background-color:var(--mat-datepicker-calendar-date-selected-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-calendar-body-selected.mat-calendar-body-today{box-shadow:inset 0 0 0 1px var(--mat-datepicker-calendar-date-today-selected-state-outline-color, var(--mat-sys-primary))}.mat-calendar-body-in-range::before{background:var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range::before{background:var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container))}.mat-calendar-body-comparison-bridge-start::before,[dir=rtl] .mat-calendar-body-comparison-bridge-end::before{background:linear-gradient(to right, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-comparison-bridge-end::before,[dir=rtl] .mat-calendar-body-comparison-bridge-start::before{background:linear-gradient(to left, var(--mat-datepicker-calendar-date-in-range-state-background-color, var(--mat-sys-primary-container)) 50%, var(--mat-datepicker-calendar-date-in-comparison-range-state-background-color, var(--mat-sys-tertiary-container)) 50%)}.mat-calendar-body-in-range>.mat-calendar-body-comparison-identical,.mat-calendar-body-in-comparison-range.mat-calendar-body-in-range::after{background:var(--mat-datepicker-calendar-date-in-overlap-range-state-background-color, var(--mat-sys-secondary-container))}.mat-calendar-body-comparison-identical.mat-calendar-body-selected,.mat-calendar-body-in-comparison-range>.mat-calendar-body-selected{background:var(--mat-datepicker-calendar-date-in-overlap-range-selected-state-background-color, var(--mat-sys-secondary))}@media(forced-colors: active){.mat-datepicker-popup:not(:empty),.mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.mat-calendar-body-today{outline:dotted 1px}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-selected{background:none}.mat-calendar-body-in-range::before,.mat-calendar-body-comparison-bridge-start::before,.mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}}'],encapsulation:2,changeDetection:0})}return t})();function zC(t){return t?.nodeName==="TD"}function GC(t){let i;return zC(t)?i=t:zC(t.parentNode)?i=t.parentNode:zC(t.parentNode?.parentNode)&&(i=t.parentNode.parentNode),i?.getAttribute("data-mat-row")!=null?i:null}function WC(t,i,e){return e!==null&&i!==e&&t<e&&t===i}function QC(t,i,e){return i!==null&&i!==e&&t>=i&&t===e}function qC(t,i,e,n){return n&&i!==null&&e!==null&&i!==e&&t>=i&&t<=e}function iL(t){let i=t.changedTouches[0];return document.elementFromPoint(i.clientX,i.clientY)}var ko=class{start;end;_disableStructuralEquivalency;constructor(i,e){this.start=i,this.end=e}},Km=(()=>{class t{selection;_adapter;_selectionChanged=new Q;selectionChanged=this._selectionChanged;constructor(e,n){this.selection=e,this._adapter=n,this.selection=e}updateSelection(e,n){let o=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:n,oldValue:o})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}static \u0275fac=function(n){Iu()};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),J4=(()=>{class t extends Km{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return this.selection!=null&&this._isValidDateInstance(this.selection)}isComplete(){return this.selection!=null}clone(){let e=new t(this._adapter);return e.updateSelection(this.selection,this),e}static \u0275fac=function(n){return new(n||t)(Fe(Ii))};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})();function $4(t,i){return t||new J4(i)}var lL={provide:Km,deps:[[new bu,new dv,Km],Ii],useFactory:$4};var cL=new H("MAT_DATE_RANGE_SELECTION_STRATEGY");var YC=7,X4=0,nL=(()=>{class t{_changeDetectorRef=m(je);_dateFormats=m(Ra,{optional:!0});_dateAdapter=m(Ii,{optional:!0});_dir=m(Nt,{optional:!0});_rangeStrategy=m(cL,{optional:!0});_rerenderSubscription=$e.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._hasSameMonthAndYear(n,this._activeDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;activeDrag=null;selectedChange=new q;_userSelection=new q;dragStarted=new q;dragEnded=new q;activeDateChange=new q;_matCalendarBody;_monthLabel;_weeks;_firstWeekOffset;_rangeStart;_rangeEnd;_comparisonRangeStart;_comparisonRangeEnd;_previewStart;_previewEnd;_isRange;_todayDate;_weekdays;constructor(){m(Bt).load(qo),this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ht(null)).subscribe(()=>this._init())}ngOnChanges(e){let n=e.comparisonStart||e.comparisonEnd;n&&!n.firstChange&&this._setRanges(this.selected),e.activeDrag&&!this.activeDrag&&this._clearPreview()}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){let n=e.value,o=this._getDateFromDayOfMonth(n),r,a;this._selected instanceof ko?(r=this._getDateInCurrentMonth(this._selected.start),a=this._getDateInCurrentMonth(this._selected.end)):r=a=this._getDateInCurrentMonth(this._selected),(r!==n||a!==n)&&this.selectedChange.emit(o),this._userSelection.emit({value:o,event:e.event}),this._clearPreview(),this._changeDetectorRef.markForCheck()}_updateActiveDate(e){let n=e.value,o=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:this._selectionKeyPressed=!0,this._canSelect(this._activeDate)&&e.preventDefault();return;case 27:this._previewEnd!=null&&!bt(e)&&(this._clearPreview(),this.activeDrag?this.dragEnded.emit({value:null,event:e}):(this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e})),e.preventDefault(),e.stopPropagation());return;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(YC+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%YC,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:n}){if(this._rangeStrategy){let o=n?n.rawValue:null,r=this._rangeStrategy.createPreview(o,this.selected,e);if(this._previewStart=this._getCellCompareValue(r.start),this._previewEnd=this._getCellCompareValue(r.end),this.activeDrag&&o){let a=this._rangeStrategy.createDrag?.(this.activeDrag.value,this.selected,o,e);a&&(this._previewStart=this._getCellCompareValue(a.start),this._previewEnd=this._getCellCompareValue(a.end))}this._changeDetectorRef.detectChanges()}}_dragEnded(e){if(this.activeDrag)if(e.value){let n=this._rangeStrategy?.createDrag?.(this.activeDrag.value,this.selected,e.value,e.event);this.dragEnded.emit({value:n??null,event:e.event})}else this.dragEnded.emit({value:null,event:e.event})}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){let e=this._dateAdapter.getFirstDayOfWeek(),n=this._dateAdapter.getDayOfWeekNames("narrow"),r=this._dateAdapter.getDayOfWeekNames("long").map((a,c)=>({long:a,narrow:n[c],id:X4++}));this._weekdays=r.slice(e).concat(r.slice(0,e))}_createWeekCells(){let e=this._dateAdapter.getNumDaysInMonth(this.activeDate),n=this._dateAdapter.getDateNames();this._weeks=[[]];for(let o=0,r=this._firstWeekOffset;o<e;o++,r++){r==YC&&(this._weeks.push([]),r=0);let a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),o+1),c=this._shouldEnableDate(a),d=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),u=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Zm(o+1,n[o],d,c,u,this._getCellCompareValue(a),a))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,n){return!!(e&&n&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n)&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n))}_getCellCompareValue(e){if(e){let n=this._dateAdapter.getYear(e),o=this._dateAdapter.getMonth(e),r=this._dateAdapter.getDate(e);return new Date(n,o,r).getTime()}return null}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setRanges(e){e instanceof ko?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}_clearPreview(){this._previewStart=this._previewEnd=null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-month-view"]],viewQuery:function(n,o){if(n&1&&le(hu,5),n&2){let r;J(r=$())&&(o._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName",activeDrag:"activeDrag"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",dragStarted:"dragStarted",dragEnded:"dragEnded",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[ht],decls:8,vars:14,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col"],["aria-hidden","true"],["colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","previewChange","dragStarted","dragEnded","keyup","keydown","label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","startDateAccessibleName","endDateAccessibleName"],[1,"cdk-visually-hidden"]],template:function(n,o){n&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),hi(3,B4,5,2,"th",2,sL),_(),v(5,"tr",3),F(6,"th",4),_()(),v(7,"tbody",5),P("selectedValueChange",function(a){return o._dateSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("previewChange",function(a){return o._previewChanged(a)})("dragStarted",function(a){return o.dragStarted.emit(a)})("dragEnded",function(a){return o._dragEnded(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),_()()),n&2&&(w(3),fi(o._weekdays),w(4),E("label",o._monthLabel)("rows",o._weeks)("todayValue",o._todayDate)("startValue",o._rangeStart)("endValue",o._rangeEnd)("comparisonStart",o._comparisonRangeStart)("comparisonEnd",o._comparisonRangeEnd)("previewStart",o._previewStart)("previewEnd",o._previewEnd)("isRange",o._isRange)("labelMinRequiredCells",3)("activeCell",o._dateAdapter.getDate(o.activeDate)-1)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName))},dependencies:[hu],encapsulation:2,changeDetection:0})}return t})(),Zn=24,ZC=4,oL=(()=>{class t{_changeDetectorRef=m(je);_dateAdapter=m(Ii,{optional:!0});_dir=m(Nt,{optional:!0});_rerenderSubscription=$e.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),dL(this._dateAdapter,n,this._activeDate,this.minDate,this.maxDate)||this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new q;yearSelected=new q;activeDateChange=new q;_matCalendarBody;_years;_todayYear;_selectedYear;constructor(){this._dateAdapter,this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ht(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());let n=this._dateAdapter.getYear(this._activeDate)-Ym(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let o=0,r=[];o<Zn;o++)r.push(n+o),r.length==ZC&&(this._years.push(r.map(a=>this._createCellForYear(a))),r=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){let n=e.value,o=this._dateAdapter.createDate(n,0,1),r=this._getDateFromYear(n);this.yearSelected.emit(o),this.selectedChange.emit(r)}_updateActiveDate(e){let n=e.value,o=this._activeDate;this.activeDate=this._getDateFromYear(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-ZC);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,ZC);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Ym(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,Zn-Ym(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-Zn*10:-Zn);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?Zn*10:Zn);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Ym(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){let n=this._dateAdapter.getMonth(this.activeDate),o=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,n,1));return this._dateAdapter.createDate(e,n,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForYear(e){let n=this._dateAdapter.createDate(e,0,1),o=this._dateAdapter.getYearName(n),r=this.dateClass?this.dateClass(n,"multi-year"):void 0;return new Zm(e,o,o,this._shouldEnableYear(e),r)}_shouldEnableYear(e){if(e==null||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;let n=this._dateAdapter.createDate(e,0,1);for(let o=n;this._dateAdapter.getYear(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedYear(e){if(this._selectedYear=null,e instanceof ko){let n=e.start||e.end;n&&(this._selectedYear=this._dateAdapter.getYear(n))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-multi-year-view"]],viewQuery:function(n,o){if(n&1&&le(hu,5),n&2){let r;J(r=$())&&(o._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),_()(),v(4,"tbody",3),P("selectedValueChange",function(a){return o._yearSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),_()()),n&2&&(w(4),E("rows",o._years)("todayValue",o._todayYear)("startValue",o._selectedYear)("endValue",o._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._getActiveCell()))},dependencies:[hu],encapsulation:2,changeDetection:0})}return t})();function dL(t,i,e,n,o){let r=t.getYear(i),a=t.getYear(e),c=uL(t,n,o);return Math.floor((r-c)/Zn)===Math.floor((a-c)/Zn)}function Ym(t,i,e,n){let o=t.getYear(i);return e5(o-uL(t,e,n),Zn)}function uL(t,i,e){let n=0;return e?n=t.getYear(e)-Zn+1:i&&(n=t.getYear(i)),n}function e5(t,i){return(t%i+i)%i}var rL=(()=>{class t{_changeDetectorRef=m(je);_dateFormats=m(Ra,{optional:!0});_dateAdapter=m(Ii,{optional:!0});_dir=m(Nt,{optional:!0});_rerenderSubscription=$e.EMPTY;_selectionKeyPressed;get activeDate(){return this._activeDate}set activeDate(e){let n=this._activeDate,o=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(o,this.minDate,this.maxDate),this._dateAdapter.getYear(n)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}_activeDate;get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;selectedChange=new q;monthSelected=new q;activeDateChange=new q;_matCalendarBody;_months;_yearLabel;_todayMonth;_selectedMonth;constructor(){this._activeDate=this._dateAdapter.today()}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Ht(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){let n=e.value,o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),n,1);this.monthSelected.emit(o);let r=this._getDateFromMonth(n);this.selectedChange.emit(r)}_updateActiveDate(e){let n=e.value,o=this._activeDate;this.activeDate=this._getDateFromMonth(n),this._dateAdapter.compareDate(o,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){let n=this._activeDate,o=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,o?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(n,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(e.keyCode===32||e.keyCode===13)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(n=>n.map(o=>this._createCellForMonth(o,e[o]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){let n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.getNumDaysInMonth(n);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),o))}_createCellForMonth(e,n){let o=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.format(o,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(o,"year"):void 0;return new Zm(e,n.toLocaleUpperCase(),r,this._shouldEnableMonth(e),a)}_shouldEnableMonth(e){let n=this._dateAdapter.getYear(this.activeDate);if(e==null||this._isYearAndMonthAfterMaxDate(n,e)||this._isYearAndMonthBeforeMinDate(n,e))return!1;if(!this.dateFilter)return!0;let o=this._dateAdapter.createDate(n,e,1);for(let r=o;this._dateAdapter.getMonth(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isYearAndMonthAfterMaxDate(e,n){if(this.maxDate){let o=this._dateAdapter.getYear(this.maxDate),r=this._dateAdapter.getMonth(this.maxDate);return e>o||e===o&&n>r}return!1}_isYearAndMonthBeforeMinDate(e,n){if(this.minDate){let o=this._dateAdapter.getYear(this.minDate),r=this._dateAdapter.getMonth(this.minDate);return e<o||e===o&&n<r}return!1}_isRtl(){return this._dir&&this._dir.value==="rtl"}_setSelectedMonth(e){e instanceof ko?this._selectedMonth=this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._selectedMonth=this._getMonthInCurrentYear(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-year-view"]],viewQuery:function(n,o){if(n&1&&le(hu,5),n&2){let r;J(r=$())&&(o._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"selectedValueChange","activeDateChange","keyup","keydown","label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell"]],template:function(n,o){n&1&&(v(0,"table",0)(1,"thead",1)(2,"tr"),F(3,"th",2),_()(),v(4,"tbody",3),P("selectedValueChange",function(a){return o._monthSelected(a)})("activeDateChange",function(a){return o._updateActiveDate(a)})("keyup",function(a){return o._handleCalendarBodyKeyup(a)})("keydown",function(a){return o._handleCalendarBodyKeydown(a)}),_()()),n&2&&(w(4),E("label",o._yearLabel)("rows",o._months)("todayValue",o._todayMonth)("startValue",o._selectedMonth)("endValue",o._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",o._dateAdapter.getMonth(o.activeDate)))},dependencies:[hu],encapsulation:2,changeDetection:0})}return t})(),pL=(()=>{class t{_intl=m(fu);calendar=m(KC);_dateAdapter=m(Ii,{optional:!0});_dateFormats=m(Ra,{optional:!0});constructor(){m(Bt).load(qo);let e=m(je);this.calendar.stateChanges.subscribe(()=>e.markForCheck())}get periodButtonText(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRange(...this._formatMinAndMaxYearLabels())}get periodButtonDescription(){return this.calendar.currentView=="month"?this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase():this.calendar.currentView=="year"?this._dateAdapter.getYearName(this.calendar.activeDate):this._intl.formatYearRangeLabel(...this._formatMinAndMaxYearLabels())}get periodButtonLabel(){return this.calendar.currentView=="month"?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView=this.calendar.currentView=="month"?"multi-year":"month"}previousClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?-1:-Zn)}nextClicked(){this.calendar.activeDate=this.calendar.currentView=="month"?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,this.calendar.currentView=="year"?1:Zn)}previousEnabled(){return this.calendar.minDate?!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate):!0}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,n){return this.calendar.currentView=="month"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(n):this.calendar.currentView=="year"?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(n):dL(this._dateAdapter,e,n,this.calendar.minDate,this.calendar.maxDate)}_formatMinAndMaxYearLabels(){let n=this._dateAdapter.getYear(this.calendar.activeDate)-Ym(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),o=n+Zn-1,r=this._dateAdapter.getYearName(this._dateAdapter.createDate(n,0,1)),a=this._dateAdapter.getYearName(this._dateAdapter.createDate(o,0,1));return[r,a]}_periodButtonLabelId=m(Dt).getId("mat-calendar-period-label-");static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:N4,decls:17,vars:11,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["aria-live","polite",1,"cdk-visually-hidden",3,"id"],["mat-button","","type","button",1,"mat-calendar-period-button",3,"click"],["aria-hidden","true"],["viewBox","0 0 10 5","focusable","false","aria-hidden","true",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"]],template:function(n,o){n&1&&(_t(),v(0,"div",0)(1,"div",1)(2,"span",2),S(3),_(),v(4,"button",3),P("click",function(){return o.currentPeriodClicked()}),v(5,"span",4),S(6),_(),Ro(),v(7,"svg",5),F(8,"polygon",6),_()(),Au(),F(9,"div",7),Ee(10),v(11,"button",8),P("click",function(){return o.previousClicked()}),Ro(),v(12,"svg",9),F(13,"path",10),_()(),Au(),v(14,"button",11),P("click",function(){return o.nextClicked()}),Ro(),v(15,"svg",9),F(16,"path",12),_()()()()),n&2&&(w(2),E("id",o._periodButtonLabelId),w(),Ue(o.periodButtonDescription),w(),ue("aria-label",o.periodButtonLabel)("aria-describedby",o._periodButtonLabelId),w(2),Ue(o.periodButtonText),w(),te("mat-calendar-invert",o.calendar.currentView!=="month"),w(4),E("disabled",!o.previousEnabled()),ue("aria-label",o.prevButtonLabel),w(3),E("disabled",!o.nextEnabled()),ue("aria-label",o.nextButtonLabel))},dependencies:[uo,Sr],encapsulation:2,changeDetection:0})}return t})(),KC=(()=>{class t{_dateAdapter=m(Ii,{optional:!0});_dateFormats=m(Ra,{optional:!0});_changeDetectorRef=m(je);headerComponent;_calendarHeaderPortal;_intlChanges;_moveFocusOnNextTick=!1;get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get selected(){return this._selected}set selected(e){e instanceof ko?this._selected=e:this._selected=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_selected;get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_minDate;get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_maxDate;dateFilter;dateClass;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;selectedChange=new q;yearSelected=new q;monthSelected=new q;viewChanged=new q(!0);_userSelection=new q;_userDragDrop=new q;monthView;yearView;multiYearView;get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}_clampedActiveDate;get currentView(){return this._currentView}set currentView(e){let n=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),n&&this.viewChanged.emit(n)}_currentView;_activeDrag=null;stateChanges=new Q;constructor(){this._intlChanges=m(fu).changes.subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}ngAfterContentInit(){this._calendarHeaderPortal=new fn(this.headerComponent||pL),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){let n=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,o=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,r=n||o||e.dateFilter;if(r&&!r.firstChange){let a=this._getCurrentViewComponent();a&&(this._moveFocusOnNextTick=!0,this._changeDetectorRef.detectChanges(),a._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){let n=e.value;(this.selected instanceof ko||n&&!this._dateAdapter.sameDate(n,this.selected))&&this.selectedChange.emit(n),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,n){this.activeDate=e,this.currentView=n}_dragStarted(e){this._activeDrag=e}_dragEnded(e){this._activeDrag&&(e.value&&this._userDragDrop.emit(e),this._activeDrag=null)}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-calendar"]],viewQuery:function(n,o){if(n&1&&(le(nL,5),le(rL,5),le(oL,5)),n&2){let r;J(r=$())&&(o.monthView=r.first),J(r=$())&&(o.yearView=r.first),J(r=$())&&(o.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",startDateAccessibleName:"startDateAccessibleName",endDateAccessibleName:"endDateAccessibleName"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection",_userDragDrop:"_userDragDrop"},exportAs:["matCalendar"],features:[Ye([lL]),ht],decls:5,vars:2,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","_userSelection","dragStarted","dragEnded","activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName","activeDrag"],[3,"activeDateChange","monthSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"],[3,"activeDateChange","yearSelected","selectedChange","activeDate","selected","dateFilter","maxDate","minDate","dateClass"]],template:function(n,o){if(n&1&&(V(0,H4,0,0,"ng-template",0),v(1,"div",1),V(2,U4,1,11,"mat-month-view",2)(3,j4,1,6,"mat-year-view",3)(4,z4,1,6,"mat-multi-year-view",3),_()),n&2){let r;E("cdkPortalOutlet",o._calendarHeaderPortal),w(2),j((r=o.currentView)==="month"?2:r==="year"?3:r==="multi-year"?4:-1)}},dependencies:[gn,xp,nL,rL,oL],styles:['.mat-calendar{display:block;line-height:normal;font-family:var(--mat-datepicker-calendar-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-datepicker-calendar-text-size, var(--mat-sys-body-medium-size))}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;align-items:center;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0;margin:0 8px;font-size:var(--mat-datepicker-calendar-period-button-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-period-button-text-weight, var(--mat-sys-title-small-weight));--mdc-text-button-label-text-color:var(--mat-datepicker-calendar-period-button-text-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle;fill:var(--mat-datepicker-calendar-period-button-icon-color, var(--mat-sys-on-surface-variant))}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}@media(forced-colors: active){.mat-calendar-arrow{fill:CanvasText}}.mat-datepicker-content .mat-calendar-previous-button:not(.mat-mdc-button-disabled),.mat-datepicker-content .mat-calendar-next-button:not(.mat-mdc-button-disabled){color:var(--mat-datepicker-calendar-navigation-button-icon-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0;color:var(--mat-datepicker-calendar-header-text-color, var(--mat-sys-on-surface-variant));font-size:var(--mat-datepicker-calendar-header-text-size, var(--mat-sys-title-small-size));font-weight:var(--mat-datepicker-calendar-header-text-weight, var(--mat-sys-title-small-weight))}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px;background:var(--mat-datepicker-calendar-header-divider-color, transparent)}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px)*-1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return t})(),mL=new H("mat-datepicker-scroll-strategy",{providedIn:"root",factory:()=>{let t=m(yt);return()=>t.scrollStrategies.reposition()}});function t5(t){return()=>t.scrollStrategies.reposition()}var i5={provide:mL,deps:[yt],useFactory:t5},hL=(()=>{class t{_elementRef=m(oe);_animationsDisabled=m(rt,{optional:!0})==="NoopAnimations";_changeDetectorRef=m(je);_globalModel=m(Km);_dateAdapter=m(Ii);_ngZone=m(pe);_rangeSelectionStrategy=m(cL,{optional:!0});_stateChanges;_model;_eventCleanups;_animationFallback;_calendar;color;datepicker;comparisonStart;comparisonEnd;startDateAccessibleName;endDateAccessibleName;_isAbove;_animationDone=new Q;_isAnimating=!1;_closeButtonText;_closeButtonFocused;_actionsPortal=null;_dialogLabelId;constructor(){if(m(Bt).load(qo),this._closeButtonText=m(fu).closeCalendarLabel,!this._animationsDisabled){let e=this._elementRef.nativeElement,n=m(Pt);this._eventCleanups=this._ngZone.runOutsideAngular(()=>[n.listen(e,"animationstart",this._handleAnimationEvent),n.listen(e,"animationend",this._handleAnimationEvent),n.listen(e,"animationcancel",this._handleAnimationEvent)])}}ngAfterViewInit(){this._stateChanges=this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()}),this._calendar.focusActiveCell()}ngOnDestroy(){clearTimeout(this._animationFallback),this._eventCleanups?.forEach(e=>e()),this._stateChanges?.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){let n=this._model.selection,o=e.value,r=n instanceof ko;if(r&&this._rangeSelectionStrategy){let a=this._rangeSelectionStrategy.selectionFinished(o,n,e.event);this._model.updateSelection(a,this)}else o&&(r||!this._dateAdapter.sameDate(o,n))&&this._model.add(o);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_handleUserDragDrop(e){this._model.updateSelection(e.value,this)}_startExitAnimation(){this._elementRef.nativeElement.classList.add("mat-datepicker-content-exit"),this._animationsDisabled?this._animationDone.next():(clearTimeout(this._animationFallback),this._animationFallback=setTimeout(()=>{this._isAnimating||this._animationDone.next()},200))}_handleAnimationEvent=e=>{let n=this._elementRef.nativeElement;e.target!==n||!e.animationName.startsWith("_mat-datepicker-content")||(clearTimeout(this._animationFallback),this._isAnimating=e.type==="animationstart",n.classList.toggle("mat-datepicker-content-animating",this._isAnimating),this._isAnimating||this._animationDone.next())};_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,n){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,n&&this._changeDetectorRef.detectChanges()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-datepicker-content"]],viewQuery:function(n,o){if(n&1&&le(KC,5),n&2){let r;J(r=$())&&(o._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:6,hostBindings:function(n,o){n&2&&(ri(o.color?"mat-"+o.color:""),te("mat-datepicker-content-touch",o.datepicker.touchUi)("mat-datepicker-content-animations-enabled",!o._animationsDisabled))},inputs:{color:"color"},exportAs:["matDatepickerContent"],decls:5,vars:26,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"yearSelected","monthSelected","viewChanged","_userSelection","_userDragDrop","id","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","startDateAccessibleName","endDateAccessibleName"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"focus","blur","click","color"]],template:function(n,o){if(n&1&&(v(0,"div",0)(1,"mat-calendar",1),P("yearSelected",function(a){return o.datepicker._selectYear(a)})("monthSelected",function(a){return o.datepicker._selectMonth(a)})("viewChanged",function(a){return o.datepicker._viewChanged(a)})("_userSelection",function(a){return o._handleUserSelection(a)})("_userDragDrop",function(a){return o._handleUserDragDrop(a)}),_(),V(2,G4,0,0,"ng-template",2),v(3,"button",3),P("focus",function(){return o._closeButtonFocused=!0})("blur",function(){return o._closeButtonFocused=!1})("click",function(){return o.datepicker.close()}),S(4),_()()),n&2){let r;te("mat-datepicker-content-container-with-custom-header",o.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",o._actionsPortal),ue("aria-modal",!0)("aria-labelledby",(r=o._dialogLabelId)!==null&&r!==void 0?r:void 0),w(),ri(o.datepicker.panelClass),E("id",o.datepicker.id)("startAt",o.datepicker.startAt)("startView",o.datepicker.startView)("minDate",o.datepicker._getMinDate())("maxDate",o.datepicker._getMaxDate())("dateFilter",o.datepicker._getDateFilter())("headerComponent",o.datepicker.calendarHeaderComponent)("selected",o._getSelected())("dateClass",o.datepicker.dateClass)("comparisonStart",o.comparisonStart)("comparisonEnd",o.comparisonEnd)("startDateAccessibleName",o.startDateAccessibleName)("endDateAccessibleName",o.endDateAccessibleName),w(),E("cdkPortalOutlet",o._actionsPortal),w(),te("cdk-visually-hidden",!o._closeButtonFocused),E("color",o.color||"primary"),w(),Ue(o._closeButtonText)}},dependencies:[IA,KC,gn,uo],styles:["@keyframes _mat-datepicker-content-dropdown-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-dialog-enter{from{opacity:0;transform:scale(0.8)}to{opacity:1;transform:none}}@keyframes _mat-datepicker-content-exit{from{opacity:1}to{opacity:0}}.mat-datepicker-content{display:block;border-radius:4px;background-color:var(--mat-datepicker-calendar-container-background-color, var(--mat-sys-surface-container-high));color:var(--mat-datepicker-calendar-container-text-color, var(--mat-sys-on-surface));box-shadow:var(--mat-datepicker-calendar-container-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-shape, var(--mat-sys-corner-large))}.mat-datepicker-content.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dropdown-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.mat-datepicker-content-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;box-shadow:var(--mat-datepicker-calendar-container-touch-elevation-shadow, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12));border-radius:var(--mat-datepicker-calendar-container-touch-shape, var(--mat-sys-corner-extra-large));position:relative;overflow:visible}.mat-datepicker-content-touch.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-dialog-enter 150ms cubic-bezier(0, 0, 0.2, 1)}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}.mat-datepicker-content-exit.mat-datepicker-content-animations-enabled{animation:_mat-datepicker-content-exit 100ms linear}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,changeDetection:0})}return t})(),aL=(()=>{class t{_overlay=m(yt);_viewContainerRef=m(cn);_dateAdapter=m(Ii,{optional:!0});_dir=m(Nt,{optional:!0});_model=m(Km);_scrollStrategy=m(mL);_inputStateChanges=$e.EMPTY;_document=m(fe);calendarHeaderComponent;get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}_startAt;startView="month";get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}_color;touchUi=!1;get disabled(){return this._disabled===void 0&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){e!==this._disabled&&(this._disabled=e,this.stateChanges.next(void 0))}_disabled;xPosition="start";yPosition="below";restoreFocus=!0;yearSelected=new q;monthSelected=new q;viewChanged=new q(!0);dateClass;openedStream=new q;closedStream=new q;get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=VT(e)}_panelClass;get opened(){return this._opened}set opened(e){e?this.open():this.close()}_opened=!1;id=m(Dt).getId("mat-datepicker-");_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}_overlayRef;_componentRef;_focusedElementBeforeOpen=null;_backdropHarnessClass=`${this.id}-backdrop`;_actionsPortal;datepickerInput;stateChanges=new Q;_injector=m(Te);_changeDetectorRef=m(je);constructor(){this._dateAdapter,this._model.selectionChanged.subscribe(()=>{this._changeDetectorRef.markForCheck()})}ngOnChanges(e){let n=e.xPosition||e.yPosition;if(n&&!n.firstChange&&this._overlayRef){let o=this._overlayRef.getConfig().positionStrategy;o instanceof qc&&(this._setConnectedPositions(o),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this.datepickerInput,this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal,this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||this._componentRef?.instance._isAnimating||(this.datepickerInput,this._focusedElementBeforeOpen=ra(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened||this._componentRef?.instance._isAnimating)return;let e=this.restoreFocus&&this._focusedElementBeforeOpen&&typeof this._focusedElementBeforeOpen.focus=="function",n=()=>{this._opened&&(this._opened=!1,this.closedStream.emit())};if(this._componentRef){let{instance:o,location:r}=this._componentRef;o._animationDone.pipe(Zt(1)).subscribe(()=>{let a=this._document.activeElement;e&&(!a||a===this._document.activeElement||r.nativeElement.contains(a))&&this._focusedElementBeforeOpen.focus(),this._focusedElementBeforeOpen=null,this._destroyOverlay()}),o._startExitAnimation()}e?setTimeout(n):n()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();let e=this.touchUi,n=new fn(hL,this._viewContainerRef),o=this._overlayRef=this._overlay.create(new mo({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir||"ltr",scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:`mat-datepicker-${e?"dialog":"popup"}`}));this._getCloseStream(o).subscribe(r=>{r&&r.preventDefault(),this.close()}),o.keydownEvents().subscribe(r=>{let a=r.keyCode;(a===38||a===40||a===37||a===39||a===33||a===34)&&r.preventDefault()}),this._componentRef=o.attach(n),this._forwardContentValues(this._componentRef.instance),e||mi(()=>{o.updatePosition()},{injector:this._injector})}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){let e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){let n=this.xPosition==="end"?"end":"start",o=n==="start"?"end":"start",r=this.yPosition==="above"?"bottom":"top",a=r==="top"?"bottom":"top";return e.withPositions([{originX:n,originY:a,overlayX:n,overlayY:r},{originX:n,originY:r,overlayX:n,overlayY:a},{originX:o,originY:a,overlayX:o,overlayY:r},{originX:o,originY:r,overlayX:o,overlayY:a}])}_getCloseStream(e){let n=["ctrlKey","shiftKey","metaKey"];return Mi(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(nt(o=>o.keyCode===27&&!bt(o)||this.datepickerInput&&bt(o,"altKey")&&o.keyCode===38&&n.every(r=>!bt(o,r)))))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:[2,"touchUi","touchUi",me],disabled:[2,"disabled","disabled",me],xPosition:"xPosition",yPosition:"yPosition",restoreFocus:[2,"restoreFocus","restoreFocus",me],dateClass:"dateClass",panelClass:"panelClass",opened:[2,"opened","opened",me]},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[ht]})}return t})(),P_=(()=>{class t extends aL{static \u0275fac=(()=>{let e;return function(o){return(e||(e=Kt(t)))(o||t)}})();static \u0275cmp=U({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[Ye([lL,{provide:aL,useExisting:t}]),Xe],decls:0,vars:0,template:function(n,o){},encapsulation:2,changeDetection:0})}return t})(),mu=class{target;targetElement;value;constructor(i,e){this.target=i,this.targetElement=e,this.value=this.target.value}},n5=(()=>{class t{_elementRef=m(oe);_dateAdapter=m(Ii,{optional:!0});_dateFormats=m(Ra,{optional:!0});_isInitialized;get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}_model;get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){let n=e,o=this._elementRef.nativeElement;this._disabled!==n&&(this._disabled=n,this.stateChanges.next(void 0)),n&&this._isInitialized&&o.blur&&o.blur()}_disabled;dateChange=new q;dateInput=new q;stateChanges=new Q;_onTouched=()=>{};_validatorOnChange=()=>{};_cvaOnChange=()=>{};_valueChangesSubscription=$e.EMPTY;_localeSubscription=$e.EMPTY;_pendingValue;_parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}};_filterValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value));return!n||this._matchesFilter(n)?null:{matDatepickerFilter:!0}};_minValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),o=this._getMinDate();return!o||!n||this._dateAdapter.compareDate(o,n)<=0?null:{matDatepickerMin:{min:o,actual:n}}};_maxValidator=e=>{let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e.value)),o=this._getMaxDate();return!o||!n||this._dateAdapter.compareDate(o,n)>=0?null:{matDatepickerMax:{max:o,actual:n}}};_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(n=>{if(this._shouldHandleChangeEvent(n)){let o=this._getValueFromModel(n.selection);this._lastValueValid=this._isValidValue(o),this._cvaOnChange(o),this._onTouched(),this._formatValue(o),this.dateInput.emit(new mu(this,this._elementRef.nativeElement)),this.dateChange.emit(new mu(this,this._elementRef.nativeElement))}})}_lastValueValid=!1;constructor(){this._localeSubscription=this._dateAdapter.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){o5(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){let n=["ctrlKey","shiftKey","metaKey"];bt(e,"altKey")&&e.keyCode===40&&n.every(r=>!bt(e,r))&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){let n=this._lastValueValid,o=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(o),o=this._dateAdapter.getValidDateOrNull(o);let r=!this._dateAdapter.sameDate(o,this.value);!o||r?this._cvaOnChange(o):(e&&!this.value&&this._cvaOnChange(o),n!==this._lastValueValid&&this._validatorOnChange()),r&&(this._assignValue(o),this.dateInput.emit(new mu(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new mu(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=e!=null?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){let n=this._getDateFilter();return!n||n(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,inputs:{value:"value",disabled:[2,"disabled","disabled",me]},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[ht]})}return t})();function o5(t,i){let e=Object.keys(t);for(let n of e){let{previousValue:o,currentValue:r}=t[n];if(i.isDateInstance(o)&&i.isDateInstance(r)){if(!i.sameDate(o,r))return!0}else return!0}return!1}var r5={provide:x_,useExisting:Yr(()=>gu),multi:!0},a5={provide:jm,useExisting:Yr(()=>gu),multi:!0},gu=(()=>{class t extends n5{_formField=m(zl,{optional:!0});_closedSubscription=$e.EMPTY;_openedSubscription=$e.EMPTY;set matDatepicker(e){e&&(this._datepicker=e,this._ariaOwns.set(e.opened?e.id:null),this._closedSubscription=e.closedStream.subscribe(()=>{this._onTouched(),this._ariaOwns.set(null)}),this._openedSubscription=e.openedStream.subscribe(()=>{this._ariaOwns.set(e.id)}),this._registerModel(e.registerInput(this)))}_datepicker;_ariaOwns=Po(null);get min(){return this._min}set min(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._min)||(this._min=n,this._validatorOnChange())}_min;get max(){return this._max}set max(e){let n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(n,this._max)||(this._max=n,this._validatorOnChange())}_max;get dateFilter(){return this._dateFilter}set dateFilter(e){let n=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==n&&this._validatorOnChange()}_dateFilter;_validator;constructor(){super(),this._validator=st.compose(super._getValidators())}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe(),this._openedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(n,o){n&1&&P("input",function(a){return o._onInput(a.target.value)})("change",function(){return o._onChange()})("blur",function(){return o._onBlur()})("keydown",function(a){return o._onKeydown(a)}),n&2&&(ur("disabled",o.disabled),ue("aria-haspopup",o._datepicker?"dialog":null)("aria-owns",o._ariaOwns())("min",o.min?o._dateAdapter.toIso8601(o.min):null)("max",o.max?o._dateAdapter.toIso8601(o.max):null)("data-mat-calendar",o._datepicker?o._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:[0,"matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[Ye([r5,a5,{provide:E_,useExisting:t}]),Xe]})}return t})(),s5=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=ne({type:t,selectors:[["","matDatepickerToggleIcon",""]]})}return t})(),Jm=(()=>{class t{_intl=m(fu);_changeDetectorRef=m(je);_stateChanges=$e.EMPTY;datepicker;tabIndex;ariaLabel;get disabled(){return this._disabled===void 0&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=e}_disabled;disableRipple;_customIcon;_button;constructor(){let e=m(new La("tabindex"),{optional:!0}),n=Number(e);this.tabIndex=n||n===0?n:null}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){let e=this.datepicker?this.datepicker.stateChanges:se(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:se(),o=this.datepicker?Mi(this.datepicker.openedStream,this.datepicker.closedStream):se();this._stateChanges.unsubscribe(),this._stateChanges=Mi(this._intl.changes,e,n,o).subscribe(()=>this._changeDetectorRef.markForCheck())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=U({type:t,selectors:[["mat-datepicker-toggle"]],contentQueries:function(n,o,r){if(n&1&&Jt(r,s5,5),n&2){let a;J(a=$())&&(o._customIcon=a.first)}},viewQuery:function(n,o){if(n&1&&le(W4,5),n&2){let r;J(r=$())&&(o._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(n,o){n&1&&P("click",function(a){return o._open(a)}),n&2&&(ue("tabindex",null)("data-mat-calendar",o.datepicker?o.datepicker.id:null),te("mat-datepicker-toggle-active",o.datepicker&&o.datepicker.opened)("mat-accent",o.datepicker&&o.datepicker.color==="accent")("mat-warn",o.datepicker&&o.datepicker.color==="warn"))},inputs:{datepicker:[0,"for","datepicker"],tabIndex:"tabIndex",ariaLabel:[0,"aria-label","ariaLabel"],disabled:[2,"disabled","disabled",me],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[ht],ngContentSelectors:q4,decls:4,vars:7,consts:[["button",""],["mat-icon-button","","type","button",3,"disabled","disableRipple"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false","aria-hidden","true",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(n,o){n&1&&(_t(Q4),v(0,"button",1,0),V(2,Y4,2,0,":svg:svg",2),Ee(3),_()),n&2&&(E("disabled",o.disabled)("disableRipple",o.disableRipple),ue("aria-haspopup",o.datepicker?"dialog":null)("aria-label",o.ariaLabel||o._intl.openCalendarLabel)("tabindex",o.disabled?-1:o.tabIndex)("aria-expanded",o.datepicker?o.datepicker.opened:null),w(2),j(o._customIcon?-1:2))},dependencies:[Sr],styles:[".mat-datepicker-toggle{pointer-events:auto;color:var(--mat-datepicker-toggle-icon-color, var(--mat-sys-on-surface-variant))}.mat-datepicker-toggle-active{color:var(--mat-datepicker-toggle-active-state-icon-color, var(--mat-sys-on-surface-variant))}@media(forced-colors: active){.mat-datepicker-toggle-default-icon{color:CanvasText}}"],encapsulation:2,changeDetection:0})}return t})();var O_=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({providers:[fu,i5],imports:[Pi,ho,jc,rs,Pe,hL,Jm,pL,po]})}return t})();var l5=t=>({"ng-fullimage-loading":t}),bL=t=>({ratio:t});function c5(t,i){if(t&1){let e=he();v(0,"img",7),P("load",function(){B(e);let o=k(2);return N(o.imageLoading=!1)})("error",function(o){B(e);let r=k(2);return N(r.errorHandler(o))}),_()}if(t&2){let e=k(2);E("ngClass",Ot(5,bL,e.ratio))("src",e.fileUrl,Gs),ue("alt",e.alt?e.alt:null)("title",e.title?e.title:null)("loading",e.lazy==!0?"lazy":null)}}function d5(t,i){if(t&1&&F(0,"iframe",8),t&2){let e=k(2);E("src",e.fileUrl,Cx),ue("loading",e.lazy==!0?"lazy":null)}}function u5(t,i){if(t&1){let e=he();v(0,"video",9),P("click",function(o){B(e);let r=k(2);return N(r.videoClickHandler(o))}),F(1,"source",10),S(2," Your browser does not support the video tag. "),_()}if(t&2){let e=k(2);E("id","video_"+e.imageIndex)("ngClass",Ot(5,bL,e.ratio))("autoplay",e.videoAutoPlay),ue("controls",e.showVideoControls?e.showVideoControls:null),w(),E("src",e.fileUrl,Gs)}}function p5(t,i){if(t&1&&(v(0,"div",11),S(1,"Invalid file format"),_()),t&2){let e=k(2);E("dir",e.direction)}}function m5(t,i){t&1&&F(0,"span",12)}function h5(t,i){if(t&1&&(v(0,"div",1),V(1,c5,1,7,"img",2)(2,d5,1,2,"iframe",3)(3,u5,3,7,"video",4)(4,p5,2,1,"div",5)(5,m5,1,0,"span",6),_()),t&2){let e=k();E("ngClass",Ot(6,l5,e.imageLoading)),w(),E("ngIf",e.type===e.IMAGE&&e.fileUrl),w(),E("ngIf",e.type===e.YOUTUBE&&e.fileUrl),w(),E("ngIf",e.type===e.VIDEO),w(),E("ngIf",!e.fileUrl),w(),E("ngIf",e.type===e.YOUTUBE||e.type===e.VIDEO||e.isVideo)}}var f5=["lightboxDiv"],g5=["lightboxImageDiv"],y5=(t,i,e)=>({"margin-left":t,"grid-template-columns":i,transition:e}),_5=(t,i)=>({show:t,hide:i}),v5=t=>({width:t}),V_=t=>({disable:t});function b5(t,i){t&1&&(v(0,"div",14),F(1,"div",15),_())}function A5(t,i){if(t&1){let e=he();v(0,"div",16,1),P("touchstart",function(o){B(e);let r=k(2);return N(r.swipeLightboxImg(o,"start"))})("touchend",function(o){B(e);let r=k(2);return N(r.swipeLightboxImg(o,"end"))}),v(2,"div",17),P("click",function(){let o=B(e).$implicit,r=k(2);return N(!(o!=null&&o.video)&&r.closeLightbox())}),_(),F(3,"custom-img",18),_()}if(t&2){let e=i.$implicit,n=i.index,o=k(2);E("ngStyle",Ot(14,v5,o.popupWidth+"px")),ue("id","ng-lightbox-image-"+n),w(3),E("imageUrl",(e==null?null:e.image)||(e==null?null:e.video))("isVideo",!!(e!=null&&e.posterImage||e!=null&&e.video))("currentImageIndex",o.currentImageIndex)("imageIndex",n)("speed",o.speed)("videoAutoPlay",o.videoAutoPlay&&n==o.currentImageIndex)("showVideoControls",o.showVideoControls?1:0)("alt",(e==null?null:e.alt)||"")("title",(e==null?null:e.title)||"")("showVideo",!0)("direction",o.direction)("fallbackImage",o.fallbackImage)}}function w5(t,i){if(t&1){let e=he();v(0,"span",19),P("click",function(){B(e);let o=k(2);return N(o.prevImageLightbox())}),S(1,"\u2039"),_()}if(t&2){let e=k(2);E("ngClass",Ot(1,V_,e.lightboxPrevDisable))}}function C5(t,i){if(t&1){let e=he();v(0,"span",20),P("click",function(){B(e);let o=k(2);return N(o.nextImageLightbox())}),S(1,"\u203A"),_()}if(t&2){let e=k(2);E("ngClass",Ot(1,V_,e.lightboxNextDisable))}}function x5(t,i){if(t&1&&(v(0,"div",21),S(1),_()),t&2){let e=k(2);w(),yi("",e.currentImageIndex+1," of ",e.totalImages,"")}}function S5(t,i){if(t&1){let e=he();v(0,"div",3)(1,"div",4)(2,"a",5),P("click",function(){B(e);let o=k();return N(o.closeLightbox())}),_(),v(3,"div",6,0),V(5,b5,2,0,"div",7),v(6,"div",8),V(7,A5,4,16,"div",9),_(),v(8,"div",10),S(9),_(),V(10,w5,2,3,"span",11)(11,C5,2,3,"span",12),_()(),V(12,x5,2,2,"div",13),_()}if(t&2){let e=k();w(5),E("ngIf",e.showLoading),w(),E("ngStyle",ah(9,y5,e.marginLeft+"px","repeat("+e.images.length+",1fr)",e.effectStyle)),w(),E("ngForOf",e.images),w(),E("dir",e.direction)("ngClass",yv(13,_5,e.title,!e.title)),w(),Ue(e.title),w(),E("ngIf",e.images.length>1),w(),E("ngIf",e.images.length>1),w(),E("ngIf",e.paginationShow)}}var I5=["sliderMain"],M5=["imageDiv"],gL=t=>({height:t}),E5=t=>({"with-ng-main-pagination":t}),k5=(t,i,e)=>({"margin-left":t,width:i,transition:e}),T5=(t,i)=>({"image-popup":t,"selected-image":i}),D5=(t,i,e)=>({width:t,"margin-left":i,"margin-right":e});function F5(t,i){if(t&1&&(v(0,"div",16),S(1),_()),t&2){let e=k().$implicit,n=k(2);E("dir",n.textDirection),w(),Ue(e==null?null:e.title)}}function R5(t,i){if(t&1){let e=he();v(0,"div",13,1),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.imageOnClick(o.index))})("mouseenter",function(){B(e);let o=k(2);return N(o.stopSlideOnHover&&o.imageMouseEnterHandler())})("mouseleave",function(){B(e);let o=k(2);return N(o.stopSlideOnHover&&o.imageAutoSlide())}),F(2,"custom-img",14),V(3,F5,2,2,"div",15),_()}if(t&2){let e=i.$implicit,n=i.index,o=k(2);E("ngClass",yv(11,T5,o.imagePopup,o.activeImageIndex==n))("ngStyle",ah(14,D5,o.sliderImageWidth+"px",o.imageMargin+"px",o.imageMargin+"px")),w(2),E("imageUrl",(e==null?null:e.thumbImage)||(e==null?null:e.posterImage)||(e==null?null:e.video))("isVideo",!!(e!=null&&e.posterImage||e!=null&&e.video))("alt",(e==null?null:e.alt)||"")("title",(e==null?null:e.title)||"")("direction",o.textDirection)("ratio",o.manageImageRatio)("lazy",o.lazyLoading)("fallbackImage",o.fallbackThumbImage),w(),E("ngIf",e==null?null:e.title)}}function P5(t,i){if(t&1){let e=he();v(0,"div",11),P("touchstart",function(o){B(e);let r=k();return N(r.swipe(o,"start"))})("touchend",function(o){B(e);let r=k();return N(r.swipe(o,"end"))}),V(1,R5,4,18,"div",12),_()}if(t&2){let e=k();E("ngClass",Ot(3,E5,e.paginationShow))("ngStyle",ah(5,k5,e.leftPos+"px",e.imageParentDivWidth+"px",e.effectStyle)),w(),E("ngForOf",e.imageObj)}}function O5(t,i){t&1&&(v(0,"div",17),F(1,"span",18),_())}function V5(t,i){if(t&1){let e=he();v(0,"span",19),P("click",function(){B(e);let o=k();return N(o.prev())})("mouseenter",function(){B(e);let o=k();return N(o.stopSlideOnHover&&o.imageMouseEnterHandler())})("mouseleave",function(){B(e);let o=k();return N(o.stopSlideOnHover&&o.imageAutoSlide())}),S(1,"\u2039"),_()}if(t&2){let e=k();E("ngClass",Ot(1,V_,e.sliderPrevDisable))}}function L5(t,i){if(t&1){let e=he();v(0,"span",20),P("click",function(){B(e);let o=k();return N(o.next())})("mouseenter",function(){B(e);let o=k();return N(o.imageMouseEnterHandler())})("mouseleave",function(){B(e);let o=k();return N(o.imageAutoSlide())}),S(1,"\u203A"),_()}if(t&2){let e=k();E("ngClass",Ot(1,V_,e.sliderNextDisable))}}function B5(t,i){if(t&1&&(v(0,"div",21),S(1),_()),t&2){let e=k();w(),yi("",e.visiableImageIndex+1," of ",e.totalImages,"")}}function N5(t,i){if(t&1){let e=he();v(0,"div")(1,"slider-lightbox",22),P("prevImage",function(o){B(e);let r=k();return N(r.lightboxArrowClickHandler(o))})("nextImage",function(o){B(e);let r=k();return N(r.lightboxArrowClickHandler(o))})("close",function(){B(e);let o=k();return N(o.close())}),_()()}if(t&2){let e=k();w(),E("paginationShow",e.paginationShow)("showVideoControls",e.showVideoControls)("arrowKeyMove",e.arrowKeyMove)("images",e.ligthboxImageObj)("infinite",e.infinite)("animationSpeed",e.speed)("imageIndex",e.activeImageIndex)("show",e.ligthboxShow)("direction",e.textDirection)("videoAutoPlay",e.videoAutoPlay)("fallbackImage",e.fallbackMainImage)}}var yL="DESC",H5="ASC",JC=(()=>{class t{constructor(){}isBase64(e){var n=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;return n.test(e)}base64FileExtension(e){return e.substring(11,e.indexOf(";base64"))}orderArray(e=[],n=H5){return e?.length&&n?e.sort((o,r)=>{if(o.order===null||!o.order)return 1;if(r.order===null||!r.order)return-1;if(o.order>r.order)return n===yL?-1:1;if(o.order<r.order)return n===yL?1:-1}):e}isImageExist(e){return f(this,null,function*(){return e?new Promise(n=>{let o=new Image;o.onload=()=>n(!0),o.onerror=()=>n(!1),o.src=e}):!1})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275prov=W({token:t,factory:t.\u0275fac})}}return t})(),U5=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/,_L=["jpeg","jpg","gif","png"],vL=["mp4"],AL=(()=>{class t{constructor(e,n,o){this.imageSliderService=e,this.sanitizer=n,this.YOUTUBE="youtube",this.IMAGE="image",this.VIDEO="video",this.fileUrl="",this.fileExtension="",this.type=this.IMAGE,this.imageLoading=!0,this.showVideo=!1,this.videoAutoPlay=!1,this.showVideoControls=1,this.speed=1,this.isVideo=!1,this.alt="",this.title="",this.direction="ltr",this.ratio=!1,this.lazy=!1}ngOnChanges(e){this.imageUrl&&this.imageUrl&&this.imageUrl&&typeof this.imageUrl=="string"&&(e.imageUrl&&e.imageUrl.firstChange||this.videoAutoPlay)&&this.setUrl()}setUrl(){let e=this.imageUrl;this.imageLoading=!0,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(e),this.fileExtension=e.split(".").pop().split(/\#|\?/)[0],this.imageSliderService.base64FileExtension(e)&&(_L.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1||vL.indexOf(this.imageSliderService.base64FileExtension(e).toLowerCase())>-1)&&(this.fileExtension=this.imageSliderService.base64FileExtension(e));let n=e.match(U5);if(n&&n[2].length===11)this.showVideo?(this.type=this.YOUTUBE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://www.youtube.com/embed/${n[2]}${this.videoAutoPlay?"?autoplay=1&enablejsapi=1":"?autoplay=0&enablejsapi=1"}&controls=${this.showVideoControls}`)):(this.type=this.IMAGE,this.fileUrl=this.sanitizer.bypassSecurityTrustResourceUrl(`https://img.youtube.com/vi/${n[2]}/0.jpg`));else if(this.fileExtension&&_L.indexOf(this.fileExtension.toLowerCase())>-1)this.type=this.IMAGE;else if(this.fileExtension&&vL.indexOf(this.fileExtension.toLowerCase())>-1&&(this.type=this.VIDEO,this.videoAutoPlay&&document.getElementById(`video_${this.imageIndex}`))){let o=document.getElementById(`video_${this.imageIndex}`);setTimeout(()=>{o.play()},this.speed*1e3)}}videoClickHandler(e){e&&e.srcElement&&!this.showVideoControls&&(e.srcElement.paused?e.srcElement.play():e.srcElement.pause())}errorHandler(e){return f(this,null,function*(){this.fallbackImage&&(yield this.imageSliderService.isImageExist(this.fallbackImage))&&(e.target.src=this.fallbackImage)})}static{this.\u0275fac=function(n){return new(n||t)(Y(JC),Y(Ec),Y(fe))}}static{this.\u0275cmp=U({type:t,selectors:[["custom-img"]],inputs:{showVideo:"showVideo",videoAutoPlay:"videoAutoPlay",showVideoControls:"showVideoControls",currentImageIndex:"currentImageIndex",imageIndex:"imageIndex",speed:"speed",imageUrl:"imageUrl",isVideo:"isVideo",alt:"alt",title:"title",direction:"direction",ratio:"ratio",lazy:"lazy",fallbackImage:"fallbackImage"},standalone:!1,features:[ht],decls:1,vars:1,consts:[["class","custom-image-main",3,"ngClass",4,"ngIf"],[1,"custom-image-main",3,"ngClass"],["class","image",3,"ngClass","src","load","error",4,"ngIf"],["class","youtube","frameborder","0","allow","autoplay","allowfullscreen","",3,"src",4,"ngIf"],["class","video","type","video/mp4","controlsList","nodownload",3,"id","ngClass","autoplay","click",4,"ngIf"],["class","invalid-msg",3,"dir",4,"ngIf"],["class","youtube-icon",4,"ngIf"],[1,"image",3,"load","error","ngClass","src"],["frameborder","0","allow","autoplay","allowfullscreen","",1,"youtube",3,"src"],["type","video/mp4","controlsList","nodownload",1,"video",3,"click","id","ngClass","autoplay"],["type","video/mp4",3,"src"],[1,"invalid-msg",3,"dir"],[1,"youtube-icon"]],template:function(n,o){n&1&&V(0,h5,6,8,"div",0),n&2&&E("ngIf",o.fileUrl)},dependencies:[Ut,ic],encapsulation:2})}}return t})(),j5="lightbox next",z5="lightbox previous",G5=(()=>{class t{set imageIndex(e){e!==void 0&&e>-1&&e<this.images.length&&(this.currentImageIndex=e),this.nextPrevDisable()}set show(e){this.imageFullscreenView=e,this.elRef.nativeElement.ownerDocument.body.style.overflow="",e===!0&&(this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden",this.setPopupSliderWidth())}set animationSpeed(e){e&&typeof e=="number"&&e>=.1&&e<=5&&(this.speed=e)}onResize(e){this.effectStyle="none",this.setPopupSliderWidth()}handleKeyboardEvent(e){e&&e.key&&this.arrowKeyMove&&(e.key.toLowerCase()==="arrowright"&&this.nextImageLightbox(),e.key.toLowerCase()==="arrowleft"&&this.prevImageLightbox(),e.key.toLowerCase()==="escape"&&this.closeLightbox())}constructor(e,n,o,r){this.cdRef=e,this.sanitizer=n,this.elRef=o,this.document=r,this.totalImages=0,this.nextImageIndex=-1,this.popupWidth=1200,this.marginLeft=0,this.imageFullscreenView=!1,this.lightboxPrevDisable=!1,this.lightboxNextDisable=!1,this.showLoading=!1,this.effectStyle="none",this.speed=1,this.title="",this.currentImageIndex=0,this.images=[],this.videoAutoPlay=!1,this.direction="ltr",this.paginationShow=!1,this.infinite=!1,this.arrowKeyMove=!0,this.showVideoControls=!0,this.close=new q,this.prevImage=new q,this.nextImage=new q}ngOnInit(){}ngAfterViewInit(){}ngOnDestroy(){this.resetState()}setPopupSliderWidth(){window&&window.innerWidth&&(this.popupWidth=window.innerWidth,this.totalImages=this.images.length,typeof this.currentImageIndex=="number"&&this.currentImageIndex!==void 0&&(this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable(),setTimeout(()=>{this.showLoading=!1},500)))}closeLightbox(){this.close.emit()}prevImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex>0&&!this.lightboxPrevDisable&&(this.currentImageIndex--,this.prevImage.emit(z5),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextImageLightbox(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.currentImageIndex<this.images.length-1&&!this.lightboxNextDisable&&(this.currentImageIndex++,this.nextImage.emit(j5),this.marginLeft=-1*this.popupWidth*this.currentImageIndex,this.getImageData(),this.nextPrevDisable())}nextPrevDisable(){this.lightboxNextDisable=!0,this.lightboxPrevDisable=!0,setTimeout(()=>{this.applyButtonDisableCondition()},this.speed*1e3)}applyButtonDisableCondition(){this.lightboxNextDisable=!1,this.lightboxPrevDisable=!1,!this.infinite&&this.currentImageIndex>=this.images.length-1&&(this.lightboxNextDisable=!0),!this.infinite&&this.currentImageIndex<=0&&(this.lightboxPrevDisable=!0),this.cdRef.detectChanges()}getImageData(){if(this.images&&this.images.length&&typeof this.currentImageIndex=="number"&&this.currentImageIndex!==void 0&&this.images[this.currentImageIndex]&&(this.images[this.currentImageIndex].image||this.images[this.currentImageIndex].video)){this.title=this.images[this.currentImageIndex].title||"",this.totalImages=this.images.length;for(let e in this.document.getElementsByTagName("iframe"))this.document.getElementsByTagName("iframe")[e]&&this.document.getElementsByTagName("iframe")[e].contentWindow&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage&&this.document.getElementsByTagName("iframe")[e].contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");for(let e in this.document.getElementsByTagName("video"))this.document.getElementsByTagName("video")[e]&&this.document.getElementsByTagName("video")[e].pause&&this.document.getElementsByTagName("video")[e].pause()}}resetState(){this.images=[]}swipeLightboxImg(e,n){let o=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],r=new Date().getTime();if(n==="start")this.swipeLightboxImgCoord=o,this.swipeLightboxImgTime=r;else if(n==="end"){let a=[o[0]-this.swipeLightboxImgCoord[0],o[1]-this.swipeLightboxImgCoord[1]];r-this.swipeLightboxImgTime<1e3&&Math.abs(a[0])>30&&Math.abs(a[0])>Math.abs(a[1]*3)&&(a[0]<0?this.nextImageLightbox():this.prevImageLightbox())}}static{this.\u0275fac=function(n){return new(n||t)(Y(je),Y(Ec),Y(oe),Y(fe))}}static{this.\u0275cmp=U({type:t,selectors:[["slider-lightbox"]],viewQuery:function(n,o){if(n&1&&(le(f5,5),le(g5,5)),n&2){let r;J(r=$())&&(o.lightboxDiv=r.first),J(r=$())&&(o.lightboxImageDiv=r.first)}},hostBindings:function(n,o){n&1&&P("resize",function(a){return o.onResize(a)},!1,pv)("keyup",function(a){return o.handleKeyboardEvent(a)},!1,mv)},inputs:{images:"images",imageIndex:"imageIndex",show:"show",videoAutoPlay:"videoAutoPlay",direction:"direction",paginationShow:"paginationShow",animationSpeed:"animationSpeed",infinite:"infinite",arrowKeyMove:"arrowKeyMove",showVideoControls:"showVideoControls",fallbackImage:"fallbackImage"},outputs:{close:"close",prevImage:"prevImage",nextImage:"nextImage"},standalone:!1,decls:1,vars:1,consts:[["lightboxDiv",""],["lightboxImageDiv",""],["class","ng-image-fullscreen-view",4,"ngIf"],[1,"ng-image-fullscreen-view"],[1,"lightbox-wrapper"],[1,"close",3,"click"],[1,"lightbox-div"],["class","pre-loader",4,"ngIf"],[1,"lightbox-image-main",3,"ngStyle"],["class","lightbox-image",3,"ngStyle","touchstart","touchend",4,"ngFor","ngForOf"],[1,"caption",3,"dir","ngClass"],["class","prev icons prev-icon",3,"ngClass","click",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click",4,"ngIf"],["class","popup-pagination",4,"ngIf"],[1,"pre-loader"],[1,"mnml-spinner"],[1,"lightbox-image",3,"touchstart","touchend","ngStyle"],[1,"close-outside",3,"click"],[3,"imageUrl","isVideo","currentImageIndex","imageIndex","speed","videoAutoPlay","showVideoControls","alt","title","showVideo","direction","fallbackImage"],[1,"prev","icons","prev-icon",3,"click","ngClass"],[1,"next","icons","next-icon",3,"click","ngClass"],[1,"popup-pagination"]],template:function(n,o){n&1&&V(0,S5,13,16,"div",2),n&2&&E("ngIf",o.imageFullscreenView)},dependencies:[Ut,bv,ic,Av,AL],encapsulation:2})}}return t})(),W5="next",Q5="previous",To=(()=>{class t{set imageSize(e){e&&typeof e=="object"&&(e.hasOwnProperty("space")&&typeof e.space=="number"&&e.space>-1&&(this.imageMargin=e.space),e.hasOwnProperty("width")&&(typeof e.width=="number"||typeof e.width=="string")&&(this.sliderImageReceivedWidth=e.width),e.hasOwnProperty("height")&&(typeof e.height=="number"||typeof e.height=="string")&&(this.sliderImageReceivedHeight=e.height))}set direction(e){e&&(this.textDirection=e)}set animationSpeed(e){e&&typeof e=="number"&&e>=.1&&e<=5&&(this.speed=e,this.effectStyle=`all ${this.speed}s ease-in-out`)}set fallbackImage(e){e&&(e.hasOwnProperty("image")&&(this.fallbackMainImage=e.image),e.hasOwnProperty("thumbImage")&&(this.fallbackThumbImage=e.thumbImage))}set slideImage(e){e&&typeof e=="number"&&(this.slideImageCount=Math.round(e))}set autoSlide(e){e&&(typeof e=="number"||typeof e=="boolean"||typeof e=="object")&&(typeof e=="number"&&e>=1&&e<=5?e=Math.round(e):typeof e=="boolean"?e=1:typeof e=="object"&&e.hasOwnProperty("interval")&&Math.round(e.interval)&&Math.round(e.interval)>=1&&Math.round(e.interval)<=5&&(this.stopSlideOnHover=e.hasOwnProperty("stopOnHover")?e.stopOnHover:!0,e=Math.round(e.interval)),this.autoSlideCount=e*1e3)}set showArrow(e){e!==void 0&&typeof e=="boolean"&&(this.showArrowButton=e)}set orderType(e){e!==void 0&&typeof e=="string"&&(this.sliderOrderType=e.toUpperCase())}set defaultActiveImage(e){typeof e=="number"&&e>-1&&(this.activeImageIndex=e)}onResize(e){this.setSliderWidth()}handleKeyboardEvent(e){e&&e.key&&(e.key.toLowerCase()==="arrowright"&&!this.ligthboxShow&&this.arrowKeyMove&&this.next(),e.key.toLowerCase()==="arrowleft"&&!this.ligthboxShow&&this.arrowKeyMove&&this.prev(),e.key.toLowerCase()==="escape"&&this.ligthboxShow&&this.close())}constructor(e,n,o,r){this.cdRef=e,this.platformId=n,this.imageSliderService=o,this.elRef=r,this.sliderMainDivWidth=0,this.imageParentDivWidth=0,this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.leftPos=0,this.effectStyle="all 1s ease-in-out",this.speed=1,this.sliderPrevDisable=!1,this.sliderNextDisable=!1,this.slideImageCount=1,this.sliderImageWidth=205,this.sliderImageReceivedWidth=205,this.sliderImageHeight=200,this.sliderImageReceivedHeight=205,this.sliderImageSizeWithPadding=211,this.autoSlideCount=0,this.stopSlideOnHover=!0,this.showArrowButton=!0,this.textDirection="ltr",this.imageMargin=3,this.sliderOrderType="ASC",this.ligthboxShow=!1,this.activeImageIndex=-1,this.visiableImageIndex=0,this.infinite=!1,this.imagePopup=!0,this.images=[],this.videoAutoPlay=!1,this.paginationShow=!1,this.arrowKeyMove=!0,this.manageImageRatio=!1,this.showVideoControls=!0,this.lazyLoading=!1,this.imageClick=new q,this.arrowClick=new q,this.lightboxArrowClick=new q,this.lightboxClose=new q}ngOnInit(){if(this.infinite){this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=1;e<=this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-e])}}ngAfterViewInit(){this.setSliderWidth(),this.cdRef.detectChanges(),Mu(this.platformId)&&this.imageAutoSlide()}ngOnDestroy(){this.autoSlideInterval&&clearInterval(this.autoSlideInterval),this.ligthboxShow===!0&&this.close()}ngOnChanges(e){if(e.images&&e.images.hasOwnProperty("previousValue")&&e.images.hasOwnProperty("currentValue")&&e.images.previousValue!=e.images.currentValue&&this.setSliderImages(e.images.currentValue),e&&e.imageSize){let n=e.imageSize;n&&n.previousValue&&n.currentValue&&n.previousValue.width&&n.previousValue.height&&n.currentValue.width&&n.currentValue.height&&(n.previousValue.width!==n.currentValue.width||n.previousValue.height!==n.currentValue.height)&&this.setSliderWidth()}}ngDoCheck(){this.images&&this.ligthboxImageObj&&this.images.length!==this.ligthboxImageObj.length&&this.setSliderImages(this.images)}setSliderImages(e){e&&e instanceof Array&&e.length?(e.find(o=>{if(o.hasOwnProperty("order"))return!0})&&(e=this.imageSliderService.orderArray(e,this.sliderOrderType.toUpperCase())),this.imageObj=e.map((o,r)=>(o.index=r,o)),this.ligthboxImageObj=[...this.imageObj],this.totalImages=this.imageObj.length):(this.imageObj=[],this.ligthboxImageObj=[],this.totalImages=0,this.imageParentDivWidth=0,this.activeImageIndex=0),this.setSliderWidth()}setSliderWidth(){if(this.sliderMain&&this.sliderMain.nativeElement&&this.sliderMain.nativeElement.offsetWidth&&(this.sliderMainDivWidth=this.sliderMain.nativeElement.offsetWidth),this.sliderMainDivWidth&&this.sliderImageReceivedWidth&&(typeof this.sliderImageReceivedWidth=="number"?this.sliderImageWidth=this.sliderImageReceivedWidth:typeof this.sliderImageReceivedWidth=="string"&&(this.sliderImageReceivedWidth.indexOf("px")>=0?this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth):this.sliderImageReceivedWidth.indexOf("%")>=0?this.sliderImageWidth=+(this.sliderMainDivWidth*parseFloat(this.sliderImageReceivedWidth)/100).toFixed(2):parseFloat(this.sliderImageReceivedWidth)&&(this.sliderImageWidth=parseFloat(this.sliderImageReceivedWidth)))),Mu(this.platformId)&&window&&window.innerHeight&&this.sliderImageReceivedHeight&&(typeof this.sliderImageReceivedHeight=="number"?this.sliderImageHeight=this.sliderImageReceivedHeight:typeof this.sliderImageReceivedHeight=="string"&&(this.sliderImageReceivedHeight.indexOf("px")>=0?this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight):this.sliderImageReceivedHeight.indexOf("%")>=0?this.sliderImageHeight=+(window.innerHeight*parseFloat(this.sliderImageReceivedHeight)/100).toFixed(2):parseFloat(this.sliderImageReceivedHeight)&&(this.sliderImageHeight=parseFloat(this.sliderImageReceivedHeight)))),this.sliderImageSizeWithPadding=this.sliderImageWidth+this.imageMargin*2,this.imageParentDivWidth=this.imageObj.length*this.sliderImageSizeWithPadding,this.imageDiv&&this.imageDiv.nativeElement&&this.imageDiv.nativeElement.offsetWidth){let e=0-this.sliderImageSizeWithPadding*this.visiableImageIndex;this.leftPos=this.infinite?-1*this.sliderImageSizeWithPadding*this.slideImageCount:e}this.nextPrevSliderButtonDisable()}imageOnClick(e){this.activeImageIndex=e,this.imagePopup&&this.showLightbox(),this.imageClick.emit(e)}imageAutoSlide(){this.infinite&&this.autoSlideCount&&!this.ligthboxShow&&(this.autoSlideInterval=setInterval(()=>{this.next()},this.autoSlideCount))}imageMouseEnterHandler(){this.infinite&&this.autoSlideCount&&this.autoSlideInterval&&clearInterval(this.autoSlideInterval)}prev(){this.sliderPrevDisable||(this.infinite?this.infinitePrevImg():this.prevImg(),this.sliderArrowDisableTeam(Q5),this.getVisiableIndex())}next(){this.sliderNextDisable||(this.infinite?this.infiniteNextImg():this.nextImg(),this.sliderArrowDisableTeam(W5),this.getVisiableIndex())}prevImg(){0>=this.leftPos+this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos+=this.sliderImageSizeWithPadding*this.slideImageCount:this.leftPos=0}nextImg(){this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>this.sliderImageSizeWithPadding*this.slideImageCount?this.leftPos-=this.sliderImageSizeWithPadding*this.slideImageCount:this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth>0&&(this.leftPos-=this.imageParentDivWidth+this.leftPos-this.sliderMainDivWidth)}infinitePrevImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=0,setTimeout(()=>{this.effectStyle="none",this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount;for(let e=0;e<this.slideImageCount;e++)this.imageObj.unshift(this.imageObj[this.imageObj.length-this.slideImageCount-1]),this.imageObj.pop()},this.speed*1e3)}infiniteNextImg(){this.effectStyle=`all ${this.speed}s ease-in-out`,this.leftPos=-2*this.sliderImageSizeWithPadding*this.slideImageCount,setTimeout(()=>{this.effectStyle="none";for(let e=0;e<this.slideImageCount;e++)this.imageObj.push(this.imageObj[this.slideImageCount]),this.imageObj.shift();this.leftPos=-1*this.sliderImageSizeWithPadding*this.slideImageCount},this.speed*1e3)}getVisiableIndex(){let e=Math.round((Math.abs(this.leftPos)+this.sliderImageWidth)/this.sliderImageWidth);this.imageObj[e-1]&&this.imageObj[e-1].index!==void 0&&(this.visiableImageIndex=this.imageObj[e-1].index)}sliderArrowDisableTeam(e){this.sliderNextDisable=!0,this.sliderPrevDisable=!0,setTimeout(()=>{this.nextPrevSliderButtonDisable(e)},this.speed*1e3)}nextPrevSliderButtonDisable(e){this.sliderNextDisable=!1,this.sliderPrevDisable=!1;let n={};this.infinite||(this.imageParentDivWidth+this.leftPos<=this.sliderMainDivWidth&&(this.sliderNextDisable=!0),this.leftPos>=0&&(this.sliderPrevDisable=!0),n.prevDisable=this.sliderPrevDisable,n.nextDisable=this.sliderNextDisable),e&&this.arrowClick.emit(x({action:e},n))}showLightbox(){this.imageObj.length&&(this.imageMouseEnterHandler(),this.ligthboxShow=!0,this.elRef.nativeElement.ownerDocument.body.style.overflow="hidden")}close(){this.ligthboxShow=!1,this.elRef.nativeElement.ownerDocument.body.style.overflow="",this.lightboxClose.emit(),this.imageAutoSlide()}lightboxArrowClickHandler(e){this.lightboxArrowClick.emit(e)}swipe(e,n){let o=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],r=new Date().getTime();if(n==="start")this.swipeCoord=o,this.swipeTime=r;else if(n==="end"){let a=[o[0]-this.swipeCoord[0],o[1]-this.swipeCoord[1]];r-this.swipeTime<1e3&&Math.abs(a[0])>30&&Math.abs(a[0])>Math.abs(a[1]*3)&&(a[0]<0?this.next():this.prev())}}static{this.\u0275fac=function(n){return new(n||t)(Y(je),Y(dr),Y(JC),Y(oe))}}static{this.\u0275cmp=U({type:t,selectors:[["ng-image-slider"]],viewQuery:function(n,o){if(n&1&&(le(I5,5),le(M5,5)),n&2){let r;J(r=$())&&(o.sliderMain=r.first),J(r=$())&&(o.imageDiv=r.first)}},hostBindings:function(n,o){n&1&&P("resize",function(a){return o.onResize(a)},!1,pv)("keyup",function(a){return o.handleKeyboardEvent(a)},!1,mv)},inputs:{imageSize:"imageSize",infinite:"infinite",imagePopup:"imagePopup",direction:"direction",animationSpeed:"animationSpeed",images:"images",fallbackImage:"fallbackImage",slideImage:"slideImage",autoSlide:"autoSlide",showArrow:"showArrow",orderType:"orderType",videoAutoPlay:"videoAutoPlay",paginationShow:"paginationShow",arrowKeyMove:"arrowKeyMove",manageImageRatio:"manageImageRatio",showVideoControls:"showVideoControls",defaultActiveImage:"defaultActiveImage",lazyLoading:"lazyLoading"},outputs:{imageClick:"imageClick",arrowClick:"arrowClick",lightboxArrowClick:"lightboxArrowClick",lightboxClose:"lightboxClose"},standalone:!1,features:[ht],decls:10,vars:12,consts:[["sliderMain",""],["imageDiv",""],[1,"ng-image-slider",3,"ngStyle"],[1,"ng-image-slider-container"],[1,"main",3,"ngStyle"],["class","main-inner",3,"ngClass","ngStyle","touchstart","touchend",4,"ngIf"],["class","ng-image-slider-error",4,"ngIf"],["class","prev icons prev-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","next icons next-icon",3,"ngClass","click","mouseenter","mouseleave",4,"ngIf"],["class","ng-main-pagination",4,"ngIf"],[4,"ngIf"],[1,"main-inner",3,"touchstart","touchend","ngClass","ngStyle"],["class","img-div",3,"ngClass","ngStyle","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"img-div",3,"click","mouseenter","mouseleave","ngClass","ngStyle"],[3,"imageUrl","isVideo","alt","title","direction","ratio","lazy","fallbackImage"],["class","caption",3,"dir",4,"ngIf"],[1,"caption",3,"dir"],[1,"ng-image-slider-error"],[1,"ng-image-slider-loader"],[1,"prev","icons","prev-icon",3,"click","mouseenter","mouseleave","ngClass"],[1,"next","icons","next-icon",3,"click","mouseenter","mouseleave","ngClass"],[1,"ng-main-pagination"],[3,"prevImage","nextImage","close","paginationShow","showVideoControls","arrowKeyMove","images","infinite","animationSpeed","imageIndex","show","direction","videoAutoPlay","fallbackImage"]],template:function(n,o){n&1&&(v(0,"div",2)(1,"div",3)(2,"div",4,0),V(4,P5,2,9,"div",5)(5,O5,2,0,"div",6)(6,V5,2,3,"span",7)(7,L5,2,3,"span",8),_(),V(8,B5,2,2,"div",9),_()(),V(9,N5,2,11,"div",10)),n&2&&(E("ngStyle",Ot(8,gL,o.sliderImageHeight+"px")),w(2),E("ngStyle",Ot(10,gL,o.sliderImageHeight+"px")),w(2),E("ngIf",o.imageObj.length),w(),E("ngIf",!o.imageObj.length),w(),E("ngIf",o.showArrowButton&&o.imageObj.length>1),w(),E("ngIf",o.showArrowButton&&o.imageObj.length>1),w(),E("ngIf",o.imageObj.length&&o.paginationShow),w(),E("ngIf",o.ligthboxShow))},dependencies:[Ut,bv,ic,Av,AL,G5],styles:[`.ng-image-slider{display:inline-block;position:relative;width:100%}.ng-image-slider .ng-image-slider-container .main{overflow:hidden;position:absolute;height:200px;width:100%}.ng-image-slider .ng-image-slider-container .main .main-inner{width:1760px;padding:0;height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner.with-ng-main-pagination{height:calc(100% - 30px)}.ng-image-slider .ng-image-slider-container .main .main-inner .full-screen{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAF+klEQVRoge2Yz28UyRXHv6+q50d7ftqDl42wrU1QFIXVkuAZD5pEzoYrihIhuERw2D8gl1UOKFeiaBfBIZGQIkVKGHGIQHsmspQoillgBfE4vpgQy4pFTIAdPB6Pe365u7peDsx4Z8z0/GDtS3Y+Uh+66vWr963u11X1gCFDhgz5qiEymYy5X86oW2c6nU4w8zcAxJhZaa2tZh8zK8MwLK11XAgRdF3360KIdxYWFn7VzWcqlfoJM38C4B8ASgC2WrpNZg4CgBCCAPiYeZOIfrOwsPC3Tv4Mr4GOHz8ecl13JRQKfS6ldJVSkpnJcZwQABARGYZRJiImIg4Gg/VCoTABoKsAZqZIJPKvy5cvjxQKBVEqlcJ7bUzTlOFw2ACA27dv6/n5+Z8BGEyAaZphpZR/fn7+290CavLkyZMnZ8+eVb3smNk1DEOl0+nv9uM3n89/dufOnddENvEUoJQ6YhjGFgDPhzugexkIIfxCiJ52TY4ePRoBEPDq9xTAzEoI4fY7UDAY9HUbqMVvvVwux69du/ZpIpEw4vG4b2JiInL48OF4IpEYk1L6Wu2LxeIOM5ffREBJKRXa237z5s17d+/edV6+fGmUSqVAtVoNO44TUkpFiejTXgLq9fqfiegP169f/xYRjTHzKBFpAAzAPX369L1Lly79sGlfKBRsIrK8/HUVoLWOtLY9f/786dWrV98D8DEzbwghiq7rFqWUm1LKlw8ePPhvLwHLy8s2PBJ9enr6R/fv3/9la9vm5qZi5uLAApaWlraTyaTftm3H7/f7AMC2bReAlcvlPuoV6JsghBBSyrb8KBaLmog8BYgu/jSAsmVZu9+fbdsKQN95MShEVK3Vam15VKlUGEDN6xnPN9BAK6V2f42FQqECQH6pKLuglKo015m9cXg900sAM/PuzdbW1g5eJduBIIQoa60H2mb0EtBGuVxW6PI6vyxSyrLruv7WNq01iMhz0np+Qo8ePVq3bbsOACsrK1Uiqu5DrF5sA4icOXPms3A47FarVfnixYtJZvZc4btu5qanp28Q0ffxSmgAwCYz/25xcfHX+xv3F8zMzHxPa/1NZg4IIbYBOMz8l1wuVzqoMYcMGTLkK0zXdeDkyZMTWmu/67phrXXNcZzny8vLnoeL/eDEiRM/kFJ+wMzNk6AiomWvYoGngFQq9VNm/r1hGBtSSsd1XZ9SalxKeezhw4drBxI9gGQy+dvJycnvnDt3jqWUtLGxobLZ7GypVAqurq7u7LXvdqB569ixYw9v3LjxfrMtk8msKaXGARyYACIKz87O2ufPn38feLUXymaznvbdzgOvYRiGo7Ue5JA/MMwcCoVCr30Z4+PjHWPtKoCI2hwZhmELIQ5UAIBwLBbre5fsKYCZCXv2/qZp1luS60Bg5lAikdjdUjfmkCuVysBvwBcIBNoEhMNhh5k7nZj2DSIKRCIRX8s9AFRM0+w4cZ6vioii8Xi8TQAzY5CiVD9kMhmzXq+PGoYx6rruGICo67qVVhshhLWzsxMF8Pne57t9a7FYLNaWA1NTU/ba2tovpqenf0xERSIqNkoeRQD/zuVyf0IfR85UKvUhM38IYNy27aAQoiaE2BgZGdmampp6kU6n0632Pp+vqpSKdfLVVcDo6GibgCtXrszmcrl/Pnv27O319fXRp0+futvb22RZllhZWXknmUz+PJfLfdJLADN/cPHixfVTp04FI5EIBwIBE8Bk43oNv99fq9VqgwsYGxtr6xdCiJmZmXc7GV+4cOHe48eP3+4VfAN15MiRkUOHDo33YyyldKWUHXPAM4mJqJ7P53tWm5s4jiPQ/4Gfte4/larVahTAfzr1dVuJC/l8/i3LsrZ1YzTLsqpa693CVjQaDRGRME0z2Kgc9Pv/ltlsdvvWrVvzlmV1nES/369N0wQzw7bt48zcsT7a7S/017m5uTNzc3NBAH4AFQCtNZsKgHqjzQcgxcx/7FPA35eWlhSA1Ubl2Wn4aI4tAUQbt1Vm/mhxcXG1T99vhEgmkyeTyeTXDnKQIUOG/B/yP/QEm5iXakbiAAAAAElFTkSuQmCC);background-size:40px 40px;background-repeat:no-repeat;position:absolute;z-index:8;display:block;height:40px;width:40px;top:4px;right:8px;opacity:.4;transition:all .5s ease-in-out;cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:205px;height:100%;margin-right:3px;margin-left:3px;position:relative;display:inline-block;background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;background-size:20% 20%;box-shadow:inset 0 0 1px #0000003d,0 0 2px #0000001f;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div.image-popup{cursor:pointer}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video{position:absolute;margin:auto;height:100%;width:100%;inset:0;border-radius:5px}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div img.ratio,.ng-image-slider .ng-image-slider-container .main .main-inner .img-div video.ratio{width:auto;height:auto;max-width:100%;max-height:100%}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .youtube-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAC0CAMAAADSOgUjAAAAA3NCSVQICAjb4U/gAAAC9FBMVEX///+vr6+lpaWPj498fHx4eHh2dnZ0dHRvb29sbGxqampmZmZiYmJeXl5aWlpYWFhUVFRSUlJQUFBMTExKSkpISEhERERCQkJAQEA+Pj44ODg2NjYzMzMwMDAuLi4sLCwqKiooKCgkJCQiIiIgICAYGBgUFBQSEhIODg4MDAwKCgoICAgGBgYEBAQAAADj4+PV1dXBwcG/v7+9vb23t7ezs7Ovr6+rq6ulpaWhoaGPj4+Li4uJiYmHh4eDg4OBgYF+fn58fHx4eHhycnJvb29sbGxmZmZiYmJeXl5aWlpWVlZUVFRSUlJQUFBOTk5KSkpISEhGRkZERERCQkI+Pj47Ozs4ODg2NjYzMzMwMDAuLi4oKCgkJCQiIiIgICAeHh4cHBwUFBQSEhIODg4ICAgEBAQAAADl5eWrq6unp6ejo6OhoaGdnZ2ZmZmVlZWTk5OPj4+Li4uJiYmHh4eBgYF+fn58fHx4eHh0dHRycnJsbGxqampmZmZiYmJWVlYiIiIaGhoAAADMzMzDw8PBwcG/v7+9vb27u7u5ubm3t7e1tbWzs7OxsbGvr6+tra2pqamnp6elpaWhoaGfn5+dnZ2ZmZmVlZWTk5ORkZGJiYlISEjv7+/p6enj4+PT09PPz8/MzMzJycnHx8fFxcXDw8PBwcG/v7+9vb27u7u5ubm3t7ezs7Ovr6+Li4vf39/Z2dnX19fV1dXT09PR0dHPz8/MzMzJycnHx8e9vb3t7e3l5eXj4+Pf39/d3d3b29vZ2dnX19fV1dXT09PR0dHPz8/MzMzp6enn5+fl5eXj4+Ph4eHf39/d3d3X19fT09O9vb3v7+/t7e3r6+vp6enn5+fl5eXj4+Pf39/Z2dnT09PHx8f19fXz8/Px8fHv7+/t7e3r6+vp6enn5+fl5eXj4+P5+fn39/f19fXz8/Px8fHv7+/t7e3f39/7+/v5+fn39/f19fXz8/Px8fHv7+/////7+/v5+fn39/fz8/P////7+/v///9a1shPAAAA/HRSTlMAERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERESIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzRERERERERERERERERERERERERERERERERFVVVVVVVVVVVVVVVVVVVVVVVVVmZmZmZmZmZmZmZnd3d3d3d3d3d3d3d3eIiIiIiIiIiIiImZmZmZmZmZmZmZmqqqqqqqqqqqqqu7u7u7u7u7vMzMzMzMzM3d3d3d3u7v9/AAjkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAFnRFWHRDcmVhdGlvbiBUaW1lADA2LzEyLzE09BLGOQAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAA/MSURBVHic7Z15fBTlGcenhz20rbWXKHhU5RDhra22ilal0IpC1VJb1IKlVpmiRUBiuBEBFWIQMXgfAUtIREAIgciVBIpCLjUXeITdRITsJrqHurPp7PzTea+59pjZza7JOzu/z8eoO7PvO893n+d933nned/hOEeOHDly5MiRI0eOHDly5MiRI0eOsAAAvX0JbApAdFpxDkirAonU2xfX15UQngMxsSzBcyDGU1L4HIRGmQByECZUTDLg+1f/+pe/+JesSy+/8rvngpgnOgy5KCryJ6OWvvRyXbPbGwx2h8Pd3YGgx9VWve+lV6YOiQM7m2Xk8WDh7gaPPyJCSaKEJGIJgWMNe/KnOAg10nEAY/P3tfoEUVWISPOJ4G/cmTPJQYikY/D7R/d0aLmJemk/CzVsnfFDB6HW/u9N3+cRJcJJyy0SiRgxouD2NRZfmeUINaYPyGsSZHwqvJAQCLpr6g8eLC8p2bjhrbf217Z4A35B64uS6Cmdms0ENU3fskbofBSf4GmvK189lzd2FROe23ig2uXXOqK/YjqXpQQ1Ri9zK/gkMdxWWZhLDvE64c/uzN9W97ncNxOEUqBqdFYiVC0ecUjANEKSFOp6a/nYKHIGjBy4YtPRIA14SQpuzcIwVg1+w6/Eo7d29WgDPeX/tB/L51wwq7wlRBFGGvOyjKBq7fJW3J5BfG8u0NIzNoD6qJb/647n63z0y769t2QTQsXQG/eGCAHBU3SbSicePcKQnAemzD7sRwjlPx1Z5ISKmf92YXxS5Nha1fcSwjM6Yu7hIAlk4b9naDsmG0sxcq1fwm3Y59sBlxQ+FSHgprVEJPwzNF+ZFQSphT/bE8H8hNoxHEgOnhYi4Io6CcHgo+qh3jYzY6L2XdtIwte7SfGm5IUJjqsP4bKEnUBpP3vb0AyJWvcrL/GalpHx8RkeY0Y95lQQgtcDuLhQpc0JUtuWEYOF8v5x+MUtwUgRf3t6Gy5QrLE1QWr0I6j7kId+BTHxWS5H44Q/rYpgl27qb70c1kQNy/Nhb2keE6PzSLIsihCAInRLI0qN/exKkFr1BOFXMymKXyrlKU6Yj9oFuVm90KZRTGy6l/CrB0Z+KZaoELzPgwiKtUo7mAErek/EpBEeSe4tRfEg7UF7FG/6MH7Ai9vWCq5HhfZNEYtOd2MveTst/IwE53YigpF19msGqUHV+Obf6H9pKBkRzMU+GH7Cds0gsWY75lefPn4GgjOCiKDnOpu5IDFmqYD4HRmq45em0jHB/DCqoukiWxEktlzzBXIP923p5acjyK3FP9J+O3Uk1JQW1IH4Z6abn94HK1EzEV5uI4LEkPW4ASzW8kt3HXLBk9vgQFPqvNA2AIkdN5xENwq1GeGnJZjrQxUdTE8f1QdErDiMHKNrHMgIPy3BjcjVhedsApAYgXtg4akMOaAWIKhBd4uNU+wxGMQ2DIZPkETxQMb4aQnmBOGPFVpvi3tiYkIhnK+Tum7KVACrVUGC/0FB3HqHHQhiCy6Ed6liZFMm+akEQb+PYXXiVo59gMQA6BKi1AwsAkzRYtUFn0Utrqcf8y5ITOrnhh4hFHAW+CmjjxSsVlwQHJUH7WLkVY71foRcfQlqkxo0PYjZV1KEqLjg09AFJfclrLsgvvpT25ADrjYPYDC4ZwRVF2yGLii+lro39w3hq39UdUATfuC03btP6QlCSpB7DE7LSG2MA8QXP6AFpSGYO6B84Dut0smt3wAGJVuj7ILDYe4D8nqWCeJrH4FuTt13W+AHftIqieLJslFA22GnRLBYgB1//TCWXZBcehmK4F3AAj9w1jEJ5vt53p5vfGqXXKXyFztgrR0jWQ5ifOXnozFMYJElgP1d+Mma9MWBkakhVFxwG5o9W84wQHLl02EES/XAZAiDj53jRh4Is8e/rJpvTP1IolqefwjGsFh3FrsEyXWXotuqzdYAnteGAaI1D1+886Ix8dJytfKXGqELBq5lHeCwJuiA3pGWIhhMxABp6nnw3YeSRqjEcDmak1nJbj+Mr/sPfhiQ7w8GJjch2OpJFCBF6H930T1JIqQAn0cxXHExqwCJuXloIrDYzAE5HHeT2hWAdPVS97uz/2lMg7NSMRgPey/J9VdWY5hcdgUEGLzMUgTz/N8/1gDEEEUp/OELyQSyclIVbH39sxkH6IIO2D7eLNkiHkD8KA8itJ7NRc/YRJ2fZYATYBMoVlmKYPmkydEAEUGp+4MXLCfE0eMzAzCGqxgFSIx40gcBFnLWmkD+H8ejASoInzF6YeKqwSloFqglvQ/xvzKRa94G0wH9eRb7kDgA0dBaRvh+gbW2kBwcWgPntLx/YRrgIWi7Z4HZIMYUIF4TFz6+ZYoFhPTYTli5bw7TABugDW2g5wAJQuGTZyfqEcatG4AV6EtPs9kI4mse5oamN5tGsBWAdGHxic1m+V34c567NAxDv4RlgNd7rXXCCsBPEgAkjaEUObFJhzBO3QBcHiRP85kFyE0NQJvLTSOYAnzYFCAaWkdOFE9JNDtBAI5E+RA1TLaB5JKXwWGg8Fo6AWKE4sdv8vHXMxBi49vh6S2ARYLkigvhDb2wCpiOxZIBiOcZIl27JsYplFY2tAWe3chkyjm54lcgQP/z5iYkBZB0J5HOdadzCQnWwhA+Zu7/fVDkil+OQIC56Q1hJZBFsWPbt7gY5VKAaCbDwy5AnnsJAZybbg9UA1n0vfGD+ABhwrTYweTaLy3AwMKMACQT/w2/iQ+wCgI8ybwHZgygjK/r5UQhvF8PkCGCgABEbWBgTiYAoh0/tp4fsxfRhbCHxWXsOoD+B9MOELV/4XfmcKTkmNUrnQiDAPXDmOfSP4yR/7y/hY/XulGA7A9jlqKB9JPpBYjwfbplsTopE7t2ANBA2s0yQHwrtzHN98Ki+OWuxfyS+PmahN+ZTfALLSwDVCYT0uWBqPH733sv8ksS8KMAr0OTCbUMAwQ3oOmsynTdCyN83R9CfEt4UwcEl+mns1gECNCE6mEuPSGMBs6fbVmyJDE/xf/xhOoGJgFGTemnASDk9+nmJUZ+8QGugIMocQ2Ld3LKrQh+qLTI1AksAJTx4caP4DPjB0A5SvOdyzBAwJXCcYwv3yrAeFP6eKu8jxZFu1+Ch0oDq+FjTc94lgGCVYYH64lOjwsQz/6d2KLBl7BXIoe+iXJjm6ew2Amrs+o+/FTJzAsowFhP5RC+Ty3jU+p+QJ/awSZA4III2m/tAUA0cH7vYWvRq617U0iXXMQowAqUaHu5leysWADxwPkj3HdYw6fOxaD0tlxGAaoJlhBBkcX0NgNAPGX64bxY0WsK8M8owdI9kc0+RDFjIUrxrbvYxAzigZMNAOV/Pkui8dPVPAst8KkbyqgDUjPuQUnmnaNNXJB4oC4/ELrul5sXJ9H4aSsG61GS+WZWI1ixAy1zMLWDAFQyVEN01iCp4NXWfDda5hC8ilmAlCBeultnJUuf5+9sp+tE4A7xusbPIj2l3vloAHX0bDZHgVDEkP5oONthdjeHAU6iAOWR3ydJN36aaulSrxJ2HVCJYbzY0MwSbDZeJ4JmnHelhE+tthWNn5gdxHCqJfehHSDaEsw+qWfDlUrocdvbt8cY+VmCgH8JLk+gS/SYBUgJ/vwI2jb/mcS+gA+dCz1QEj6YzfOp4aOV4nk0YQ2Ts9FU1PDlKIYbTWxBh85xS6J4HKbjk9hNeqM84oBT8ZL/gQxHMKcQnIB3PVlpwQXPapW8JbcBnk8Rn/KjHUL7nhQz7YDaIS3sFw6ZtEfwwI8O7fl2D/ApAXxfN3T6rrsYB0jt+Rtchy6G8xPvgwMPDBwEtG9OSjr86DfQVGpknfmzmD4uCmC9svWTaRBHK/n6QAHq+DtvYt0BlUHtALz52EoTj+ghPqWAwU1olfx20wVmfV+EILdORFsxDbAymk4Zn+LwG1C33zGWeQdUXfDMY+jGaoe1hf+p4VO+PMqDRuNFTA+iqagLrsBbgN5vYVyWss0UYI1Eb32Yd0DFKB4cQpvQuq/P3MiW8ivCm9A+bQsHVIN4rh+/7eOSTBGkFc0MoBSG/Wb7rLAixQXfRI4R2pAhx6D+d44bb8Q9xiYOqFo25CjeCn52ZlyQlrkX9ffC47bhp7rgOPy+FJfZWKYntXDrI6il2Gllt1FWRAlyq/CbFjLx8jda3jQBDaGPDLGPA2pckCsV6bsqkp8msFAD4K4jL2S5MbP7LX/VUggOasYEd6SXIC0KjEIvKhWFAnvx0xC81YUJbgdpJKjwG+PCr7wqsxs/DcHpHpztUnqxSrBnRiqlgDkuXPY++/FTAPJguR9bWTkoPQTVMmaS36ZmeMLsVUZFzZQJhvEmnzUXaF+m3sNi5QLWBPDzvCN3pTKT3fcVRVBqPoNL9olb/EK5R7pxqccvALbkp4libiMh6L6XS23eXl8i6o/eiOAym86wYQOIpfGWFYRgYC3QhnFKk89Io5tIJubRHwN7BjCUhuDjHST95fBYoFeSZWE91kH41d9uY34agjyY6SYmux4fYkBoOfuKnn5zpYALE0oHpfQolB1pCN5cHSFWV/xWH8cmthtxD1t6jPwWQd0b6+zIT9/sl/nxi+Ulz9oBRiqYgJ5B1PvpkabWRsj76dtzU9x9nylpCHJPdRGCYvuG2HQSSmbFXVNJfwWhMtW3FzAm1X4ejKuLUIRtxUM4wBsjOSE+jrt2b5Am8n/+WJbw0xMEhV6JbBYdcRUO5KLawvjiuHv3BET8bUmsuUrX/NmZn54g97t6ge63HfHuzrHugYUNAYmmUneWDM8ifjqCPLhkTWOIbuIk+lvL5k02ZTd8QsGeDoEuYhL9ZTeBrOKnHYlAs+8uaY0oNERfY9mqBefHp/enGRtqO0Kiiq96oQGf/flxRoRgnSuixKMohTzNFa+ufuBrp1Ec6N8Xff2KGa+V1rh9dBEJ7HsCh3Os729uKwEdQg4sawyTHgHtuS2Jgt/bVFtRVlael59XvGPHgbpqd9APX9OiniR6D9zPGbwvW/gZfFDuTcC0eq/MhDoXhCjpVm1K6AN6VJTCbUU301TMLOTHGZ1Q/vvHotqAssqLcNIv3FQ+FdwHCkDU1vpZhY/T39USENNer/MIouJqRkHPE0P+9p0rx8XAl238jPMCGMfgES/srHYHQqIkGiVz9XmbKjZffWoselnIjzMgVNqz8ybMW/Xq/pomb4ffBycNI4Lf73W11JeVPDvu7GFKDjqf9fig9E6kzc/n77r1oQXzcmbl5MyaPX/hLbfz2hOSmP+yvUCUYkJS145E3zD3tgm9rWiEOl58InYOPqRYXBBGQDvouPM0vX3pfUXx+Jioty+7T8mh12M5+NIgB14a5MBLhxx2aZIDzpEjR44cOXLkyJEjR44cOXLkyJGjdOr/ODCzC5DKTiMAAAAASUVORK5CYII=);background-size:140px 80px;background-repeat:no-repeat;position:absolute;z-index:6;display:block;height:100%;width:100%;top:0;left:0;background-position:center center}.ng-image-slider .ng-image-slider-container .main .main-inner .img-div .caption{position:absolute;bottom:0;padding:5px;color:#fff;background-image:linear-gradient(to right,#0000001a,#00000040,#00000080,#00000040,#0000001a);width:100%;text-align:center;box-sizing:border-box;border-radius:0 0 5px 5px}.ng-image-slider .ng-image-slider-container .main .main-inner:hover .full-screen{transition:all .5s ease-in-out;opacity:1}.ng-image-slider .ng-image-slider-container .main .next,.ng-image-slider .ng-image-slider-container .main .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;outline:0;width:35px;height:35px;font-size:35px;line-height:30px;z-index:8;transition:all .5s ease-in-out;text-align:center}.ng-image-slider .ng-image-slider-container .main .next:hover,.ng-image-slider .ng-image-slider-container .main .prev:hover{background-color:#d4cdcd;background-position:-192px -415px}.ng-image-slider .ng-image-slider-container .main .next.disable,.ng-image-slider .ng-image-slider-container .main .prev.disable{color:#bbb;background-color:#fff;opacity:.5;cursor:default}.ng-image-slider .ng-image-slider-container .main .prev{left:10px}.ng-image-slider .ng-image-slider-container .main .prev:hover{background-position:-194px -450px}.ng-image-slider .ng-image-slider-container .ng-main-pagination{background-color:inherit;color:inherit;position:absolute;height:30px;width:calc(100% - 6px);text-align:center;bottom:0;font-size:16px;line-height:30px;border-radius:0 0 5px 5px;margin:0 3px}.ng-image-slider .ng-image-slider-error{height:100%;position:relative;display:flex;justify-content:center;align-items:center}.ng-image-slider .ng-image-slider-error .ng-image-slider-loader{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;background-size:25px 25px;width:25px;height:25px}.close-outside{height:100%;width:100%;position:absolute;top:0;left:0}@media (max-width: 1199px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:170px;max-width:100%}}@media (max-width: 991px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:297px;max-width:100%}}@media (max-width: 768px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:247px;max-width:100%}}@media (max-width: 576px){.ng-image-slider .ng-image-slider-container .main .main-inner .img-div{width:350px;max-width:100%}}.ng-image-fullscreen-view{position:fixed;z-index:1031;background-color:#0009;width:100%;height:100%;top:0;overflow:hidden;-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out;left:0;text-align:center}.ng-image-fullscreen-view.image-fullview-hide{display:none!important}.ng-image-fullscreen-view .lightbox-wrapper{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#1f1f1f;transition:all .5s ease;display:flex;justify-content:center;align-items:center}.ng-image-fullscreen-view .lightbox-wrapper.ng-ligthbox-pagination{height:calc(100% - 30px)}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div{width:100%;height:100%;border:1px solid;border-color:#00000059;position:relative;overflow:hidden}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader{background-color:inherit;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .pre-loader .mnml-spinner{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center;width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main{display:grid;grid-template-columns:repeat(6,1fr);grid-template-rows:100%;grid-column-gap:0px;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image{width:1299px;height:100%;position:relative}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main.ng-fullimage-loading{background-image:url(data:image/gif;base64,R0lGODlhQABAAKUAAAQCBISChMTCxDQ2NOzq7KyqrExOTBweHJSSlNTW1PT29FxaXLS2tCwqLAwKDIyKjMzKzERCRPTy9FRWVCQmJJyanNze3Pz+/GRiZLy+vExKTAQGBISGhMTGxOzu7KyurFRSVCQiJJSWlNza3Pz6/FxeXLy6vCwuLAwODIyOjMzOzERGRAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAsACwAAAAAQABAAAAG/kCWcEgsGo/IpHLJbDqf0CgRtXg8FiipdjshXL4XwmRLdk7A6Mu4zD6ivOkvIduuCzFxNMbOHCwWA0opeWApfEkgI2gWIEgPhF8Ph0cBhAFHJZAXe0gHHBkmHAdaZ5BrUx6EHnRGGhJoChpRABaaFgBGpXELna9pEqNPA5pfgUYLcHKnRg8keZJPeMScRiglViWsRwKEAlDSmtRkGd1Qw8TGZY/PULS2uGwHvmjAUbp5vHUaCrCyUpV5LvE58EBAhgfBSNUCY2HZpDoDSpRI97CixYsYM2pkgoICBW0bo0Rg4OwCCQYRQkLZIIJQBXgql1TQhCDmkhXELqwIeaCA/gcJBRIOIUcsw8YGyS54CEHEQUlNJBxo/BDnA5ETOb+c0DgPjAQiDbJe2Jqx65evQ5zmjDq1ahGimoxqRIrGA4UiEXKm3NhTAlChQ2ZCqmlTyQbBcSpsKMwkgomSJEzsZdzEAYUGUilr3sw5yYkUCSR4SJCCbGciLJ+CISFi8WkWG+DmyeC6c0tiIk43UE2IRAM+FJhKuZ0zd5sQEL5AEP4kgdgEdZKDgRCFNyQSx+PcfWK9dxsK2qE4zwq9jXTlUYjjrhNCxRcVzJ2c6J7GN/DfWhBDqpBkgwEDmWXkADeQCFBbEQ64d4EKAWLEEiGtIYJGIyE1gEBoEoyAAH4SG4JB4WtGbCAdBAeCSAQABoAAk4kstujii00EAQAh+QQJCQApACwAAAAAQABAAIUEAgSEgoTEwsREQkSsrqwcGhzk5uRsamyUkpT09vQMDgxcWlwkJiR0dnTMysxMSky8urycmpwMCgyMiowkIiTs7ux0cnT8/vwEBgTExsRERkS0trQcHhzs6uxsbmyUlpT8+vwUFhQsLix8fnzMzsxMTky8vrycnpyMjowAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCUcEgsGo/IpHLJbDqf0Kh0Sl0uMheQY1HtOj+XsPjjLSMX4vSFa24LHWqxw90GgOJhEICeFE02GxMiSQAJeFl7fEUAE3dpE4lGcHhzikUThxNnh2xIEiMZGSMSUyKHYYNHCHERSgokaSQKUpinmmeTW0sBcQFSEKcXEG1YapVQwKfDZpNpx08owShtvGq+UaanqWWvsbNS0XjTbhIBGQ4BpFMA4WkokZZdIigQGyjb8fn6+/z9/v8AAxLB8MCDhwcYBD7x0CFNhQMKmZw4dCJikgPBPASkwMBThWAV1PHjkIuCkRLBwmjw1+zCMyEWUl5o0I9CnI5EYqakyY/B/s0iKFM+YOnMiISPp0L64wDrAgmTRjwEgwiQAU4kE/FUtJjEAtIwFSxwXSKhoIUHIseqXcu2bRIFVr+5JTJggyMQGwbMTYEBDJ4I8NRGCIagrQaZK9eakGnCTYgGFkJIkeAoGIi0AylQSMikgIEwBgpgk4nKyAMIdyGUWDIizYjRpPFJIHCIgFwjrcW8hkJZ5uUhGAQEE8DZSIGGFzqIjrI4ZeMhtYLdOvK4wfIoA2TqFRKi8qkEki0NPlV4CEbSVBVhGM+qeAr2KbfGG4A6D4TtRGiTJsBPQlwk8AUjn0XnyZSeRQV4dwgI4Y0V3SnjqCVBMYc4gBlXCugXh217CZVgwl0mrOZGEAAh+QQJCQAyACwAAAAAQABAAIUEAgSEgoREQkTEwsQkIiSkoqRsamzk4uT08vQUFhRUVlQ0MjS0srSUlpR0dnQMCgxMSkzU0tSsqqzs6uz8+vw8OjzMyswsLix0cnQcHhxcXly8vrycnpwEBgSEhoRERkTExsQkJiSkpqRsbmzk5uT09vQcGhxcWlw0NjS0trScmpx8fnwMDgxMTkysrqzs7uz8/vw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCZcEgsGo/IpHLJbDqf0Kh0Sq1ar8lLilJKXbBg5AUBK8MQ37BamDKbU2s1gOIuUwBxZYdA6CwBJXUwd3lHDwETZS8BD0ptdXCFRR0bght+SAtkZmhNHXhVAYJlAUpaFBQpC0wsHAglHCxTHYmjE5hgIm4iUyGjZiFhD3RmFLhPvr8wwWAdxHbHTrS/t2oSbhJUHr8eaywFrwWyswOCA9FgAKBVDx4vZQiMkmEAIX3z+Pn6+/z9/v8AA06p0AAECBUVBDLpwEEQB3QKhzQcxSHikRjKYMTwl8ABhgRIJv6qyM8EiTIkTByxkNFCvxVuVqxs+TLmEZEU+5moNUGl/hGMyjb26+jA55ECvwpYPNIBaZ0CEJfKiKHCoAqhUrNq3cq1q8IKATgUCJCwSgcII0ZAiEoFBcs6FlBMGVFLkYEwCp7VKXEiCk43JK2g0CuIglwnBjKOsAIgQsYyEdYpefBO2YtGVAQ8NiOgSYvNH6ps2wyjGxMMmx0gAYDixAkUkodcI53tdGojAAwccEPCQGxdtD1vhjDJxS8Xx0ZvNr2EcsbLRVRkbEDkA2kYnZuMyHiXyALCglYJabw58pO/ZgIPkf5YBZEK4N1QKPsEQ2V4i404fhyhSN5fFPQlxQNoYbAWErs9doARbgkSFz77ZdQfbjF4UEABHsQQWx4NKWzmnlQobHaYVOi58WFWHTDwCwNsCZTbSWZM4JtXMgBQgQYaVLDhFUEAACH5BAkJACoALAAAAABAAEAAhQQCBISChDw6PMTGxOTm5CQiJFRWVKSipNTW1CwuLAwODJSWlERGRGxqbMzOzPT29LS2tNze3AwKDERCRCwqLGRiZDQ2NJyenPz+/AQGBISGhDw+PMzKzCQmJFxaXKyqrNza3DQyNBQWFJyanExKTGxubNTS1Pz6/Ly6vOTi5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAb+QJVwSCwaj8ikcslsOp/QqHRKrVqvS0oHy10WHBiMqdAtF03hsMPM7qTTFHaZ8g7H5UqRyIlOm/BJJH0IJEwFfWOARwx1GAxNFHdNEgYeElYIjQhsEpkYCJdTIo1he2UVbxVUo6SmXahpqlQgjSBsCp4gClWMdYWcHpZXJLQYIL+KXHrJzM3Oz9DR0tPUzgIBFwcBAtVMFhyNHBZJEiEhGdEGJ6QYDx5GGRoPYQ8a6M0C8+wYJ+NDCn3eONiVDEDAfSYADFnAbgGzCfvqTBCiQF+jBwQBaYj4RoOQEBH9AfrAMc0HIRZCJiNZEsNJFQrWkToRSmNLDB6FMCTlMFn+r5ITKR4MYyIjIIMlExKJJ/OEPWsy2Z3gZkSChRA1namT+q7bkW/hRHo1AmCDhgMHNGxQOLat27djJVSAAAIBhAb3pghYMGDACKpdLKRolEKskwwXGl3IayUfuweAnSQmdQGLhMH7UjBesiHihisNSjZ4MpldZSsoSqJ4Am4fhysRSkZgHfE1kgQBPqRNgCQ2x9mSI54uImHnmxGbVaTmuNpJ532fiwBY3ggF2yElSpaAcoDdgSOh940mIoFAxBRGmWToXudAchW+2QEnMsFinalTNozoOyK6kQIlkVGEAJi9kUJkcoDEkWFCSNAAXSCgUEFWeADIkYBuxUdKCnAgqRAeO+O9lQF1dVjXoQqINYLciUOEoMEHH2gQAovQBAEAIfkECQkAMAAsAAAAAEAAQACFBAIEhIKEREJExMbEJCIk5ObkbGpsrKqsFBIUNDI09Pb03NrcVFJUdHZ0tLa0DAoMlJKULCos7O7sHBocPDo8zM7MtLK0/P785OLkXFpcfH58BAYEhIaETEpMzMrMJCYk7OrsbG5srK6sFBYUNDY0/Pr83N7cVFZUfHp8vLq8DA4MlJaULC4s9PL0HB4cPD48AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5AmHBILBqPyKRyyWw6n9CodEqtWq/YbHaiCUy0YCNBcrlICEwAi8FgAcJMTbkcUG5QhfmlgNrAkwF6GkkjA3p6AyN/R2NlZ0gbHoeHA35SGwIvD04TAV5JDSWTh4NRCSZlJglZAHmjeiBvTw+ocwWbVwmvkyRQL5MvWBm7hxm+wMLEesazrmW3WLrKZb1Qp6mrWBsg0yCWUA8CArhZDdOli1GRxB7f6VCFr4nvVHfccyB99FYACWwJsvYJHEiwoMEwDww4WLDAgQF3B5WQqKUHQ7UjAD58CDjwhahRCigcOYGhDIYTBGkRwwDxxCSUAg1MM0Ck1SQMHNOlmJaCyP6HVx8EUtxlwidQgSWVFR1i81CBnIt2KutJxGWxgTKVhTCSIenJlM5GYVCBMUIEqPQ8viohMqISCkkrtnVrRyHDFA/p6t3Lt69fOA/MkqvyIEECiFk+HFBQpsSBoFM2cGB8QQEHxFU6tJjUooMUFRUmVSCLJcJmkBGirHi1IssBYgegqPg4SQFpwrRHlRi8RNqri1RYTGPxhAQx4Ece8C4iXBlxJ7PXLhfyoMGCMgv0GXmQe9JuKKtHtT6CwNAhDwiOvN4VW3boQxXSHxHxysKRD6c5p47ygMPHEhxMB4NvoyAnhGaceUbFAyQkIKAQcuyCThERiPCfCPvRAwExEC8o8QALLDwIBwrEoPCXEMbtYiBfFtR34hAIvKdHfC8O8QAKtZiAgoh+qcBjjYsEAQAh+QQJCQAuACwAAAAAQABAAIUEAgSMioxEQkTMysxkYmTk5uQkIiSsqqxUUlT09vSUlpTc2tx0cnQcGhwsLiwMCgxMSkzU0tRsamzs7uxcWlyUkpQsKiy0trT8/vycnpwEBgSMjoxERkTMzsxkZmTs6uwkJiSsrqxUVlT8+vycmpzk4uR8enw0MjQMDgxMTkzU1tRsbmz08vRcXlwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/kCXcEgsGo8ayCYU2kAAx6h0Sp1yVJisdiGoer9fz0hLxowk4LR6yBmXy921nKrBvssqzXx/TN3vCHyCQxV/bxWDgxeGZRdHBisKFSsGiVOLjFqORA8kblkjGQ+WR4WZWYhDDwN/A6OkRAinWYFDCowZcycBGydRAHaMC1BCBp93I5VqDglZCQ5RbZlxQgynDGu3WgpSYn9nRSSnuWqmWdxSAgtvXEYZ42sObiPQUwBKTBVPR9aZ2GsnNvQiZYzRCBCwBL0zRC7hngcd/nR45XAPioVkMqComMgAAwUkGCjjSLKkyZMoU6o0+cCCBYorwYA40MzMAYQxvUBg8YYF/gQpKCBA2KjSAs87CSwcETAhywRqJw8wOmAERVMtE4iyrPkNpgs/ZVKgdHCq3hCwZMSePFG2iFUyWVE+OPZmhFcXAo6ygGpSqiGqR4IOXWn0DwulOafs7PkzMRULIeaFQOy4ygMHDu5W3sy5s+fPoCuioBAgAAWtcwCAAEEMlogPZD6I2COiRJYSs0mJ+JNbze4yvQWhgH3nA2ovAAq8KdGaDwFGBNSA+INT0AZGG6RTTxSAUQA1yd8UaG4EAAcTJjiQJ/LcUHTfbyhMARGBTATKbq++ibuGgm0MuE3RgHJlFNBAFL/FtwcALq1XhDZvoHMEBcRlIRtKBIo3BQoELpTWwnEcacCIHqFVWMYHoQkBYRkSgjbgGx8cmKILFgSDgQr4pWgeevvM6CNnQQAAIfkECQkAJgAsAAAAAEAAQACFBAIEhIaEREJExMbEJCIkZGJktLK07OrsnJqcVFZUDA4MNDI0/Pr8jI6M5OLkdHZ0TEpMzM7MLCosvL689PL0XF5cFBYUBAYEjIqMzMrMJCYkZGZk7O7snJ6cXFpcFBIUNDY0/P78lJKUfHp8TE5MxMLEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABv5Ak3BILBqPyKRyyWyaPo/BwTF4KJzYrBJyCHm/B4h2PIYwvugQQ0xuLxWcdJrzcduPI7l8dGcSAhkOBwMBBEcDemkDfUkAAWdpDBgARXGJXxSMRxcGlyEGlEMUnl6ZRgAFE1MTBRdaAaQhGESIpItFFrVoAxZYGpCeDBpDeaR8RAC6iq5NDbFeDUMflol0RQWeG04RzyERRGaXbEQlnhNOo8+mQwLUXxzjRO5yHE7zl+vSI1IHGSNXR9JV29btm5tyl841EdEtmpsN2Zz8isVAgh0AGRJlCNUEQ6xZdyxkTJOhFxZOngwwuwNgQ4kDB0ps4IgFAAZgXyTR1NRHQ/6ACDAjYDDEs6jRo0iTKl3KtKlTIQo8YMDgAeBTLQm6gElwNUuCRFyRgOiAAERXBVrlHLBKZEG6ilexXSpwBAGaDledXXJYpMPdqx4vgSyyABKDBVcreKJ7REKHDoivwqnGtmuSr3o8WHbiIW2IA2E3N1FQYGqFOqJTq17NurXr17Bj90kwgAGFAaHbKIAAoTIjhmlEuGnnhYOAopjl5MYy+Z1vNyPl3NJCQg4JTQBwomGws0n1NNcZARAYqTuT5sWft4muqI2AdBSOM1kwYoRZJcnTLM+yuzcTAH590YF5QwCHhnBOPSDHA0t4UBsDA2j2lANyOCCbEAAkQiBrFBqmYeGFJiiYBoMgAnjXhq6BUN99ILboYmxBAAAh+QQJCQAnACwAAAAAQABAAIUEAgSMiozExsRUUlQkIiSkpqTk5uQUEhQ0MjS0srT09vScmpx8enwMCgw8Ojzk4uRcWlwsKiysrqz08vQcHhy8urz8/vykoqQEBgSUkpTMzsxUVlQkJiSsqqzs6uwUFhQ0NjS0trT8+vycnpx8fnwMDgw8PjwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAG/sCTcEgsGo/IpHLJbA4PINDBSa02ESGRxSIKIazg8Gmj3ZpFG7GaiVCY39zIen4MweEhuhNDoWCSB2V3WyJTekkOEm4WChIORw6DcI+HRgABkgEARSCSb5RHBAMDHGKYngFFB55mhkUEFW8VBFYmrFsmRXaeFUcUBnceFFUJtxZ5RAiCcCJyRrGDvXuLrAp/RBDLhGlGHKylTd7GFuDJFWUiFV9HG6zcTOLG5aogDq5HA+572oMi12IEvlEpdisBHWh3pDmxdSvXHAIegtGqcirToQ8SZE2scinTpkqiSK1JhC4BqEooMRDwg7Kly5cnMHyEqcfBCGAWDIw4SdNK/oMCkgo06GmlhAZWGu4RXdLBWIelQjYIEKFAwDshkcbxfFnRTAYiQMcVIApB0jucxgwQFSBJwJBxZobCBMCP0Ee4W+S+BECN2ceI4zysbTskrLGxPcsOepfV2FaXGe58BesU6gkIU0UIgGDEKFK9lpWUaDqoA+jQSxxceLDlwYXHqJlg+Be7tu3buHPr3s3bSYQsCkI4UwNixAIQLiNMeDNhOJg2hJzr2fUGWZgFb0agpHtHxEwrI7Jv72tXjDJC6ypRN2M9TIQLI9JXUs5cOtEBBToMaPJbRBf7PTHwBgO9HVHCMiKUUGARCNwh34IHvpHggkUIaAYJFBoxQAf6CWXo4YcghmhEEAA7YnVPZzU3UnNDZXVsS2VVYlhjelFTNkFCd2NQbHA4Umg0WUJramlqdElnNVhRWVphVGtSTmNwSno1Zm5mZ0ZOWA==);background-repeat:no-repeat;background-position:center center}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-show{opacity:1;display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image.ng-image-slider-hide{opacity:0;display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main img{-webkit-transition:all .5s ease-in-out;-moz-transition:all .5s ease-in-out;-o-transition:all .5s ease-in-out;transition:all .5s ease-in-out;width:auto;height:auto;max-height:100%;max-width:100%;position:absolute;z-index:11;margin:auto;inset:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main iframe{inset:0;margin:auto;width:100%;height:100%;border:0;position:absolute}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .lightbox-image-main .lightbox-image .custom-image-main video{inset:0;margin:auto;width:100%;height:100%;border:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption{position:absolute;z-index:11;top:0;margin:auto;padding:5px;color:#fff;background-color:#00000059;max-width:100%;left:0;right:0}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.show{display:block}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .caption.hide{display:none}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{position:absolute;right:10px;top:50%;background-color:#fff;border-radius:50%;cursor:pointer;margin-top:-16px;width:38px;height:38px;font-size:35px;z-index:12;line-height:30px;outline:0;color:#000;transition:all .3s ease-in-out}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next:hover,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev:hover{background-color:#d4cdcd}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .next.disable,.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev.disable{color:#bbb;background-color:#fff}.ng-image-fullscreen-view .lightbox-wrapper .lightbox-div .prev{left:10px}.ng-image-fullscreen-view .lightbox-wrapper .close{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAQK0lEQVRYCQEgEN/vAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjLuvr60L8/Pwz/Pz8HAQEBBYAAAAA/Pz86gQEBOQEBATPFRUVvt3d3dAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPT09DNPT02T4+Php/v7+FgQEBLwBAQHHCAgI4AQEBO4AAAAA/Pz8Evn5+SD+/v43/Pz8RAICAu4ICAiZKysrmsXFxfIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVFRVcBQUF5wkJCcEYGBhOZGRkBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY2NjBBgYGEwJCQm9BgYG6xQUFGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMTExDgwMDK0FBQXhGBgYSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGRkZRgYGBt8LCwuvLCwsDgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAuLi4WBwcH0QsLC7EzMzMQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADU1NQ4LCwutBwcH0ygoKBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwMA4ICAjRDQ0NnWxsbAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABycnICDQ0NlwcHB9UqKioQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsLC7ELCwuvcHBwBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAd3d3AgwMDKkLCwu3d3d3AgAAAAAAAAAAAAAAAAAAAAAAFBQUYgYGBt01NTUOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADk5OQwGBgbZFBQUagAAAAAAAAAAAAAAAAA3NzcQBgYG6xoaGkQAAAAAAAAAAAAAAAAAAAAACAgIkQMDA/sHBweZPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB5kDAwP7CAgIkwAAAAAAAAAAAAAAAAAAAAAaGho8BgYG7zIyMhQAAAAAAAAAAAAODg56CgoKuQAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAACQkJsQ4ODoEAAAAAAHNzcwIHBwfjHBwcRAAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmwAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAHh4ePgYGBudqamoEACAgIDwGBgblbW1tAgAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcHB98cHBxCAA4ODn4LCwudAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQ/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDJcNDQ2FAAoKCrESEhJoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6MHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABISEmIICAi1AAkJCdUZGRlEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB0dHT4JCQnbAAUFBeElJSUyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ODiQCAgLjAv///wD+/v7+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUFBQAAAAD+AAAAAAAAAAAAAAAAAAAAAAAAAP4FBQUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+/v4AAAACAAoKCtkcHBxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMjIzwJCQnfAAgICLcTExNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz8EBwcHowAAAP8AAAD/AAAA/wcHB6UHBwelAAAA/wAAAP8AAAD/BwcHoz8/PwQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQEFgHBwe7AA0NDYkMDAyTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8/PwQHBwejAAAA/wAAAP8AAAD/BwcHpTo6OgQ6OjoEBwcHpQAAAP8AAAD/AAAA/wcHB6M/Pz8EAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwMDI0NDQ2PABcXF0YICAjZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPz8/BAcHB6MAAAD/AAAA/wAAAP8HBwelOjo6BAAAAAAAAAAAOjo6BAcHB6UAAAD/AAAA/wAAAP8HBwejPz8/BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgICNMVFRVOAFtbWwYFBQXtIiIiMgAAAAAAAAAAAAAAAAAAAAAAAAAABwcHmQAAAP8AAAD/AAAA/wcHB6U6OjoEAAAAAAAAAAAAAAAAAAAAADo6OgQHBwelAAAA/wAAAP8AAAD/BwcHmwAAAAAAAAAAAAAAAAAAAAAAAAAAJSUlLAYGBvFLS0sIAAAAAAAMDAyPCwsLowAAAAAAAAAAAAAAAAAAAAAAAAAAAwMD+wAAAP8AAAD/BwcHpTo6OgQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6OjoEBwcHpQAAAP8AAAD/AgIC/QAAAAAAAAAAAAAAAAAAAAAAAAAADAwMnQwMDJUAAAAAAAAAAAAnJyccBQUF8x8fHy4AAAAAAAAAAAAAAAAAAAAACAgIkwICAv0HBwebOjo6BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOjo6BAcHB5sCAgL9CAgIlQAAAAAAAAAAAAAAAAAAAAAhISEoBQUF9SgoKCAAAAAAAAAAAAAAAAAAEBAQfggICMlaWloEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGpqagQJCQnDDw8PhQAAAAAAAAAAAAAAAAAAAAAASkpKBggICMsPDw+PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8PD4cICAjPPz8/CAAAAAAAAAAAAAAAAAAAAAAAAAAAACIiIh4GBgbnEBAQcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExMTbgYGBukhISEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAaGhooBgYG5xAQEItoaGgEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHBwcAQPDw+FBQUF6RkZGSwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjIAgICM8JCQnDICAgJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIyMjJAkJCb8HBwfRISEhIgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEFBQQgODg6HBQUF9QwMDJcmJiYmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACYmJiIMDAyTBQUF9Q4ODo1BQUEKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIiIiJOnp6Xf7+/taAgIC1AUFBbgLCwvLDg4O3DExMfYAAAD+0NDQDPLy8iT09PQy+/v7R/7+/jAFBQWoGBgYid3d3doAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA3NzcM3t7eTvX19UH///8y/f39HgICAhQAAAAA/v7+7gMDA+ABAQHQCgoKvScnJ7TFxcXyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAx6aIH59j4jkAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;background-size:32px;position:absolute;top:10px;right:10px;color:#000;background-color:#fff;padding:0;opacity:1;border-radius:50%;height:36px;width:36px;z-index:12;cursor:pointer;transition:all .2s ease}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}.ng-image-fullscreen-view .invalid-msg{color:#fff;font-size:18px;position:absolute;top:45%;left:45%}.ng-image-fullscreen-view .popup-pagination{background-color:#1f1f1f;color:#fff;position:absolute;height:30px;width:100%;text-align:center;bottom:0;font-size:16px;line-height:30px}@media (max-width: 768px){.ng-image-fullscreen-view .lightbox-wrapper{width:100%;height:100%}.ng-image-fullscreen-view .lightbox-wrapper.error-msg{background-image:none}}
`],encapsulation:2})}}return t})(),Do=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=de({type:t})}static{this.\u0275inj=ce({providers:[JC],imports:[et]})}}return t})();var ze=class t{constructor(i){this.http=i}loadingSpinnerMapUser=!1;tableAddImagesPointsUser=[];mapView=null;latitude;longitude;serviceJsonValuesPointsAddUser;popupAddPointUser=null;tableAddImagesEventsAdmin=[];tableEditAddImagesEventsAdmin=[];tableAddImagesPointsAdmin=[];loadingSpinnerMapAdmin=!1;dataServerAdmin=new Bi([]);dataServerAdmin$=this.dataServerAdmin.asObservable();insertDataServer(){return f(this,null,function*(){var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/arcgis/rest/services/\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2/FeatureServer/0/query",name:"Events"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/query",name:"Church"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/query",name:"Museum"}];let e={f:"json",where:"1=1",outFields:"*",returnGeometry:"true",outSR:4326};var n=[];for(let r in i){let a=yield pi(this.http.get(i[r].url,{params:e}));console.log(a);let c=[];for(let p of a.features){p.attachments=[];let h=p.attributes.OBJECTID;c.push(h)}let d=i[r].url.replace("/query","/queryAttachments"),u={f:"json",returnUrl:!0,objectIds:c.join(",")};var o=yield pi(this.http.get(d,{params:u}));console.log(o);for(let p of o.attachmentGroups)for(let h of a.features)if(h.attributes.OBJECTID==p.parentObjectId)for(let y of p.attachmentInfos){let A={image:y.url,thumbImage:y.url,alt:y.name,title:y.name};h.attachments.push(A)}n.push({name:i[r].name,data:a.features})}this.dataServerAdmin.next(n),console.log(this.dataServerAdmin)})}objectidDeleteEvent;mapViewAdmin=null;latitudeAdmin;longitudeAdmin;statusTable=[];openAcceptPopup=!1;openCancelPopup=!1;newPointInMap=new Q;newPointInMap$=this.newPointInMap.asObservable();newPointInMapFunction(){this.newPointInMap.next()}openEventPopup=!1;serviceJsonValuesEvents;serviceJsonValuesEventsUpdate;serviceJsonValuesPointsAdd;loadingAdmin=!1;popupAddEvent=null;popupEditEvents=null;editObjectId;objectidDeletePoint;categoryDeletePoint;objectidAcceptPoint;categoryAcceptPoint;longAcceptPoint;latAcceptPoint;static \u0275fac=function(e){return new(e||t)(Fe(xt))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};var L_=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);accept(){return f(this,null,function*(){this.DataService.loadingAdmin=!0,this.DataService.popupAddEvent?.close();try{let i="https://services6.arcgis.com/f36cxNuTmfCJN313/arcgis/rest/services/\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2/FeatureServer/0/addFeatures",e={attributes:{title:this.DataService.serviceJsonValuesEvents.title,date_from:this.DataService.serviceJsonValuesEvents.date_from,date_to:this.DataService.serviceJsonValuesEvents.date_to,description:this.DataService.serviceJsonValuesEvents.description,link:this.DataService.serviceJsonValuesEvents.link},geometry:{x:this.DataService.serviceJsonValuesEvents.long,y:this.DataService.serviceJsonValuesEvents.lat,spatialReference:{wkid:4326}}},n=new URLSearchParams({f:"json",features:JSON.stringify([e])}),o=new ci({"Content-Type":"application/x-www-form-urlencoded"}),r=yield pi(this.http.post(i,n.toString(),{headers:o}));console.log(r.addResults);let a=`https://services6.arcgis.com/f36cxNuTmfCJN313/arcgis/rest/services/\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2/FeatureServer/0/${r.addResults[0].objectId}/addAttachment`;for(let c in this.DataService.tableAddImagesEventsAdmin){let d=this.DataService.tableAddImagesEventsAdmin[c].file,u=new FormData;u.append("attachment",d,d.name),u.append("f","json");let p=yield pi(this.http.post(a,u));console.log(p)}yield this.DataService.insertDataServer(),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingAdmin=!1})}cancel(){console.log("\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7")}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-accept-add-events"]],decls:9,vars:0,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer",3,"click"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0)(1,"div",1),S(2," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7; "),_()(),v(3,"mat-dialog-actions",2)(4,"button",3),P("click",function(){return n.accept()}),S(5,"\u039D\u03B1\u03B9"),_(),F(6,"span",4),v(7,"button",5),P("click",function(){return n.cancel()}),S(8,"\u038C\u03C7\u03B9"),_()())},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};var B_=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);accept(){return f(this,null,function*(){this.DataService.popupAddEvent?.close(),this.DataService.loadingSpinnerMapAdmin=!0;try{var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/addFeatures",name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",helpUrlImages:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/addFeatures",name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",helpUrlImages:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/"}],e="",n="";for(let h in i)this.DataService.serviceJsonValuesPointsAdd.category==i[h].name&&(e=i[h].url,n=i[h].helpUrlImages);let o={attributes:{name:this.DataService.serviceJsonValuesPointsAdd.name,category:this.DataService.serviceJsonValuesPointsAdd.category,description:this.DataService.serviceJsonValuesPointsAdd.description,status:"1"},geometry:{x:this.DataService.serviceJsonValuesPointsAdd.long,y:this.DataService.serviceJsonValuesPointsAdd.lat,spatialReference:{wkid:4326}}},r=new URLSearchParams({f:"json",features:JSON.stringify([o])}),a=new ci({"Content-Type":"application/x-www-form-urlencoded"}),c=yield pi(this.http.post(e,r.toString(),{headers:a}));console.log(c);let d=`${n}${c.addResults[0].objectId}/addAttachment`;console.log(d);for(let h in this.DataService.tableAddImagesPointsAdmin){let y=this.DataService.tableAddImagesPointsAdmin[h].file,A=new FormData;A.append("attachment",y,y.name),A.append("f","json");let C=yield pi(this.http.post(d,A));console.log(C)}yield this.DataService.insertDataServer();let u=this.DataService.mapViewAdmin;if(!u)return;u.map.allLayers.forEach(h=>{"refresh"in h&&(h.refresh?.(),this.DataService.mapViewAdmin.goTo({center:[this.DataService.serviceJsonValuesPointsAdd.long,this.DataService.serviceJsonValuesPointsAdd.lat],zoom:16}).catch(console.error))}),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingSpinnerMapAdmin=!1})}cancel(){console.log("\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7")}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-accept-add-point"]],decls:9,vars:0,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer",3,"click"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0)(1,"div",1),S(2," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03C0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7; "),_()(),v(3,"mat-dialog-actions",2)(4,"button",3),P("click",function(){return n.accept()}),S(5,"\u039D\u03B1\u03B9"),_(),F(6,"span",4),v(7,"button",5),P("click",function(){return n.cancel()}),S(8,"\u038C\u03C7\u03B9"),_()())},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};var q5=["nav"],Y5=["navEvents"],$C=t=>({"errors-texts":t});function Z5(t,i){t&1&&(v(0,"div"),S(1," \u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5 \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7 "),_())}function K5(t,i){t&1&&(v(0,"div"),S(1," \u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03B1\u03C2 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7\u03C2 "),_())}function J5(t,i){if(t&1&&(v(0,"mat-option",15),S(1),_()),t&2){let e=i.$implicit;E("value",e.code),w(),Ue(e.name)}}function $5(t,i){t&1&&(v(0,"div",16)(1,"span"),S(2,"\u0395\u03C0\u03B9\u03BB\u03AD\u03BE\u03C4\u03B5 \u03BA\u03AC\u03C0\u03BF\u03B9\u03B1 \u03BA\u03B1\u03C4\u03B7\u03B3\u03BF\u03C1\u03AF\u03B1"),_()())}function X5(t,i){if(t&1&&(v(0,"mat-form-field",13)(1,"mat-label"),S(2),_(),F(3,"input",31),_()),t&2){let e=k().$implicit;E("appearance","outline"),w(2),Ue(e.category)}}function eQ(t,i){if(t&1&&V(0,X5,4,2,"mat-form-field",13),t&2){let e=i.$implicit,n=k(3);j(n.selectedCategory==e.code?0:-1)}}function tQ(t,i){if(t&1&&(hi(0,eQ,1,1,null,null,dn),v(2,"mat-form-field",13)(3,"mat-label"),S(4,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(5,"textarea",25),_(),v(6,"div",26)(7,"mat-form-field",27)(8,"mat-label"),S(9,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(10,"input",28),_(),v(11,"mat-form-field",29)(12,"mat-label"),S(13,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(14,"input",30),_()()),t&2){let e=k(2);fi(e.categoriesTable),w(2),E("appearance","outline"),w(5),E("appearance","outline"),w(3),gi("value",e.DataService.latitudeAdmin),w(),E("appearance","outline"),w(3),gi("value",e.DataService.longitudeAdmin)}}function iQ(t,i){if(t&1){let e=he();v(0,"div",18)(1,"mat-icon",32),P("click",function(){B(e);let o=k(2);return N(o.removeImages(o.slider.visiableImageIndex))}),S(2,"close"),_()()}}function nQ(t,i){if(t&1&&F(0,"ng-image-slider",20),t&2){let e=k(2);E("images",e.DataService.tableAddImagesPointsAdmin)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function oQ(t,i){if(t&1&&(v(0,"div",21),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k(2);E("ngClass",Ot(1,$C,e.insertImagesAddPointText==!0))}}function rQ(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(3);w(),yi(" ",e.slider.visiableImageIndex+1," / ",e.DataService.tableAddImagesPointsAdmin.length," ")}}function aQ(t,i){if(t&1&&V(0,rQ,2,2,"div"),t&2){let e=k(2);j(e.slider?0:-1)}}function sQ(t,i){if(t&1){let e=he();v(0,"div",11)(1,"form",12)(2,"mat-form-field",13)(3,"mat-label"),S(4,"\u039A\u03B1\u03C4\u03B7\u03B3\u03BF\u03C1\u03AF\u03B1"),_(),v(5,"mat-select",14),P("selectionChange",function(o){B(e);let r=k();return N(r.changeCategory(o))}),F(6,"mat-option",15),hi(7,J5,2,2,"mat-option",15,dn),_()(),V(9,$5,3,0,"div",16)(10,tQ,15,5),_()(),v(11,"div",17),V(12,iQ,3,0,"div",18),v(13,"div",19),V(14,nQ,1,15,"ng-image-slider",20)(15,oQ,2,3,"div",21),_(),V(16,aQ,1,1),v(17,"div",22)(18,"button",23),P("click",function(){B(e);let o=Et(22);return N(o.click())}),v(19,"mat-icon"),S(20,"upload"),_()(),v(21,"input",24,0),P("change",function(o){B(e);let r=k();return N(r.uploadImages(o))}),_()()()}if(t&2){let e=k();w(),E("formGroup",e.newPointControls),w(),E("appearance","outline"),w(5),fi(e.categoriesTable),w(2),j(e.selectedCategory==null?9:10),w(3),j(e.DataService.tableAddImagesPointsAdmin.length!=0?12:-1),w(2),j(e.DataService.tableAddImagesPointsAdmin.length!=0?14:15),w(2),j(e.DataService.tableAddImagesPointsAdmin.length!=0?16:-1),w(2),E("ngClass",e.disaledButtons?"disabled-button":"primary-button cursor-button")("disabled",e.disaledButtons)}}function lQ(t,i){if(t&1){let e=he();v(0,"div",18)(1,"mat-icon",32),P("click",function(){B(e);let o=k(2);return N(o.removeImagesEvents(o.sliderEvents.visiableImageIndex))}),S(2,"close"),_()()}}function cQ(t,i){if(t&1&&F(0,"ng-image-slider",20),t&2){let e=k(2);E("images",e.DataService.tableAddImagesEventsAdmin)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function dQ(t,i){if(t&1&&(v(0,"div",21),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k(2);E("ngClass",Ot(1,$C,e.insertImagesEventsText==!0))}}function uQ(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(3);w(),yi(" ",e.sliderEvents.visiableImageIndex+1," / ",e.DataService.tableAddImagesEventsAdmin.length," ")}}function pQ(t,i){if(t&1&&V(0,uQ,2,2,"div"),t&2){let e=k(2);j(e.sliderEvents?0:-1)}}function mQ(t,i){if(t&1){let e=he();v(0,"div",18)(1,"mat-icon",32),P("click",function(){B(e);let o=k(2);return N(o.removeImagesEvents(o.sliderEvents.visiableImageIndex))}),S(2,"close"),_()()}}function hQ(t,i){if(t&1&&F(0,"ng-image-slider",20),t&2){let e=k(2);E("images",e.DataService.tableAddImagesEventsAdmin)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function fQ(t,i){if(t&1&&(v(0,"div",21),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k(2);E("ngClass",Ot(1,$C,e.insertImagesEventsText==!0))}}function gQ(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(3);w(),yi(" ",e.sliderEvents.visiableImageIndex+1," / ",e.DataService.tableAddImagesEventsAdmin.length," ")}}function yQ(t,i){if(t&1&&V(0,gQ,2,2,"div"),t&2){let e=k(2);j(e.sliderEvents?0:-1)}}function _Q(t,i){if(t&1){let e=he();v(0,"mat-tab-group",33),P("selectedTabChange",function(o){B(e);let r=k();return N(r.changeTabs(o))}),v(1,"mat-tab",34)(2,"div",11)(3,"form",12)(4,"mat-form-field",13)(5,"mat-label"),S(6,"\u03A4\u03AF\u03C4\u03BB\u03BF\u03C2"),_(),F(7,"input",35),_(),v(8,"mat-form-field",13)(9,"mat-label"),S(10,"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1"),_(),F(11,"input",36)(12,"mat-datepicker-toggle",37)(13,"mat-datepicker",null,1),_(),v(15,"mat-form-field",38)(16,"mat-label"),S(17,"\u0397\u03BC\u03B5\u03C1. \u0395\u03CE\u03C2"),_(),F(18,"input",39)(19,"mat-datepicker-toggle",37)(20,"mat-datepicker",null,2),_(),v(22,"div",26)(23,"mat-form-field",27)(24,"mat-label"),S(25,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(26,"input",40),_(),v(27,"mat-form-field",29)(28,"mat-label"),S(29,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(30,"input",41),_()(),v(31,"mat-form-field",13)(32,"mat-label"),S(33,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(34,"textarea",42),_(),v(35,"mat-form-field",13)(36,"mat-label"),S(37,"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE Link"),_(),F(38,"input",43),_()()(),v(39,"div",44),V(40,lQ,3,0,"div",18),v(41,"div",19),V(42,cQ,1,15,"ng-image-slider",20)(43,dQ,2,3,"div",21),_(),V(44,pQ,1,1),v(45,"div",22)(46,"button",45),P("click",function(){B(e);let o=Et(50);return N(o.click())}),v(47,"mat-icon"),S(48,"upload"),_()(),v(49,"input",24,0),P("change",function(o){B(e);let r=k();return N(r.uploadImagesEvents(o))}),_()()()(),v(51,"mat-tab",46)(52,"div",11)(53,"form",12)(54,"mat-form-field",13)(55,"mat-label"),S(56,"\u03A4\u03AF\u03C4\u03BB\u03BF\u03C2"),_(),F(57,"input",35),_(),v(58,"div",26)(59,"mat-form-field",27)(60,"mat-label"),S(61,"\u0397\u03BC\u03B5\u03C1. \u0391\u03C0\u03CC"),_(),F(62,"input",36)(63,"mat-datepicker-toggle",37)(64,"mat-datepicker",null,1),_(),v(66,"mat-form-field",29)(67,"mat-label"),S(68,"\u0397\u03BC\u03B5\u03C1. \u0395\u03CE\u03C2"),_(),F(69,"input",39)(70,"mat-datepicker-toggle",37)(71,"mat-datepicker",null,2),_()(),v(73,"div",26)(74,"mat-form-field",27)(75,"mat-label"),S(76,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(77,"input",40),_(),v(78,"mat-form-field",29)(79,"mat-label"),S(80,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(81,"input",41),_()(),v(82,"mat-form-field",13)(83,"mat-label"),S(84,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(85,"textarea",42),_(),v(86,"mat-form-field",13)(87,"mat-label"),S(88,"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE Link"),_(),F(89,"input",43),_()()(),v(90,"div",44),V(91,mQ,3,0,"div",18),v(92,"div",19),V(93,hQ,1,15,"ng-image-slider",20)(94,fQ,2,3,"div",21),_(),V(95,yQ,1,1),v(96,"div",22)(97,"button",45),P("click",function(){B(e);let o=Et(50);return N(o.click())}),v(98,"mat-icon"),S(99,"upload"),_()(),v(100,"input",24,0),P("change",function(o){B(e);let r=k();return N(r.uploadImagesEvents(o))}),_()()()()()}if(t&2){let e=Et(14),n=Et(21),o=k();w(3),E("formGroup",o.eventsControls),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(3),E("matDatepicker",e),w(),E("for",e),w(3),E("appearance","outline"),w(3),E("matDatepicker",n),w(),E("for",n),w(4),E("appearance","outline"),w(3),gi("value",o.DataService.latitudeAdmin),w(),E("appearance","outline"),w(3),gi("value",o.DataService.longitudeAdmin),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(5),j(o.DataService.tableAddImagesEventsAdmin.length!=0?40:-1),w(2),j(o.DataService.tableAddImagesEventsAdmin.length!=0?42:43),w(2),j(o.DataService.tableAddImagesEventsAdmin.length!=0?44:-1),w(9),E("formGroup",o.eventsControls),w(),E("appearance","outline"),w(5),E("appearance","outline"),w(3),E("matDatepicker",e),w(),E("for",e),w(3),E("appearance","outline"),w(3),E("matDatepicker",n),w(),E("for",n),w(4),E("appearance","outline"),w(3),gi("value",o.DataService.latitudeAdmin),w(),E("appearance","outline"),w(3),gi("value",o.DataService.longitudeAdmin),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(5),j(o.DataService.tableAddImagesEventsAdmin.length!=0?91:-1),w(2),j(o.DataService.tableAddImagesEventsAdmin.length!=0?93:94),w(2),j(o.DataService.tableAddImagesEventsAdmin.length!=0?95:-1)}}var N_=class t{constructor(i,e,n,o,r){this.fb=i;this.addPoints=e;this.DataService=n;this.dialog=o;this.http=r}categoriesTable=[{name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",code:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",category:"\u038C\u03BD\u03BF\u03BC\u03B1 \u03B5\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1\u03C2"},{name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",code:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",category:"\u038C\u03BD\u03BF\u03BC\u03B1 \u03BC\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF\u03C5"}];selectedCategory;disaledButtons=!0;tableImages=[];idImages=0;slider;idImagesEvents=0;sliderEvents;eventsControls;newPointControls;imageSize={width:"100%",height:"100%"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;_snackBar=m(Li);jsonValuesEvents={title:null,date_from:null,date_to:null,lat:null,long:null,description:null,link:null};jsonValuesAddPoints={category:null,name:null,lat:null,long:null,description:null};indexTabs=0;insertImagesEventsText=!1;insertImagesAddPointText=!1;ngOnInit(){this.eventsControls=this.fb.group({titleControlEvents:["",st.required],dateFromControlEvents:[null,st.required],dateToControlEvents:[null,st.required],latControlEvents:[this.DataService.latitudeAdmin??null,st.required],longControlEvents:[this.DataService.longitudeAdmin??null,st.required],descriptionControlEvents:[""],linkControlEvents:[""]}),this.eventsControls.valueChanges.subscribe(i=>{console.log("\u03A4\u03C1\u03AD\u03C7\u03BF\u03C5\u03C3\u03B5\u03C2 \u03C4\u03B9\u03BC\u03AD\u03C2 \u03C6\u03CC\u03C1\u03BC\u03B1\u03C2",i)}),this.newPointControls=this.addPoints.group({categoryControlAddPoint:[""],nameControlAddPoint:["",st.required],latControlAddPoint:[{value:this.DataService.latitudeAdmin??null,disabled:!0},st.required],longControlAddPoint:[{value:this.DataService.longitudeAdmin??null,disabled:!0},st.required],descriptionControlAddPoint:[""]}),console.log(this.eventsControls),this.DataService.tableAddImagesPointsAdmin=[],this.DataService.tableAddImagesEventsAdmin=[]}get title(){return this.eventsControls.get("titleControlEvents")}get dateFrom(){return this.eventsControls.get("dateFromControlEvents")}changeCategory(i){this.selectedCategory=i.value,i.value==null?this.disaledButtons=!0:this.disaledButtons=!1}uploadImages(i){let e=i.target;if(!e.files||e.files.length===0)return;let n=["image/png","image/gif","image/jpeg","image/jpg"];Array.from(e.files).forEach(o=>{if(n.indexOf(o.type)===-1){this._snackBar.open("Allowed: .jpeg, .jpg, .png, .gif","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]});return}let r=new FileReader;r.readAsDataURL(o),r.onload=()=>{this.DataService.tableAddImagesPointsAdmin.push({file:o,title:o.name,alt:o.name,thumbImage:r.result,image:r.result}),this.idImages++,this.slider&&(this.slider.visiableImageIndex=this.DataService.tableAddImagesPointsAdmin.length-1)}}),e.value=""}removeImages(i){this.DataService.tableAddImagesPointsAdmin=this.DataService.tableAddImagesPointsAdmin.filter(e=>e.index!==i),this.slider.visiableImageIndex>i&&(this.slider.visiableImageIndex=this.slider.visiableImageIndex-1),this.slider.visiableImageIndex==this.DataService.tableAddImagesPointsAdmin.length&&(this.slider.visiableImageIndex=this.slider.visiableImageIndex-1)}uploadImagesEvents(i){let e=i.target;if(!e.files||e.files.length===0)return;let n=["image/png","image/gif","image/jpeg","image/jpg"];Array.from(e.files).forEach(o=>{if(n.indexOf(o.type)===-1){this._snackBar.open("Allowed: .jpeg, .jpg, .png, .gif","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]});return}let r=new FileReader;r.readAsDataURL(o),r.onload=()=>{this.DataService.tableAddImagesEventsAdmin.push({file:o,title:o.name,alt:o.name,thumbImage:r.result,image:r.result}),this.idImagesEvents++,this.sliderEvents&&(this.sliderEvents.visiableImageIndex=this.DataService.tableAddImagesEventsAdmin.length-1)}}),e.value=""}removeImagesEvents(i){console.log(i),console.log(this.sliderEvents.visiableImageIndex),this.DataService.tableAddImagesEventsAdmin=this.DataService.tableAddImagesEventsAdmin.filter(e=>e.index!==i),this.sliderEvents.visiableImageIndex>i&&(this.sliderEvents.visiableImageIndex=this.sliderEvents.visiableImageIndex-1),this.sliderEvents.visiableImageIndex==this.DataService.tableAddImagesEventsAdmin.length&&(this.sliderEvents.visiableImageIndex=this.sliderEvents.visiableImageIndex-1)}addEvent(){return f(this,null,function*(){this.DataService.openEventPopup&&(this.jsonValuesEvents.title=this.eventsControls.controls.titleControlEvents.value,this.jsonValuesEvents.date_from=this.eventsControls.controls.dateFromControlEvents.value,this.indexTabs==0?(this.jsonValuesEvents.date_to=null,this.eventsControls.controls.dateToControlEvents.setErrors(null)):this.jsonValuesEvents.date_to=this.eventsControls.controls.dateToControlEvents.value,this.jsonValuesEvents.lat=this.eventsControls.controls.latControlEvents.value,this.jsonValuesEvents.long=this.eventsControls.controls.longControlEvents.value,this.jsonValuesEvents.description=this.eventsControls.controls.descriptionControlEvents.value,this.jsonValuesEvents.link=this.eventsControls.controls.linkControlEvents.value,console.log(this.jsonValuesEvents),this.DataService.serviceJsonValuesEvents=this.jsonValuesEvents,this.insertImagesEventsText=!0,!this.eventsControls.valid||this.DataService.tableAddImagesEventsAdmin.length==0?(this.eventsControls.markAllAsTouched(),this._snackBar.open("\u03A5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03C5\u03C0\u03BF\u03C7\u03C1\u03B5\u03C9\u03C4\u03B9\u03BA\u03AC \u03C0\u03B5\u03B4\u03AF\u03B1","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})):(this.openDialogAcceptEvents(),yield this.DataService.insertDataServer())),this.DataService.openEventPopup||(this.jsonValuesAddPoints.category=this.newPointControls.controls.categoryControlAddPoint.value,this.jsonValuesAddPoints.name=this.newPointControls.controls.nameControlAddPoint.value,this.jsonValuesAddPoints.lat=this.newPointControls.controls.latControlAddPoint.value,this.jsonValuesAddPoints.long=this.newPointControls.controls.longControlAddPoint.value,this.jsonValuesAddPoints.description=this.newPointControls.controls.descriptionControlAddPoint.value,console.log(this.jsonValuesAddPoints),this.DataService.serviceJsonValuesPointsAdd=this.jsonValuesAddPoints,this.insertImagesAddPointText=!0,!this.newPointControls.valid||this.DataService.tableAddImagesPointsAdmin.length==0?(this.newPointControls.markAllAsTouched(),this._snackBar.open("\u03A5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03C5\u03C0\u03BF\u03C7\u03C1\u03B5\u03C9\u03C4\u03B9\u03BA\u03AC \u03C0\u03B5\u03B4\u03AF\u03B1","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})):this.openDialogAcceptPoint())})}updateValuesFormEvents(){let i=this.eventsControls.controls.titleControlEvents.value;this.eventsControls.get("titleControlEvents")?.setValue(i);let e=this.eventsControls.controls.dateFromControlEvents.value;this.eventsControls.get("dateFromControlEvents")?.setValue(e);let n=this.eventsControls.controls.dateToControlEvents.value;this.eventsControls.get("dateToControlEvents")?.setValue(n);let o=this.eventsControls.controls.latControlEvents.value;this.eventsControls.get("latControlEvents")?.setValue(o);let r=this.eventsControls.controls.longControlEvents.value;this.eventsControls.get("longControlEvents")?.setValue(r);let a=this.eventsControls.controls.descriptionControlEvents.value;this.eventsControls.get("descriptionControlEvents")?.setValue(a);let c=this.eventsControls.controls.linkControlEvents.value;this.eventsControls.get("linkControlEvents")?.setValue(c)}changeTabs(i){this.indexTabs=i.index,this.updateValuesFormEvents()}openDialogAcceptEvents(){let i=this.dialog.open(L_,{autoFocus:!1,disableClose:!0})}openDialogAcceptPoint(){this.dialog.open(B_,{autoFocus:!1,disableClose:!0})}static \u0275fac=function(e){return new(e||t)(Y(jl),Y(jl),Y(ze),Y(Yi),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-form-admin"]],viewQuery:function(e,n){if(e&1&&(le(q5,5),le(Y5,5)),e&2){let o;J(o=$())&&(n.slider=o.first),J(o=$())&&(n.sliderEvents=o.first)}},features:[Ye([xt,qm()])],decls:14,vars:4,consts:[["fileInputImages",""],["pickerFrom",""],["pickerTo",""],[1,"toolbar-dialog"],[1,"toolbar-spacer"],["mat-icon-button","","mat-dialog-close","",1,"delete-button-pupups"],[1,"popup-container"],[1,"align-popup-container"],["animationDuration","0ms",2,"height","100%","width","100%"],["align","end"],["mat-stroked-button","","cdkFocusInitial","",3,"click","disabled","ngClass"],[1,"informations-popup-container"],[1,"form-informations-popup-container",3,"formGroup"],[2,"width","100%","margin-top","10px",3,"appearance"],["formControlName","categoryControlAddPoint",3,"selectionChange"],[3,"value"],[2,"height","calc(100% - 36px)","display","flex","align-items","center","justify-content","center"],[1,"images-popup-container"],[1,"remove-image-div"],[2,"height","100%","width","100%"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],[2,"height","100%","width","100%","display","flex","justify-content","center","align-items","center","text-align","center",3,"ngClass"],[2,"margin-top","5px","margin-bottom","5px"],["mat-mini-fab","","matTooltip","Upload image",1,"radius-buttons",3,"click","ngClass","disabled"],["type","file","multiple","","accept","image/png, image/gif, image/jpeg, image/jpg",2,"display","none",3,"change"],["matInput","","formControlName","descriptionControlAddPoint"],[2,"width","100%","margin-top","10px"],[2,"width","49%","margin-right","2%",3,"appearance"],["matInput","","formControlName","latControlAddPoint",3,"value"],[2,"width","49%",3,"appearance"],["matInput","","formControlName","longControlAddPoint",3,"value"],["matInput","","formControlName","nameControlAddPoint"],["mat-icon-button","","color","warn",1,"remove-image-icon",3,"click"],["animationDuration","0ms",2,"height","100%","width","100%",3,"selectedTabChange"],["label","\u039C\u03BF\u03BD\u03BF\u03AE\u03BC\u03B5\u03C1\u03B7 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7"],["matInput","","formControlName","titleControlEvents"],["matInput","","autocomplete","off","formControlName","dateFromControlEvents",3,"matDatepicker"],["matIconSuffix","",3,"for"],[2,"display","none",3,"appearance"],["matInput","","autocomplete","off","formControlName","dateToControlEvents",3,"matDatepicker"],["matInput","","formControlName","latControlEvents",3,"value"],["matInput","","formControlName","longControlEvents",3,"value"],["matInput","","formControlName","descriptionControlEvents"],["matInput","","formControlName","linkControlEvents"],[1,"images-popup-container-events"],["mat-mini-fab","","matTooltip","Upload image",1,"primary-button","radius-buttons",3,"click"],["label","\u03A0\u03BF\u03BB\u03C5\u03AE\u03BC\u03B5\u03C1\u03B7 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7"]],template:function(e,n){e&1&&(v(0,"mat-toolbar",3),V(1,Z5,2,0,"div")(2,K5,2,0,"div"),F(3,"span",4),v(4,"button",5)(5,"mat-icon"),S(6,"close"),_()()(),v(7,"mat-dialog-content",6)(8,"div",7),V(9,sQ,23,8)(10,_Q,102,34,"mat-tab-group",8),_()(),v(11,"mat-dialog-actions",9)(12,"button",10),P("click",function(){return n.addEvent()}),S(13,"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7"),_()()),e&2&&(w(),j(n.DataService.openEventPopup?2:1),w(8),j(n.DataService.openEventPopup?10:9),w(3),E("disabled",n.disaledButtons&&!n.DataService.openEventPopup)("ngClass",n.disaledButtons&&!n.DataService.openEventPopup?"disabled-button":"primary-button cursor-button"))},dependencies:[et,Ut,xi,Si,Ci,xr,Cr,ei,zi,Pi,uo,Sr,fl,su,au,Gl,Fa,zm,Ql,Wm,Wl,Eo,iu,tu,Bs,$d,Xd,nu,Mo,Ul,du,ql,cu,O_,P_,gu,Jm,Do,To,lk],styles:[".toolbar-dialog[_ngcontent-%COMP%]{font-size:14px;height:30px;background-color:#212330;color:#fff;padding-left:15px;padding-right:0}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}  .mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:0%}.popup-container[_ngcontent-%COMP%]{height:60vh;width:30vw;padding:10px!important}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.informations-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;overflow-y:auto;margin-bottom:10px;overflow-x:hidden}.form-informations-popup-container[_ngcontent-%COMP%]{height:calc(100% - 20px);width:100%;text-align:center}.images-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:black solid 1px}.images-popup-container-events[_ngcontent-%COMP%]{height:45%;width:auto;display:flex;align-items:center;justify-content:center;flex-direction:column;border:black solid 1px}  .ng-image-slider .ng-image-slider-container .main .main-inner .img-div{background-image:none!important}  .ng-image-slider{height:100%!important;display:block!important}  .main{height:100%!important}.remove-image-div[_ngcontent-%COMP%]{width:100%}.remove-image-div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#ff00001a}.remove-image-icon[_ngcontent-%COMP%]{float:right;cursor:pointer}.errors-texts[_ngcontent-%COMP%]{color:#ac2222}.disabled-button[_ngcontent-%COMP%]{background-color:#e9e7e7;cursor:auto}.cursor-button[_ngcontent-%COMP%]{cursor:pointer}"]})};var H_=class t{constructor(i,e){this.dialog=i;this.DataService=e}adding=!1;myMap=null;mapView=null;ngOnInit(){this.myMap=new my({basemap:"hybrid"}),this.mapView=new ny({map:this.myMap,container:"viewMap",extent:{xmin:23.332325,ymin:40.807975,xmax:23.377558,ymax:40.82412,spatialReference:{wkid:4326}}}),this.DataService.mapViewAdmin=this.mapView,this.mapView.on("click",p=>{if(this.adding){let h=p.mapPoint;h&&(console.log("\u03A3\u03C5\u03BD\u03C4\u03B5\u03C4\u03B1\u03B3\u03BC\u03AD\u03BD\u03B5\u03C2 (\u03B3\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03AD\u03C2): ",h.latitude,h.longitude),this.DataService.latitudeAdmin=parseFloat(h.latitude.toFixed(5)),this.DataService.longitudeAdmin=parseFloat(h.longitude.toFixed(5)),this.openDialogDetails(1),this.adding=!1)}}),this.mapView.when(()=>{let p=document.getElementById("addPointBtn");p&&this.mapView.ui.add(p,"top-right")});var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0",name:"Churches",id:"ba37ca1414cc4647958b8b5829a9289a",indexId:0},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1",name:"Museums",id:"ba37ca1414cc4647958b8b5829a9289a",indexId:1}];console.log(i);for(let p in i){let h=new Uh({definitionExpression:"status = '1'",portalItem:{id:i[p].id},layerId:i[p].indexId});this.myMap.layers.add(h)}this.mapView.popup.defaultPopupTemplateEnabled=!0;var e=new gy({view:this.mapView}),n=new yy({view:this.mapView});this.mapView.ui.add(n,"top-left");let o=new xy({view:this.mapView}),r=new ys({view:this.mapView,content:o,expanded:!1});this.mapView.ui.add(r,"top-left");var a=new ys({view:this.mapView,content:e});this.mapView.ui.add(a,{position:"top-left"});let c=new af({view:this.mapView});var d=new ys({view:this.mapView,content:c});this.mapView.ui.add(d,{position:"top-left"});let u=new GO({view:this.mapView});this.mapView.ui.add(u,"top-right"),this.DataService.newPointInMap$.subscribe(()=>this.onAddButtonClick())}onAddButtonClick(){this.DataService.openEventPopup=!1,this.adding=!0,console.log("Add mode \u03B5\u03BD\u03B5\u03C1\u03B3\u03BF\u03C0\u03BF\u03B9\u03B7\u03BC\u03AD\u03BD\u03BF. \u0395\u03C0\u03B9\u03BB\u03AD\u03BE\u03C4\u03B5 \u03AD\u03BD\u03B1 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7.")}openDialogDetails(i){let e=this.dialog.open(N_,{autoFocus:!1,disableClose:!0});this.DataService.popupAddEvent=e,e.afterClosed().subscribe(()=>{this.DataService.popupAddEvent=null})}static \u0275fac=function(e){return new(e||t)(Y(Yi),Y(ze))};static \u0275cmp=U({type:t,selectors:[["app-map-admin"]],decls:5,vars:3,consts:[[1,"container-map"],["id","viewMap",1,"map"],["mat-fab","","id","addPointBtn","matTooltip","\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5",3,"click","ngClass"],[2,"color","green"]],template:function(e,n){e&1&&(v(0,"div",0),F(1,"div",1),v(2,"button",2),P("click",function(){return n.onAddButtonClick()}),v(3,"mat-icon",3),S(4,"add"),_()()()),e&2&&(w(),te("add-cursor",n.adding),w(),E("ngClass",n.adding?"add-point-select":"add-point-not-select"))},dependencies:[et,Ut,ei,zi,Pi,Bp,Gp,zp],styles:['@charset "UTF-8";@import"https://js.arcgis.com/4.25/esri/themes/light/main.css";.container-map[_ngcontent-%COMP%]{width:100%;height:100%}.map[_ngcontent-%COMP%]{height:100%;width:100%}.add-point-not-select[_ngcontent-%COMP%]{height:32px;width:32px;background-color:#fff}.add-point-select[_ngcontent-%COMP%]{height:32px;width:32px;background-color:#b8b3b3}.add-cursor[_ngcontent-%COMP%]{cursor:crosshair}  .esri-editor__panel-toolbar{display:none}  .esri-widget__heading{display:none}  .esri-editor__feature-templates-container{display:none}  .esri-editor__panel-content{min-height:auto!important}  .esri-editor__panel-content__section{padding:2px!important}  .esri-feature__content-element .esri-feature-attachments{height:300px!important;overflow-y:auto!important}']})};var U_=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);update(){return f(this,null,function*(){this.DataService.loadingAdmin=!0,this.DataService.popupEditEvents?.close();try{let i="https://services6.arcgis.com/f36cxNuTmfCJN313/arcgis/rest/services/\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2/FeatureServer/0/applyEdits",e={attributes:{objectId:this.DataService.editObjectId,title:this.DataService.serviceJsonValuesEventsUpdate.title,date_from:this.DataService.serviceJsonValuesEventsUpdate.date_from,date_to:this.DataService.serviceJsonValuesEventsUpdate.date_to,description:this.DataService.serviceJsonValuesEventsUpdate.description,link:this.DataService.serviceJsonValuesEventsUpdate.link},geometry:{x:this.DataService.serviceJsonValuesEventsUpdate.long,y:this.DataService.serviceJsonValuesEventsUpdate.lat,spatialReference:{wkid:4326}}},n=new URLSearchParams({f:"json",updates:JSON.stringify([e])}),o=new ci({"Content-Type":"application/x-www-form-urlencoded"}),r=yield pi(this.http.post(i,n.toString(),{headers:o}));console.log(r),yield this.DataService.insertDataServer(),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingAdmin=!1})}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-update-edit"]],decls:9,vars:0,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0)(1,"div",1),S(2," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03C4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7; "),_()(),v(3,"mat-dialog-actions",2)(4,"button",3),P("click",function(){return n.update()}),S(5,"\u039D\u03B1\u03B9"),_(),F(6,"span",4),v(7,"button",5),S(8,"\u038C\u03C7\u03B9"),_()())},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};var vQ=["navEvents"],bQ=["tabsStep"],wL=t=>({"errors-texts":t});function AQ(t,i){if(t&1){let e=he();v(0,"div",26)(1,"mat-icon",38),P("click",function(){B(e);let o=k();return N(o.removeImagesEvents(o.sliderEvents.visiableImageIndex))}),S(2,"close"),_()()}}function wQ(t,i){if(t&1&&F(0,"ng-image-slider",28),t&2){let e=k();E("images",e.localImages)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function CQ(t,i){if(t&1&&(v(0,"div",29),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k();E("ngClass",Ot(1,wL,e.insertImagesEventsText==!0))}}function xQ(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(2);w(),yi(" ",e.sliderEvents.visiableImageIndex+1," / ",e.localImages.length," ")}}function SQ(t,i){if(t&1&&V(0,xQ,2,2,"div"),t&2){let e=k();j(e.sliderEvents?0:-1)}}function IQ(t,i){if(t&1){let e=he();v(0,"div",26)(1,"mat-icon",38),P("click",function(){B(e);let o=k();return N(o.removeImagesEvents(o.sliderEvents.visiableImageIndex))}),S(2,"close"),_()()}}function MQ(t,i){if(t&1&&F(0,"ng-image-slider",28),t&2){let e=k();E("images",e.localImages)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function EQ(t,i){if(t&1&&(v(0,"div",29),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k();E("ngClass",Ot(1,wL,e.insertImagesEventsText==!0))}}function kQ(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(2);w(),yi(" ",e.sliderEvents.visiableImageIndex+1," / ",e.localImages.length," ")}}function TQ(t,i){if(t&1&&V(0,kQ,2,2,"div"),t&2){let e=k();j(e.sliderEvents?0:-1)}}function DQ(t,i){if(t&1){let e=he();v(0,"button",39),P("click",function(){B(e);let o=k();return N(o.addEvent())}),S(1,"\u03A4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7"),_()}}function FQ(t,i){t&1&&(v(0,"button",37),S(1,"\u03A4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7"),_())}var j_=class t{constructor(i,e,n){this.addEvents=i;this.DataService=e;this.dialog=n}disaledButtons=!0;tableImagesEvents=[];idImagesEvents=0;sliderEvents;eventsControls;imageSize={width:"100%",height:"100%"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;_snackBar=m(Li);jsonValuesEvents={title:null,date_from:null,date_to:null,lat:null,long:null,description:null,link:null};indexTabs=0;insertImagesEventsText=!1;eventsControlsHelp;editButtonEnabled=!1;tabsStep;localImages=[];ngOnInit(){this.DataService.tableEditAddImagesEventsAdmin=[],this.DataService.dataServerAdmin$.subscribe(i=>{console.log(i);for(let o in i)if(i[o].name=="Events"){for(let r in i[o].data)if(i[o].data[r].attributes.OBJECTID==this.DataService.editObjectId){let a=i[o].data[r].attributes.date_from;var e;if(a!=null){let[d,u,p]=a.split("/").map(Number);e=new Date(p,u-1,d)}else e="";let c=i[o].data[r].attributes.date_to;console.log(c);var n;if(c!=null){let[d,u,p]=c.split("/").map(Number);n=new Date(p,u-1,d)}else n="";n!=""?this.eventsControls=this.addEvents.group({titleControlEvents:[i[o].data[r].attributes.title,st.required],dateFromControlEvents:[e,st.required],dateToControlEvents:[n,st.required],latControlEvents:[i[o].data[r].geometry.y.toFixed(5)??null,st.required],longControlEvents:[i[o].data[r].geometry.x.toFixed(5)??null,st.required],descriptionControlEvents:[i[o].data[r].attributes.description],linkControlEvents:[i[o].data[r].attributes.link]}):this.eventsControls=this.addEvents.group({titleControlEvents:[i[o].data[r].attributes.title,st.required],dateFromControlEvents:[e,st.required],dateToControlEvents:[n],latControlEvents:[i[o].data[r].geometry.y.toFixed(5)??null,st.required],longControlEvents:[i[o].data[r].geometry.x.toFixed(5)??null,st.required],descriptionControlEvents:[i[o].data[r].attributes.description],linkControlEvents:[i[o].data[r].attributes.link]});for(let d of i[o].data[r].attachments)this.DataService.tableEditAddImagesEventsAdmin.push(d)}}}),this.eventsControlsHelp=this.eventsControls.getRawValue(),this.eventsControls.valueChanges.subscribe(i=>{let e=JSON.stringify(i)!==JSON.stringify(this.eventsControlsHelp);this.editButtonEnabled=e&&this.eventsControls.valid})}ngAfterViewInit(){return f(this,null,function*(){let i=this.eventsControls.controls.dateToControlEvents.value;i!=null&&i!=""&&(this.tabsStep.selectedIndex=1),this.localImages=[...this.DataService.tableEditAddImagesEventsAdmin]})}changeTabs(i){this.indexTabs=i.index,this.updateValuesFormEvents(),this.localImages=[...this.DataService.tableEditAddImagesEventsAdmin]}updateValuesFormEvents(){let i=this.eventsControls.controls.titleControlEvents.value;this.eventsControls.get("titleControlEvents")?.setValue(i);let e=this.eventsControls.controls.dateFromControlEvents.value;this.eventsControls.get("dateFromControlEvents")?.setValue(e);let n=this.eventsControls.controls.dateToControlEvents.value;this.eventsControls.get("dateToControlEvents")?.setValue(n);let o=this.eventsControls.controls.latControlEvents.value;this.eventsControls.get("latControlEvents")?.setValue(o);let r=this.eventsControls.controls.longControlEvents.value;this.eventsControls.get("longControlEvents")?.setValue(r);let a=this.eventsControls.controls.descriptionControlEvents.value;this.eventsControls.get("descriptionControlEvents")?.setValue(a);let c=this.eventsControls.controls.linkControlEvents.value;this.eventsControls.get("linkControlEvents")?.setValue(c)}uploadImagesEvents(i){let e=i.target;if(!e.files||e.files.length===0)return;let n=["image/png","image/gif","image/jpeg","image/jpg"];Array.from(e.files).forEach(o=>{if(n.indexOf(o.type)===-1){this._snackBar.open("Allowed: .jpeg, .jpg, .png, .gif","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]});return}let r=new FileReader;r.readAsDataURL(o),r.onload=()=>{this.tableImagesEvents.push({title:o.name,alt:o.name,thumbImage:r.result,image:r.result}),this.idImagesEvents++,this.sliderEvents&&(this.sliderEvents.visiableImageIndex=this.tableImagesEvents.length-1)}}),e.value=""}removeImagesEvents(i){this.tableImagesEvents=this.tableImagesEvents.filter(e=>e.index!==i),this.sliderEvents.visiableImageIndex>i&&(this.sliderEvents.visiableImageIndex=this.sliderEvents.visiableImageIndex-1),this.sliderEvents.visiableImageIndex==this.tableImagesEvents.length&&(this.sliderEvents.visiableImageIndex=this.sliderEvents.visiableImageIndex-1)}addEvent(){console.log(this.eventsControls.controls),this.jsonValuesEvents.title=this.eventsControls.controls.titleControlEvents.value,this.jsonValuesEvents.date_from=this.eventsControls.controls.dateFromControlEvents.value,this.indexTabs==0?(this.jsonValuesEvents.date_to=null,this.eventsControls.controls.dateToControlEvents.setErrors(null)):this.jsonValuesEvents.date_to=this.eventsControls.controls.dateToControlEvents.value,this.jsonValuesEvents.lat=this.eventsControls.controls.latControlEvents.value,this.jsonValuesEvents.long=this.eventsControls.controls.longControlEvents.value,this.jsonValuesEvents.description=this.eventsControls.controls.descriptionControlEvents.value,this.jsonValuesEvents.link=this.eventsControls.controls.linkControlEvents.value,this.DataService.serviceJsonValuesEventsUpdate=this.jsonValuesEvents,this.insertImagesEventsText=!0,!this.eventsControls.valid||this.tableImagesEvents.length==0?(this.eventsControls.markAllAsTouched(),this._snackBar.open("\u03A5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03C5\u03C0\u03BF\u03C7\u03C1\u03B5\u03C9\u03C4\u03B9\u03BA\u03AC \u03C0\u03B5\u03B4\u03AF\u03B1","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})):this.openDialogUpdateEvents()}openDialogUpdateEvents(){let i=this.dialog.open(U_,{autoFocus:!1,disableClose:!0})}static \u0275fac=function(e){return new(e||t)(Y(jl),Y(ze),Y(Yi))};static \u0275cmp=U({type:t,selectors:[["app-edit-events"]],viewQuery:function(e,n){if(e&1&&(le(vQ,5),le(bQ,5)),e&2){let o;J(o=$())&&(n.sliderEvents=o.first),J(o=$())&&(n.tabsStep=o.first)}},features:[Ye([qm(),{provide:pu,useValue:"en-GB"}])],decls:108,vars:32,consts:[["tabsStep",""],["picker",""],["fileInputImages",""],["pickerFrom",""],["pickerTo",""],[1,"toolbar-dialog"],[1,"toolbar-spacer"],["mat-icon-button","","mat-dialog-close","",1,"delete-button-pupups"],[1,"popup-container"],[1,"align-popup-container"],["animationDuration","0ms",2,"height","100%","width","100%",3,"selectedTabChange"],["label","\u039C\u03BF\u03BD\u03BF\u03AE\u03BC\u03B5\u03C1\u03B7 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7"],[1,"informations-popup-container"],[1,"form-informations-popup-container",3,"formGroup"],[2,"width","100%","margin-top","10px",3,"appearance"],["matInput","","formControlName","titleControlEvents"],["matInput","","autocomplete","off","formControlName","dateFromControlEvents",3,"matDatepicker"],["matIconSuffix","",3,"for"],[2,"width","100%","margin-top","10px"],[2,"width","49%","margin-right","2%",3,"appearance"],["matInput","","formControlName","latControlEvents",3,"value"],[2,"width","49%",3,"appearance"],["matInput","","formControlName","longControlEvents",3,"value"],["matInput","","formControlName","descriptionControlEvents"],["matInput","","formControlName","linkControlEvents"],[1,"images-popup-container-events"],[1,"remove-image-div"],[2,"height","100%","width","100%"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],[2,"height","100%","width","100%","display","flex","justify-content","center","align-items","center","text-align","center",3,"ngClass"],[2,"margin-top","5px","margin-bottom","5px"],["mat-mini-fab","","matTooltip","Upload image",1,"primary-button","radius-buttons",3,"click"],["type","file","multiple","","accept","image/png, image/gif, image/jpeg, image/jpg",2,"display","none",3,"change"],["label","\u03A0\u03BF\u03BB\u03C5\u03AE\u03BC\u03B5\u03C1\u03B7 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7"],["matInput","","autocomplete","off","formControlName","dateToControlEvents",3,"matDatepicker"],["align","end"],["mat-stroked-button","","cdkFocusInitial","",1,"primary-button","cursor-button"],["mat-stroked-button","","disabled",""],["mat-icon-button","","color","warn",1,"remove-image-icon",3,"click"],["mat-stroked-button","","cdkFocusInitial","",1,"primary-button","cursor-button",3,"click"]],template:function(e,n){if(e&1){let o=he();v(0,"mat-toolbar",5)(1,"div"),S(2," \u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5 \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7 "),_(),F(3,"span",6),v(4,"button",7)(5,"mat-icon"),S(6,"close"),_()()(),v(7,"mat-dialog-content",8)(8,"div",9)(9,"mat-tab-group",10,0),P("selectedTabChange",function(a){return B(o),N(n.changeTabs(a))}),v(11,"mat-tab",11)(12,"div",12)(13,"form",13)(14,"mat-form-field",14)(15,"mat-label"),S(16,"\u03A4\u03AF\u03C4\u03BB\u03BF\u03C2"),_(),F(17,"input",15),_(),v(18,"mat-form-field",14)(19,"mat-label"),S(20,"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1"),_(),F(21,"input",16)(22,"mat-datepicker-toggle",17)(23,"mat-datepicker",null,1),_(),v(25,"div",18)(26,"mat-form-field",19)(27,"mat-label"),S(28,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(29,"input",20),_(),v(30,"mat-form-field",21)(31,"mat-label"),S(32,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(33,"input",22),_()(),v(34,"mat-form-field",14)(35,"mat-label"),S(36,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(37,"textarea",23),_(),v(38,"mat-form-field",14)(39,"mat-label"),S(40,"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE Link"),_(),F(41,"input",24),_()()(),v(42,"div",25),V(43,AQ,3,0,"div",26),v(44,"div",27),V(45,wQ,1,15,"ng-image-slider",28)(46,CQ,2,3,"div",29),_(),V(47,SQ,1,1),v(48,"div",30)(49,"button",31),P("click",function(){B(o);let a=Et(53);return N(a.click())}),v(50,"mat-icon"),S(51,"upload"),_()(),v(52,"input",32,2),P("change",function(a){return B(o),N(n.uploadImagesEvents(a))}),_()()()(),v(54,"mat-tab",33)(55,"div",12)(56,"form",13)(57,"mat-form-field",14)(58,"mat-label"),S(59,"\u03A4\u03AF\u03C4\u03BB\u03BF\u03C2"),_(),F(60,"input",15),_(),v(61,"div",18)(62,"mat-form-field",19)(63,"mat-label"),S(64,"\u0397\u03BC\u03B5\u03C1. \u0391\u03C0\u03CC"),_(),F(65,"input",16)(66,"mat-datepicker-toggle",17)(67,"mat-datepicker",null,3),_(),v(69,"mat-form-field",21)(70,"mat-label"),S(71,"\u0397\u03BC\u03B5\u03C1. \u0395\u03CE\u03C2"),_(),F(72,"input",34)(73,"mat-datepicker-toggle",17)(74,"mat-datepicker",null,4),_()(),v(76,"div",18)(77,"mat-form-field",19)(78,"mat-label"),S(79,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(80,"input",20),_(),v(81,"mat-form-field",21)(82,"mat-label"),S(83,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(84,"input",22),_()(),v(85,"mat-form-field",14)(86,"mat-label"),S(87,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(88,"textarea",23),_(),v(89,"mat-form-field",14)(90,"mat-label"),S(91,"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE Link"),_(),F(92,"input",24),_()()(),v(93,"div",25),V(94,IQ,3,0,"div",26),v(95,"div",27),V(96,MQ,1,15,"ng-image-slider",28)(97,EQ,2,3,"div",29),_(),V(98,TQ,1,1),v(99,"div",30)(100,"button",31),P("click",function(){B(o);let a=Et(53);return N(a.click())}),v(101,"mat-icon"),S(102,"upload"),_()(),v(103,"input",32,2),P("change",function(a){return B(o),N(n.uploadImagesEvents(a))}),_()()()()()()(),v(105,"mat-dialog-actions",35),V(106,DQ,2,0,"button",36)(107,FQ,2,0,"button",37),_()}if(e&2){let o=Et(24),r=Et(68),a=Et(75);w(13),E("formGroup",n.eventsControls),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(3),E("matDatepicker",o),w(),E("for",o),w(4),E("appearance","outline"),w(3),gi("value",n.DataService.latitudeAdmin),w(),E("appearance","outline"),w(3),gi("value",n.DataService.longitudeAdmin),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(5),j(n.localImages.length!=0?43:-1),w(2),j(n.localImages.length!=0?45:46),w(2),j(n.localImages.length!=0?47:-1),w(9),E("formGroup",n.eventsControls),w(),E("appearance","outline"),w(5),E("appearance","outline"),w(3),E("matDatepicker",r),w(),E("for",r),w(3),E("appearance","outline"),w(3),E("matDatepicker",a),w(),E("for",a),w(4),E("appearance","outline"),w(3),gi("value",n.DataService.latitudeAdmin),w(),E("appearance","outline"),w(3),gi("value",n.DataService.longitudeAdmin),w(),E("appearance","outline"),w(4),E("appearance","outline"),w(5),j(n.localImages.length!=0?94:-1),w(2),j(n.localImages.length!=0?96:97),w(2),j(n.localImages.length!=0?98:-1),w(8),j(n.editButtonEnabled?106:107)}},dependencies:[et,Ut,xi,Si,Ci,xr,Cr,ei,zi,Pi,uo,Sr,fl,su,au,Gl,Fa,zm,Ql,Eo,iu,tu,Bs,$d,Xd,nu,Mo,Ul,du,ql,cu,O_,P_,gu,Jm,eL,Do,To],styles:[".toolbar-dialog[_ngcontent-%COMP%]{font-size:14px;height:30px;background-color:#212330;color:#fff;padding-left:15px;padding-right:0}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}  .mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:0%}.popup-container[_ngcontent-%COMP%]{height:60vh;width:30vw;padding:10px!important}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.informations-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;overflow-y:auto;margin-bottom:10px;overflow-x:hidden}.form-informations-popup-container[_ngcontent-%COMP%]{height:calc(100% - 20px);width:100%;text-align:center}.images-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:black solid 1px}.images-popup-container-events[_ngcontent-%COMP%]{height:45%;width:auto;display:flex;align-items:center;justify-content:center;flex-direction:column;border:black solid 1px}  .ng-image-slider .ng-image-slider-container .main .main-inner .img-div{background-image:none!important}  .ng-image-slider{height:100%!important;display:block!important}  .main{height:100%!important}.remove-image-div[_ngcontent-%COMP%]{width:100%}.remove-image-div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#ff00001a}.remove-image-icon[_ngcontent-%COMP%]{float:right;cursor:pointer}.errors-texts[_ngcontent-%COMP%]{color:#ac2222}.disabled-button[_ngcontent-%COMP%]{background-color:#e9e7e7;cursor:auto}.cursor-button[_ngcontent-%COMP%]{cursor:pointer}"]})};var z_=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);deleteEvent(){return f(this,null,function*(){this.DataService.loadingAdmin=!0;try{let i="https://services6.arcgis.com/f36cxNuTmfCJN313/arcgis/rest/services/\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2/FeatureServer/0/applyEdits",e=new URLSearchParams({f:"json",deletes:this.DataService.objectidDeleteEvent}),n=yield pi(this.http.post(i,e.toString(),{headers:new ci({"Content-Type":"application/x-www-form-urlencoded"})}));console.log(n),yield this.DataService.insertDataServer(),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingAdmin=!1})}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-delete-events"]],features:[Ye([xt])],decls:9,vars:0,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0)(1,"div",1),S(2," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE; "),_()(),v(3,"mat-dialog-actions",2)(4,"button",3),P("click",function(){return n.deleteEvent()}),S(5,"\u039D\u03B1\u03B9"),_(),F(6,"span",4),v(7,"button",5),S(8,"\u038C\u03C7\u03B9"),_()())},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};function RQ(t,i){if(t&1&&(v(0,"div",9),S(1),_()),t&2){let e=k().$implicit;w(),yi("",e.attributes.date_from," - ",e.attributes.date_to,"")}}function PQ(t,i){if(t&1&&(v(0,"div",9),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.date_from)}}function OQ(t,i){t&1&&(v(0,"div",9),S(1," - "),_())}function VQ(t,i){if(t&1&&(v(0,"div",10),F(1,"ng-image-slider",16),_()),t&2){let e=k().$implicit,n=k(2);w(),E("images",e.attachments)("infinite",n.infinite)("imagePopup",n.imagePopup)("animationSpeed",n.animationSpeed)("slideImage",n.slideImage)("imageSize",n.imageSize)("manageImageRatio",n.manageImageRatio)("autoSlide",n.autoSlide)("showArrow",n.showArrow)("arrowKeyMove",n.arrowKeyMove)("videoAutoPlay",n.videoAutoPlay)("showVideoControls",n.showVideoControls)("direction",n.direction)("lazyLoading",n.lazyLoading)("defaultActiveImage",n.defaultActiveImage)}}function LQ(t,i){if(t&1&&(v(0,"div",9),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.description)}}function BQ(t,i){if(t&1&&(v(0,"div",9)(1,"a",17),S(2,"Link"),_()()),t&2){let e=k().$implicit;w(),gi("href",e.attributes.link,Gs)}}function NQ(t,i){if(t&1){let e=he();v(0,"div",8)(1,"div",9),S(2),_(),V(3,RQ,2,2,"div",9)(4,PQ,2,1,"div",9)(5,OQ,2,0,"div",9)(6,VQ,2,15,"div",10)(7,LQ,2,1,"div",9),v(8,"div",11),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.place(o.geometry.x,o.geometry.y))}),v(9,"span"),S(10,"\u03A4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C3\u03AF\u03B1 "),_(),v(11,"mat-icon"),S(12,"location_on"),_()(),V(13,BQ,3,1,"div",9),v(14,"div",12)(15,"button",13),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.edit(o.attributes.OBJECTID))}),S(16,"\u03A4\u03C1\u03BF\u03C0\u03BF\u03C0\u03BF\u03AF\u03B7\u03C3\u03B7"),_(),F(17,"span",14),v(18,"button",15),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.cancel(o.attributes.OBJECTID))}),S(19,"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7"),_()()()}if(t&2){let e=i.$implicit;w(2),Ue(e.attributes.title),w(),j(e.attributes.date_from!=null&&e.attributes.date_to!=null?3:-1),w(),j(e.attributes.date_from!=null&&e.attributes.date_to==null?4:-1),w(),j(e.attributes.date_from==null&&e.attributes.date_to==null?5:-1),w(),j(e.attachments.length!=0?6:-1),w(),j(e.attributes.description!=null?7:-1),w(6),j(e.attributes.link!=""?13:-1)}}function HQ(t,i){if(t&1&&(v(0,"div",2),hi(1,NQ,20,7,"div",8,dn),_()),t&2){let e=k();w(),fi(e.tableEvents)}}function UQ(t,i){t&1&&(v(0,"div",3)(1,"span"),S(2,"\u0394\u03B5\u03BD \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03B5\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2"),_()())}var G_=class t{constructor(i,e){this.DataService=i;this.dialog=e}tableEvents=[];imageSize={width:"100%",height:"200px"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;ngOnInit(){this.DataService.dataServerAdmin$.subscribe(i=>{console.log(i);for(let e in i)if(i[e].name=="Events"){for(let n in i[e].data){if(i[e].data[n].attributes.date_from!=""&&i[e].data[n].attributes.date_from!=null){let o=i[e].data[n].attributes.date_from;o=new Date(o);let r=o.getFullYear(),a=o.getMonth()+1,c=o.getDate();i[e].data[n].attributes.date_from=c+"/"+a+"/"+r}if(i[e].data[n].attributes.date_to!=""&&i[e].data[n].attributes.date_to!=null){let o=i[e].data[n].attributes.date_to;o=new Date(o);let r=o.getFullYear(),a=o.getMonth()+1,c=o.getDate();i[e].data[n].attributes.date_to=c+"/"+a+"/"+r}}this.tableEvents=[...i[e].data]}console.log(this.tableEvents)})}addEvents(){this.DataService.newPointInMapFunction(),this.DataService.openEventPopup=!0}place(i,e){this.DataService.mapViewAdmin.goTo({center:[i,e],zoom:18}).catch(console.error);let n=null,o=new xe({longitude:i,latitude:e,spatialReference:this.DataService.mapViewAdmin.spatialReference}),r=new za({color:"red",size:"12px",style:"circle"});n&&this.DataService.mapViewAdmin.graphics.remove(n),n=new dt({geometry:o,symbol:r}),this.DataService.mapViewAdmin.graphics.add(n);let a=this.DataService.mapViewAdmin.watch("stationary",c=>{!c&&n&&(this.DataService.mapViewAdmin.graphics.remove(n),n=null,a.remove())})}edit(i){this.openDialogEditEvents(),this.DataService.editObjectId=i}cancel(i){this.DataService.objectidDeleteEvent=i,this.openDialogDeleteEvents()}openDialogEditEvents(){let i=this.dialog.open(j_,{autoFocus:!1,disableClose:!1});this.DataService.popupEditEvents=i,i.afterClosed().subscribe(()=>{this.DataService.popupEditEvents=null})}openDialogDeleteEvents(){this.dialog.open(z_,{autoFocus:!1,disableClose:!0,panelClass:"cdk-global-overlay-wrapper-status",data:{}})}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(Yi))};static \u0275cmp=U({type:t,selectors:[["app-events-admin"]],decls:10,vars:1,consts:[[2,"height","100%","width","100%"],[2,"height","calc(100% - 30px)","width","100%","border-bottom","black solid 1px"],[2,"height","100%","overflow-y","auto"],[2,"height","100%","width","100%","display","flex","align-items","center","justify-content","center"],[1,"position-bottom-buttons"],[2,"display","flex","align-items","center"],[1,"radius-buttons",2,"cursor","pointer",3,"click"],[2,"margin-left","5px","cursor","pointer",3,"click"],[2,"width","calc(100% - 10px)","padding-left","5px","padding-right","5px","padding-top","10px","padding-bottom","10px","border-bottom","black solid 1px","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"margin-top","3px"],[2,"height","200px","width","100%","margin-top","3px"],[2,"cursor","pointer","margin-top","3px","display","flex","align-items","center",3,"click"],[1,"flex-position-bottom-buttons"],["mat-raised-button","",1,"primary-button","radius-buttons",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-raised-button","",1,"delete-primary-button","radius-buttons",3,"click"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],["target","_blank",3,"href"]],template:function(e,n){e&1&&(v(0,"div",0)(1,"div",1),V(2,HQ,3,0,"div",2)(3,UQ,3,0,"div",3),_(),v(4,"div",4)(5,"div",5)(6,"mat-icon",6),P("click",function(){return n.addEvents()}),S(7,"add"),_(),v(8,"div",7),P("click",function(){return n.addEvents()}),S(9,"\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03B1\u03C2 \u03B5\u03BA\u03B4\u03AE\u03BB\u03C9\u03C3\u03B7\u03C2"),_()()()()),e&2&&(w(2),j(n.tableEvents.length!=0?2:3))},dependencies:[et,ei,zi,Do,To],styles:[".position-bottom-buttons[_ngcontent-%COMP%]{position:absolute;bottom:5px;width:100%;margin-top:5px;margin-left:5px}.flex-position-bottom-buttons[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}"]})};var CL=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=de({type:t});static \u0275inj=ce({imports:[Pe,Pe]})}return t})();function jQ(t,i){t&1&&(v(0,"div",1),S(1," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03B1\u03C0\u03BF\u03B4\u03BF\u03C7\u03AE; "),_())}function zQ(t,i){t&1&&(v(0,"div",1),S(1," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03B1\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7; "),_())}function GQ(t,i){if(t&1){let e=he();v(0,"button",3),P("click",function(){B(e);let o=k();return N(o.remove())}),S(1,"\u039D\u03B1\u03B9"),_(),F(2,"span",4),v(3,"button",5),S(4,"\u038C\u03C7\u03B9"),_()}}function WQ(t,i){if(t&1){let e=he();v(0,"button",3),P("click",function(){B(e);let o=k();return N(o.accept())}),S(1,"\u039D\u03B1\u03B9"),_(),F(2,"span",4),v(3,"button",5),S(4,"\u038C\u03C7\u03B9"),_()}}var $m=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);remove(){return f(this,null,function*(){this.DataService.loadingAdmin=!0,this.DataService.openAcceptPopup=!1,this.DataService.openCancelPopup=!1;try{var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/applyEdits",name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/applyEdits",name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF"}],e="";for(let r in i)this.DataService.categoryDeletePoint==i[r].name&&(e=i[r].url);let n=new URLSearchParams({f:"json",deletes:this.DataService.objectidDeletePoint}),o=yield pi(this.http.post(e,n.toString(),{headers:new ci({"Content-Type":"application/x-www-form-urlencoded"})}));console.log(o),yield this.DataService.insertDataServer(),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingAdmin=!1})}accept(){return f(this,null,function*(){this.DataService.loadingAdmin=!0,this.DataService.openAcceptPopup=!1,this.DataService.openCancelPopup=!1;try{var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/applyEdits",name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/applyEdits",name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF"}],e="";for(let u in i)this.DataService.categoryAcceptPoint==i[u].name&&(console.log(this.DataService.categoryAcceptPoint),console.log(i[u].name),e=i[u].url);let n={attributes:{objectId:this.DataService.objectidAcceptPoint,status:"1"}},o=new URLSearchParams({f:"json",updates:JSON.stringify([n])}),r=new ci({"Content-Type":"application/x-www-form-urlencoded"}),a=yield pi(this.http.post(e,o.toString(),{headers:r}));console.log(a),yield this.DataService.insertDataServer();let c=this.DataService.mapViewAdmin;if(!c)return;c.map.allLayers.forEach(u=>{"refresh"in u&&(u.refresh?.(),this.DataService.mapViewAdmin.goTo({center:[this.DataService.longAcceptPoint,this.DataService.latAcceptPoint],zoom:16}).catch(console.error))}),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03C0\u03BF\u03B4\u03BF\u03C7\u03AE\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03B1\u03C0\u03BF\u03B4\u03BF\u03C7\u03AE\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingAdmin=!1})}cancel(){this.DataService.openAcceptPopup=!1,this.DataService.openCancelPopup=!1}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-popup-accept-cansel"]],features:[Ye([xt])],decls:6,vars:4,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0),V(1,jQ,2,0,"div",1)(2,zQ,2,0,"div",1),_(),v(3,"mat-dialog-actions",2),V(4,GQ,5,0)(5,WQ,5,0),_()),e&2&&(w(),j(n.DataService.openAcceptPopup==!0&&n.DataService.openCancelPopup==!1?1:-1),w(),j(n.DataService.openAcceptPopup==!1&&n.DataService.openCancelPopup==!0?2:-1),w(2),j(n.DataService.openAcceptPopup==!1&&n.DataService.openCancelPopup==!0?4:-1),w(),j(n.DataService.openAcceptPopup==!0&&n.DataService.openCancelPopup==!1?5:-1))},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};var QQ=["nav"];function qQ(t,i){if(t&1&&F(0,"ng-image-slider",12),t&2){let e=k(2).$implicit,n=k(2);E("images",e.attachments)("infinite",n.infinite)("imagePopup",n.imagePopup)("animationSpeed",n.animationSpeed)("slideImage",n.slideImage)("imageSize",n.imageSize)("manageImageRatio",n.manageImageRatio)("autoSlide",n.autoSlide)("showArrow",n.showArrow)("arrowKeyMove",n.arrowKeyMove)("videoAutoPlay",n.videoAutoPlay)("showVideoControls",n.showVideoControls)("direction",n.direction)("lazyLoading",n.lazyLoading)("defaultActiveImage",n.defaultActiveImage)}}function YQ(t,i){if(t&1&&(v(0,"div",4),V(1,qQ,1,15,"ng-image-slider",11),_()),t&2){let e=k(3);w(),E("ngIf",e.showSlider)}}function ZQ(t,i){t&1&&(v(0,"span"),S(1,"-"),_())}function KQ(t,i){if(t&1&&(v(0,"span"),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.category)}}function JQ(t,i){t&1&&(v(0,"span"),S(1,"-"),_())}function $Q(t,i){if(t&1&&(v(0,"span"),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.name)}}function XQ(t,i){t&1&&(v(0,"span"),S(1,"-"),_())}function eq(t,i){if(t&1&&(v(0,"span"),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.description)}}function tq(t,i){}function iq(t,i){if(t&1){let e=he();v(0,"div",13),P("click",function(){B(e);let o=k().$implicit,r=k(2);return N(r.place(o.geometry.x,o.geometry.y))}),v(1,"b"),S(2,"\u03A4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C3\u03AF\u03B1 "),_(),v(3,"mat-icon"),S(4,"location_on"),_()()}}function nq(t,i){if(t&1){let e=he();v(0,"div",3),V(1,YQ,2,1,"div",4),v(2,"div",5)(3,"b"),S(4,"\u039A\u03B1\u03C4\u03B7\u03B3\u03BF\u03C1\u03AF\u03B1: "),_(),V(5,ZQ,2,0,"span")(6,KQ,2,1,"span"),_(),v(7,"div",5)(8,"b"),S(9,"\u038C\u03BD\u03BF\u03BC\u03B1: "),_(),V(10,JQ,2,0,"span")(11,$Q,2,1,"span"),_(),v(12,"div",5)(13,"b"),S(14,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE: "),_(),V(15,XQ,2,0,"span")(16,eq,2,1,"span"),_(),V(17,tq,0,0)(18,iq,5,0,"div",6),v(19,"div",7)(20,"button",8),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.accept(o.attributes.OBJECTID,o.attributes.category,o.geometry.x,o.geometry.y))}),S(21,"\u0391\u03C0\u03BF\u03B4\u03BF\u03C7\u03AE"),_(),F(22,"span",9),v(23,"button",10),P("click",function(){let o=B(e).$implicit,r=k(2);return N(r.cancel(o.attributes.OBJECTID,o.attributes.category))}),S(24,"\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7"),_()()()}if(t&2){let e=i.$implicit;w(),j(e.attachments.length!=0?1:-1),w(4),j(e.attributes.category==""||e.attributes.category==null?5:6),w(5),j(e.attributes.name==""||e.attributes.name==null?10:11),w(5),j(e.attributes.description==""||e.attributes.description==null?15:16),w(2),j(e.geometry.x==null||e.geometry.y==null?17:18)}}function oq(t,i){if(t&1&&(v(0,"div",1),hi(1,nq,25,5,"div",3,dn),_()),t&2){let e=k();w(),fi(e.statusTable)}}function rq(t,i){t&1&&(v(0,"div",2)(1,"span"),S(2,"\u0394\u03B5\u03BD \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03B5\u03BA\u03BA\u03C1\u03B5\u03BC\u03CC\u03C4\u03B7\u03C4\u03B5\u03C2"),_()())}var W_=class t{constructor(i,e){this.DataService=i;this.dialog=e}statusTable=[];slider;imageSize={width:"100%",height:"200px"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;showSlider=!0;ngOnInit(){}ngAfterViewInit(){this.DataService.dataServerAdmin$.subscribe(i=>{this.statusTable=[];for(let e in i)if(i[e].name!="Events")for(let n in i[e].data)i[e].data[n].attributes.status=="0"&&this.statusTable.push(i[e].data[n]);this.DataService.statusTable=this.statusTable}),this.showSlider=!1,setTimeout(()=>{this.showSlider=!0},0)}place(i,e){this.DataService.mapViewAdmin.goTo({center:[i,e],zoom:18}).catch(console.error);let n=null,o=new xe({longitude:i,latitude:e,spatialReference:this.DataService.mapViewAdmin.spatialReference}),r=new za({color:"red",size:"12px",style:"circle"});n&&this.DataService.mapViewAdmin.graphics.remove(n),n=new dt({geometry:o,symbol:r}),this.DataService.mapViewAdmin.graphics.add(n);let a=this.DataService.mapViewAdmin.watch("stationary",c=>{!c&&n&&(this.DataService.mapViewAdmin.graphics.remove(n),n=null,a.remove())})}accept(i,e,n,o){this.DataService.objectidAcceptPoint=i,this.DataService.categoryAcceptPoint=e,this.DataService.longAcceptPoint=n,this.DataService.latAcceptPoint=o,this.DataService.openAcceptPopup=!0,this.DataService.openCancelPopup=!1,this.dialog.open($m,{autoFocus:!1,disableClose:!0,panelClass:"cdk-global-overlay-wrapper-status",data:{}})}cancel(i,e){this.DataService.objectidDeletePoint=i,this.DataService.categoryDeletePoint=e,this.DataService.openAcceptPopup=!1,this.DataService.openCancelPopup=!0,this.dialog.open($m,{autoFocus:!1,disableClose:!0,panelClass:"cdk-global-overlay-wrapper-status",data:{}})}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(Yi))};static \u0275cmp=U({type:t,selectors:[["app-status-admin"]],viewQuery:function(e,n){if(e&1&&le(QQ,5),e&2){let o;J(o=$())&&(n.slider=o.first)}},decls:3,vars:1,consts:[[2,"height","100%","width","100%"],[2,"height","100%","overflow-y","auto"],[2,"height","100%","width","100%","display","flex","align-items","center","justify-content","center"],[2,"width","calc(100% - 10px)","padding-left","5px","padding-right","5px","padding-top","10px","padding-bottom","10px","border-bottom","black solid 1px"],[2,"height","200px","width","100%"],[2,"width","100%","margin-top","3px"],[2,"width","100%","cursor","pointer","margin-top","3px","display","flex","align-items","center"],[1,"flex-position-bottom-buttons"],["mat-raised-button","",1,"primary-button","radius-buttons",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-raised-button","",1,"delete-primary-button","radius-buttons",3,"click"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage",4,"ngIf"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],[2,"width","100%","cursor","pointer","margin-top","3px","display","flex","align-items","center",3,"click"]],template:function(e,n){e&1&&(v(0,"div",0),V(1,oq,3,0,"div",1)(2,rq,3,0,"div",2),_()),e&2&&(w(),j(n.statusTable.length!=0?1:2))},dependencies:[et,ic,CL,ei,zi,Do,To],styles:[".flex-position-bottom-buttons[_ngcontent-%COMP%]{width:100%;margin-top:10px;display:flex}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}.top-divider[_ngcontent-%COMP%]{padding-bottom:5px}"]})};var aq=t=>({blink:t});function sq(t,i){if(t&1&&(v(0,"span",4),S(1," \u0395\u03BA\u03BA\u03C1\u03B5\u03BC\u03CC\u03C4\u03B7\u03C4\u03B5\u03C2 "),_()),t&2){let e=k();E("ngClass",Ot(1,aq,e.DataService.statusTable.length!==0))}}var Q_=class t{constructor(i,e){this.DataService=i;this.cdr=e}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(je))};static \u0275cmp=U({type:t,selectors:[["app-tabs-admin"]],decls:7,vars:0,consts:[[2,"height","100%","width","100%"],["animationDuration","0ms",2,"height","100%","width","100%"],["label","\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2"],["mat-tab-label",""],[3,"ngClass"]],template:function(e,n){e&1&&(v(0,"div",0)(1,"mat-tab-group",1)(2,"mat-tab",2),F(3,"app-events-admin"),_(),v(4,"mat-tab"),V(5,sq,2,3,"ng-template",3),F(6,"app-status-admin"),_()()())},dependencies:[et,Ut,du,NC,ql,cu,G_,W_],styles:["@keyframes _ngcontent-%COMP%_blink{0%,to{opacity:1}50%{opacity:.4}}.blink[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_blink 2s ease-in-out infinite;color:red;font-weight:700}"]})};function lq(t,i){t&1&&(v(0,"div",8)(1,"div",12),F(2,"mat-spinner"),_()())}function cq(t,i){t&1&&(v(0,"div",10)(1,"div",12),F(2,"mat-spinner"),_()())}var q_=class t{constructor(i){this.DataService=i}ngOnInit(){return f(this,null,function*(){this.DataService.loadingAdmin=!0,yield this.DataService.insertDataServer(),this.DataService.loadingAdmin=!1})}static \u0275fac=function(e){return new(e||t)(Y(ze))};static \u0275cmp=U({type:t,selectors:[["app-admin"]],decls:16,vars:2,consts:[[1,"header-toolbar"],["src","logo.jpeg",1,"header-toolbar-logo"],[1,"header-toolbar-title"],[1,"mobile-title"],[1,"header-toolbar-spacer"],[1,"total-container"],[1,"container"],[1,"container-left"],[1,"container-spinner-disabled-map"],[1,"container-right"],[1,"container-spinner-disabled"],[1,"footer-toolbar"],[1,"spinner-align"]],template:function(e,n){e&1&&(v(0,"mat-toolbar",0),F(1,"img",1),v(2,"span",2)(3,"span",3),S(4,"\u03A7\u03AC\u03C1\u03C4\u03B7\u03C2 \u03A0\u03BF\u03BB\u03B9\u03C4\u03B9\u03C3\u03C4\u03B9\u03BA\u03AE\u03C2 \u039A\u03BB\u03B7\u03C1\u03BF\u03BD\u03BF\u03BC\u03B9\u03AC\u03C2 \u03C4\u03B7\u03C2"),_(),S(5," \u0394.\u039A. \u03A3\u03BF\u03C7\u03BF\u03CD"),_(),F(6,"span",4),_(),v(7,"div",5)(8,"div",6)(9,"div",7),V(10,lq,3,0,"div",8),F(11,"app-map-admin"),_(),v(12,"div",9),V(13,cq,3,0,"div",10),F(14,"app-tabs-admin"),_()()(),F(15,"mat-toolbar",11)),e&2&&(w(10),j(n.DataService.loadingSpinnerMapAdmin?10:-1),w(3),j(n.DataService.loadingAdmin?13:-1))},dependencies:[xr,Cr,Pi,ei,dg,H_,Q_,pg,ug],styles:[".header-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;height:64px;width:100%;background-color:var(--color-primary);box-shadow:0 1px 2px -1px var(--color-secondary)!important;z-index:3!important}.header-toolbar-logo[_ngcontent-%COMP%]{height:70%}.header-toolbar-title[_ngcontent-%COMP%]{color:var(--color-accent);padding-left:30px}.header-toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.total-container[_ngcontent-%COMP%]{position:absolute;top:64px;bottom:40px;width:100%;display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row}.container-left[_ngcontent-%COMP%]{height:100%;width:70%}.container-right[_ngcontent-%COMP%]{height:100%;width:30%}.footer-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;height:40px;width:100%;background-color:var(--color-primary);box-shadow:0 -1px 2px -1px var(--color-secondary)!important;z-index:3!important}.container-spinner-disabled[_ngcontent-%COMP%]{z-index:10;background-color:#ffffff80;position:fixed;top:64px;bottom:40px;right:0;display:flex;align-items:center;justify-content:center;width:30%}.container-spinner-disabled-map[_ngcontent-%COMP%]{z-index:10;background-color:#ffffff80;position:fixed;top:64px;bottom:40px;left:0;display:flex;align-items:center;justify-content:center;width:70%}.spinner-align[_ngcontent-%COMP%]{height:200px;width:200px;z-index:11;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 768px){.mobile-title[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{flex-direction:column}.container-left[_ngcontent-%COMP%]{height:65%;width:100%}.container-right[_ngcontent-%COMP%]{height:35%;width:100%}}"]})};var Y_=class t{constructor(i,e){this.DataService=i;this.http=e}_snackBar=m(Li);accept(){return f(this,null,function*(){this.DataService.popupAddPointUser?.close(),this.DataService.loadingSpinnerMapUser=!0;try{var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/addFeatures",name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",helpUrlImages:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0/"},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/addFeatures",name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",helpUrlImages:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1/"}],e="",n="";for(let u in i)this.DataService.serviceJsonValuesPointsAddUser.category==i[u].name&&(e=i[u].url,n=i[u].helpUrlImages);let o={attributes:{name:this.DataService.serviceJsonValuesPointsAddUser.name,category:this.DataService.serviceJsonValuesPointsAddUser.category,description:this.DataService.serviceJsonValuesPointsAddUser.description,status:0},geometry:{x:this.DataService.serviceJsonValuesPointsAddUser.long,y:this.DataService.serviceJsonValuesPointsAddUser.lat,spatialReference:{wkid:4326}}},r=new URLSearchParams({f:"json",features:JSON.stringify([o])}),a=new ci({"Content-Type":"application/x-www-form-urlencoded"}),c=yield pi(this.http.post(e,r.toString(),{headers:a}));console.log(c);let d=`${n}${c.addResults[0].objectId}/addAttachment`;console.log(d);for(let u in this.DataService.tableAddImagesPointsUser){let p=this.DataService.tableAddImagesPointsUser[u].file,h=new FormData;h.append("attachment",p,p.name),h.append("f","json");let y=yield pi(this.http.post(d,h));console.log(y)}yield this.DataService.insertDataServer(),this._snackBar.open("\u0395\u03C0\u03B9\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C5\u03C0\u03BF\u03B2\u03BF\u03BB\u03AE\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["general-snackbar"]})}catch{this._snackBar.open("\u0391\u03C0\u03BF\u03C4\u03C5\u03C7\u03AF\u03B1 \u03C5\u03C0\u03BF\u03B2\u03BF\u03BB\u03AE\u03C2","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})}this.DataService.loadingSpinnerMapUser=!1})}cancel(){console.log("\u0391\u03BA\u03CD\u03C1\u03C9\u03C3\u03B7")}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(xt))};static \u0275cmp=U({type:t,selectors:[["app-accept-add-point"]],decls:9,vars:0,consts:[[1,"popup-container"],[1,"container-text"],["align","end"],["mat-button","","mat-dialog-close","",1,"reset-button",2,"cursor","pointer",3,"click"],[1,"spacer-position-bottom-buttons"],["mat-button","","mat-dialog-close","",2,"cursor","pointer",3,"click"]],template:function(e,n){e&1&&(v(0,"mat-dialog-content",0)(1,"div",1),S(2," \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03C3\u03AF\u03B3\u03BF\u03C5\u03C1\u03B1 \u03BD\u03B1 \u03BA\u03AC\u03BD\u03B5\u03C4\u03B5 \u03C5\u03C0\u03BF\u03B2\u03BF\u03BB\u03AE; "),_()(),v(3,"mat-dialog-actions",2)(4,"button",3),P("click",function(){return n.accept()}),S(5,"\u039D\u03B1\u03B9"),_(),F(6,"span",4),v(7,"button",5),P("click",function(){return n.cancel()}),S(8,"\u038C\u03C7\u03B9"),_()())},dependencies:[et,xi,Si,Ci],styles:[".popup-container[_ngcontent-%COMP%]{height:15vh;width:25vw;display:flex;align-items:center;justify-content:center}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column;align-items:center}.spacer-position-bottom-buttons[_ngcontent-%COMP%]{flex:1 1 auto}@media (max-width: 768px){.popup-container[_ngcontent-%COMP%]{height:15vh;width:80vw}}"]})};var dq=["nav"],uq=t=>({"errors-texts":t});function pq(t,i){if(t&1&&(v(0,"mat-option",10),S(1),_()),t&2){let e=i.$implicit;E("value",e.code),w(),Ue(e.name)}}function mq(t,i){t&1&&(v(0,"div",11)(1,"span"),S(2,"\u0395\u03C0\u03B9\u03BB\u03AD\u03BE\u03C4\u03B5 \u03BA\u03AC\u03C0\u03BF\u03B9\u03B1 \u03BA\u03B1\u03C4\u03B7\u03B3\u03BF\u03C1\u03AF\u03B1"),_()())}function hq(t,i){if(t&1&&(v(0,"mat-form-field",8)(1,"mat-label"),S(2),_(),F(3,"input",28),_()),t&2){let e=k().$implicit;E("appearance","outline"),w(2),Ue(e.category)}}function fq(t,i){if(t&1&&V(0,hq,4,2,"mat-form-field",8),t&2){let e=i.$implicit,n=k(2);j(n.selectedCategory==e.code?0:-1)}}function gq(t,i){if(t&1&&(hi(0,fq,1,1,null,null,dn),v(2,"mat-form-field",8)(3,"mat-label"),S(4,"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE"),_(),F(5,"textarea",22),_(),v(6,"div",23)(7,"mat-form-field",24)(8,"mat-label"),S(9,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03C0\u03BB\u03AC\u03C4\u03BF\u03C2 (\u03C6)"),_(),F(10,"input",25),_(),v(11,"mat-form-field",26)(12,"mat-label"),S(13,"\u0393\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03CC \u03BC\u03AE\u03BA\u03BF\u03C2 (\u03BB)"),_(),F(14,"input",27),_()()),t&2){let e=k();fi(e.categoriesTable),w(2),E("appearance","outline"),w(5),E("appearance","outline"),w(3),gi("value",e.DataService.latitude),w(),E("appearance","outline"),w(3),gi("value",e.DataService.longitude)}}function yq(t,i){if(t&1){let e=he();v(0,"div",13)(1,"mat-icon",29),P("click",function(){B(e);let o=k();return N(o.removeImages(o.slider.visiableImageIndex))}),S(2,"close"),_()()}}function _q(t,i){if(t&1&&F(0,"ng-image-slider",15),t&2){let e=k();E("images",e.DataService.tableAddImagesPointsUser)("infinite",e.infinite)("imagePopup",e.imagePopup)("animationSpeed",e.animationSpeed)("slideImage",e.slideImage)("imageSize",e.imageSize)("manageImageRatio",e.manageImageRatio)("autoSlide",e.autoSlide)("showArrow",e.showArrow)("arrowKeyMove",e.arrowKeyMove)("videoAutoPlay",e.videoAutoPlay)("showVideoControls",e.showVideoControls)("direction",e.direction)("lazyLoading",e.lazyLoading)("defaultActiveImage",e.defaultActiveImage)}}function vq(t,i){if(t&1&&(v(0,"div",16),S(1," \u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03B5\u03B9\u03BA\u03CC\u03BD\u03C9\u03BD* "),_()),t&2){let e=k();E("ngClass",Ot(1,uq,e.insertImagesAddPointText==!0))}}function bq(t,i){if(t&1&&(v(0,"div"),S(1),_()),t&2){let e=k(2);w(),yi(" ",e.slider.visiableImageIndex+1," / ",e.DataService.tableAddImagesPointsUser.length," ")}}function Aq(t,i){if(t&1&&V(0,bq,2,2,"div"),t&2){let e=k();j(e.slider?0:-1)}}var Z_=class t{constructor(i,e,n){this.DataService=i;this.addPoints=e;this.dialog=n}selectedCategory;disaledButtons=!0;idImages=0;insertImagesAddPointText=!1;categoriesTable=[{name:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",code:"\u0395\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1",category:"\u038C\u03BD\u03BF\u03BC\u03B1 \u03B5\u03BA\u03BA\u03BB\u03B7\u03C3\u03AF\u03B1\u03C2"},{name:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",code:"\u039C\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF",category:"\u038C\u03BD\u03BF\u03BC\u03B1 \u03BC\u03BF\u03C5\u03C3\u03B5\u03AF\u03BF\u03C5"}];jsonValuesAddPoints={category:null,name:null,lat:null,long:null,description:null};newPointControls;slider;imageSize={width:"100%",height:"100%"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;_snackBar=m(Li);ngOnInit(){this.newPointControls=this.addPoints.group({categoryControlAddPoint:[""],nameControlAddPoint:["",st.required],latControlAddPoint:[{value:this.DataService.latitude??null,disabled:!0},st.required],longControlAddPoint:[{value:this.DataService.longitude??null,disabled:!0},st.required],descriptionControlAddPoint:[""]}),this.DataService.tableAddImagesPointsUser=[]}changeCategory(i){this.selectedCategory=i.value,i.value==null?this.disaledButtons=!0:this.disaledButtons=!1}uploadImages(i){let e=i.target;if(!e.files||e.files.length===0)return;let n=["image/png","image/gif","image/jpeg","image/jpg"];Array.from(e.files).forEach(o=>{if(n.indexOf(o.type)===-1){this._snackBar.open("Allowed: .jpeg, .jpg, .png, .gif","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]});return}let r=new FileReader;r.readAsDataURL(o),r.onload=()=>{this.DataService.tableAddImagesPointsUser.push({file:o,title:o.name,alt:o.name,thumbImage:r.result,image:r.result}),this.idImages++,this.slider&&(this.slider.visiableImageIndex=this.DataService.tableAddImagesPointsUser.length-1)}}),e.value=""}removeImages(i){this.DataService.tableAddImagesPointsUser=this.DataService.tableAddImagesPointsUser.filter(e=>e.index!==i),this.slider.visiableImageIndex>i&&(this.slider.visiableImageIndex=this.slider.visiableImageIndex-1),this.slider.visiableImageIndex==this.DataService.tableAddImagesPointsUser.length&&(this.slider.visiableImageIndex=this.slider.visiableImageIndex-1)}addEvent(){this.insertImagesAddPointText=!0,this.DataService.openEventPopup||(this.jsonValuesAddPoints.category=this.newPointControls.controls.categoryControlAddPoint.value,this.jsonValuesAddPoints.name=this.newPointControls.controls.nameControlAddPoint.value,this.jsonValuesAddPoints.lat=this.newPointControls.controls.latControlAddPoint.value,this.jsonValuesAddPoints.long=this.newPointControls.controls.longControlAddPoint.value,this.jsonValuesAddPoints.description=this.newPointControls.controls.descriptionControlAddPoint.value,console.log(this.jsonValuesAddPoints),this.DataService.serviceJsonValuesPointsAddUser=this.jsonValuesAddPoints,this.insertImagesAddPointText=!0,!this.newPointControls.valid||this.DataService.tableAddImagesPointsUser.length==0?(this.newPointControls.markAllAsTouched(),this._snackBar.open("\u03A5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03C5\u03C0\u03BF\u03C7\u03C1\u03B5\u03C9\u03C4\u03B9\u03BA\u03AC \u03C0\u03B5\u03B4\u03AF\u03B1","Close",{duration:3e3,horizontalPosition:"center",verticalPosition:"bottom",panelClass:["error-snackbar"]})):this.openDialogAcceptPoint())}openDialogAcceptPoint(){this.dialog.open(Y_,{autoFocus:!1,disableClose:!1})}static \u0275fac=function(e){return new(e||t)(Y(ze),Y(jl),Y(Yi))};static \u0275cmp=U({type:t,selectors:[["app-form"]],viewQuery:function(e,n){if(e&1&&le(dq,5),e&2){let o;J(o=$())&&(n.slider=o.first)}},decls:35,vars:10,consts:[["fileInputImages",""],[1,"toolbar-dialog"],[1,"toolbar-spacer"],["mat-icon-button","","mat-dialog-close","",1,"delete-button-pupups"],[1,"popup-container"],[1,"align-popup-container"],[1,"informations-popup-container"],[1,"form-informations-popup-container",3,"formGroup"],[2,"width","100%","margin-top","10px",3,"appearance"],["formControlName","categoryControlAddPoint",3,"selectionChange"],[3,"value"],[2,"height","calc(100% - 36px)","display","flex","align-items","center","justify-content","center"],[1,"images-popup-container"],[1,"remove-image-div"],[2,"height","100%","width","100%"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],[2,"height","100%","width","100%","display","flex","justify-content","center","align-items","center","text-align","center",3,"ngClass"],[2,"margin-top","5px","margin-bottom","5px"],["mat-mini-fab","","matTooltip","Upload image",1,"radius-buttons",3,"click","ngClass","disabled"],["type","file","multiple","","accept","image/png, image/gif, image/jpeg, image/jpg",2,"display","none",3,"change"],["align","end"],["mat-stroked-button","","cdkFocusInitial","",3,"click","disabled","ngClass"],["matInput","","formControlName","descriptionControlAddPoint"],[2,"width","100%","margin-top","10px"],[2,"width","49%","margin-right","2%",3,"appearance"],["matInput","","formControlName","latControlAddPoint",3,"value"],[2,"width","49%",3,"appearance"],["matInput","","formControlName","longControlAddPoint",3,"value"],["matInput","","formControlName","nameControlAddPoint"],["mat-icon-button","","color","warn",1,"remove-image-icon",3,"click"]],template:function(e,n){if(e&1){let o=he();v(0,"mat-toolbar",1)(1,"div"),S(2," \u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5 \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7 "),_(),F(3,"span",2),v(4,"button",3)(5,"mat-icon"),S(6,"close"),_()()(),v(7,"mat-dialog-content",4)(8,"div",5)(9,"div",6)(10,"form",7)(11,"mat-form-field",8)(12,"mat-label"),S(13,"\u039A\u03B1\u03C4\u03B7\u03B3\u03BF\u03C1\u03AF\u03B1"),_(),v(14,"mat-select",9),P("selectionChange",function(a){return B(o),N(n.changeCategory(a))}),F(15,"mat-option",10),hi(16,pq,2,2,"mat-option",10,dn),_()(),V(18,mq,3,0,"div",11)(19,gq,15,5),_()(),v(20,"div",12),V(21,yq,3,0,"div",13),v(22,"div",14),V(23,_q,1,15,"ng-image-slider",15)(24,vq,2,3,"div",16),_(),V(25,Aq,1,1),v(26,"div",17)(27,"button",18),P("click",function(){B(o);let a=Et(31);return N(a.click())}),v(28,"mat-icon"),S(29,"upload"),_()(),v(30,"input",19,0),P("change",function(a){return B(o),N(n.uploadImages(a))}),_()()()()(),v(32,"mat-dialog-actions",20)(33,"button",21),P("click",function(){return B(o),N(n.addEvent())}),S(34,"\u03A5\u03C0\u03BF\u03B2\u03BF\u03BB\u03AE"),_()()}e&2&&(w(10),E("formGroup",n.newPointControls),w(),E("appearance","outline"),w(5),fi(n.categoriesTable),w(2),j(n.selectedCategory==null?18:19),w(3),j(n.DataService.tableAddImagesPointsUser.length!=0?21:-1),w(2),j(n.DataService.tableAddImagesPointsUser.length!=0?23:24),w(2),j(n.DataService.tableAddImagesPointsUser.length!=0?25:-1),w(2),E("ngClass",n.disaledButtons?"disabled-button":"primary-button cursor-button")("disabled",n.disaledButtons),w(6),E("disabled",n.disaledButtons)("ngClass",n.disaledButtons?"disabled-button":"primary-button cursor-button"))},dependencies:[et,Ut,xi,Si,Ci,xr,Cr,ei,zi,Pi,uo,Sr,fl,su,au,Gl,Fa,Ql,Wm,Wl,Eo,iu,tu,Bs,$d,Xd,nu,Mo,Ul,Do,To],styles:[".toolbar-dialog[_ngcontent-%COMP%]{font-size:14px;height:30px;background-color:#212330;color:#fff;padding-left:15px;padding-right:0}.toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}  .mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:0%}.popup-container[_ngcontent-%COMP%]{height:60vh;width:30vw;padding:10px!important}.align-popup-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:column}.informations-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;overflow-y:auto;margin-bottom:10px;overflow-x:hidden}.form-informations-popup-container[_ngcontent-%COMP%]{height:calc(100% - 20px);width:100%;text-align:center}.images-popup-container[_ngcontent-%COMP%]{height:50%;width:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;border:black solid 1px}  .ng-image-slider .ng-image-slider-container .main .main-inner .img-div{background-image:none!important}  .ng-image-slider{height:100%!important;display:block!important}  .main{height:100%!important}.remove-image-div[_ngcontent-%COMP%]{width:100%}.remove-image-div[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#ff00001a}.remove-image-icon[_ngcontent-%COMP%]{float:right;cursor:pointer}.errors-texts[_ngcontent-%COMP%]{color:#ac2222}.disabled-button[_ngcontent-%COMP%]{background-color:#e9e7e7;cursor:auto}.cursor-button[_ngcontent-%COMP%]{cursor:pointer}"]})};var K_=class t{constructor(i,e){this.dialog=i;this.DataService=e}view;adding=!1;myMap=null;mapView=null;ngOnInit(){this.myMap=new my({basemap:"hybrid"}),this.mapView=new ny({map:this.myMap,container:"viewMap",extent:{xmin:23.332325,ymin:40.807975,xmax:23.377558,ymax:40.82412,spatialReference:{wkid:4326}}}),this.DataService.mapView=this.mapView,this.mapView.on("click",u=>{if(this.adding){let p=u.mapPoint;p&&(console.log("\u03A3\u03C5\u03BD\u03C4\u03B5\u03C4\u03B1\u03B3\u03BC\u03AD\u03BD\u03B5\u03C2 (\u03B3\u03B5\u03C9\u03B3\u03C1\u03B1\u03C6\u03B9\u03BA\u03AD\u03C2): ",p.latitude,p.longitude),this.DataService.latitude=parseFloat(p.latitude.toFixed(5)),this.DataService.longitude=parseFloat(p.longitude.toFixed(5)),this.openDialogDetails(1),this.adding=!1)}}),this.mapView.when(()=>{let u=document.getElementById("addPointBtn");u&&this.mapView.ui.add(u,"top-right")});var i=[{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/0",name:"Churches",id:"ba37ca1414cc4647958b8b5829a9289a",indexId:0},{url:"https://services6.arcgis.com/f36cxNuTmfCJN313/ArcGIS/rest/services/POLITISTIKA/FeatureServer/1",name:"Museums",id:"ba37ca1414cc4647958b8b5829a9289a",indexId:1}];console.log(i);for(let u in i){let p=new Uh({definitionExpression:"status = '1'",portalItem:{id:i[u].id},layerId:i[u].indexId});this.myMap.layers.add(p)}this.mapView.popup.defaultPopupTemplateEnabled=!0;var e=new gy({view:this.mapView}),n=new yy({view:this.mapView});this.mapView.ui.add(n,"top-left");let o=new xy({view:this.mapView}),r=new ys({view:this.mapView,content:o,expanded:!1});this.mapView.ui.add(r,"top-left");var a=new ys({view:this.mapView,content:e});this.mapView.ui.add(a,{position:"top-left"});let c=new af({view:this.mapView});var d=new ys({view:this.mapView,content:c});this.mapView.ui.add(d,{position:"top-left"})}onAddButtonClick(){this.adding=!0,console.log("Add mode \u03B5\u03BD\u03B5\u03C1\u03B3\u03BF\u03C0\u03BF\u03B9\u03B7\u03BC\u03AD\u03BD\u03BF. \u0395\u03C0\u03B9\u03BB\u03AD\u03BE\u03C4\u03B5 \u03AD\u03BD\u03B1 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7.")}openDialogDetails(i){let e=this.dialog.open(Z_,{autoFocus:!1,disableClose:!0});this.DataService.popupAddPointUser=e,e.afterClosed().subscribe(()=>{this.DataService.popupAddPointUser=null})}static \u0275fac=function(e){return new(e||t)(Y(Yi),Y(ze))};static \u0275cmp=U({type:t,selectors:[["app-map"]],decls:5,vars:3,consts:[[1,"container-map"],["id","viewMap",1,"map"],["mat-fab","","id","addPointBtn","matTooltip","\u03A0\u03C1\u03BF\u03C3\u03B8\u03AE\u03BA\u03B7 \u03BD\u03AD\u03BF\u03C5 \u03C3\u03B7\u03BC\u03B5\u03AF\u03BF\u03C5",3,"click","ngClass"],[2,"color","green"]],template:function(e,n){e&1&&(v(0,"div",0),F(1,"div",1),v(2,"button",2),P("click",function(){return n.onAddButtonClick()}),v(3,"mat-icon",3),S(4,"add"),_()()()),e&2&&(w(),te("add-cursor",n.adding),w(),E("ngClass",n.adding?"add-point-select":"add-point-not-select"))},dependencies:[et,Ut,ei,zi,Pi,Bp,Gp,zp],styles:['@charset "UTF-8";@import"https://js.arcgis.com/4.25/esri/themes/light/main.css";.container-map[_ngcontent-%COMP%]{width:100%;height:100%}.map[_ngcontent-%COMP%]{height:100%;width:100%}.add-point-not-select[_ngcontent-%COMP%]{height:32px;width:32px;background-color:#fff}.add-point-select[_ngcontent-%COMP%]{height:32px;width:32px;background-color:#b8b3b3}.add-cursor[_ngcontent-%COMP%]{cursor:crosshair}']})};function wq(t,i){if(t&1&&(v(0,"div",6),S(1),_()),t&2){let e=k().$implicit;w(),yi("",e.attributes.date_from," - ",e.attributes.date_to,"")}}function Cq(t,i){if(t&1&&(v(0,"div",6),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.date_from)}}function xq(t,i){t&1&&(v(0,"div",6),S(1," - "),_())}function Sq(t,i){if(t&1&&(v(0,"div",7),F(1,"ng-image-slider",9),_()),t&2){let e=k().$implicit,n=k();w(),E("images",e.attachments)("infinite",n.infinite)("imagePopup",n.imagePopup)("animationSpeed",n.animationSpeed)("slideImage",n.slideImage)("imageSize",n.imageSize)("manageImageRatio",n.manageImageRatio)("autoSlide",n.autoSlide)("showArrow",n.showArrow)("arrowKeyMove",n.arrowKeyMove)("videoAutoPlay",n.videoAutoPlay)("showVideoControls",n.showVideoControls)("direction",n.direction)("lazyLoading",n.lazyLoading)("defaultActiveImage",n.defaultActiveImage)}}function Iq(t,i){if(t&1&&(v(0,"div",6),S(1),_()),t&2){let e=k().$implicit;w(),Ue(e.attributes.description)}}function Mq(t,i){if(t&1&&(v(0,"div",6)(1,"a",10),S(2,"Link"),_()()),t&2){let e=k().$implicit;w(),gi("href",e.attributes.link,Gs)}}function Eq(t,i){if(t&1){let e=he();v(0,"div",4)(1,"div",6),S(2),_(),V(3,wq,2,2,"div",6)(4,Cq,2,1,"div",6)(5,xq,2,0,"div",6)(6,Sq,2,15,"div",7)(7,Iq,2,1,"div",6),v(8,"div",8),P("click",function(){let o=B(e).$implicit,r=k();return N(r.place(o.geometry.x,o.geometry.y))}),v(9,"span"),S(10,"\u03A4\u03BF\u03C0\u03BF\u03B8\u03B5\u03C3\u03AF\u03B1 "),_(),v(11,"mat-icon"),S(12,"location_on"),_()(),V(13,Mq,3,1,"div",6),_()}if(t&2){let e=i.$implicit;w(2),Ue(e.attributes.title),w(),j(e.attributes.date_from!=null&&e.attributes.date_to!=null?3:-1),w(),j(e.attributes.date_from!=null&&e.attributes.date_to==null?4:-1),w(),j(e.attributes.date_from==null&&e.attributes.date_to==null?5:-1),w(),j(e.attachments.length!=0?6:-1),w(),j(e.attributes.description!=null?7:-1),w(6),j(e.attributes.link!=""?13:-1)}}function kq(t,i){t&1&&(v(0,"div",5)(1,"span"),S(2,"\u0394\u03B5\u03BD \u03C5\u03C0\u03AC\u03C1\u03C7\u03BF\u03C5\u03BD \u03B5\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2"),_()())}var J_=class t{constructor(i){this.DataService=i}tableEvents=[];imageSize={width:"100%",height:"200px"};infinite=!1;imagePopup=!0;animationSpeed=.3;slideImage=1;manageImageRatio=!0;autoSlide=0;showArrow=!0;arrowKeyMove=!0;videoAutoPlay=!1;showVideoControls=!0;direction="ltr";lazyLoading=!1;defaultActiveImage=0;ngOnInit(){this.DataService.dataServerAdmin$.subscribe(i=>{console.log(i);for(let e in i)if(i[e].name=="Events"){for(let n in i[e].data){if(i[e].data[n].attributes.date_from!=""&&i[e].data[n].attributes.date_from!=null){let o=i[e].data[n].attributes.date_from;o=new Date(o);let r=o.getFullYear(),a=o.getMonth()+1,c=o.getDate();i[e].data[n].attributes.date_from=c+"/"+a+"/"+r}if(i[e].data[n].attributes.date_to!=""&&i[e].data[n].attributes.date_to!=null){let o=i[e].data[n].attributes.date_to;o=new Date(o);let r=o.getFullYear(),a=o.getMonth()+1,c=o.getDate();i[e].data[n].attributes.date_to=c+"/"+a+"/"+r}}this.tableEvents=[...i[e].data]}console.log(this.tableEvents)})}place(i,e){this.DataService.mapView.goTo({center:[i,e],zoom:18}).catch(console.error);let n=null,o=new xe({longitude:i,latitude:e,spatialReference:this.DataService.mapView.spatialReference}),r=new za({color:"red",size:"12px",style:"circle"});n&&this.DataService.mapView.graphics.remove(n),n=new dt({geometry:o,symbol:r}),this.DataService.mapView.graphics.add(n);let a=this.DataService.mapView.watch("stationary",c=>{!c&&n&&(this.DataService.mapView.graphics.remove(n),n=null,a.remove())})}static \u0275fac=function(e){return new(e||t)(Y(ze))};static \u0275cmp=U({type:t,selectors:[["app-events"]],decls:8,vars:1,consts:[[2,"height","calc(100%)","width","calc(100% - 10px)","margin","5px"],[2,"width","100%","text-align","center","padding-top","20px","font-size","22px"],[2,"width","50%","margin","10px auto","border","1px solid #000"],[2,"height","calc(100% - 75px)","overflow-y","auto"],[2,"width","calc(100% - 10px)","padding-left","5px","padding-right","5px","padding-top","10px","padding-bottom","10px","border-bottom","black solid 1px","display","flex","flex-direction","column","align-items","center","justify-content","center"],[2,"height","calc(100% - 60px)","width","100%","display","flex","align-items","center","justify-content","center"],[2,"margin-top","3px"],[2,"height","200px","width","100%","margin-top","3px"],[2,"cursor","pointer","margin-top","3px","display","flex","align-items","center",3,"click"],[3,"images","infinite","imagePopup","animationSpeed","slideImage","imageSize","manageImageRatio","autoSlide","showArrow","arrowKeyMove","videoAutoPlay","showVideoControls","direction","lazyLoading","defaultActiveImage"],["target","_blank",3,"href"]],template:function(e,n){e&1&&(v(0,"div",0)(1,"div",1),S(2,"\u0395\u03BA\u03B4\u03B7\u03BB\u03CE\u03C3\u03B5\u03B9\u03C2"),_(),F(3,"hr",2),v(4,"div",3),hi(5,Eq,14,7,"div",4,dn),V(7,kq,3,0,"div",5),_()()),e&2&&(w(5),fi(n.tableEvents),w(2),j(n.tableEvents.length==0?7:-1))},dependencies:[et,ei,zi,Do,To],encapsulation:2})};function Tq(t,i){t&1&&(v(0,"div",8)(1,"div",12),F(2,"mat-spinner"),_()())}function Dq(t,i){t&1&&(v(0,"div",10)(1,"div",12),F(2,"mat-spinner"),_()())}var $_=class t{constructor(i){this.DataService=i}loading=!1;ngOnInit(){return f(this,null,function*(){this.loading=!0,yield this.DataService.insertDataServer(),this.loading=!1})}static \u0275fac=function(e){return new(e||t)(Y(ze))};static \u0275cmp=U({type:t,selectors:[["app-home"]],decls:16,vars:2,consts:[[1,"header-toolbar"],["src","logo.jpeg",1,"header-toolbar-logo"],[1,"header-toolbar-title"],[1,"mobile-title"],[1,"header-toolbar-spacer"],[1,"total-container"],[1,"container"],[1,"container-left"],[1,"container-spinner-disabled-map"],[1,"container-right"],[1,"container-spinner-disabled"],[1,"footer-toolbar"],[1,"spinner-align"]],template:function(e,n){e&1&&(v(0,"mat-toolbar",0),F(1,"img",1),v(2,"span",2)(3,"span",3),S(4,"\u03A7\u03AC\u03C1\u03C4\u03B7\u03C2 \u03A0\u03BF\u03BB\u03B9\u03C4\u03B9\u03C3\u03C4\u03B9\u03BA\u03AE\u03C2 \u039A\u03BB\u03B7\u03C1\u03BF\u03BD\u03BF\u03BC\u03B9\u03AC\u03C2 \u03C4\u03B7\u03C2"),_(),S(5," \u0394.\u039A. \u03A3\u03BF\u03C7\u03BF\u03CD"),_(),F(6,"span",4),_(),v(7,"div",5)(8,"div",6)(9,"div",7),V(10,Tq,3,0,"div",8),F(11,"app-map"),_(),v(12,"div",9),V(13,Dq,3,0,"div",10),F(14,"app-events"),_()()(),F(15,"mat-toolbar",11)),e&2&&(w(10),j(n.DataService.loadingSpinnerMapUser?10:-1),w(3),j(n.loading?13:-1))},dependencies:[xr,Cr,Pi,ei,dg,pg,ug,K_,J_],styles:[".header-toolbar[_ngcontent-%COMP%]{position:absolute;top:0;height:64px;width:100%;background-color:var(--color-primary);box-shadow:0 1px 2px -1px var(--color-secondary)!important;z-index:3!important}.header-toolbar-logo[_ngcontent-%COMP%]{height:70%}.header-toolbar-title[_ngcontent-%COMP%]{color:var(--color-accent);padding-left:30px}.header-toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.total-container[_ngcontent-%COMP%]{position:absolute;top:64px;bottom:40px;width:100%;display:flex;flex-wrap:wrap;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;flex-direction:row}.container-left[_ngcontent-%COMP%]{height:100%;width:70%}.container-right[_ngcontent-%COMP%]{height:100%;width:30%}.footer-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:0;height:40px;width:100%;background-color:var(--color-primary);box-shadow:0 -1px 2px -1px var(--color-secondary)!important;z-index:3!important}.container-spinner-disabled[_ngcontent-%COMP%]{z-index:10;background-color:#ffffff80;position:fixed;top:64px;bottom:40px;right:0;display:flex;align-items:center;justify-content:center;width:30%}.container-spinner-disabled-map[_ngcontent-%COMP%]{z-index:10;background-color:#ffffff80;position:fixed;top:64px;bottom:40px;left:0;display:flex;align-items:center;justify-content:center;width:70%}.spinner-align[_ngcontent-%COMP%]{height:200px;width:200px;z-index:11;display:flex;align-items:center;justify-content:center}@media screen and (max-width: 768px){.mobile-title[_ngcontent-%COMP%]{display:none}.container[_ngcontent-%COMP%]{flex-direction:column}.container-left[_ngcontent-%COMP%]{height:65%;width:100%}.container-right[_ngcontent-%COMP%]{height:35%;width:100%}}"]})};var xL=[{path:"admin",component:q_},{path:"home",component:$_},{path:"",redirectTo:"/admin",pathMatch:"full"}];var Fq="@",Rq=(()=>{class t{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=m(Te);loadingSchedulerFn=m(Pq,{optional:!0});_engine;constructor(e,n,o,r,a){this.doc=e,this.delegate=n,this.zone=o,this.animationType=r,this.moduleImpl=a}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-GFYWKLJV.js").then(o=>o),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(o=>{throw new We(5300,!1)}).then(({\u0275createEngine:o,\u0275AnimationRendererFactory:r})=>{this._engine=o(this.animationType,this.doc);let a=new r(this.delegate,this._engine,this.zone);return this.delegate=a,a})}createRenderer(e,n){let o=this.delegate.createRenderer(e,n);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let r=new XC(o);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let c=a.createRenderer(e,n);r.use(c),this.scheduler??=this.injector.get(ux,null,{optional:!0}),this.scheduler?.notify(10)}).catch(a=>{r.use(o)}),r}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){Iu()};static \u0275prov=W({token:t,factory:t.\u0275fac})}return t})(),XC=class{delegate;replay=[];\u0275type=1;constructor(i){this.delegate=i}use(i){if(this.delegate=i,this.replay!==null){for(let e of this.replay)e(i);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}get destroyNode(){return this.delegate.destroyNode}appendChild(i,e){this.delegate.appendChild(i,e)}insertBefore(i,e,n,o){this.delegate.insertBefore(i,e,n,o)}removeChild(i,e,n){this.delegate.removeChild(i,e,n)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,o){this.delegate.setAttribute(i,e,n,o)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,o){this.delegate.setStyle(i,e,n,o)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(i,e,n)),this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,o){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(i,e,n,o)),this.delegate.listen(i,e,n,o)}shouldReplay(i){return this.replay!==null&&i.startsWith(Fq)}},Pq=new H("");function SL(t="animations"){return uv("NgAsyncAnimations"),Us([{provide:Ni,useFactory:(i,e,n)=>new Rq(i,e,n,t),deps:[fe,_f,pe]},{provide:rt,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var IL={providers:[Ab(),Dx({eventCoalescing:!0}),tT(xL),SL()]};var X_=class t{title="cultural-map";static \u0275fac=function(e){return new(e||t)};static \u0275cmp=U({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&F(0,"router-outlet")},dependencies:[dA],encapsulation:2})};yk(X_,IL).catch(t=>console.error(t));
