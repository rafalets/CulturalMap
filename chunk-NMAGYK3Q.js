import{c as Re}from"./chunk-GWBRHLNH.js";import{b as Q,f as V,g as X,j as Y}from"./chunk-VOFKUGRY.js";import{B as ae,D as ne,K as Ce,L as Se,M as le,P as Ee,ia as ue,m as Z,p as $,v as ee,y as te,z as re}from"./chunk-IG66NQHW.js";import{a as _,b as y,c as x}from"./chunk-ARRCN5K3.js";var e;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.SPHERICAL_ECEF=1]="SPHERICAL_ECEF",t[t.WGS84=2]="WGS84",t[t.WEB_MERCATOR=3]="WEB_MERCATOR",t[t.WGS84_ECEF=4]="WGS84_ECEF",t[t.CGCS2000=5]="CGCS2000",t[t.SPHERICAL_MARS_PCPF=6]="SPHERICAL_MARS_PCPF",t[t.GCSMARS2000=7]="GCSMARS2000",t[t.SPHERICAL_MOON_PCPF=8]="SPHERICAL_MOON_PCPF",t[t.GCSMOON2000=9]="GCSMOON2000",t[t.LON_LAT=10]="LON_LAT",t[t.PLATE_CARREE=11]="PLATE_CARREE"})(e||(e={}));var Ne={[e.WGS84]:{[e.CGCS2000]:S,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:U,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:F,[e.PLATE_CARREE]:W,[e.WGS84]:S,[e.WGS84_ECEF]:I},[e.CGCS2000]:{[e.CGCS2000]:S,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:U,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:F,[e.PLATE_CARREE]:W,[e.WGS84]:S,[e.WGS84_ECEF]:I},[e.GCSMARS2000]:{[e.CGCS2000]:null,[e.GCSMARS2000]:S,[e.GCSMOON2000]:null,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:oe,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.GCSMOON2000]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:S,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:Pe,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.WEB_MERCATOR]:{[e.CGCS2000]:m,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:m,[e.SPHERICAL_ECEF]:Ge,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:S,[e.PLATE_CARREE]:fe,[e.WGS84]:m,[e.WGS84_ECEF]:Fe},[e.WGS84_ECEF]:{[e.CGCS2000]:p,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:p,[e.SPHERICAL_ECEF]:Ke,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:we,[e.PLATE_CARREE]:Te,[e.WGS84]:p,[e.WGS84_ECEF]:S},[e.SPHERICAL_ECEF]:{[e.CGCS2000]:T,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:T,[e.SPHERICAL_ECEF]:S,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:de,[e.PLATE_CARREE]:Ie,[e.WGS84]:T,[e.WGS84_ECEF]:me},[e.SPHERICAL_MARS_PCPF]:{[e.CGCS2000]:null,[e.GCSMARS2000]:Ae,[e.GCSMOON2000]:null,[e.LON_LAT]:Ae,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:S,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.SPHERICAL_MOON_PCPF]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:ce,[e.LON_LAT]:ce,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:S,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.UNKNOWN]:{[e.CGCS2000]:null,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:null,[e.SPHERICAL_ECEF]:null,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:S,[e.WEB_MERCATOR]:null,[e.PLATE_CARREE]:null,[e.WGS84]:null,[e.WGS84_ECEF]:null},[e.LON_LAT]:{[e.CGCS2000]:S,[e.GCSMARS2000]:S,[e.GCSMOON2000]:S,[e.LON_LAT]:S,[e.SPHERICAL_ECEF]:U,[e.SPHERICAL_MARS_PCPF]:oe,[e.SPHERICAL_MOON_PCPF]:Pe,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:F,[e.PLATE_CARREE]:W,[e.WGS84]:S,[e.WGS84_ECEF]:I},[e.PLATE_CARREE]:{[e.CGCS2000]:f,[e.GCSMARS2000]:null,[e.GCSMOON2000]:null,[e.LON_LAT]:f,[e.SPHERICAL_ECEF]:pe,[e.SPHERICAL_MARS_PCPF]:null,[e.SPHERICAL_MOON_PCPF]:null,[e.UNKNOWN]:null,[e.WEB_MERCATOR]:he,[e.PLATE_CARREE]:S,[e.WGS84]:f,[e.WGS84_ECEF]:He}};function Me(t,n){return Le(t,n)?.projector}function Le(t,n){if(t==null||n==null)return null;if(o.source.spatialReference===t&&o.dest.spatialReference===n)return o;let r=se(t,o.source),a=se(n,o.dest);return r===e.UNKNOWN&&a===e.UNKNOWN?$(t,n)?o.projector=S:o.projector=null:o.projector=Ne[r][a],o}function se(t,n){return t?n.spatialReference===t?n.spatialReferenceId:(n.spatialReference=t,"metersPerUnit"in n&&(n.metersPerUnit=ue(t,1)),Ee(t)?n.spatialReferenceId=e.SPHERICAL_ECEF:ee(t)?n.spatialReferenceId=e.WGS84:te(t)?n.spatialReferenceId=e.WEB_MERCATOR:re(t)?n.spatialReferenceId=e.PLATE_CARREE:t.wkt===le.wkt?n.spatialReferenceId=e.WGS84_ECEF:t.wkid===Z.CGCS2000?n.spatialReferenceId=e.CGCS2000:t.wkt===Ce.wkt?n.spatialReferenceId=e.SPHERICAL_MARS_PCPF:t.wkt===Se.wkt?n.spatialReferenceId=e.SPHERICAL_MOON_PCPF:ae(t)?n.spatialReferenceId=e.GCSMARS2000:ne(t)?n.spatialReferenceId=e.GCSMOON2000:n.spatialReferenceId=e.UNKNOWN):e.UNKNOWN}function S(t,n,r,a){t!==r&&(r[a++]=t[n++],r[a++]=t[n++],r[a]=t[n])}function m(t,n,r,a){r[a]=H*(t[n]/O),r[a+1]=H*(Oe-2*Math.atan(Math.exp(-t[n+1]/O))),r[a+2]=t[n+2]}function Ge(t,n,r,a){let E=t[n]/O,l=Oe-2*Math.atan(Math.exp(-t[n+1]/O)),u=O+t[n+2],C=Math.cos(l)*u;r[a]=Math.cos(E)*C,r[a+1]=Math.sin(E)*C,r[a+2]=Math.sin(l)*u}function Fe(t,n,r,a){m(t,n,r,a),I(r,a,r,a)}function We(t,n,r,a,E){let l=.4999999*Math.PI,u=Q(h*t[n+1],-l,l),C=Math.sin(u);r[a++]=h*t[n]*E.radius,r[a++]=E.halfSemiMajorAxis*Math.log((1+C)/(1-C)),r[a]=t[n+2]}function F(t,n,r,a){We(t,n,r,a,_)}function W(t,n,r,a){r[a]=t[n]*_e,r[a+1]=t[n+1]*_e,r[a+2]=t[n+2]}function f(t,n,r,a){r[a]=t[n]*ie,r[a+1]=t[n+1]*ie,r[a+2]=t[n+2]}function fe(t,n,r,a){m(t,n,r,a),W(r,a,r,a)}function Te(t,n,r,a){p(t,n,r,a),W(r,a,r,a)}function Ie(t,n,r,a){T(t,n,r,a),W(r,a,r,a)}function pe(t,n,r,a){f(t,n,r,a),U(r,a,r,a)}function he(t,n,r,a){f(t,n,r,a),F(r,a,r,a)}function He(t,n,r,a){f(t,n,r,a),I(r,a,r,a)}function v(t,n,r,a,E){let l=E+t[n+2],u=h*t[n+1],C=h*t[n],R=Math.cos(u)*l;r[a]=Math.cos(C)*R,r[a+1]=Math.sin(C)*R,r[a+2]=Math.sin(u)*l}function Pe(t,n,r,a){v(t,n,r,a,x.radius)}function oe(t,n,r,a){v(t,n,r,a,y.radius)}function U(t,n,r,a){v(t,n,r,a,_.radius)}function D(t,n,r,a,E){let l=t[n],u=t[n+1],C=t[n+2],R=Math.sqrt(l*l+u*u+C*C),P=Y(C/(R===0?1:R)),s=Math.atan2(u,l);r[a++]=H*s,r[a++]=H*P,r[a]=R-E}function ce(t,n,r,a){D(t,n,r,a,x.radius)}function Ae(t,n,r,a){D(t,n,r,a,y.radius)}function T(t,n,r,a){D(t,n,r,a,_.radius)}function de(t,n,r,a){T(t,n,r,a),F(r,a,r,a)}function me(t,n,r,a){T(t,n,r,a),I(r,a,r,a)}function Ue(t,n,r,a,E){let l=h*t[n],u=h*t[n+1],C=t[n+2],R=Math.sin(u),P=Math.cos(u),s=E.radius/Math.sqrt(1-E.eccentricitySquared*R*R);r[a++]=(s+C)*P*Math.cos(l),r[a++]=(s+C)*P*Math.sin(l),r[a++]=(s*(1-E.eccentricitySquared)+C)*R}function I(t,n,r,a){Ue(t,n,r,a,_)}function p(t,n,r,a){let E=Re,l=t[n],u=t[n+1],C=t[n+2],R,P,s,i,M,w,K,c,A,d,g,B,b,N,L,j,k,q,G,z,J;R=Math.abs(C),P=l*l+u*u,s=Math.sqrt(P),i=P+C*C,M=Math.sqrt(i),z=Math.atan2(u,l),w=C*C/i,K=P/i,N=E.a2/M,L=E.a3-E.a4/M,K>.3?(c=R/M*(1+K*(E.a1+N+w*L)/M),G=Math.asin(c),d=c*c,A=Math.sqrt(1-d)):(A=s/M*(1-w*(E.a5-N-K*L)/M),G=Math.acos(A),d=1-A*A,c=Math.sqrt(d)),g=1-_.eccentricitySquared*d,B=_.radius/Math.sqrt(g),b=E.a6*B,N=s-B*A,L=R-b*c,k=A*N+c*L,j=A*L-c*N,q=j/(b/g+k),G+=q,J=k+j*q/2,C<0&&(G=-G),r[a++]=H*z,r[a++]=H*G,r[a]=J}function Ke(t,n,r,a){p(t,n,r,a),U(r,a,r,a)}function we(t,n,r,a){p(t,n,r,a),F(r,a,r,a)}var o={source:{spatialReference:null,spatialReferenceId:e.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:e.UNKNOWN,metersPerUnit:1},projector:S},h=V(1),H=X(1),Oe=.5*Math.PI,O=_.radius,_e=O*Math.PI/180,ie=180/(O*Math.PI);function De(t,n,r,a,E,l,u=Math.floor(t.length/3)){let C=Me(n,E);if(C==null)return!1;if(C===S){if(t===a&&r===l)return!0;let P=r+3*u;for(let s=r,i=l;s<P;s++,i++)a[i]=t[s];return!0}let R=r+3*u;for(let P=r,s=l;P<R;P+=3,s+=3)C(t,P,a,s);return!0}export{e as a,Ne as b,Me as c,Le as d,We as e,D as f,De as g};
