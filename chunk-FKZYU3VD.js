import{a as y,b as s}from"./chunk-L5JJXC3A.js";import{a as d}from"./chunk-L7NOU4T2.js";import{a as g}from"./chunk-4XEE5PE3.js";import{a as h}from"./chunk-A5S42OSQ.js";import{a as f}from"./chunk-F6TN7E7K.js";import{a as u}from"./chunk-HUUJBVXR.js";import{a as l}from"./chunk-4LDVFWME.js";import{a as F}from"./chunk-DHLVTH5U.js";import{a as c}from"./chunk-WVKBXQWE.js";import{a as t}from"./chunk-47NSYSFY.js";import{a as n}from"./chunk-QGVBCWUY.js";var e;(function(a){a[a.None=0]="None",a[a.Alpha=1]="Alpha",a[a.PremultipliedAlpha=2]="PremultipliedAlpha",a[a.Depth=3]="Depth",a[a.COUNT=4]="COUNT"})(e||(e={}));var i=class extends y{constructor(){super(...arguments),this.blitMode=e.None,this.hasOpacityFactor=!1}};n([s({count:e.COUNT})],i.prototype,"blitMode",void 0),n([s()],i.prototype,"hasOpacityFactor",void 0);var m=class extends d{constructor(){super(...arguments),this.opacity=1}};function x(a){let r=new F;r.include(g),r.fragment.uniforms.add(new l("tex",o=>o.texture)),a.hasOpacityFactor&&r.fragment.uniforms.add(new u("opacity",o=>o.opacity));let p=a.blitMode===e.Depth;return p&&(r.fragment.uniforms.add(new f("nearFar",o=>o.camera.nearFar)),r.fragment.include(h),r.fragment.include(c)),r.fragment.main.add(t`
    ${p?t`
          float normalizedLinearDepth = (-linearDepthFromTexture(tex, uv) - nearFar[0]) / (nearFar[1] - nearFar[0]);
          fragColor = float2rgba(normalizedLinearDepth);`:t`
          fragColor = texture(tex, uv) ${a.hasOpacityFactor?"* opacity":""};`}`),r}var A=Object.freeze(Object.defineProperty({__proto__:null,CompositingPassParameters:m,build:x},Symbol.toStringTag,{value:"Module"}));export{e as a,i as b,m as c,x as d,A as e};
