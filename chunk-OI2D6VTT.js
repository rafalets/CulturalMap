import{f as O}from"./chunk-RJWOVI3M.js";import{r as z}from"./chunk-HHDFN2GK.js";var R=()=>z.getLogger("esri.views.3d.support.buffer.math");function A(t,o,e){if(t.count!==o.count)return;let n=t.count,s=e[0],i=e[1],a=e[2],r=e[3],f=e[4],u=e[5],c=e[6],d=e[7],m=e[8],v=e[9],y=e[10],B=e[11],g=e[12],G=e[13],w=e[14],V=e[15],l=t.typedBuffer,L=t.typedBufferStride,p=o.typedBuffer,_=o.typedBufferStride;for(let j=0;j<n;j++){let h=j*L,S=j*_,M=p[S],b=p[S+1],T=p[S+2],x=p[S+3];l[h]=s*M+f*b+m*T+g*x,l[h+1]=i*M+u*b+v*T+G*x,l[h+2]=a*M+c*b+y*T+w*x,l[h+3]=r*M+d*b+B*T+V*x}}function C(t,o,e,n=4,s=n){if(t.length/n!=o.length/s)return void R().error("source and destination buffers need to have the same number of elements");let i=t.length/n,a=e[0],r=e[1],f=e[2],u=e[3],c=e[4],d=e[5],m=e[6],v=e[7],y=e[8],B=e[9],g=e[10],G=e[11],w=e[12],V=e[13],l=e[14],L=e[15],p=0,_=0;for(let j=0;j<i;j++){let h=o[p],S=o[p+1],M=o[p+2],b=o[p+3];t[_]=a*h+c*S+y*M+w*b,t[_+1]=r*h+d*S+B*M+V*b,t[_+2]=f*h+m*S+g*M+l*b,t[_+3]=u*h+v*S+G*M+L*b,p+=s,_+=n}}function D(t,o,e){q(t.typedBuffer,o.typedBuffer,e,t.typedBufferStride,o.typedBufferStride)}function q(t,o,e,n=4,s=n){if(t.length/n!=o.length/s)return;let i=t.length/n,a=e[0],r=e[1],f=e[2],u=e[3],c=e[4],d=e[5],m=e[6],v=e[7],y=e[8],B=0,g=0;for(let G=0;G<i;G++){let w=o[B],V=o[B+1],l=o[B+2],L=o[B+3];t[g]=a*w+u*V+m*l,t[g+1]=r*w+c*V+v*l,t[g+2]=f*w+d*V+y*l,t[g+3]=L,B+=s,g+=n}}function E(t,o){let e=Math.min(t.count,o.count),n=t.typedBuffer,s=t.typedBufferStride,i=o.typedBuffer,a=o.typedBufferStride;for(let r=0;r<e;r++){let f=r*s,u=r*a,c=i[u],d=i[u+1],m=i[u+2],v=c*c+d*d+m*m;if(v>0){let y=1/Math.sqrt(v);n[f]=y*c,n[f+1]=y*d,n[f+2]=y*m}}}function F(t,o,e){P(t.typedBuffer,o,e,t.typedBufferStride)}function P(t,o,e,n=4){let s=Math.min(t.length/n,o.count),i=o.typedBuffer,a=o.typedBufferStride,r=0,f=0;for(let u=0;u<s;u++)t[f]=e*i[r],t[f+1]=e*i[r+1],t[f+2]=e*i[r+2],t[f+3]=e*i[r+3],r+=a,f+=n}function H(t,o,e,n){k(t.typedBuffer,o,e,n,t.typedBufferStride)}function k(t,o,e,n,s=4){let i=Math.min(t.length/s,o.count),a=o.typedBuffer,r=o.typedBufferStride,f=0,u=0,c=1/O;for(let d=0;d<i;d++)t[u]=n*(e*a[f])**c,t[u+1]=n*(e*a[f+1])**c,t[u+2]=n*(e*a[f+2])**c,t[u+3]=n*e*a[f+3],f+=r,u+=s}var U=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:k,linearToSRGBView:H,normalize:E,scale:P,scaleView:F,transformMat3:q,transformMat3View:D,transformMat4:C,transformMat4View:A},Symbol.toStringTag,{value:"Module"}));export{D as a,q as b,E as c,H as d,k as e};
