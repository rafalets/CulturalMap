import{a as q}from"./chunk-DLYBSV6I.js";import{$a as X,A as v,B as w,Cb as Y,Gb as b,Ia as C,T,bb as D,hb as L,pb as O}from"./chunk-UNRRVLTB.js";import"./chunk-6DVIB4O4.js";import{F as P,b as p,g as S,o as E,y as G}from"./chunk-JLMESEWM.js";import{d as h,e as d}from"./chunk-QGVBCWUY.js";import"./chunk-VTHXE323.js";var I=class{getOperatorType(){return 10311}supportsCurves(){return!0}accelerateGeometry(t,r,m){return!1}canAccelerateGeometry(t){return!1}execute(t,r,m,a){if(m===4)return new q().execute(t,r,a);if(r.getCoordinateSystemType()===0&&E(""),G(t),t.isEmpty()||t.getDimension()<1)return 0;let s=r.getGCS(),n=O();s.querySpheroidData(n);let c=n.majorSemiAxis,g=n.e2,u=s.getUnit().getUnitToBaseFactor(),e,o=t.getGeometryType();if(o===p.enumPolygon?e=t.getBoundary():o===p.enumEnvelope?e=w(t):S(o)?(e=new v({vd:t.getDescription()}),e.addSegment(t,!0)):e=t,e.hasNonLinearSegments()&&(e=new T().execute(e,0,r.getTolerance(0),0,a)),s!==r){let i=r.getSRToGCSTransform();if(r.isPannable()){e=D(e,r),o===p.enumPolyline&&e===t&&(e=t.clone());let y=new P;r.getPannableExtent().queryIntervalX(y);for(let l=0,_=e.getPointCount();l<_;l++){let f=e.getXY(l);f.x=X(f.x,y),e.setXY(l,f)}}let x=e.createInstance();e=L(i,e,x,a)?x:new C().execute(e,i,a)}return this._ExecuteMultiPathGeodeticLength(e,m,c,g,u)}_ExecuteMultiPathGeodeticLength(t,r,m,a,s){let n={stack:[],error:void 0,hasError:!1};try{let c=h(n,new Y,!1),g=0,u=t.querySegmentIterator();for(;u.nextPath();)for(;u.hasNextSegment();){let e=u.nextSegment(),o=e.getStartXY(),i=e.getEndXY();o.scale(s),i.scale(s),b.geodeticDistance(m,a,o.x,o.y,i.x,i.y,c,null,null,r),g+=c.val}return g}catch(c){n.error=c,n.hasError=!0}finally{d(n)}}};export{I as OperatorGeodeticLength};
