import{a as K}from"./chunk-LNYBTIG7.js";import{c as H,f as u,h as J}from"./chunk-SKMO433W.js";import{a as G}from"./chunk-7C6Z24SS.js";import{a as l,b as P,c as h,d,e as m,m as p,n as I,o as k,p as L,q as U,t as v,u as E,v as b,w as X,x as Y}from"./chunk-5WKDXHVH.js";import{a as w,c as T}from"./chunk-PTZYZULI.js";import{a as x,m as R}from"./chunk-KZKWOEFD.js";import{p as F}from"./chunk-7B2UKJ5N.js";import{a as D}from"./chunk-RSDQHAJX.js";import{a as f,b as C}from"./chunk-NHSDW26F.js";import{a as S}from"./chunk-BCREO4Q5.js";import{i as N,j as Z}from"./chunk-VOFKUGRY.js";function y(t){return t?Q(C(t.origin),C(t.direction)):Q(f(),f())}function Q(t,r){return{origin:t,direction:r}}function Lt(t,r){let n=ct.get();return n.origin=t,n.direction=r,n}function Ut(t,r=y()){return at(t.origin,t.direction,r)}function W(t,r,n=y()){return P(n.origin,t),m(n.direction,r,t),n}function at(t,r,n=y()){return P(n.origin,t),P(n.direction,r),n}function Xt(t,r){let n=b(u.get(),v(u.get(),t.direction),m(u.get(),r,t.origin));return E(n,n)}function $(t,r,n){let o=E(t.direction,m(n,r,t.origin));return d(n,t.origin,p(n,t.direction,o)),n}var ct=new K(()=>y()),Yt=f(),Gt=f(),Ht=f(),Jt=G();function O(t,r){let n=l(t),o=Z(t[2]/n),s=Math.atan2(t[1]/n,t[0]/n);return h(r,n,o,s),r}var ut=V();function V(){return w()}var ft=R,mt=R;function tt(t,r){return x(r,t)}function lt(t,r){return T(t[0],t[1],t[2],r)}function gt(t){return t}function pt(t){t[0]=t[1]=t[2]=t[3]=0}function ht(t,r){return t[0]=t[1]=t[2]=0,t[3]=r,t}function q(t){return t[3]}function dt(t){return t}function Mt(t,r,n,o){return T(t,r,n,o)}function St(t,r,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+r,n}function bt(t,r,n){return t!==n&&tt(t,n),n}function qt(t,r){return r}function A(t,r,n){if(r==null||!nt(t,r,j))return!1;let{t0:o,t1:s}=j;if((o<0||s<o&&s>0)&&(o=s),o<0)return!1;if(n){let{origin:i,direction:e}=r;n[0]=i[0]+e[0]*o,n[1]=i[1]+e[1]*o,n[2]=i[2]+e[2]*o}return!0}function xt(t,r,n){let o=W(r,n);if(!nt(t,o,j))return[];let{origin:s,direction:i}=o,{t0:e,t1:a}=j,c=g=>{let M=f();return I(M,s,i,g),B(t,M,M)};return Math.abs(e-a)<D()?[c(e)]:[c(e),c(a)]}var j={t0:0,t1:0};function nt(t,r,n){let{origin:o,direction:s}=r,i=Pt;i[0]=o[0]-t[0],i[1]=o[1]-t[1],i[2]=o[2]-t[2];let e=s[0]*s[0]+s[1]*s[1]+s[2]*s[2];if(e===0)return!1;let a=2*(s[0]*i[0]+s[1]*i[1]+s[2]*i[2]),c=a*a-4*e*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(c<0)return!1;let g=Math.sqrt(c);return n.t0=(-a-g)/(2*e),n.t1=(-a+g)/(2*e),!0}var Pt=f();function vt(t,r){return A(t,r,null)}function yt(t,r,n){if(A(t,r,n))return n;let o=rt(t,r,u.get());return d(n,r.origin,p(u.get(),r.direction,k(r.origin,o)/l(r.direction))),n}function rt(t,r,n){let o=u.get(),s=J.get();b(o,r.origin,r.direction);let i=q(t);b(n,o,r.origin),p(n,n,1/l(n)*i);let e=ot(t,r.origin),a=H(r.origin,n);return F(s,a+e,o),Y(n,n,s),n}function jt(t,r,n,o){let s=q(t),i=s*s,e=r+.5*Math.PI,a=n*n+i-2*Math.cos(e)*n*s,c=Math.sqrt(a),g=a-i;if(g<=0)return .5;let M=Math.sqrt(g),et=Math.acos(M/c)-Math.asin(s/(c/Math.sin(e)));return Math.min(1,(et+.5*o)/o)}function At(t,r,n){return A(t,r,n)?n:($(r,t,n),B(t,n,n))}function B(t,r,n){let o=m(u.get(),r,t),s=p(u.get(),o,t[3]/l(o));return d(n,s,t)}function Ct(t,r){let n=m(u.get(),r,t),o=U(n),s=t[3]*t[3];return Math.sqrt(Math.abs(o-s))}function ot(t,r){let n=m(u.get(),r,t),o=l(n),s=q(t),i=s+Math.abs(s-o);return N(s/i)}var _=f();function st(t,r,n,o){let s=m(_,r,t);switch(n){case S.X:{let i=O(s,_)[2];return h(o,-Math.sin(i),Math.cos(i),0)}case S.Y:{let i=O(s,_),e=i[1],a=i[2],c=Math.sin(e);return h(o,-c*Math.cos(a),-c*Math.sin(a),Math.cos(e))}case S.Z:return v(o,s);default:return}}function it(t,r){let n=m(z,r,t);return l(n)-t[3]}function Rt(t,r,n,o){let s=it(t,r),i=st(t,r,S.Z,z),e=p(z,i,n-s);return d(o,r,e)}function wt(t,r){let n=L(t,r),o=q(t);return n<=o*o}function Tt(t,r,n=w()){let o=k(t,r),s=t[3],i=r[3];return o+i<s?(x(n,t),n):o+s<i?(x(n,r),n):(X(n,t,r,(o+i-s)/(2*o)),n[3]=(o+s+i)/2,n)}var z=f(),kt=V(),hn=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:ut,altitudeAt:it,angleToSilhouette:ot,axisAt:st,cameraFrustumCoverage:jt,clear:pt,closestPoint:At,closestPointOnSilhouette:rt,containsPoint:wt,copy:tt,create:V,distanceToSilhouette:Ct,elevate:St,equals:mt,exactEquals:ft,fromCenterAndRadius:lt,fromRadius:ht,fromValues:Mt,getCenter:dt,getExtent:qt,getRadius:q,intersectLine:xt,intersectRay:A,intersectRayClosestSilhouette:yt,intersectsRay:vt,projectPoint:B,setAltitudeAt:Rt,setExtent:bt,tmpSphere:kt,union:Tt,wrap:gt},Symbol.toStringTag,{value:"Module"}));export{y as a,Lt as b,Ut as c,W as d,Xt as e,ut as f,V as g,ft as h,tt as i,lt as j,q as k,Mt as l,xt as m,vt as n,B as o,wt as p,hn as q};
