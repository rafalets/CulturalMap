function y(t,o,r,e){var i,n=arguments.length,s=n<3?o:e===null?e=Object.getOwnPropertyDescriptor(o,r):e;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,o,r,e);else for(var f=t.length-1;f>=0;f--)(i=t[f])&&(s=(n<3?i(s):n>3?i(o,r,s):i(o,r))||s);return n>3&&s&&Object.defineProperty(o,r,s),s}function d(t,o){return function(r,e){o(r,e,t)}}function h(t,o,r,e){function i(n){return n instanceof r?n:new r(function(s){s(n)})}return new(r||(r=Promise))(function(n,s){function f(c){try{u(e.next(c))}catch(a){s(a)}}function p(c){try{u(e.throw(c))}catch(a){s(a)}}function u(c){c.done?n(c.value):i(c.value).then(f,p)}u((e=e.apply(t,o||[])).next())})}function w(t,o,r){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var e,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");e=o[Symbol.asyncDispose]}if(e===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");e=o[Symbol.dispose],r&&(i=e)}if(typeof e!="function")throw new TypeError("Object not disposable.");i&&(e=function(){try{i.call(this)}catch(n){return Promise.reject(n)}}),t.stack.push({value:o,dispose:e,async:r})}else r&&t.stack.push({async:!0});return o}var l=typeof SuppressedError=="function"?SuppressedError:function(t,o,r){var e=new Error(r);return e.name="SuppressedError",e.error=t,e.suppressed=o,e};function v(t){function o(n){t.error=t.hasError?new l(n,t.error,"An error was suppressed during disposal."):n,t.hasError=!0}var r,e=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&e===1)return e=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var n=r.dispose.call(r.value);if(r.async)return e|=2,Promise.resolve(n).then(i,function(s){return o(s),i()})}else e|=1}catch(s){o(s)}if(e===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}export{y as a,d as b,h as c,w as d,v as e};
