import{a as c}from"./chunk-L7NOU4T2.js";import{t as p}from"./chunk-HHDFN2GK.js";import{i as _}from"./chunk-47GHT6OF.js";var h=class{constructor(e){this._bits=[...e]}equals(e){return _(this._bits,e.bits)}get code(){return this._code??=String.fromCharCode(...this._bits),this._code}get bits(){return this._bits}};var f=class extends c{constructor(){super(),this._parameterBits=this._parameterBits?.map(()=>0)??[],this._parameterNames??=[]}get key(){return this._key??=new h(this._parameterBits),this._key}decode(e=this.key){let r=this._parameterBits;this._parameterBits=[...e.bits];let u=this._parameterNames.map(s=>`    ${s}: ${this[s]}`).join(`
`);return this._parameterBits=r,u}};function d(o={}){return(e,r)=>{e.hasOwnProperty("_parameterNames")||Object.defineProperty(e,"_parameterNames",{value:e._parameterNames?.slice()??[],configurable:!0,writable:!0}),e.hasOwnProperty("_parameterBits")||Object.defineProperty(e,"_parameterBits",{value:e._parameterBits?.slice()??[0],configurable:!0,writable:!0}),e._parameterNames.push(r);let u=o.count||2,s=Math.ceil(Math.log2(u)),n=e._parameterBits,t=0;for(;n[t]+s>16;)t++,t>=n.length&&n.push(0);let m=n[t],a=(1<<s)-1<<m;n[t]+=s,o.count?Object.defineProperty(e,r,{get(){return(this._parameterBits[t]&a)>>m},set(i){if(this[r]!==i){if(this._key=null,this._parameterBits[t]=this._parameterBits[t]&~a|+i<<m&a,typeof i!="number")throw new p(`Configuration value for ${r} must be a number, got ${typeof i}`);if(o.count==null)throw new p(`Configuration value for ${r} must provide a count option`)}}}):Object.defineProperty(e,r,{get(){return!!((this._parameterBits[t]&a)>>m)},set(i){if(this[r]!==i&&(this._key=null,this._parameterBits[t]=this._parameterBits[t]&~a|+i<<m&a,typeof i!="boolean"))throw new p(`Configuration value for ${r} must be boolean, got ${typeof i}`)}})}}export{f as a,d as b};
