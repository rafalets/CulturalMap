import{b as d}from"./chunk-EKMHQEJY.js";import{L as V}from"./chunk-C7INQGWT.js";import{a as g}from"./chunk-FNXQZPHT.js";var k=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function m(e){return e instanceof V}function D(e){return e instanceof d?Object.keys(e.items):m(e)?g(e).keys():e?Object.keys(e):[]}function p(e,n){return e instanceof d?e.items[n]:e[n]}function O(e,n){return!(!Array.isArray(e)||!Array.isArray(n))&&e.length!==n.length}function c(e){return e?e.declaredClass:null}function j(e,n){let t=e.diff;if(t&&typeof t=="function")return t(e,n);let i=D(e),l=D(n);if(i.length===0&&l.length===0)return;if(!i.length||!l.length||O(e,n))return{type:"complete",oldValue:e,newValue:n};let s=l.filter(o=>!i.includes(o)),w=i.filter(o=>!l.includes(o)),h=i.filter(o=>l.includes(o)&&p(e,o)!==p(n,o)).concat(s,w).sort(),b=c(e);if(b&&k.has(b)&&h.length)return{type:"complete",oldValue:e,newValue:n};let a,A=m(e)&&m(n);for(let o of h){let r=p(e,o),f=p(n,o),u;if((A||typeof r!="function"&&typeof f!="function")&&r!==f&&(r!=null||f!=null)){if(t&&t[o]&&typeof t[o]=="function")u=t[o]?.(r,f);else if(r instanceof Date&&f instanceof Date){if(r.getTime()===f.getTime())continue;u={type:"complete",oldValue:r,newValue:f}}else u=typeof r=="object"&&typeof f=="object"&&c(r)===c(f)?j(r,f):{type:"complete",oldValue:r,newValue:f};u!=null&&(a!=null?a.diff[o]=u:a={type:"partial",diff:{[o]:u}})}}return a}function T(e,n){return P(e,n)}function P(e,n){if(e==null)return!1;let t=n.split("."),i=e;for(let l of t){if(i.type==="complete")return!0;if(i.type!=="partial")return!1;{let s=i.diff[l];if(!s)return!1;i=s}}return!0}function v(e,n){if(!e)return!1;if(e.type==="partial"){let t=Object.keys(e.diff);return t.length===1&&t[0]===n}return!1}function x(e,n){if(typeof e!="function"&&typeof n!="function"&&(e!=null||n!=null))return e==null||n==null||typeof e=="object"&&typeof n=="object"&&c(e)!==c(n)?{type:"complete",oldValue:e,newValue:n}:j(e,n)}function y(e){if(e==null)return!0;switch(e.type){case"complete":return!1;case"collection":{let n=e;for(let t of n.added)if(!y(t))return!1;for(let t of n.removed)if(!y(t))return!1;for(let t of n.changed)if(!y(t))return!1;return!0}case"partial":for(let n in e.diff)if(!y(e.diff[n]))return!1;return!0}}export{T as a,P as b,v as c,x as d,y as e};
