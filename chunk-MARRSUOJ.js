import{d as _n,l as nn}from"./chunk-IB6IQS7A.js";import{b as xn,d as An}from"./chunk-LVYFLVM5.js";import{a as _,b as x}from"./chunk-LWVUOW7N.js";import{a as Z}from"./chunk-OCNYIIP3.js";import{f as gn}from"./chunk-LNVVFNTC.js";import{a as Sn,d as Nn}from"./chunk-X5AA4JDN.js";import{a as y,b as Zn,c as g,d,f as N,g as Tn,h as R}from"./chunk-J372WZPB.js";import{d as w,e as bn}from"./chunk-6XFS4U2F.js";import{a as G}from"./chunk-XPRVY6JT.js";import{h as z}from"./chunk-7N3ZKWML.js";import{i as yn}from"./chunk-E62WHYYG.js";import{i as q}from"./chunk-QDTU3MWT.js";import{j}from"./chunk-I4M2OT5W.js";import{a as D,n as F}from"./chunk-NTVLK3P2.js";import{a as pn}from"./chunk-WMQNRNIU.js";import{d as X}from"./chunk-7IPIJKWU.js";import{a as Q}from"./chunk-7R33MKVL.js";import{c as hn}from"./chunk-E57FTRWF.js";import{K as dn}from"./chunk-D2LVMNOU.js";import{k as mn}from"./chunk-HHDFN2GK.js";import{f as W}from"./chunk-VTHXE323.js";var v=class{};var O=class{constructor(){}};function Cn(n,r,e){if(n instanceof O&&!(n instanceof I)){let i=new I;return i.fn=n,i.parameterEvaluator=e,i.context=r,i}return n}var kn=class extends O{constructor(r){super(),this.fn=r}createFunction(r){return(...e)=>this.fn(r,{preparsed:!0,arguments:e})}call(r,e){return this.fn(r,e)}marshalledCall(r,e,i,t){return t(r,e,(s,l,o)=>{o=o.map(c=>c instanceof O&&!(c instanceof I)?Cn(c,r,t):c);let m=this.call(i,{args:o});return dn(m)?m.then(c=>Cn(c,i,t)):m})}},I=class extends O{constructor(){super(...arguments),this.fn=null,this.context=null}createFunction(r){return this.fn.createFunction(this.context)}call(r,e){return this.fn.marshalledCall(r,e,this.context,this.parameterEvaluator)}marshalledCall(r,e,i){return this.fn.marshalledCall(r,e,this.context,this.parameterEvaluator)}};var A=class n extends Z{constructor(r,e,i,t,s,l){super(r),this._lazyPt=[],this._hasZ=!1,this._hasM=!1,this._spRef=e,this._hasZ=i,this._hasM=t,this._cacheId=s,this._partId=l}get(r){if(this._lazyPt[r]===void 0){let e=this._elements[r];if(e===void 0)return;let i=new F(e[0],e[1],this._spRef);this._hasZ&&(i.z=e[2]),this._hasM&&(i.m=this._hasZ?e[3]:e[2]),i.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+r.toString(),this._lazyPt[r]=i}return this._lazyPt[r]}equalityTest(r){return r===this||r!==null&&r instanceof n&&r.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()+"-"+this._partId.toString()}};var E=class n extends Z{constructor(r,e,i,t,s){super(r),this._lazyPath=[],this._hasZ=!1,this._hasM=!1,this._hasZ=i,this._hasM=t,this._spRef=e,this._cacheId=s}get(r){if(this._lazyPath[r]===void 0){let e=this._elements[r];if(e===void 0)return;this._lazyPath[r]=new A(e,this._spRef,this._hasZ,this._hasM,this._cacheId,r)}return this._lazyPath[r]}equalityTest(r){return r===this||r!==null&&r instanceof n&&r.getUniqueHash()===this.getUniqueHash()}getUniqueHash(){return this._cacheId.toString()}};var en=class{constructor(r){this.value=r}},tn=class{constructor(r){this.value=r}},b={type:"VOID"},Gn=Symbol("BREAK"),zn=Symbol("CONTINUE");function P(n,r,e){return r===""||r==null||r===e||r===e?n:n=n.split(r).join(e)}function U(n){return n instanceof O}function on(n){return n instanceof v}function V(n){return!!d(n)||!!y(n)||!!f(n)||!!h(n)||!!p(n)||!!g(n)||n===null||n===b||typeof n=="number"}function qn(n,r){return n===void 0?r:n}function En(n){return n==null?"":N(n)||k(n)?"Array":f(n)?"Date":p(n)?"Time":h(n)?"DateOnly":d(n)?"String":g(n)?"Boolean":y(n)?"Number":n?.declaredClass==="esri.arcade.Attachment"?"Attachment":n?.declaredClass==="esri.arcade.Portal"?"Portal":n?.declaredClass==="esri.arcade.Dictionary"?"Dictionary":Jn(n)?"KnowledgeGraph":n instanceof v?"Module":$(n)?"Feature":n instanceof F?"Point":n instanceof z?"Polygon":n instanceof q?"Polyline":n instanceof G?"Multipoint":n instanceof j?"Extent":U(n)?"Function":On(n)?"FeatureSet":Mn(n)?"FeatureSetCollection":un(n)?"Voxel":n===b?"":typeof n=="number"&&isNaN(n)?"Number":"Unrecognized Type"}function Fn(n){return n instanceof D}function $(n){return n?.arcadeDeclaredClass==="esri.arcade.Feature"}function un(n){return n?.arcadeDeclaredClass==="esri.arcade.Voxel"}function On(n){return n?.declaredRootClass==="esri.arcade.featureset.support.FeatureSet"}function wn(n){return n?.declaredClass==="esri.arcade.Dictionary"}function Vn(n){return wn(n)||$(n)||un(n)}function Mn(n){return n?.declaredRootClass==="esri.arcade.featureSetCollection"}function Jn(n){return n?.declaredClass==="esri.rest.knowledgeGraph.KnowledgeGraph"}function k(n){return n instanceof Z}function f(n){return n instanceof w}function h(n){return n instanceof Sn}function p(n){return n instanceof Nn}function an(n){return n!=null&&typeof n=="object"}function Hn(n,r,e,i,t){if(n.length<r||n.length>e)throw new x(i,_.WrongNumberOfParameters,t)}function Un(n){return n<0?-Math.round(-n):Math.round(n)}function ln(n,r){return isNaN(n)||r==null||r===""?n.toString():(r=P(r,"\u2030",""),r=P(r,"\xA4",""),xn(n,{pattern:r}))}function B(n,r){return r==null||r===""?n.toISOString(!0):n.toFormat(Rn(r),{locale:Q(),numberingSystem:"latn"})}function Rn(n,r=!1){n=n.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="",i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|Z{1,5}|.)/g;for(let t of n.match(i)||[])switch(t){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"Z":e+="Z";break;case"ZZ":e+="ZZ";break;case"ZZZ":e+="ZZZ";break;case"ZZZZ":e+=r?"[ZZZZ]":"ZZZZ";break;case"ZZZZZ":e+=r?"[ZZZZZ]":"ZZZZZ";break;case"S":e+="'S'";break;case"SS":e+="'SS'";break;case"SSS":e+="u";break;case"A":case"a":e+="a";break;case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":case"X":case"x":e+=t;break;default:t.length>=2&&t.slice(0,1)==="["&&t.slice(-1)==="]"?e+=`'${t.slice(1,-1)}'`:e+=`'${t}'`}return e}function a(n,r,e){switch(e){case">":return n>r;case"<":return n<r;case">=":return n>=r;case"<=":return n<=r}return!1}function $n(n,r,e){if(n===null){if(r===null||r===b)return a(null,null,e);if(y(r))return a(0,r,e);if(d(r)||g(r))return a(0,u(r),e);if(f(r))return a(0,r.toNumber(),e);if(p(r)||h(r))return a(n,r.toNumber(),e)}if(n===b){if(r===null||r===b)return a(null,null,e);if(y(r))return a(0,r,e);if(d(r)||g(r))return a(0,u(r),e);if(f(r))return a(0,r.toNumber(),e);if(p(r)||h(r))return a(n,r.toNumber(),e)}else if(y(n)){if(y(r))return a(n,r,e);if(g(r))return a(n,u(r),e);if(r===null||r===b)return a(n,0,e);if(d(r))return a(n,u(r),e);if(f(r)||p(r)||h(r))return a(n,r.toNumber(),e)}else if(d(n)){if(d(r))return a(C(n),C(r),e);if(f(r)||p(r)||h(r))return a(u(n),r.toNumber(),e);if(y(r))return a(u(n),r,e);if(r===null||r===b)return a(u(n),0,e);if(g(r))return a(u(n),u(r),e)}else if(f(n)){if(f(r))return n.timeZone!==r.timeZone&&(n.isUnknownTimeZone?n=w.arcadeDateAndZoneToArcadeDate(n,r.timeZone):r.isUnknownTimeZone&&(r=w.arcadeDateAndZoneToArcadeDate(r,n.timeZone))),a(n.toNumber(),r.toNumber(),e);if(r===null||r===b)return a(n.toNumber(),0,e);if(y(r))return a(n.toNumber(),r,e);if(g(r)||d(r))return a(n.toNumber(),u(r),e);if(p(r))throw new x(null,_.CannotCompareDateAndTime,null);if(h(r))return a(n.toNumber(),r.toNumber(),e)}else if(g(n)){if(g(r))return a(n,r,e);if(y(r))return a(u(n),u(r),e);if(f(r)||p(r)||h(r))return a(u(n),r.toNumber(),e);if(r===null||r===b)return a(u(n),0,e);if(d(r))return a(u(n),u(r),e)}else if(h(n)){if(f(r))return a(n.toNumber(),r.toNumber(),e);if(r===null||r===b)return a(n.toNumber(),0,e);if(y(r))return a(n.toNumber(),r,e);if(g(r)||d(r))return a(n.toNumber(),u(r),e);if(p(r))throw new x(null,_.CannotCompareDateAndTime,null);if(h(r))return a(n.toNumber(),r.toNumber(),e)}else if(p(n)){if(f(r))throw new x(null,_.CannotCompareDateAndTime,null);if(r===null||r===b)return a(n.toNumber(),0,e);if(y(r))return a(n.toNumber(),r,e);if(g(r)||d(r))return a(n.toNumber(),u(r),e);if(p(r))return a(n.toNumber(),r.toNumber(),e);if(h(r))throw new x(null,_.CannotCompareDateAndTime,null)}return!!vn(n,r)&&(e==="<="||e===">=")}function vn(n,r){if(n===r||n===null&&r===b||r===null&&n===b)return!0;if(f(n)&&f(r)||p(n)&&p(r)||h(n)&&h(r))return n.equals(r);if(n instanceof E||n instanceof A)return n.equalityTest(r);if(n instanceof F&&r instanceof F){let e=n.cache._arcadeCacheId,i=r.cache._arcadeCacheId;if(e!=null)return e===i}return!!(an(n)&&an(r)&&(n._arcadeCacheId===r._arcadeCacheId&&n._arcadeCacheId!==void 0&&n._arcadeCacheId!==null||n._underlyingGraphic===r._underlyingGraphic&&n._underlyingGraphic!==void 0&&n._underlyingGraphic!==null))}function Bn(n,{useNumbersForDates:r}){let e="";for(let i in n){e!==""&&(e+=",");let t=n[i];t==null?e+=JSON.stringify(i)+":null":g(t)||y(t)||d(t)?e+=JSON.stringify(i)+":"+JSON.stringify(t):Fn(t)?e+=JSON.stringify(i)+":"+M(t):p(t)||h(t)?e+=`${JSON.stringify(i)}:${JSON.stringify(t.toString())}`:k(t)||Array.isArray(t)?e+=JSON.stringify(i)+":"+M(t,null,r):f(t)?e+=r?JSON.stringify(i)+":"+JSON.stringify(t.getTime()):JSON.stringify(i)+":"+t.stringify():t!==null&&typeof t=="object"&&"castToText"in t&&(e+=JSON.stringify(i)+":"+t.castToText(r))}return"{"+e+"}"}function C(n,r){if(d(n))return n;if(n===null)return"";if(y(n))return ln(n,r);if(g(n))return n.toString();if(f(n))return B(n,r);if(p(n)||h(n))return n.toFormat(r);if(n instanceof D)return JSON.stringify(n.toJSON());if(N(n)){let e=[];for(let i=0;i<n.length;i++)e[i]=H(n[i]);return"["+e.join(",")+"]"}if(n instanceof Z){let e=[];for(let i=0;i<n.length();i++)e[i]=H(n.get(i));return"["+e.join(",")+"]"}return n!==null&&typeof n=="object"&&"castToText"in n?n.castToText():U(n)?"object, Function":n===b?"":on(n)?"object, Module":""}function Kn(n){let r=[];if(n instanceof Z){for(let e=0;e<n.length();e++)r[e]=u(n.get(e));return r}if(!N(n))return null;for(let e=0;e<n.length;e++)r[e]=u(n[e]);return r}function M(n,r,e=!1){if(d(n))return n;if(n===null)return"";if(y(n))return ln(n,r);if(g(n))return n.toString();if(f(n))return B(n,r);if(p(n)||h(n))return n.toFormat(r);if(n instanceof D)return n instanceof j?'{"xmin":'+n.xmin.toString()+',"ymin":'+n.ymin.toString()+","+(n.hasZ?'"zmin":'+n.zmin.toString()+",":"")+(n.hasM?'"mmin":'+n.mmin.toString()+",":"")+'"xmax":'+n.xmax.toString()+',"ymax":'+n.ymax.toString()+","+(n.hasZ?'"zmax":'+n.zmax.toString()+",":"")+(n.hasM?'"mmax":'+n.mmax.toString()+",":"")+'"spatialReference":'+sn(n.spatialReference)+"}":sn(n.toJSON(),(i,t)=>i.key===t.key?0:i.key==="spatialReference"?1:t.key==="spatialReference"||i.key<t.key?-1:i.key>t.key?1:0);if(N(n)){let i=[];for(let t=0;t<n.length;t++)i[t]=H(n[t],e);return"["+i.join(",")+"]"}if(n instanceof Z){let i=[];for(let t=0;t<n.length();t++)i[t]=H(n.get(t),e);return"["+i.join(",")+"]"}return n!==null&&typeof n=="object"&&"castToText"in n?n.castToText(e):U(n)?"object, Function":n===b?"":on(n)?"object, Module":""}function H(n,r=!1){if(n===null)return"null";if(g(n)||y(n)||d(n))return JSON.stringify(n);if(n instanceof D||n instanceof Z||Array.isArray(n))return M(n,null,r);if(f(n))return JSON.stringify(r?n.getTime():B(n,""));if(p(n)||h(n))return JSON.stringify(n.toString());if(n!==null&&typeof n=="object"){if("castToText"in n)return n.castToText(r)}else if(n===b)return"null";return"null"}function u(n,r){return y(n)?n:n===null||n===""?0:f(n)||h(n)||p(n)?NaN:g(n)?n?1:0:N(n)||n===""||n===void 0?NaN:r!==void 0&&d(n)?(r=P(r,"\u2030",""),r=P(r,"\xA4",""),An(n,{pattern:r})):n===b?0:Number(n)}function Wn(n,r){if(f(n))return n;if(d(n)){let e=Qn(n,r);if(e)return w.dateTimeToArcadeDate(e)}return null}function Qn(n,r){let e=/ (\d\d)/,i=bn(r),t=X.fromISO(n,{zone:i});return t.isValid||e.test(n)&&(n=n.replace(e,"T$1"),t=X.fromISO(n,{zone:r}),t.isValid)?t:null}function Xn(n){return g(n)?n:d(n)?(n=n.toLowerCase())==="true":!!y(n)&&n!==0&&!isNaN(n)}function nr(n,r){let e=JSON.parse(n);return e&&!e.spatialReference&&(e.spatialReference=r),gn(e)}function rr(n,r){return n==null?null:(n.spatialReference!==null&&n.spatialReference!==void 0||(n.spatialReference=r),n)}function er(n){if(n===null)return null;if(n instanceof F)return n.x==="NaN"||n.x===null||isNaN(n.x)?null:n;if(n instanceof z){if(n.rings.length===0)return null;for(let r of n.rings)if(r.length>0)return n;return null}if(n instanceof q){if(n.paths.length===0)return null;for(let r of n.paths)if(r.length>0)return n;return null}return n instanceof G?n.points.length===0?null:n:n instanceof j?n.xmin==="NaN"||n.xmin===null||isNaN(n.xmin)?null:n:null}function In(n,r){if(!n||!n.domain)return r;let e=null,i=null;if(f(r))e=r.toNumber();else if(h(r))e=r.toString();else if(p(r))e=r.toStorageString();else if(n.field.type==="string"||n.field.type==="esriFieldTypeString")e=C(r);else{if(r==null)return null;if(r==="")return r;e=u(r)}for(let t=0;t<n.domain.codedValues.length;t++){let s=n.domain.codedValues[t];s.code===e&&(i=s)}return i===null?C(r):i.name}function Pn(n,r){if(!n||!n.domain)return r;let e=null,i=C(r);for(let t=0;t<n.domain.codedValues.length;t++){let s=n.domain.codedValues[t];s.name===i&&(e=s)}return e===null?r:e.code}function K(n,r,e=null,i=null){if(!r||!r.fields)return null;let t,s,l=null;for(let S=0;S<r.fields.length;S++){let T=r.fields[S];T.name.toLowerCase()===n.toString().toLowerCase()&&(l=T)}if(l===null)throw new x(null,_.FieldNotFound,null,{key:n});let o=r.typeIdField,m="id",c=r.types;if(r.subtypeField&&(o=r.subtypeField,m="code",c=r.subtypes??[]),i===null&&e&&o)i=e.hasField(o)?e.field(o):null;else if(o&&i!==null){let S=!1;for(let T of c||[])if(i===T[m]){S=!0;break}if(!S){for(let T of c||[])if(i===T.name){i=T[m],S=!0;break}}S||(i=null,e&&o&&(i=e.hasField(o)?e.field(o):null))}return i!=null&&c.some(S=>S[m]===i&&(t=S.domains?.[l.name],t&&t.type==="inherited"&&(t=Dn(l.name,r),s=!0),!0)),s||t||(t=Dn(n,r)),{field:l,domain:t}}function Dn(n,r){let e;return r.fields.some(i=>(i.name.toLowerCase()===n.toLowerCase()&&(e=i.domain),!!e)),e}function sn(n,r){r||(r={}),typeof r=="function"&&(r={cmp:r});let e=typeof r.cycles=="boolean"&&r.cycles,i=r.cmp&&(t=r.cmp,function(l){return function(o,m){let c={key:o,value:l[o]},S={key:m,value:l[m]};return t(c,S)}});var t;let s=[];return function l(o){if(o?.toJSON&&typeof o.toJSON=="function"&&(o=o.toJSON()),o===void 0)return;if(typeof o=="number")return isFinite(o)?""+o:"null";if(typeof o!="object")return JSON.stringify(o);let m,c;if(Array.isArray(o)){for(c="[",m=0;m<o.length;m++)m&&(c+=","),c+=l(o[m])||"null";return c+"]"}if(o===null)return"null";if(s.includes(o)){if(e)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}let S=s.push(o)-1,T=Object.keys(o).sort(i?.(o));for(c="",m=0;m<T.length;m++){let fn=T[m],cn=l(o[fn]);cn&&(c&&(c+=","),c+=JSON.stringify(fn)+":"+cn)}return s.splice(S,1),"{"+c+"}"}(n)}function tr(n){if(n===null)return null;let r=[];for(let e of n)$(e)?r.push(e.geometry()):r.push(e);return r}function J(n,r){if(!(r instanceof F))throw new x(null,_.InvalidParameter,null);n.push(r.hasZ?r.hasM?[r.x,r.y,r.z,r.m]:[r.x,r.y,r.z]:[r.x,r.y])}function ir(n,r){if(N(n)||k(n)){let e=!1,i=!1,t=[],s=r;if(N(n)){for(let l of n)J(t,l);t.length>0&&(s=n[0].spatialReference,e=n[0].hasZ,i=n[0].hasM)}else if(n instanceof A)t=n._elements,t.length>0&&(e=n._hasZ,i=n._hasM,s=n.get(0).spatialReference);else{if(!k(n))throw new x(null,_.InvalidParameter,null);for(let l of n.toArray())J(t,l);t.length>0&&(s=n.get(0).spatialReference,e=n.get(0).hasZ===!0,i=n.get(0).hasM===!0)}return t.length===0?null:(yn(t)||(t=t.slice().reverse()),new z({rings:[t],spatialReference:s,hasZ:e,hasM:i}))}return n}function ar(n,r){if(N(n)||k(n)){let e=!1,i=!1,t=[],s=r;if(N(n)){for(let l of n)J(t,l);t.length>0&&(s=n[0].spatialReference,e=n[0].hasZ===!0,i=n[0].hasM===!0)}else if(n instanceof A)t=n._elements,t.length>0&&(e=n._hasZ,i=n._hasM,s=n.get(0).spatialReference);else if(k(n)){for(let l of n.toArray())J(t,l);t.length>0&&(s=n.get(0).spatialReference,e=n.get(0).hasZ===!0,i=n.get(0).hasM===!0)}return t.length===0?null:new q({paths:[t],spatialReference:s,hasZ:e,hasM:i})}return n}function sr(n,r){if(N(n)||k(n)){let e=!1,i=!1,t=[],s=r;if(N(n)){for(let l of n)J(t,l);t.length>0&&(s=n[0].spatialReference,e=n[0].hasZ===!0,i=n[0].hasM===!0)}else if(n instanceof A)t=n._elements,t.length>0&&(e=n._hasZ,i=n._hasM,s=n.get(0).spatialReference);else if(k(n)){for(let l of n.toArray())J(t,l);t.length>0&&(s=n.get(0).spatialReference,e=n.get(0).hasZ===!0,i=n.get(0).hasM===!0)}return t.length===0?null:new G({points:t,spatialReference:s,hasZ:e,hasM:i})}return n}function or(n,r=!1){let e=[];if(n===null)return e;if(N(n)===!0){for(let i=0;i<n.length;i++){let t=C(n[i]);t===""&&r!==!0||e.push(t)}return e}if(n instanceof Z){for(let i=0;i<n.length();i++){let t=C(n.get(i));t===""&&r!==!0||e.push(t)}return e}if(V(n)){let i=C(n);return i===""&&r!==!0||e.push(i),e}return[]}var rn=0;function ur(n){return rn++,rn%100==0?(rn=0,new Promise(r=>{setTimeout(()=>{r(n)},0)})):n}function lr(n,r,e){switch(e){case"&":return n&r;case"|":return n|r;case"^":return n^r;case"<<":return n<<r;case">>":return n>>r;case">>>":return n>>>r}}function L(n,r=null){return n==null?null:g(n)||y(n)||d(n)?n:n instanceof D?r?.keepGeometryType===!0?n:n.toJSON():n instanceof Z?n.toArray().map(e=>L(e,r)):Array.isArray(n)?n.map(e=>L(e,r)):R(n)?n:f(n)?n.toJSDate():p(n)?n.toString():h(n)?n.toJSDate():n!==null&&typeof n=="object"&&n.castAsJson!==void 0?n.castAsJson(r):null}function fr(n,r,e,i,t){return W(this,null,function*(){let s=yield Ln(n,r,e);t[i]=s})}function Ln(n,r=null,e=null){return W(this,null,function*(){if(n instanceof Z&&(n=n.toArray()),n==null)return null;if(V(n)||n instanceof D||R(n)||f(n))return L(n,e);if(Array.isArray(n)){let i=[],t=[];for(let s of n)s===null||V(s)||s instanceof D||R(s)||f(s)?t.push(L(s,e)):(t.push(null),i.push(fr(s,r,e,t.length-1,t)));return i.length>0&&(yield Promise.all(i)),t}return n!==null&&typeof n=="object"&&n.castAsJsonAsync!==void 0?n.castAsJsonAsync(r,e):null})}function Y(n){return Yn(n)?n.parent:n}function Yn(n){return n&&"declaredClass"in n&&n.declaredClass==="esri.layers.support.SubtypeSublayer"}function cr(n){return n&&"declaredClass"in n&&n.declaredClass==="esri.layers.SubtypeGroupLayer"}function mr(n,r,e){let i=Y(n.fullSchema());return i===null||!i.fields?null:K(r,i,n,e)}function dr(n){let r=Y(n.fullSchema());return r===null?null:r.fields?r.subtypeField?{subtypeField:r.subtypeField,subtypes:r.subtypes?r.subtypes.map(e=>({name:e.name,code:e.code})):[]}:r.typeIdField?{subtypeField:r.typeIdField,subtypes:r.types?r.types.map(e=>({name:e.name,code:e.id})):[]}:null:null}function hr(n,r,e,i){let t=Y(n.fullSchema());if(t===null||!t.fields)return null;let s=K(r,t,n,i);if(e===void 0)try{e=n.field(r)}catch{return null}return In(s,e)}function pr(n,r,e,i){let t=Y(n.fullSchema());if(t===null||!t.fields)return null;if(e===void 0){try{e=n.field(r)}catch{return null}return e}return Pn(K(r,t,n,i),e)}function yr(n){return n?.timeZone??"system"}function gr(n){let r=Y(n.fullSchema());if(r===null||!r.fields)return null;let e=[];for(let i of r.fields)e.push(_n(i));return{objectIdField:r.objectIdField,globalIdField:r.globalIdField??"",geometryType:nn[r.geometryType]===void 0?"":nn[r.geometryType],fields:e}}function br(n,r){let e=w.systemTimeZoneCanonicalName;return n==="system"&&(n=e),{version:jn,engineVersion:hn,timeZone:n,userTimeZone:e,spatialReference:r instanceof pn?r.toJSON():r,application:mn.applicationName??"",engine:"web",locale:Q()}}var jn="1.30",Xr=Object.freeze(Object.defineProperty({__proto__:null,ImplicitResult:tn,ReturnResult:en,absRound:Un,arcadeVersion:jn,autoCastArrayOfPointsToMultiPoint:sr,autoCastArrayOfPointsToPolygon:ir,autoCastArrayOfPointsToPolyline:ar,autoCastFeatureToGeometry:tr,binaryOperator:lr,breakResult:Gn,castAsJson:L,castAsJsonAsync:Ln,castRecordToText:Bn,continueResult:zn,defaultExecutingContext:br,defaultTimeZone:yr,defaultUndefined:qn,equalityTest:vn,featureDomainCodeLookup:pr,featureDomainValueLookup:hr,featureFullDomain:mr,featureSchema:gr,featureSubtypes:dr,fixNullGeometry:er,fixSpatialReference:rr,formatDate:B,formatNumber:ln,getDomain:K,getDomainCode:Pn,getDomainValue:In,getType:En,greaterThanLessThan:$n,isArray:N,isBoolean:g,isDate:f,isDateOnly:h,isDictionary:wn,isDictionaryLike:Vn,isFeature:$,isFeatureSet:On,isFeatureSetCollection:Mn,isFunctionParameter:U,isGeometry:Fn,isGraphic:Tn,isImmutableArray:k,isInteger:Zn,isJsDate:R,isKnowledgeGraph:Jn,isModule:on,isNumber:y,isObject:an,isSimpleType:V,isString:d,isSubtypeGrouplayer:cr,isSubtypeSublayer:Yn,isTime:p,isVoxel:un,multiReplace:P,parseGeometryFromJson:nr,pcCheck:Hn,stableStringify:sn,standardiseDateFormat:Rn,tick:ur,toBoolean:Xn,toDate:Wn,toNumber:u,toNumberArray:Kn,toString:C,toStringArray:or,toStringExplicit:M,voidOperation:b},Symbol.toStringTag,{value:"Module"}));export{v as a,O as b,Cn as c,kn as d,I as e,A as f,E as g,en as h,tn as i,b as j,Gn as k,zn as l,P as m,U as n,V as o,qn as p,En as q,Fn as r,$ as s,un as t,On as u,wn as v,Vn as w,Mn as x,Jn as y,k as z,f as A,h as B,p as C,Hn as D,Un as E,Rn as F,$n as G,vn as H,Bn as I,C as J,Kn as K,M as L,u as M,Wn as N,Xn as O,rr as P,er as Q,In as R,Pn as S,K as T,tr as U,ir as V,ar as W,sr as X,or as Y,ur as Z,lr as _,L as $,Ln as aa,Yn as ba,mr as ca,dr as da,hr as ea,pr as fa,yr as ga,gr as ha,br as ia,Xr as ja};
