import{a as y}from"./chunk-DDZ3KR2Q.js";import{a as l}from"./chunk-6N6OLOP3.js";import{F as p,g as h}from"./chunk-E57FTRWF.js";import{l as f}from"./chunk-U4J5SECU.js";import"./chunk-7EG726PT.js";import"./chunk-C7INQGWT.js";import"./chunk-WMHJC7XF.js";import"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import"./chunk-D2LVMNOU.js";import"./chunk-SNFOAZZQ.js";import"./chunk-QGVBCWUY.js";import"./chunk-HHDFN2GK.js";import"./chunk-47GHT6OF.js";import{a as s,b as i,f as u}from"./chunk-VTHXE323.js";function b(r){let t=r.toJSON();return t.attachmentTypes&&(t.attachmentTypes=t.attachmentTypes.join(",")),t.keywords&&(t.keywords=t.keywords.join(",")),t.globalIds&&(t.globalIds=t.globalIds.join(",")),t.objectIds&&(t.objectIds=t.objectIds.join(",")),t.size&&(t.size=t.size.join(",")),t.orderByFields&&(t.orderByFields=t.orderByFields.join(",")),t}function T(r,t){let e={};for(let a of t){let{parentObjectId:o,parentGlobalId:n,attachmentInfos:m}=a;for(let c of m){let{id:I}=c,j=f(h(`${r.path}/${o}/attachments/${I}`)),d=l.fromJSON(c);d.set({url:j,parentObjectId:o,parentGlobalId:n}),e[o]?e[o].push(d):e[o]=[d]}}return e}function g(r,t,e){let a={query:y(s(i(s({},r.query),{f:"json"}),b(t)))};return e&&(a=i(s(s({},e),a),{query:s(s({},e.query),a.query)})),p(r.path+"/queryAttachments",a).then(o=>o.data.attachmentGroups)}function w(r,t,e){return u(this,null,function*(){let{objectIds:a}=t,o=[];for(let n of a)o.push(p(r.path+"/"+n+"/attachments",e));return Promise.all(o).then(n=>a.map((m,c)=>({parentObjectId:m,attachmentInfos:n[c].data.attachmentInfos})))})}export{g as executeAttachmentQuery,w as fetchAttachments,T as processAttachmentQueryResult};
