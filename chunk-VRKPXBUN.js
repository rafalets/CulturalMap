import{a as T}from"./chunk-BIFR653L.js";import{a as r}from"./chunk-YVDLD2EM.js";import{a as f,b as S}from"./chunk-L4GZWTJN.js";import{d as v}from"./chunk-75EJGBQJ.js";import{b as $}from"./chunk-DBAXA5UM.js";import{a as w}from"./chunk-GRQYTZK7.js";import{F as g,d as u,e as n,i as l,t as i,u as b,v as c}from"./chunk-5RWLLGQU.js";import{f as m}from"./chunk-VTHXE323.js";var D={handle:"handle",dropdown:"dropdown"},I={drag:"drag",blank:"blank"},p={label:"{label}",position:"{position}",total:"{total}"},P=["top","up","down","bottom"],C=u`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.dropdown{block-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,O=(()=>{class y extends b{constructor(){super(...arguments),this.disabled=!1,this.messages=w({blocking:!0}),this.moveToItems=[],this.open=!1,this.overlayPositioning="absolute",this.placement=T,this.scale="m",this.calciteSortHandleBeforeClose=i({cancelable:!1}),this.calciteSortHandleBeforeOpen=i({cancelable:!1}),this.calciteSortHandleClose=i({cancelable:!1}),this.calciteSortHandleMove=i({cancelable:!1}),this.calciteSortHandleOpen=i({cancelable:!1}),this.calciteSortHandleReorder=i({cancelable:!1})}static{this.properties={hasSetInfo:16,isSetDisabled:16,disabled:7,flipPlacements:0,label:1,messageOverrides:0,messages:0,moveToItems:0,open:7,overlayPositioning:3,placement:3,scale:3,setPosition:9,setSize:9,widthScale:3}}static{this.styles=C}get hasSetInfo(){return typeof this.setPosition=="number"&&typeof this.setSize=="number"}get isSetDisabled(){let{setPosition:e,setSize:t,moveToItems:o}=this;return this.hasSetInfo?e<1||t<1||t<2&&o.length<1:!1}setFocus(){return m(this,null,function*(){yield v(this),this.dropdownEl?.setFocus()})}willUpdate(e){e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler()}updated(){f(this)}openHandler(){if(this.disabled){this.open=!1;return}this.dropdownEl&&(this.dropdownEl.open=this.open)}setDropdownEl(e){e&&(this.dropdownEl=e,this.openHandler())}getLabel(){let{label:e,messages:t,setPosition:o,setSize:s}=this;if(!this.hasSetInfo)return e??"";let a=e?t.repositionLabel.replace(p.label,e):t.reposition;return a=a.replace(p.position,o?o.toString():""),a.replace(p.total,s?s.toString():"")}handleBeforeOpen(e){e.stopPropagation(),this.calciteSortHandleBeforeOpen.emit()}handleOpen(e){e.stopPropagation(),this.calciteSortHandleOpen.emit(),this.open=!0}handleBeforeClose(e){e.stopPropagation(),this.calciteSortHandleBeforeClose.emit()}handleClose(e){e.stopPropagation(),this.calciteSortHandleClose.emit(),this.open=!1}handleReorder(e){this.calciteSortHandleReorder.emit({reorder:e.target.dataset.value})}handleMoveTo(e){let t=e.target.dataset.id,o=this.moveToItems.find(s=>s.id===t);this.calciteSortHandleMove.emit({moveTo:o})}render(){let{disabled:e,flipPlacements:t,open:o,overlayPositioning:s,placement:a,scale:h,widthScale:H}=this,d=this.getLabel(),B=e||this.isSetDisabled;return S({disabled:e,children:n`<calcite-dropdown class=${c(D.dropdown)} .disabled=${B} .flipPlacements=${t} @calciteDropdownBeforeClose=${this.handleBeforeClose} @calciteDropdownBeforeOpen=${this.handleBeforeOpen} @calciteDropdownClose=${this.handleClose} @calciteDropdownOpen=${this.handleOpen} .overlayPositioning=${s} .placement=${a} .scale=${h} .widthScale=${H} ${$(this.setDropdownEl)}><calcite-action .active=${o} appearance=transparent class=${c(D.handle)} .dragHandle=${!0} .icon=${e?I.blank:I.drag} .label=${d} .scale=${h} slot=trigger .text=${d} title=${d??l}></calcite-action>${this.renderGroup()}${this.renderMoveToGroup()}</calcite-dropdown>`})}renderMoveToItem(e){return r(e.id,n`<calcite-dropdown-item data-id=${e.id??l} .label=${e.label} @calciteDropdownItemSelect=${this.handleMoveTo}>${e.label}</calcite-dropdown-item>`)}renderGroup(){return this.hasSetInfo?r("reorder",n`<calcite-dropdown-group .groupTitle=${this.messages.reorder} .scale=${this.scale} selection-mode=none>${this.renderTop()}${this.renderUp()}${this.renderDown()}${this.renderBottom()}</calcite-dropdown-group>`):null}renderMoveToGroup(){let{messages:e,moveToItems:t,scale:o}=this;return t.length?r("move-to-items",n`<calcite-dropdown-group .groupTitle=${e.moveTo} .scale=${o} selection-mode=none>${t.map(s=>this.renderMoveToItem(s))}</calcite-dropdown-group>`):null}renderDropdownItem(e,t){return r(P[e],n`<calcite-dropdown-item data-value=${P[e]??l} .label=${t} @calciteDropdownItemSelect=${this.handleReorder}>${t}</calcite-dropdown-item>`)}renderTop(){let{setPosition:e}=this;return e!==1&&e!==2?this.renderDropdownItem(0,this.messages.moveToTop):null}renderUp(){return this.setPosition!==1?this.renderDropdownItem(1,this.messages.moveUp):null}renderDown(){return this.setPosition!==this.setSize?this.renderDropdownItem(2,this.messages.moveDown):null}renderBottom(){let{setPosition:e,setSize:t}=this;return e!==t&&e!==t-1?this.renderDropdownItem(3,this.messages.moveToBottom):null}}return y})();g("calcite-sort-handle",O);
