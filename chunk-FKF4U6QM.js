import{h as m,i as c}from"./chunk-ZZICVYEU.js";import"./chunk-FQTXYWH5.js";import"./chunk-KLXERNY4.js";import"./chunk-JVGM2LBA.js";import"./chunk-LDPKBMTU.js";import{d as l,e as n,f as o,g as y}from"./chunk-ILKINAL7.js";import"./chunk-HVKMTRIC.js";import"./chunk-AZS4Q4RE.js";import"./chunk-QEBUS3TL.js";import"./chunk-IB2IUO7T.js";import"./chunk-MS3KE2OO.js";import"./chunk-NHSDW26F.js";import"./chunk-NMAGYK3Q.js";import"./chunk-GWBRHLNH.js";import"./chunk-XPRVY6JT.js";import"./chunk-7N3ZKWML.js";import"./chunk-E62WHYYG.js";import"./chunk-QDTU3MWT.js";import"./chunk-BCREO4Q5.js";import"./chunk-3SDSCSDJ.js";import"./chunk-I4M2OT5W.js";import"./chunk-NTVLK3P2.js";import"./chunk-WMQNRNIU.js";import"./chunk-HD52PWPC.js";import"./chunk-EIPVFA6F.js";import"./chunk-VOFKUGRY.js";import"./chunk-IG66NQHW.js";import"./chunk-ARRCN5K3.js";import"./chunk-KTE5HCNJ.js";import"./chunk-F7VRLFCB.js";import"./chunk-7R33MKVL.js";import"./chunk-ISSJ3A6Y.js";import"./chunk-VDKRSX77.js";import"./chunk-WUA6PW3I.js";import"./chunk-E57FTRWF.js";import"./chunk-U4J5SECU.js";import"./chunk-7EG726PT.js";import"./chunk-C7INQGWT.js";import"./chunk-WMHJC7XF.js";import"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import"./chunk-D2LVMNOU.js";import"./chunk-SNFOAZZQ.js";import"./chunk-QGVBCWUY.js";import"./chunk-HHDFN2GK.js";import"./chunk-47GHT6OF.js";import{f as s}from"./chunk-VTHXE323.js";var p="Image Service",d="imagery-layer-save",f="imagery-layer-save-as",w="imagery-tile-layer-save",T="imagery-tile-layer-save-as",g="WCS",I="wcs-layer-save",x="wcs-layer-save-as";function v(e){if(e.type==="imagery"||e.type==="wcs")return{isValid:!0};let{raster:a}=e,r=a?.datasetFormat==="Function"?a.primaryRasters?.rasters[0]:a;return{isValid:r?.datasetFormat==="RasterTileServer"&&(r.tileType==="Raster"||r.tileType==="Map"),errorMessage:"imagery tile layer should be created from a tiled image service."}}function u(e){let a=e.layerJSON;return Promise.resolve(a&&Object.keys(a).length?a:null)}function A(e,a){return s(this,null,function*(){let{parsedUrl:r,title:t,fullExtent:i}=e;a.url=r.path,a.title||=t;try{a.extent=yield o(i)}catch{a.extent=void 0}l(a,y.METADATA),n(a,y.TILED_IMAGERY,e.type==="imagery-tile")})}function h(e,a){return s(this,null,function*(){let r=e.type==="imagery"?d:e.type==="imagery-tile"?w:I,t=e.type==="wcs"?g:p;return m({layer:e,itemType:t,validateLayer:v,createItemData:u,errorNamePrefix:r},a)})}function D(e,a,r){return s(this,null,function*(){let t=e.type==="imagery"?f:e.type==="imagery-tile"?T:x,i=e.type==="wcs"?g:p;return c({layer:e,itemType:i,validateLayer:v,createItemData:u,errorNamePrefix:t,newItem:a,setItemProperties:A},r)})}export{h as save,D as saveAs};
