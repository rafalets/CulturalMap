import{a as c}from"./chunk-2PJRHNJW.js";import{a as i}from"./chunk-F6TN7E7K.js";import{a as f}from"./chunk-47NSYSFY.js";import{a as n}from"./chunk-2FO7ARYZ.js";import{b as e}from"./chunk-QXXXCEV5.js";import{a}from"./chunk-PTZYZULI.js";import{b as r}from"./chunk-KZKWOEFD.js";function z(t){t.fragment.uniforms.add(new c("projInfo",o=>l(o.camera))),t.fragment.uniforms.add(new i("zScale",o=>p(o.camera))),t.fragment.code.add(f`vec3 reconstructPosition(vec2 fragCoord, float depth) {
return vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);
}`)}function l(t){let o=t.projectionMatrix;return o[11]===0?r(m,2/(t.fullWidth*o[0]),2/(t.fullHeight*o[5]),(1+o[12])/o[0],(1+o[13])/o[5]):r(m,-2/(t.fullWidth*o[0]),-2/(t.fullHeight*o[5]),(1-o[8])/o[0],(1-o[9])/o[5])}var m=a();function p(t){return t.projectionMatrix[11]===0?e(s,0,1):e(s,1,0)}var s=n();export{z as a};
