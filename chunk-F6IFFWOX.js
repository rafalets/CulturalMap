import{c as q}from"./chunk-KUEZUX3G.js";import{e as y}from"./chunk-NHSDW26F.js";import{i as z}from"./chunk-QDTU3MWT.js";import{n as l}from"./chunk-NTVLK3P2.js";import{i as L}from"./chunk-47GHT6OF.js";import{a as u,b as m}from"./chunk-VTHXE323.js";function H(t){let n=0,a=q(t);for(let s=0;s<t.paths.length;s++){let e=t.paths[s].length;for(let r=0;r<e;r++)r>0&&(n+=t.hasZ?v(t.paths[s][r-1],t.paths[s][r],a):w(t.paths[s][r-1],t.paths[s][r]))}return n}function U(t){let n=t.geometry.clone();return n.paths.map(a=>new z({spatialReference:t.geometry.spatialReference,paths:[a],hasZ:n.hasZ,hasM:n.hasM}))}function j(t){let n=[];for(let a of t.paths)for(let s=1;s<a.length;s++){let e=[[a[s-1].slice(),a[s].slice()]];n.push(new z({paths:e,spatialReference:t.spatialReference,hasZ:t.hasZ,hasM:t.hasM}))}return n}function b(t,n,a){let s=n[0]-t[0],e=n[1]-t[1],r=Math.sqrt(s*s+e*e);return s/=r,e/=r,s*=a,e*=a,[t[0]+s,t[1]+e]}function k(t,n,a,s){let e=F([n[0]-t[0],n[1]-t[1],n[2]*s-t[2]*s]);return[t[0]+e[0]*a,t[1]+e[1]*a,t[2]+e[2]*a]}function P(t,n,a){let s=w(n[0],n[1]),e=t.x+a*((n[1][0]-n[0][0])/s),r=t.y+a*((n[1][1]-n[0][1])/s),o={};return t.hasM&&(o.m=t.m),new l(u({x:e,y:r,spatialReference:t.spatialReference},o))}function S(t,n,a,s){let e=v(n[0],n[1],s),r=t.x+a*((n[1][0]-n[0][0])/e),o=t.y+a*((n[1][1]-n[0][1])/e),c=t.z+a*((n[1][2]-n[0][2])/e),f={};return t.hasM&&(f.m=t.m),new l(u({x:r,y:o,z:c,spatialReference:t.spatialReference},f))}function d(t,n,a,s){return t===void 0||n===void 0||t===null||n===null?null:t+(n-t)/a*s}function w(t,n){let a=n[0]-t[0],s=n[1]-t[1];return Math.sqrt(a*a+s*s)}function v(t,n,a){return Math.sqrt((t[0]-n[0])**2+(t[1]-n[1])**2+(t[2]!==void 0&&n[2]!==void 0?(t[2]*a-n[2]*a)**2:0))}function F(t){let n=T(t);return[t[0]/n,t[1]/n,t[2]/n]}function g(t,n,a){let s=n[0],e=n[1],r=[e[0]-s[0],e[1]-s[1]],o=Math.sqrt(r[0]**2+r[1]**2),c=[r[0]/o,r[1]/o];return t.x+=a*c[0],t.y+=a*c[1],t}function B(t,n){let a=0,s=null,e=t.hasM,r=t.hasZ?3:2;for(let o of t.paths){if(n===0){s=new l(m(u({x:o[0][0],y:o[0][1]},e?{m:o[0][r]}:{}),{spatialReference:t.spatialReference,hasM:e}));break}for(let c=0;c<o.length-1;c++){let f=w(o[c],o[c+1]),p=a+f;if(p===n){s=new l(m(u({x:o[c+1][0],y:o[c+1][1]},e?{m:o[c+1][r]}:{}),{spatialReference:t.spatialReference,hasM:e}));break}if(p>n){let h=b(o[c],o[c+1],n-a);s=new l(m(u({x:h[0],y:h[1]},e?{m:d(o[c][r],o[c+1][r],f,n-a)??void 0}:{}),{spatialReference:t.spatialReference,hasM:e}));break}a+=f}if(s!==null)break}return s}function D(t,n,a){let s=0,e=t.hasM;for(let r of t.paths){if(n===0)return new l(m(u({x:r[0][0],y:r[0][1],z:r[0][2]},e?{m:r[0][3]}:{}),{hasZ:!0,hasM:e,spatialReference:t.spatialReference}));for(let o=0;o<r.length-1;o++){let c=v(r[o],r[o+1],a),f=s+c;if(f===n)return new l(m(u({x:r[o+1][0],y:r[o+1][1],z:r[o+1][2]},e?{m:r[o+1][3]}:{}),{hasZ:!0,hasM:e,spatialReference:t.spatialReference}));if(f>n){let p=k(y(r[o]),y(r[o+1]),n-s,a);return new l(m(u({x:p[0],y:p[1],z:p[2]},e?{m:d(r[o][3],r[o+1][3],c,n-s)??void 0}:{}),{hasZ:!0,hasM:e,spatialReference:t.spatialReference}))}s+=c}}return null}function G(t,n,a){let s=0,e=null;if(n<=0){let h=[t.paths[0][0],t.paths[0][1]],i=x(t,0,0);return i=P(i,h,n),g(i,h,a)}let r=t.hasM?t.hasZ?3:2:-1;for(let h of t.paths)for(let i=0;i<h.length-1;i++){let M=w(h[i],h[i+1]),Z=s+M;if(Z===n)return e=new l(m(u({x:h[i+1][0],y:h[i+1][1]},t.hasM?{m:h[i+1][r]}:{}),{spatialReference:t.spatialReference})),a===0?e:g(e,[h[i],h[i+1]],a);if(Z>n){let R=b(h[i],h[i+1],n-s);return e=new l(m(u({x:R[0],y:R[1]},r>-1?{m:d(h[i][r],h[i+1][r],M,n-s)??void 0}:{}),{spatialReference:t.spatialReference})),a===0?e:g(e,[h[i],h[i+1]],a)}s+=M}if(s===0)return null;let o=t.paths.length-1,c=t.paths[o].length-1,f=[t.paths[o][c-1],t.paths[o][c]],p=x(t,o,c);return p=P(p,f,n-s),g(p,f,a)}function I(t,n,a,s){let e=0;if(n<=0){let h=[t.paths[0][0],t.paths[0][1]],i=x(t,0,0);return i=S(i,h,n,s),g(i,h,a)}let r=t.hasM?t.hasZ?3:2:-1;for(let h of t.paths)for(let i=0;i<h.length-1;i++){let M=v(h[i],h[i+1],s),Z=e+M;if(Z===n){let R=new l(m(u({x:h[i+1][0],y:h[i+1][1],z:h[i+1][2]},t.hasM?{m:h[i+1][r]}:{}),{hasZ:!0,spatialReference:t.spatialReference}));return a===0?R:g(R,[h[i],h[i+1]],a)}if(Z>n){let R=k(y(h[i]),y(h[i+1]),n-e,s),A=new l(m(u({x:R[0],y:R[1],z:R[2]},r>-1?{m:d(h[i][r],h[i+1][r],M,n-e)}:{}),{hasZ:!0,spatialReference:t.spatialReference}));return a===0?A:g(A,[h[i],h[i+1]],a)}e+=M}if(e===0)return null;let o=t.paths.length-1,c=t.paths[o].length-1,f=[t.paths[o][c-1],t.paths[o][c]],p=x(t,o,c);return p=S(p,f,n-e,s),g(p,f,a)}function J(t,n,a){let s=t.rings[n][a];return new l({spatialReference:t.spatialReference,x:s[0],y:s[1],hasZ:t.hasZ,hasM:t.hasM,z:t.hasZ?s[2]:void 0,m:t.hasM?t.hasZ?s[3]:s[2]:void 0})}function x(t,n,a){let s=t.paths[n][a];return new l({spatialReference:t.spatialReference,x:s[0],y:s[1],hasZ:t.hasZ,hasM:t.hasM,z:t.hasZ?s[2]:void 0,m:t.hasM?t.hasZ?s[3]:s[2]:void 0})}function K(t){return L(t.at(0),t.at(-1))}function T(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}export{H as a,U as b,j as c,w as d,v as e,g as f,B as g,D as h,G as i,I as j,J as k,x as l,K as m};
