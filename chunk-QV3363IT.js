import{a as Vt}from"./chunk-PHJ2BR5I.js";import{a as Zt,b as Qt,c as yt,d as Xe,f as Ye,h as Jt}from"./chunk-23NKSUEE.js";import"./chunk-7ZBAO3UT.js";import"./chunk-R6EQY76B.js";import{j as me}from"./chunk-H5BX7RHK.js";import"./chunk-WKIOZMV7.js";import"./chunk-63HHSDCL.js";import"./chunk-T7VFCF5X.js";import"./chunk-I3G52OPK.js";import"./chunk-VMBBQVLC.js";import"./chunk-XIAOLIDS.js";import{a as qt}from"./chunk-4N7OCQ2R.js";import"./chunk-NXYNQWQ5.js";import"./chunk-AFCBNL3J.js";import{a as ht}from"./chunk-YVDLD2EM.js";import{a as Wt,b as Kt}from"./chunk-L4GZWTJN.js";import{d as jt}from"./chunk-75EJGBQJ.js";import"./chunk-56KMXCVV.js";import"./chunk-CVFBLTSJ.js";import{a as Be,b as Ut}from"./chunk-DBAXA5UM.js";import"./chunk-3PBXVEJF.js";import{a as Yt}from"./chunk-GRQYTZK7.js";import{a as ze}from"./chunk-B6W2MRH5.js";import{g as Ge,t as Z}from"./chunk-7FZF7T7C.js";import{a as He}from"./chunk-KFL5M7F3.js";import{B as Xt,F as Et,d as vt,e as A,t as V,u as bt,v as _}from"./chunk-5RWLLGQU.js";import{a as mt,b as Re,f as q}from"./chunk-VTHXE323.js";var ut={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},nt={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"};var Ei=vt`:host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, .75rem);padding-block:var(--calcite-stack-padding-block, .5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}`,yi=(()=>{class n extends bt{constructor(){super(...arguments),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.disabled=!1}static{this.properties={hasActionsEnd:16,hasActionsStart:16,hasContentEnd:16,hasContentStart:16,disabled:7}}static{this.styles=Ei}handleActionsStartSlotChange(t){this.hasActionsStart=Z(t)}handleActionsEndSlotChange(t){this.hasActionsEnd=Z(t)}handleContentStartSlotChange(t){this.hasContentStart=Z(t)}handleContentEndSlotChange(t){this.hasContentEnd=Z(t)}renderActionsStart(){let{hasActionsStart:t}=this;return ht("actions-start-container",A`<div class=${_(ut.actionsStart)} .hidden=${!t}><slot name=${nt.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){let{hasActionsEnd:t}=this;return ht("actions-end-container",A`<div class=${_(ut.actionsEnd)} .hidden=${!t}><slot name=${nt.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`)}renderContentStart(){let{hasContentStart:t}=this;return A`<div class=${_(ut.contentStart)} .hidden=${!t}><slot name=${nt.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderDefaultContent(){return A`<div class=${_(ut.content)}><slot></slot></div>`}renderContentEnd(){let{hasContentEnd:t}=this;return A`<div class=${_(ut.contentEnd)} .hidden=${!t}><slot name=${nt.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}render(){return A`<div class=${_(ut.container)}>${this.renderActionsStart()}${this.renderContentStart()}${this.renderDefaultContent()}${this.renderContentEnd()}${this.renderActionsEnd()}</div>`}}return n})();Et("calcite-stack",yi);var Si={container:"container"},wi={search:"search"},Di=vt`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%}:host([scale=s]) .container{padding:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding:var(--calcite-spacing-md)}:host([scale=l]) .container{padding:var(--calcite-spacing-lg)}label{position:relative;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}calcite-input{inline-size:100%}:host([hidden]){display:none}[hidden]{display:none}`,Ii=(()=>{class n extends bt{constructor(){super(...arguments),this.filterDebounced=qt((t,i=!1,a)=>this.updateFiltered(Vt(this.items??[],t,this.filterProps),i,a),Xt.filter),this.textInput=Be(),this._value="",this.disabled=!1,this.filteredItems=[],this.items=[],this.messages=Yt(),this.scale="m",this.calciteFilterChange=V({cancelable:!1})}static{this.properties={disabled:7,filterProps:0,filteredItems:0,items:0,label:1,messageOverrides:0,placeholder:1,scale:3,value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=Di}get value(){return this._value}set value(t){let i=this._value;t!==i&&(this._value=t,this.valueHandler(t))}filter(){return q(this,arguments,function*(t=this.value){return new Promise(i=>{this.value=t,this.updateFiltered(Vt(this.items??[],t,this.filterProps),!1,i)})})}setFocus(){return q(this,null,function*(){return yield jt(this),this.textInput.value?.setFocus()})}load(){return q(this,null,function*(){this.updateFiltered(Vt(this.items??[],this.value,this.filterProps))})}willUpdate(t){(t.has("items")&&(this.hasUpdated||this.items?.length>0)||t.has("filterProps"))&&this.filterDebounced(this.value)}updated(){Wt(this)}disconnectedCallback(){super.disconnectedCallback(),this.filterDebounced.cancel()}valueHandler(t){this.filterDebounced(t)}inputHandler(t){let i=t.target;this.value=i.value,this.filterDebounced(i.value,!0)}keyDownHandler(t){t.defaultPrevented||(t.key==="Escape"&&(this.clear(),t.preventDefault()),t.key==="Enter"&&t.preventDefault())}clear(){this.value="",this.filterDebounced("",!0),this.setFocus()}updateFiltered(t,i=!1,a){this.filteredItems=t,i&&this.calciteFilterChange.emit(),a?.()}render(){let{disabled:t,scale:i}=this;return Kt({disabled:t,children:A`<div class=${_(Si.container)}><label><calcite-input clearable .disabled=${t} .icon=${wi.search} .label=${this.label??this.messages.label} .messageOverrides=${{clear:this.messages.clear}} @keydown=${this.keyDownHandler} @calciteInputInput=${this.inputHandler} .placeholder=${this.placeholder} .scale=${i} type=text .value=${this.value} ${Ut(this.textInput)}></calcite-input></label></div>`})}}return n})();Et("calcite-filter",Ii);function Ue(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function W(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ue(Object(t),!0).forEach(function(i){Ci(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ue(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ae(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ae=function(e){return typeof e}:ae=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(n)}function Ci(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function J(){return J=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},J.apply(this,arguments)}function xi(n,e){if(n==null)return{};var t={},i=Object.keys(n),a,o;for(o=0;o<i.length;o++)a=i[o],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function Ai(n,e){if(n==null)return{};var t=xi(n,e),i,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(a=0;a<o.length;a++)i=o[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}var _i="1.15.6";function Q(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var tt=Q(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Gt=Q(/Edge/i),We=Q(/firefox/i),Lt=Q(/safari/i)&&!Q(/chrome/i)&&!Q(/android/i),Te=Q(/iP(ad|od|hone)/i),ti=Q(/chrome/i)&&Q(/android/i),ei={capture:!1,passive:!1};function b(n,e,t){n.addEventListener(e,t,!tt&&ei)}function v(n,e,t){n.removeEventListener(e,t,!tt&&ei)}function ce(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function ii(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function X(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&ce(n,e):ce(n,e))||i&&n===t)return n;if(n===t)break}while(n=ii(n))}return null}var Ke=/\s+/g;function $(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(Ke," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(Ke," ")}}function p(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function Ct(n,e){var t="";if(typeof n=="string")t=n;else do{var i=p(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function ni(n,e,t){if(n){var i=n.getElementsByTagName(e),a=0,o=i.length;if(t)for(;a<o;a++)t(i[a],a);return i}return[]}function U(){var n=document.scrollingElement;return n||document.documentElement}function x(n,e,t,i,a){if(!(!n.getBoundingClientRect&&n!==window)){var o,r,s,l,c,u,h;if(n!==window&&n.parentNode&&n!==U()?(o=n.getBoundingClientRect(),r=o.top,s=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(r=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||t)&&n!==window&&(a=a||n.parentNode,!tt))do if(a&&a.getBoundingClientRect&&(p(a,"transform")!=="none"||t&&p(a,"position")!=="static")){var f=a.getBoundingClientRect();r-=f.top+parseInt(p(a,"border-top-width")),s-=f.left+parseInt(p(a,"border-left-width")),l=r+o.height,c=s+o.width;break}while(a=a.parentNode);if(i&&n!==window){var y=Ct(a||n),E=y&&y.a,S=y&&y.d;y&&(r/=S,s/=E,h/=E,u/=S,l=r+u,c=s+h)}return{top:r,left:s,bottom:l,right:c,width:h,height:u}}}function je(n,e,t){for(var i=rt(n,!0),a=x(n)[e];i;){var o=x(i)[t],r=void 0;if(t==="top"||t==="left"?r=a>=o:r=a<=o,!r)return i;if(i===U())break;i=rt(i,!1)}return!1}function xt(n,e,t,i){for(var a=0,o=0,r=n.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==g.ghost&&(i||r[o]!==g.dragged)&&X(r[o],t.draggable,n,!1)){if(a===e)return r[o];a++}o++}return null}function Pe(n,e){for(var t=n.lastElementChild;t&&(t===g.ghost||p(t,"display")==="none"||e&&!ce(t,e));)t=t.previousElementSibling;return t||null}function H(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==g.clone&&(!e||ce(n,e))&&t++;return t}function qe(n){var e=0,t=0,i=U();if(n)do{var a=Ct(n),o=a.a,r=a.d;e+=n.scrollLeft*o,t+=n.scrollTop*r}while(n!==i&&(n=n.parentNode));return[e,t]}function Oi(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function rt(n,e){if(!n||!n.getBoundingClientRect)return U();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=p(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return U();if(i||e)return t;i=!0}}while(t=t.parentNode);return U()}function Ti(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function ve(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var kt;function ai(n,e){return function(){if(!kt){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),kt=setTimeout(function(){kt=void 0},e)}}}function Pi(){clearTimeout(kt),kt=void 0}function oi(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function ri(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function si(n,e,t){var i={};return Array.from(n.children).forEach(function(a){var o,r,s,l;if(!(!X(a,e.draggable,n,!1)||a.animated||a===t)){var c=x(a);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,c.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,c.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,c.right),i.bottom=Math.max((l=i.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var N="Sortable"+new Date().getTime();function Fi(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(a){if(!(p(a,"display")==="none"||a===g.ghost)){n.push({target:a,rect:x(a)});var o=W({},n[n.length-1].rect);if(a.thisAnimationDuration){var r=Ct(a,!0);r&&(o.top-=r.f,o.left-=r.e)}a.fromRect=o}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Oi(n,{target:i}),1)},animateAll:function(i){var a=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,r=0;n.forEach(function(s){var l=0,c=s.target,u=c.fromRect,h=x(c),f=c.prevFromRect,y=c.prevToRect,E=s.rect,S=Ct(c,!0);S&&(h.top-=S.f,h.left-=S.e),c.toRect=h,c.thisAnimationDuration&&ve(f,h)&&!ve(u,h)&&(E.top-h.top)/(E.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=Ni(E,f,y,a.options)),ve(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=a.options.animation),a.animate(c,E,h,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},r):typeof i=="function"&&i(),n=[]},animate:function(i,a,o,r){if(r){p(i,"transition",""),p(i,"transform","");var s=Ct(this.el),l=s&&s.a,c=s&&s.d,u=(a.left-o.left)/(l||1),h=(a.top-o.top)/(c||1);i.animatingX=!!u,i.animatingY=!!h,p(i,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=Mi(i),p(i,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),p(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){p(i,"transition",""),p(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},r)}}}}function Mi(n){return n.offsetWidth}function Ni(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var St=[],be={initializeByDefault:!0},zt={mount:function(e){for(var t in be)be.hasOwnProperty(t)&&!(t in e)&&(e[t]=be[t]);St.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),St.push(e)},pluginEvent:function(e,t,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var o=e+"Global";St.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][o]&&t[r.pluginName][o](W({sortable:t},i)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](W({sortable:t},i)))})},initializePlugins:function(e,t,i,a){St.forEach(function(s){var l=s.pluginName;if(!(!e.options[l]&&!s.initializeByDefault)){var c=new s(e,t,e.options);c.sortable=e,c.options=e.options,e[l]=c,J(i,c.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties:function(e,t){var i={};return St.forEach(function(a){typeof a.eventProperties=="function"&&J(i,a.eventProperties.call(t[a.pluginName],e))}),i},modifyOption:function(e,t,i){var a;return St.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(a=o.optionListeners[t].call(e[o.pluginName],i))}),a}};function Li(n){var e=n.sortable,t=n.rootEl,i=n.name,a=n.targetEl,o=n.cloneEl,r=n.toEl,s=n.fromEl,l=n.oldIndex,c=n.newIndex,u=n.oldDraggableIndex,h=n.newDraggableIndex,f=n.originalEvent,y=n.putSortable,E=n.extraEventProperties;if(e=e||t&&t[N],!!e){var S,G=e.options,K="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!tt&&!Gt?S=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(S=document.createEvent("Event"),S.initEvent(i,!0,!0)),S.to=r||t,S.from=s||t,S.item=a||t,S.clone=o,S.oldIndex=l,S.newIndex=c,S.oldDraggableIndex=u,S.newDraggableIndex=h,S.originalEvent=f,S.pullMode=y?y.lastPutMode:void 0;var P=W(W({},E),zt.getEventProperties(i,e));for(var z in P)S[z]=P[z];t&&t.dispatchEvent(S),G[K]&&G[K].call(e,S)}}var ki=["evt"],M=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.evt,o=Ai(i,ki);zt.pluginEvent.bind(g)(e,t,W({dragEl:d,parentEl:I,ghostEl:m,rootEl:w,nextEl:gt,lastDownEl:oe,cloneEl:D,cloneHidden:ot,dragStarted:Ft,putSortable:O,activeSortable:g.active,originalEvent:a,oldIndex:It,oldDraggableIndex:$t,newIndex:R,newDraggableIndex:at,hideGhostForTarget:hi,unhideGhostForTarget:ui,cloneNowHidden:function(){ot=!0},cloneNowShown:function(){ot=!1},dispatchSortableEvent:function(s){F({sortable:t,name:s,originalEvent:a})}},o))};function F(n){Li(W({putSortable:O,cloneEl:D,targetEl:d,rootEl:w,oldIndex:It,oldDraggableIndex:$t,newIndex:R,newDraggableIndex:at},n))}var d,I,m,w,gt,oe,D,ot,It,R,$t,at,te,O,Dt=!1,de=!1,he=[],ft,B,Ee,ye,Ve,Ze,Ft,wt,Rt,Ht=!1,ee=!1,re,T,Se=[],xe=!1,ue=[],pe=typeof document<"u",ie=Te,Qe=Gt||tt?"cssFloat":"float",$i=pe&&!ti&&!Te&&"draggable"in document.createElement("div"),li=function(){if(pe){if(tt)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),ci=function(e,t){var i=p(e),a=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=xt(e,0,t),r=xt(e,1,t),s=o&&p(o),l=r&&p(r),c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+x(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+x(r).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var h=s.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||c>=a&&i[Qe]==="none"||r&&i[Qe]==="none"&&c+u>a)?"vertical":"horizontal"},Ri=function(e,t,i){var a=i?e.left:e.top,o=i?e.right:e.bottom,r=i?e.width:e.height,s=i?t.left:t.top,l=i?t.right:t.bottom,c=i?t.width:t.height;return a===s||o===l||a+r/2===s+c/2},Hi=function(e,t){var i;return he.some(function(a){var o=a[N].options.emptyInsertThreshold;if(!(!o||Pe(a))){var r=x(a),s=e>=r.left-o&&e<=r.right+o,l=t>=r.top-o&&t<=r.bottom+o;if(s&&l)return i=a}}),i},di=function(e){function t(o,r){return function(s,l,c,u){var h=s.options.group.name&&l.options.group.name&&s.options.group.name===l.options.group.name;if(o==null&&(r||h))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return t(o(s,l,c,u),r)(s,l,c,u);var f=(r?s:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var i={},a=e.group;(!a||ae(a)!="object")&&(a={name:a}),i.name=a.name,i.checkPull=t(a.pull,!0),i.checkPut=t(a.put),i.revertClone=a.revertClone,e.group=i},hi=function(){!li&&m&&p(m,"display","none")},ui=function(){!li&&m&&p(m,"display","")};pe&&!ti&&document.addEventListener("click",function(n){if(de)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),de=!1,!1},!0);var pt=function(e){if(d){e=e.touches?e.touches[0]:e;var t=Hi(e.clientX,e.clientY);if(t){var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[N]._onDragOver(i)}}},Gi=function(e){d&&d.parentNode[N]._isOutsideThisEl(e.target)};function g(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=J({},e),n[N]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ci(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,s){r.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:g.supportPointer!==!1&&"PointerEvent"in window&&(!Lt||Te),emptyInsertThreshold:5};zt.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);di(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:$i,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?b(n,"pointerdown",this._onTapStart):(b(n,"mousedown",this._onTapStart),b(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(n,"dragover",this),b(n,"dragenter",this)),he.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),J(this,Fi())}g.prototype={constructor:g,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(wt=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,a=this.options,o=a.preventOnFilter,r=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(s||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=a.filter;if(ji(i),!d&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Lt&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=X(l,a.draggable,i,!1),!(l&&l.animated)&&oe!==l)){if(It=H(l),$t=H(l,a.draggable),typeof u=="function"){if(u.call(this,e,l,this)){F({sortable:t,rootEl:c,name:"filter",targetEl:l,toEl:i,fromEl:i}),M("filter",t,{evt:e}),o&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=X(c,h.trim(),i,!1),h)return F({sortable:t,rootEl:h,name:"filter",targetEl:l,fromEl:i,toEl:i}),M("filter",t,{evt:e}),!0}),u)){o&&e.preventDefault();return}a.handle&&!X(c,a.handle,i,!1)||this._prepareDragStart(e,s,l)}}},_prepareDragStart:function(e,t,i){var a=this,o=a.el,r=a.options,s=o.ownerDocument,l;if(i&&!d&&i.parentNode===o){var c=x(i);if(w=o,d=i,I=d.parentNode,gt=d.nextSibling,oe=i,te=r.group,g.dragged=d,ft={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Ve=ft.clientX-c.left,Ze=ft.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",l=function(){if(M("delayEnded",a,{evt:e}),g.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!We&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,t),F({sortable:a,name:"choose",originalEvent:e}),$(d,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){ni(d,u.trim(),we)}),b(s,"dragover",pt),b(s,"mousemove",pt),b(s,"touchmove",pt),r.supportPointer?(b(s,"pointerup",a._onDrop),!this.nativeDraggable&&b(s,"pointercancel",a._onDrop)):(b(s,"mouseup",a._onDrop),b(s,"touchend",a._onDrop),b(s,"touchcancel",a._onDrop)),We&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),M("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Gt||tt))){if(g.eventCanceled){this._onDrop();return}r.supportPointer?(b(s,"pointerup",a._disableDelayedDrag),b(s,"pointercancel",a._disableDelayedDrag)):(b(s,"mouseup",a._disableDelayedDrag),b(s,"touchend",a._disableDelayedDrag),b(s,"touchcancel",a._disableDelayedDrag)),b(s,"mousemove",a._delayedDragTouchMoveHandler),b(s,"touchmove",a._delayedDragTouchMoveHandler),r.supportPointer&&b(s,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&we(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):t?b(document,"touchmove",this._onTouchMove):b(document,"mousemove",this._onTouchMove):(b(d,"dragend",this),b(w,"dragstart",this._onDragStart));try{document.selection?se(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Dt=!1,w&&d){M("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",Gi);var i=this.options;!e&&$(d,i.dragClass,!1),$(d,i.ghostClass,!0),g.active=this,e&&this._appendGhost(),F({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(B){this._lastX=B.clientX,this._lastY=B.clientY,hi();for(var e=document.elementFromPoint(B.clientX,B.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(B.clientX,B.clientY),e!==t);)t=e;if(d.parentNode[N]._isOutsideThisEl(e),t)do{if(t[N]){var i=void 0;if(i=t[N]._onDragOver({clientX:B.clientX,clientY:B.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=ii(t));ui()}},_onTouchMove:function(e){if(ft){var t=this.options,i=t.fallbackTolerance,a=t.fallbackOffset,o=e.touches?e.touches[0]:e,r=m&&Ct(m,!0),s=m&&r&&r.a,l=m&&r&&r.d,c=ie&&T&&qe(T),u=(o.clientX-ft.clientX+a.x)/(s||1)+(c?c[0]-Se[0]:0)/(s||1),h=(o.clientY-ft.clientY+a.y)/(l||1)+(c?c[1]-Se[1]:0)/(l||1);if(!g.active&&!Dt){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(m){r?(r.e+=u-(Ee||0),r.f+=h-(ye||0)):r={a:1,b:0,c:0,d:1,e:u,f:h};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");p(m,"webkitTransform",f),p(m,"mozTransform",f),p(m,"msTransform",f),p(m,"transform",f),Ee=u,ye=h,B=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!m){var e=this.options.fallbackOnBody?document.body:w,t=x(d,!0,ie,!0,e),i=this.options;if(ie){for(T=e;p(T,"position")==="static"&&p(T,"transform")==="none"&&T!==document;)T=T.parentNode;T!==document.body&&T!==document.documentElement?(T===document&&(T=U()),t.top+=T.scrollTop,t.left+=T.scrollLeft):T=U(),Se=qe(T)}m=d.cloneNode(!0),$(m,i.ghostClass,!1),$(m,i.fallbackClass,!0),$(m,i.dragClass,!0),p(m,"transition",""),p(m,"transform",""),p(m,"box-sizing","border-box"),p(m,"margin",0),p(m,"top",t.top),p(m,"left",t.left),p(m,"width",t.width),p(m,"height",t.height),p(m,"opacity","0.8"),p(m,"position",ie?"absolute":"fixed"),p(m,"zIndex","100000"),p(m,"pointerEvents","none"),g.ghost=m,e.appendChild(m),p(m,"transform-origin",Ve/parseInt(m.style.width)*100+"% "+Ze/parseInt(m.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,a=e.dataTransfer,o=i.options;if(M("dragStart",this,{evt:e}),g.eventCanceled){this._onDrop();return}M("setupClone",this),g.eventCanceled||(D=ri(d),D.removeAttribute("id"),D.draggable=!1,D.style["will-change"]="",this._hideClone(),$(D,this.options.chosenClass,!1),g.clone=D),i.cloneId=se(function(){M("clone",i),!g.eventCanceled&&(i.options.removeCloneOnHide||w.insertBefore(D,d),i._hideClone(),F({sortable:i,name:"clone"}))}),!t&&$(d,o.dragClass,!0),t?(de=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",o.setData&&o.setData.call(i,a,d)),b(document,"drop",i),p(d,"transform","translateZ(0)")),Dt=!0,i._dragStartId=se(i._dragStarted.bind(i,t,e)),b(document,"selectstart",i),Ft=!0,window.getSelection().removeAllRanges(),Lt&&p(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,a,o,r,s=this.options,l=s.group,c=g.active,u=te===l,h=s.sort,f=O||c,y,E=this,S=!1;if(xe)return;function G(Pt,vi){M(Pt,E,W({evt:e,isOwner:u,axis:y?"vertical":"horizontal",revert:r,dragRect:a,targetRect:o,canSort:h,fromSortable:f,target:i,completed:P,onMove:function($e,bi){return ne(w,t,d,a,$e,x($e),e,bi)},changed:z},vi))}function K(){G("dragOverAnimationCapture"),E.captureAnimationState(),E!==f&&f.captureAnimationState()}function P(Pt){return G("dragOverCompleted",{insertion:Pt}),Pt&&(u?c._hideClone():c._showClone(E),E!==f&&($(d,O?O.options.ghostClass:c.options.ghostClass,!1),$(d,s.ghostClass,!0)),O!==E&&E!==g.active?O=E:E===g.active&&O&&(O=null),f===E&&(E._ignoreWhileAnimating=i),E.animateAll(function(){G("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===t&&!i.animated)&&(wt=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(d.parentNode[N]._isOutsideThisEl(e.target),!Pt&&pt(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),S=!0}function z(){R=H(d),at=H(d,s.draggable),F({sortable:E,name:"change",toEl:t,newIndex:R,newDraggableIndex:at,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=X(i,s.draggable,t,!0),G("dragOver"),g.eventCanceled)return S;if(d.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||E._ignoreWhileAnimating===i)return P(!1);if(de=!1,c&&!s.disabled&&(u?h||(r=I!==w):O===this||(this.lastPutMode=te.checkPull(this,c,d,e))&&l.checkPut(this,c,d,e))){if(y=this._getDirection(e,i)==="vertical",a=x(d),G("dragOverValid"),g.eventCanceled)return S;if(r)return I=w,K(),this._hideClone(),G("revert"),g.eventCanceled||(gt?w.insertBefore(d,gt):w.appendChild(d)),P(!0);var L=Pe(t,s.draggable);if(!L||Yi(e,y,this)&&!L.animated){if(L===d)return P(!1);if(L&&t===e.target&&(i=L),i&&(o=x(i)),ne(w,t,d,a,i,o,e,!!i)!==!1)return K(),L&&L.nextSibling?t.insertBefore(d,L.nextSibling):t.appendChild(d),I=t,z(),P(!0)}else if(L&&Xi(e,y,this)){var lt=xt(t,0,s,!0);if(lt===d)return P(!1);if(i=lt,o=x(i),ne(w,t,d,a,i,o,e,!1)!==!1)return K(),t.insertBefore(d,lt),I=t,z(),P(!0)}else if(i.parentNode===t){o=x(i);var Y=0,ct,At=d.parentNode!==t,k=!Ri(d.animated&&d.toRect||a,i.animated&&i.toRect||o,y),_t=y?"top":"left",et=je(i,"top","top")||je(d,"top","top"),Ot=et?et.scrollTop:void 0;wt!==i&&(ct=o[_t],Ht=!1,ee=!k&&s.invertSwap||At),Y=Ui(e,i,o,y,k?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,ee,wt===i);var j;if(Y!==0){var dt=H(d);do dt-=Y,j=I.children[dt];while(j&&(p(j,"display")==="none"||j===m))}if(Y===0||j===i)return P(!1);wt=i,Rt=Y;var Tt=i.nextElementSibling,it=!1;it=Y===1;var Bt=ne(w,t,d,a,i,o,e,it);if(Bt!==!1)return(Bt===1||Bt===-1)&&(it=Bt===1),xe=!0,setTimeout(Bi,30),K(),it&&!Tt?t.appendChild(d):i.parentNode.insertBefore(d,it?Tt:i),et&&oi(et,0,Ot-et.scrollTop),I=d.parentNode,ct!==void 0&&!ee&&(re=Math.abs(ct-x(i)[_t])),z(),P(!0)}if(t.contains(d))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",pt),v(document,"mousemove",pt),v(document,"touchmove",pt)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(R=H(d),at=H(d,i.draggable),M("drop",this,{evt:e}),I=d&&d.parentNode,R=H(d),at=H(d,i.draggable),g.eventCanceled){this._nulling();return}Dt=!1,ee=!1,Ht=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ae(this.cloneId),Ae(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Lt&&p(document.body,"user-select",""),p(d,"transform",""),e&&(Ft&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),m&&m.parentNode&&m.parentNode.removeChild(m),(w===I||O&&O.lastPutMode!=="clone")&&D&&D.parentNode&&D.parentNode.removeChild(D),d&&(this.nativeDraggable&&v(d,"dragend",this),we(d),d.style["will-change"]="",Ft&&!Dt&&$(d,O?O.options.ghostClass:this.options.ghostClass,!1),$(d,this.options.chosenClass,!1),F({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:e}),w!==I?(R>=0&&(F({rootEl:I,name:"add",toEl:I,fromEl:w,originalEvent:e}),F({sortable:this,name:"remove",toEl:I,originalEvent:e}),F({rootEl:I,name:"sort",toEl:I,fromEl:w,originalEvent:e}),F({sortable:this,name:"sort",toEl:I,originalEvent:e})),O&&O.save()):R!==It&&R>=0&&(F({sortable:this,name:"update",toEl:I,originalEvent:e}),F({sortable:this,name:"sort",toEl:I,originalEvent:e})),g.active&&((R==null||R===-1)&&(R=It,at=$t),F({sortable:this,name:"end",toEl:I,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){M("nulling",this),w=d=I=m=gt=D=oe=ot=ft=B=Ft=R=at=It=$t=wt=Rt=O=te=g.dragged=g.ghost=g.clone=g.active=null,ue.forEach(function(e){e.checked=!0}),ue.length=Ee=ye=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),zi(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,a=0,o=i.length,r=this.options;a<o;a++)t=i[a],X(t,r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Ki(t));return e},sort:function(e,t){var i={},a=this.el;this.toArray().forEach(function(o,r){var s=a.children[r];X(s,this.options.draggable,a,!1)&&(i[o]=s)},this),t&&this.captureAnimationState(),e.forEach(function(o){i[o]&&(a.removeChild(i[o]),a.appendChild(i[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return X(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var a=zt.modifyOption(this,e,t);typeof a<"u"?i[e]=a:i[e]=t,e==="group"&&di(i)},destroy:function(){M("destroy",this);var e=this.el;e[N]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),he.splice(he.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ot){if(M("hideClone",this),g.eventCanceled)return;p(D,"display","none"),this.options.removeCloneOnHide&&D.parentNode&&D.parentNode.removeChild(D),ot=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ot){if(M("showClone",this),g.eventCanceled)return;d.parentNode==w&&!this.options.group.revertClone?w.insertBefore(D,d):gt?w.insertBefore(D,gt):w.appendChild(D),this.options.group.revertClone&&this.animate(d,D),p(D,"display",""),ot=!1}}};function zi(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function ne(n,e,t,i,a,o,r,s){var l,c=n[N],u=c.options.onMove,h;return window.CustomEvent&&!tt&&!Gt?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=n,l.dragged=t,l.draggedRect=i,l.related=a||e,l.relatedRect=o||x(e),l.willInsertAfter=s,l.originalEvent=r,n.dispatchEvent(l),u&&(h=u.call(c,l,r)),h}function we(n){n.draggable=!1}function Bi(){xe=!1}function Xi(n,e,t){var i=x(xt(t.el,0,t.options,!0)),a=si(t.el,t.options,m),o=10;return e?n.clientX<a.left-o||n.clientY<i.top&&n.clientX<i.right:n.clientY<a.top-o||n.clientY<i.bottom&&n.clientX<i.left}function Yi(n,e,t){var i=x(Pe(t.el,t.options.draggable)),a=si(t.el,t.options,m),o=10;return e?n.clientX>a.right+o||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>a.bottom+o||n.clientX>i.right&&n.clientY>i.top}function Ui(n,e,t,i,a,o,r,s){var l=i?n.clientY:n.clientX,c=i?t.height:t.width,u=i?t.top:t.left,h=i?t.bottom:t.right,f=!1;if(!r){if(s&&re<c*a){if(!Ht&&(Rt===1?l>u+c*o/2:l<h-c*o/2)&&(Ht=!0),Ht)f=!0;else if(Rt===1?l<u+re:l>h-re)return-Rt}else if(l>u+c*(1-a)/2&&l<h-c*(1-a)/2)return Wi(e)}return f=f||r,f&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}function Wi(n){return H(d)<H(n)?1:-1}function Ki(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function ji(n){ue.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&ue.push(i)}}function se(n){return setTimeout(n,0)}function Ae(n){return clearTimeout(n)}pe&&b(document,"touchmove",function(n){(g.active||Dt)&&n.cancelable&&n.preventDefault()});g.utils={on:b,off:v,css:p,find:ni,is:function(e,t){return!!X(e,t,e,!1)},extend:Ti,throttle:ai,closest:X,toggleClass:$,clone:ri,index:H,nextTick:se,cancelNextTick:Ae,detectDirection:ci,getChild:xt,expando:N};g.get=function(n){return n[N]};g.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(g.utils=W(W({},g.utils),i.utils)),zt.mount(i)})};g.create=function(n,e){return new g(n,e)};g.version=_i;var C=[],Mt,_e,Oe=!1,De,Ie,fe,Nt;function qi(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):i.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Je(),le(),Pi()},nulling:function(){fe=_e=Mt=Oe=Nt=De=Ie=null,C.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var a=this,o=(t.touches?t.touches[0]:t).clientX,r=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(o,r);if(fe=t,i||this.options.forceAutoScrollFallback||Gt||tt||Lt){Ce(t,this.options,s,i);var l=rt(s,!0);Oe&&(!Nt||o!==De||r!==Ie)&&(Nt&&Je(),Nt=setInterval(function(){var c=rt(document.elementFromPoint(o,r),!0);c!==l&&(l=c,le()),Ce(t,a.options,c,i)},10),De=o,Ie=r)}else{if(!this.options.bubbleScroll||rt(s,!0)===U()){le();return}Ce(t,this.options,rt(s,!1),!1)}}},J(n,{pluginName:"scroll",initializeByDefault:!0})}function le(){C.forEach(function(n){clearInterval(n.pid)}),C=[]}function Je(){clearInterval(Nt)}var Ce=ai(function(n,e,t,i){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,r=e.scrollSensitivity,s=e.scrollSpeed,l=U(),c=!1,u;_e!==t&&(_e=t,le(),Mt=e.scroll,u=e.scrollFn,Mt===!0&&(Mt=rt(t,!0)));var h=0,f=Mt;do{var y=f,E=x(y),S=E.top,G=E.bottom,K=E.left,P=E.right,z=E.width,L=E.height,lt=void 0,Y=void 0,ct=y.scrollWidth,At=y.scrollHeight,k=p(y),_t=y.scrollLeft,et=y.scrollTop;y===l?(lt=z<ct&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),Y=L<At&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(lt=z<ct&&(k.overflowX==="auto"||k.overflowX==="scroll"),Y=L<At&&(k.overflowY==="auto"||k.overflowY==="scroll"));var Ot=lt&&(Math.abs(P-a)<=r&&_t+z<ct)-(Math.abs(K-a)<=r&&!!_t),j=Y&&(Math.abs(G-o)<=r&&et+L<At)-(Math.abs(S-o)<=r&&!!et);if(!C[h])for(var dt=0;dt<=h;dt++)C[dt]||(C[dt]={});(C[h].vx!=Ot||C[h].vy!=j||C[h].el!==y)&&(C[h].el=y,C[h].vx=Ot,C[h].vy=j,clearInterval(C[h].pid),(Ot!=0||j!=0)&&(c=!0,C[h].pid=setInterval(function(){i&&this.layer===0&&g.active._onTouchMove(fe);var Tt=C[this.layer].vy?C[this.layer].vy*s:0,it=C[this.layer].vx?C[this.layer].vx*s:0;typeof u=="function"&&u.call(g.dragged.parentNode[N],it,Tt,n,fe,C[this.layer].el)!=="continue"||oi(C[this.layer].el,it,Tt)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&f!==l&&(f=rt(f,!1)));Oe=c}},30),fi=function(e){var t=e.originalEvent,i=e.putSortable,a=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,s=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var c=i||o;s();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(r("spill"),this.onSpill({dragEl:a,putSortable:i}))}};function Fe(){}Fe.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var a=xt(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:fi};J(Fe,{pluginName:"revertOnSpill"});function Me(){}Me.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,a=i||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:fi};J(Me,{pluginName:"removeOnSpill"});g.mount(new qi);g.mount(Me,Fe);var pi=g;var ge=new Set,Vi={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function gi(n){if(mi(n))return;Le(n),ge.add(n);let e="id",{group:t,handleSelector:i,dragSelector:a}=n;n.sortable=pi.create(n.el,Re(mt(mt(mt({dataIdAttr:e},Vi),!!a&&{draggable:a}),!!t&&{group:mt(mt({name:t},!!n.canPull&&{pull:(o,r,s,{newDraggableIndex:l,oldDraggableIndex:c})=>n.canPull({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})}),!!n.canPut&&{put:(o,r,s,{newDraggableIndex:l,oldDraggableIndex:c})=>n.canPut({toEl:o.el,fromEl:r.el,dragEl:s,newIndex:l,oldIndex:c})})}),{onMove:({from:o,dragged:r,to:s,related:l})=>{n.onDragMove&&n.onDragMove({fromEl:o,dragEl:r,toEl:s,relatedEl:l})},handle:i,filter:`${i}[disabled]`,onStart:({from:o,item:r,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{Ne.active=!0,Zi(),n.onDragStart({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onEnd:({from:o,item:r,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{Ne.active=!1,Qi(),n.onDragEnd({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})},onSort:({from:o,item:r,to:s,newDraggableIndex:l,oldDraggableIndex:c})=>{n.onDragSort({fromEl:o,dragEl:r,toEl:s,newIndex:l,oldIndex:c})}}))}function Le(n){mi(n)||(ge.delete(n),n.sortable?.destroy(),n.sortable=null)}var Ne={active:!1};function mi(n){return n.dragEnabled&&Ne.active}function Zi(){Array.from(ge).forEach(n=>n.onGlobalDragStart())}function Qi(){Array.from(ge).forEach(n=>n.onGlobalDragEnd())}var st={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},ke={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Ji=vt`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}.stack{--calcite-stack-padding-inline: 0;--calcite-stack-padding-block: 0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,tn=`${Qt}, ${yt}`,en=(()=>{class n extends bt{constructor(){super(),this.dragSelector=yt,this.focusableItems=[],this.handleSelector="calcite-sort-handle",this.listItems=[],this.listItemGroups=[],this.mutationObserver=ze("mutation",()=>{this.willPerformFilter=!0,this.updateListItems()}),this.updateListItems=qt(()=>{this.updateGroupItems();let{selectionAppearance:t,selectionMode:i,interactionMode:a,dragEnabled:o,el:r,filterEl:s,moveToItems:l,displayMode:c,scale:u}=this,h=Array.from(this.el.querySelectorAll(yt));if(h.forEach(f=>{f.scale=u,f.selectionAppearance=t,f.selectionMode=i,f.interactionMode=a,f.closest(Zt)===r&&(f.moveToItems=l.filter(y=>y.element!==r&&!f.contains(y.element)),f.dragHandle=o,f.displayMode=c)}),this.parentListEl){this.setUpSorting();return}this.listItems=h,this.filterEnabled&&this.willPerformFilter&&(this.willPerformFilter=!1,this.dataForFilter=this.getItemData(),s&&(s.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(f=>!f.closed&&!f.hidden),this.updateFilteredItems(),this.borderItems(),this.focusableItems=this.filteredItems.filter(f=>!f.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Xt.nextTick),this.visibleItems=[],this.willFilterEmit=!1,this.willPerformFilter=!1,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1,this.moveToItems=[],this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.filteredData=[],this.filteredItems=[],this.interactionMode="interactive",this.loading=!1,this.messages=Yt({blocking:!0}),this.displayMode="flat",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.calciteInternalListDefaultSlotChange=V({cancelable:!1}),this.calciteListChange=V({cancelable:!1}),this.calciteListDragEnd=V({cancelable:!1}),this.calciteListDragStart=V({cancelable:!1}),this.calciteListFilter=V({cancelable:!1}),this.calciteListOrderChange=V({cancelable:!1}),this.listen("calciteInternalListItemToggle",this.handleCalciteListItemToggle),this.listen("calciteInternalFocusPreviousItem",this.handleCalciteInternalFocusPreviousItem),this.listen("calciteInternalListItemActive",this.handleCalciteInternalListItemActive),this.listen("calciteListItemSelect",this.handleCalciteListItemSelect),this.listen("calciteInternalAssistiveTextChange",this.handleCalciteInternalAssistiveTextChange),this.listen("calciteSortHandleReorder",this.handleSortReorder),this.listen("calciteSortHandleMove",this.handleSortMove),this.listen("calciteInternalListItemSelect",this.handleCalciteInternalListItemSelect),this.listen("calciteInternalListItemSelectMultiple",this.handleCalciteInternalListItemSelectMultiple),this.listen("calciteInternalListItemChange",this.handleCalciteInternalListItemChange),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListItemGroupDefaultSlotChange)}static{this.properties={assistiveText:16,dataForFilter:16,hasFilterActionsEnd:16,hasFilterActionsStart:16,hasFilterNoResults:16,moveToItems:16,hasActiveFilter:16,showNoResultsContainer:16,canPull:0,canPut:0,disabled:7,dragEnabled:7,filterEnabled:7,filterPredicate:0,filterLabel:3,filterPlaceholder:3,filterProps:0,filterText:3,filteredData:0,filteredItems:0,group:3,interactionMode:3,label:1,loading:7,messageOverrides:0,displayMode:3,numberingSystem:1,scale:3,selectedItems:0,selectionAppearance:3,selectionMode:3}}static{this.styles=Ji}get hasActiveFilter(){return this.filterEnabled&&this.filterText&&this.filteredItems.length!==this.visibleItems.length}get showNoResultsContainer(){return this.filterEnabled&&this.filterText&&this.hasFilterNoResults&&this.visibleItems.length&&!this.filteredItems.length}setFocus(){return q(this,null,function*(){return yield jt(this),this.filterEnabled?this.filterEl?.setFocus():this.focusableItems.find(t=>t.active)?.setFocus()})}connectedCallback(){super.connectedCallback(),this.connectObserver(),this.willPerformFilter=!0,this.updateListItems(),this.setUpSorting(),this.setParentList(),this.setListItemGroups()}load(){return q(this,null,function*(){this.handleInteractionModeWarning()})}willUpdate(t){(t.has("filterText")||t.has("filterProps")||t.has("filterPredicate"))&&this.performFilter(),(t.has("filterEnabled")&&(this.hasUpdated||this.filterEnabled!==!1)||t.has("group")||t.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||t.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||t.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon")||t.has("displayMode")&&this.hasUpdated||t.has("scale")&&this.hasUpdated||t.has("filterPredicate")&&this.hasUpdated)&&this.handleListItemChange()}updated(){Wt(this)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver(),Le(this)}handleListItemChange(){this.willPerformFilter=!0,this.updateListItems()}handleCalciteListItemToggle(t){this.parentListEl||(t.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(t){if(this.parentListEl)return;t.stopPropagation();let{focusableItems:i}=this,a=i.findIndex(o=>o.active)-1;i[a]&&this.focusRow(i[a])}handleCalciteInternalListItemActive(t){if(this.parentListEl)return;t.stopPropagation();let i=t.target,{listItems:a}=this;a.forEach(o=>{o.active=o===i})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(t){this.assistiveText=t.detail.message,t.stopPropagation()}handleSortReorder(t){this.parentListEl||this.handleReorder(t)}handleSortMove(t){this.parentListEl||this.handleMove(t)}handleCalciteInternalListItemSelect(t){if(this.parentListEl)return;t.stopPropagation();let i=t.target,{listItems:a,selectionMode:o}=this;i.selected&&(o==="single"||o==="single-persist")&&a.forEach(r=>r.selected=r===i),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(t){if(this.parentListEl)return;t.stopPropagation();let{target:i,detail:a}=t,{focusableItems:o,lastSelectedInfo:r}=this,s=i;if(a.selectMultiple&&r){let l=o.indexOf(s),c=o.indexOf(r.selectedItem),u=Math.min(c,l),h=Math.max(c,l);o.slice(u,h+1).forEach(f=>f.selected=r.selected)}else this.lastSelectedInfo={selectedItem:s,selected:s.selected}}handleCalciteInternalListItemChange(t){this.parentListEl||(t.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(t){t.stopPropagation()}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){let{dragEnabled:t}=this;t&&gi(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(t){this.calciteListDragEnd.emit(t)}onDragMove({relatedEl:t}){t.expanded=!0}onDragStart(t){t.dragEl.sortHandleOpen=!1,this.calciteListDragStart.emit(t)}onDragSort(t){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(t)}setParentList(){this.parentListEl=this.el.parentElement?.closest(Zt)}handleDefaultSlotChange(t){Ye(t.target),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()}setListItemGroups(){this.listItemGroups=Array.from(this.el.querySelectorAll(Qt))}handleFilterActionsStartSlotChange(t){this.hasFilterActionsStart=Z(t)}handleFilterActionsEndSlotChange(t){this.hasFilterActionsEnd=Z(t)}handleFilterNoResultsSlotChange(t){this.hasFilterNoResults=Z(t)}setActiveListItem(){let{focusableItems:t}=this;t.some(i=>i.active)||t[0]&&(t[0].active=!0)}updateSelectedItems(t=!1){return q(this,null,function*(){yield this.updateComplete,this.selectedItems=this.visibleItems.filter(i=>i.selected),t&&this.calciteListChange.emit()})}filterElements({el:t,filteredItems:i,visibleParents:a}){let o=!a.has(t)&&!i.includes(t);t.filterHidden=o;let r=t.parentElement.closest(tn);r&&(o||a.add(r),this.filterElements({el:r,filteredItems:i,visibleParents:a}))}allParentListItemsExpanded(t){let i=t.parentElement?.closest(yt);if(i){if(!i.expanded)return!1}else return!0;return this.allParentListItemsExpanded(i)}borderItems(){let t=this.visibleItems.filter(i=>!i.filterHidden&&this.allParentListItemsExpanded(i));t.forEach(i=>i.bordered=i!==t[t.length-1])}updateFilteredItems(){let{visibleItems:t,filteredData:i,filterText:a,filterPredicate:o}=this,r=t?.filter(c=>t.every(u=>u===c||!c.contains(u))),s=o?t.filter(o):a?i.map(c=>c.el):t||[],l=new WeakSet;r.forEach(c=>this.filterElements({el:c,filteredItems:s,visibleParents:l})),this.filteredItems=s,this.willFilterEmit&&(this.willFilterEmit=!1,this.calciteListFilter.emit())}updateFilteredData(){let{filterEl:t}=this;t&&(t.filteredItems&&(this.filteredData=t.filteredItems),this.updateListItems())}filterAndUpdateData(){return q(this,null,function*(){yield this.filterEl?.filter(this.filterText),this.updateFilteredData()})}get effectiveFilterProps(){return this.filterProps?this.filterProps.filter(t=>t!=="el"):["description","label","metadata","heading"]}performFilter(){let{filterEl:t,filterText:i,effectiveFilterProps:a}=this;t&&(t.value=i,t.filterProps=a,this.filterAndUpdateData())}setFilterEl(t){this.filterEl=t,this.performFilter()}handleFilterChange(t){t.stopPropagation();let{value:i}=t.currentTarget;this.filterText=i,this.willFilterEmit=!0,this.updateFilteredData()}getItemData(){return this.listItems.map(t=>({label:t.label,description:t.description,metadata:t.metadata,heading:this.getGroupHeading(t),el:t}))}getGroupHeading(t){return this.listItemGroups.filter(i=>i.contains(t)).map(i=>i.heading)}updateGroupItems(){let{el:t,group:i,scale:a}=this,o=Ge(t),r=i?Array.from(o.querySelectorAll(`${Zt}[group="${i}"]`)).filter(s=>!s.disabled&&s.dragEnabled):[];this.moveToItems=r.map(s=>({element:s,label:s.label??s.id,id:He()})),Array.from(this.el.querySelectorAll(Qt)).forEach(s=>{s.scale=a})}focusRow(t){let{focusableItems:i}=this;t&&(i.forEach(a=>a.active=a===t),t.setFocus())}isNavigable(t){let i=t.parentElement?.closest(yt);return i?i.expanded&&this.isNavigable(i):!0}handleListKeydown(t){if(t.defaultPrevented||this.parentListEl)return;let{key:i}=t,a=this.focusableItems.filter(r=>this.isNavigable(r)),o=a.findIndex(r=>r.active);if(i==="ArrowDown"){t.preventDefault();let r=t.target===this.filterEl?0:o+1;a[r]&&this.focusRow(a[r])}else if(i==="ArrowUp"){if(t.preventDefault(),o===0&&this.filterEnabled){this.filterEl?.setFocus();return}let r=o-1;a[r]&&this.focusRow(a[r])}else if(i==="Home"){t.preventDefault();let r=a[0];r&&this.focusRow(r)}else if(i==="End"){t.preventDefault();let r=a[a.length-1];r&&this.focusRow(r)}}handleInteractionModeWarning(){this.interactionMode==="static"&&this.selectionMode!=="none"&&this.selectionAppearance==="border"&&console.warn('selection-appearance="border" requires interaction-mode="interactive"')}handleMove(t){let{moveTo:i}=t.detail,a=t.target,o=a?.parentElement,r=i.element,s=Array.from(o.children).filter(Jt).indexOf(a);if(!o)return;a.sortHandleOpen=!1,this.disconnectObserver(),r.prepend(a),Xe(a);let l=Array.from(r.children).filter(Jt).indexOf(a);this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:a,fromEl:o,toEl:r,newIndex:l,oldIndex:s})}handleReorder(t){let{reorder:i}=t.detail,a=t.target,o=a?.parentElement;if(!o)return;a.sortHandleOpen=!1;let r=Array.from(o.children).filter(Jt),s=r.length-1,l=r.indexOf(a),c=l;switch(i){case"top":c=0;break;case"bottom":c=s;break;case"up":c=l===0?0:l-1;break;case"down":c=l===s?s:l+1;break}this.disconnectObserver();let u=i==="up"||i==="top"?r[c]:r[c].nextSibling;o.insertBefore(a,u),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:a,fromEl:o,toEl:o,newIndex:c,oldIndex:l})}render(){let{loading:t,label:i,disabled:a,dataForFilter:o,filterEnabled:r,filterPlaceholder:s,filterText:l,filterLabel:c,hasFilterActionsStart:u,hasFilterActionsEnd:h,effectiveFilterProps:f}=this;return Kt({disabled:this.disabled,children:A`<div class=${_(st.container)}>${this.dragEnabled?A`<span aria-live=assertive class=${_(st.assistiveText)}>${this.assistiveText}</span>`:null}${this.renderItemAriaLive()}${t?A`<calcite-scrim class=${_(st.scrim)} .loading=${t}></calcite-scrim>`:null}<div .ariaBusy=${t} .ariaLabel=${i||""} class=${_(st.table)} @keydown=${this.handleListKeydown} role=treegrid>${r||u||h?A`<div class=${_(st.sticky)} role=rowgroup><div role=row><div role=columnheader><calcite-stack class=${_(st.stack)}><slot name=${ke.filterActionsStart} @slotchange=${this.handleFilterActionsStartSlotChange} slot=${nt.actionsStart}></slot><calcite-filter .ariaLabel=${s} .disabled=${a} .filterProps=${f} .items=${o} .label=${c} @calciteFilterChange=${this.handleFilterChange} .placeholder=${s} .scale=${this.scale} .value=${l} ${Ut(this.setFilterEl)}></calcite-filter><slot name=${ke.filterActionsEnd} @slotchange=${this.handleFilterActionsEndSlotChange} slot=${nt.actionsEnd}></slot></calcite-stack></div></div></div>`:null}<div class=${_(st.tableContainer)} role=rowgroup><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div><div aria-live=polite data-test-id=no-results-container .hidden=${!this.showNoResultsContainer}><slot name=${ke.filterNoResults} @slotchange=${this.handleFilterNoResultsSlotChange}></slot></div></div>`})}renderItemAriaLive(){let{messages:t,filteredItems:i,parentListEl:a,messages:{_lang:o},numberingSystem:r}=this;return me.numberFormatOptions={locale:o,numberingSystem:r},a?null:A`<div aria-live=polite class=${_(st.assistiveText)}>${this.hasActiveFilter?ht("aria-filter-enabled",A`<div>${t.filterEnabled}</div>`):null}${ht("aria-item-count",A`<div>${t.total.replace("{count}",me.localize(i.length.toString()))}</div>`)}${i.length?ht("aria-item-list",A`<ol>${i.map(s=>A`<li>${s.label}</li>`)}</ol>`):null}</div>`}}return n})();Et("calcite-list",en);export{en as List};
