import{a as P}from"./chunk-YLZWDFCJ.js";import{a as v}from"./chunk-WNSGKHQ6.js";import{c as n}from"./chunk-OLOKUDVI.js";import{a as c}from"./chunk-HD52PWPC.js";import{h as w,k as l}from"./chunk-E57FTRWF.js";import{A as y,D as g,E as D,w as f,y as d}from"./chunk-U4J5SECU.js";import{d as s}from"./chunk-C7INQGWT.js";import{H as h}from"./chunk-WMHJC7XF.js";import{a}from"./chunk-QGVBCWUY.js";import{b as m}from"./chunk-HHDFN2GK.js";function z(e,t,i){return t.imageData?D({mediaType:t.contentType||"image/png",isBase64:!0,data:t.imageData}):j(t.url,i)}function j(e,t){if(!d(e)){let i=k(t);if(i)return f(i,"images",e)}return w(e,t)}function x(e,t,i,r){if(y(e)){let u=g(e);if(!u)return;t.contentType=u.mediaType,t.imageData=u.data,i&&i.imageData===t.imageData&&i.url&&l(i.url,t,"url",r)}else l(e,t,"url",r)}var T={json:{read:{source:["imageData","url"],reader:z},write:{writer(e,t,i,r){x(e,t,this.source,r)}}}},b={readOnly:!0,json:{read:{source:["imageData","url"],reader(e,t,i){let r={};return t.imageData&&(r.imageData=t.imageData),t.contentType&&(r.contentType=t.contentType),t.url&&(r.url=j(t.url,i)),r}}}};function k(e){if(!e)return null;let{origin:t,layer:i}=e;if(t!=="service"&&t!=="portal-item")return null;let r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?e.url?.path:null}var p,o=p=class extends P{constructor(...e){super(...e),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(e,t,i){if(e&&typeof e!="string"&&e.imageData==null)return e;let r={};return e&&(r.url=e),t!=null&&(r.width=n(t)),i!=null&&(r.height=n(i)),r}readHeight(e,t){return t.size||e}readWidth(e,t){return t.size||e}clone(){let e=new p({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return e._set("source",m(this.source)),e}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};a([s({json:{write:!1}})],o.prototype,"color",void 0),a([v({esriPMS:"picture-marker"},{readOnly:!0})],o.prototype,"type",void 0),a([s(T)],o.prototype,"url",void 0),a([s(b)],o.prototype,"source",void 0),a([s({type:Number,cast:n,json:{write:!0}})],o.prototype,"height",void 0),a([c("height",["height","size"])],o.prototype,"readHeight",null),a([s({type:Number,cast:n,json:{write:!0}})],o.prototype,"width",void 0),a([s({json:{write:!1}})],o.prototype,"size",void 0),o=p=a([h("esri.symbols.PictureMarkerSymbol")],o);var E=o;export{T as a,b,E as c};
