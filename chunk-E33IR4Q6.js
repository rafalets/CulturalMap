import{a as w}from"./chunk-LGMF4IPK.js";import{a as f,b as h,c as v}from"./chunk-R6GE4XRP.js";import{F as d}from"./chunk-E57FTRWF.js";import"./chunk-U4J5SECU.js";import{f as u}from"./chunk-7EG726PT.js";import{d as t}from"./chunk-C7INQGWT.js";import{H as l}from"./chunk-WMHJC7XF.js";import"./chunk-NJEWDTYF.js";import"./chunk-N3SDOFND.js";import"./chunk-OVHPPCBL.js";import"./chunk-FNXQZPHT.js";import"./chunk-3TQOUBNU.js";import"./chunk-D2LVMNOU.js";import"./chunk-SNFOAZZQ.js";import{a as s}from"./chunk-QGVBCWUY.js";import{t as a}from"./chunk-HHDFN2GK.js";import"./chunk-47GHT6OF.js";import{a as i,b as n,f as m}from"./chunk-VTHXE323.js";var r=class extends u{constructor(o){super(o),this.hasConflicts=!1,this.moment=null,this.didPost=!1,this.success=!1}};s([t({type:Boolean,json:{write:!0}})],r.prototype,"hasConflicts",void 0),s([t({type:Date,json:{type:Number,write:{writer:(o,e)=>{e.moment=o?o.getTime():null}}}})],r.prototype,"moment",void 0),s([t({type:Boolean,json:{write:!0}})],r.prototype,"didPost",void 0),s([t({type:Boolean,json:{write:!0}})],r.prototype,"success",void 0),r=s([l("esri.rest.versionManagement.gdbVersion.support.ReconcileResult")],r);var y=r;var p=new Map;function T(o,e,g,j){return m(this,null,function*(){if(p.has(o)||(yield w(p,o)),(p.get(o)?.serverVersion??0)<=11.1)throw new a("reconcile:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!e)throw new a("reconcile:missing-guid","guid for version is missing");let c=h(o),V=g.toJSON(),S=f(c.query,n(i({query:v(n(i({},V),{f:"json"}))},j),{method:"post"}));e.startsWith("{")&&(e=e.slice(1,-1));let b=`${c.path}/versions/${e}/reconcile`,{data:q}=yield d(b,S);return y.fromJSON(q)})}export{T as reconcile,p as serverVersionCacheMap};
