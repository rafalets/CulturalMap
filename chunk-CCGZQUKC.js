import{j as c}from"./chunk-I4M2OT5W.js";import{ia as u}from"./chunk-IG66NQHW.js";function p(t,e){return e?"xoffset"in e&&e.xoffset?Math.max(t,Math.abs(e.xoffset)):"yoffset"in e&&e.yoffset?Math.max(t,Math.abs(e.yoffset||0)):t:t}function M(t){let e=0,r=0;for(let n=0;n<t.length;n++){let o=t[n].size;typeof o=="number"&&(e+=o,r++)}return e/r}function m(t,e){return typeof t=="number"?t:t?.stops?.length?M(t.stops):e}function b(t,e){if(!e)return t;let r=e.filter(s=>s.type==="size").map(s=>{let{maxSize:f,minSize:i}=s;return(m(f,t)+m(i,t))/2}),n=0,o=r.length;if(o===0)return t;for(let s=0;s<o;s++)n+=r[s];let a=Math.floor(n/o);return Math.max(a,t)}function y(t){let e=t?.renderer,r=t?.pointerType,n=r==="touch"?9:6;if(!e)return n;let o="visualVariables"in e?b(n,e.visualVariables):n;if(e.type==="simple")return p(o,e.symbol);if(e.type==="unique-value"){let a=o;return e.uniqueValueInfos?.forEach(s=>{a=p(a,s.symbol)}),a}if(e.type==="class-breaks"){let a=o;return e.classBreakInfos.forEach(s=>{a=p(a,s.symbol)}),a}return e.type==="dot-density"||e.type,o}function d(t,e,r,n=new c){let o=0;if(r.type==="2d")o=e*(r.resolution??0);else if(r.type==="3d"){let h=r.overlayPixelSizeInMapUnits(t),l=r.basemapSpatialReference;o=l==null||l.equals(r.spatialReference)?e*h:u(l)/u(r.spatialReference)}let a=t.x-o,s=t.y-o,f=t.x+o,i=t.y+o,{spatialReference:x}=r;return n.xmin=Math.min(a,f),n.ymin=Math.min(s,i),n.xmax=Math.max(a,f),n.ymax=Math.max(s,i),n.spatialReference=x,n}function q(t,e,r){let n=r.toMap(t);return n==null?!1:d(n,y(),r,R).intersects(e)}var R=new c;export{y as a,d as b,q as c};
