import{d}from"./chunk-5SSISWTF.js";var i=2,u=class l{constructor(s=[],t=[]){this.lengths=s??[],this.coords=t??[]}static fromJSON(s){return new l(s.lengths,s.coords)}static fromRect(s){let[t,r,e,o]=s,h=e-t,n=o-r;return new l([5],[t,r,h,0,0,n,-h,0,0,-n])}get isPoint(){return this.lengths.length===0&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((s,t)=>s+t)}get usedMemory(){return 64+d(this.lengths,this.coords)}area(){let s=0,t=0;if(!this.lengths.length)return 0;for(let r=0;r<this.lengths.length;r++){let e=this.lengths[r];if(e<3)continue;let o=this.coords[i*t],h=this.coords[i*t+1];for(let n=1;n<e;n+=1){let c=this.coords[i*(n+t)],g=this.coords[i*(n+t)+1];s+=-.5*(c-o)*(g+h),o=c,h=g}t+=e}return s}forEachVertex(s){let t=0;this.lengths.length||s(this.coords[0],this.coords[1]);for(let r=0;r<this.lengths.length;r++){let e=this.lengths[r];for(let o=0;o<e;o++)s(this.coords[i*(o+t)],this.coords[i*(o+t)+1]);t+=e}}deltaDecode(){let s=this.clone(),{coords:t,lengths:r}=s,e=0;for(let o of r){for(let h=1;h<o;h++)t[2*(e+h)]+=t[2*(e+h)-2],t[2*(e+h)+1]+=t[2*(e+h)-1];e+=o}return s}clone(s){if(this.lengths.length===0)return new l([],[this.coords[0],this.coords[1]]);let t=(this.lengths.length===0?1:this.lengths.reduce((e,o)=>e+o))*i,r=this.coords.slice(0,t);return s?(s.set(r),new l(this.lengths,s)):new l(Array.from(this.lengths),Array.from(r))}};export{u as a};
