import{c as fo,d as ho,e as vo}from"./chunk-B6OGPRTQ.js";import{a as mo}from"./chunk-4OC4J3KU.js";import{a as Xe,b as Ze}from"./chunk-EDAGF7R6.js";import{b as ie}from"./chunk-IDLNQPT7.js";import{a as mt}from"./chunk-IL63CQ3W.js";import{h as J,i as uo}from"./chunk-5IRLA4AM.js";import{c as L}from"./chunk-DLMQHZTF.js";import{a as qe,b as Qe,c as Je,d as je,e as to,f as eo,g as oo,h as io,i as no,j as ro,k as so,l as ao,m as lo,n as co,p as po}from"./chunk-AA5W2OSC.js";import{a as Y,b as N,d as ut,e as X,f as Ke}from"./chunk-RXT2WPNA.js";import{a as pt}from"./chunk-VC7OIMIK.js";import{a as Nt,d as we}from"./chunk-EXXSZWI5.js";import{a as Ne}from"./chunk-VLECDDLP.js";import{D as oe,c as Be,m as Ge,o as ct,r as Ye}from"./chunk-5WKDXHVH.js";import{d as jt,e as te}from"./chunk-OLOKUDVI.js";import{c as We}from"./chunk-AZS4Q4RE.js";import{a as w,b as He,i as Ue,l as ee}from"./chunk-NHSDW26F.js";import{h as lt,n as Q}from"./chunk-NTVLK3P2.js";import{a as $}from"./chunk-WMQNRNIU.js";import{o as rt}from"./chunk-VOFKUGRY.js";import{P as Pe,X as Ve,Y as Oe,Z as $e,a as Ee,b as Le,d as Ie,e as Kt,g as q,h as D,i as qt,j as G,ma as Jt,na as at,p as Qt,qa as ze,u as Re,v as Ae,x as Fe,y as st}from"./chunk-IG66NQHW.js";import{c as Se}from"./chunk-MDSLION2.js";import{c as B,d as M,e as K}from"./chunk-7ZYPJJID.js";import{g as s,h as f}from"./chunk-UAKHZRKN.js";import{e as De,g as Me}from"./chunk-HAHX77IL.js";import{b as U,c as A}from"./chunk-6PN3I333.js";import{a as E,b as Te,g as ke,h as Zt,i as Wt}from"./chunk-LB5YQINJ.js";import{a as Ce}from"./chunk-VACZNAP3.js";import{e as Xt}from"./chunk-JKNCWG7E.js";import{L as xe,d as c}from"./chunk-C7INQGWT.js";import{H as u}from"./chunk-WMHJC7XF.js";import{e as Yt,f as nt}from"./chunk-NJEWDTYF.js";import{H as be,a as ge,d as _e,i as Bt,r as O,u as ye,y as Gt}from"./chunk-D2LVMNOU.js";import{a as r}from"./chunk-QGVBCWUY.js";import{t as it}from"./chunk-HHDFN2GK.js";import{a as Ut,f as y}from"./chunk-VTHXE323.js";function W(){return Ee()}function ne(){return Le()}function Z(t,e){let o=[];t=(t=(t=t.replaceAll(/[\u00B0\u00BA]/g,"^")).replaceAll("\u2032","'")).replaceAll("\u2033",'"');let i=F(e);return q.dmsToGeog(i,1,[t],o)?new Q(o[0][0],o[0][1],e||$.WGS84):null}function go(t){return t&&W()?A(t)??Z(`0\xB0 0' 0" N | ${t}`)?.longitude??Z(`0 | ${t}`)?.longitude??null:null}function _o(t){return t&&W()?A(t)??Z(`${t} | 0\xB0 0' 0" E`)?.latitude??Z(`${t} | 0`)?.latitude??null:null}function Ni(t,e,o){let i=[],n=yo(o);if(n===-1)return console.warn(`invalid conversionMode: ${o}`),null;let a=F(e);return D.mgrsToGeogExtended(a,1,[t],n,i)?new Q(i[0][0],i[0][1],e||$.WGS84):null}function Xi(t,e){let o=[];!e&&/\(.+27/.test(t)&&(e=$.GCS_NAD_1927);let i=F(e);return qt.usngToGeog(i,1,[t],o)?new Q(o[0][0],o[0][1],e||$.WGS84):null}function Zi(t,e,o){let i=[],n=bo(o);if(n===-1)return console.warn(`invalid conversionMode: ${o}`),null;let a=F(e);return G.utmToGeog(a,1,[t],n,i)?new Q(i[0][0],i[0][1],e||$.WGS84):null}function Wi(t,e,o=0){let i=[[t.x,t.y]],n=[],a=F(t.spatialReference),l=0;switch(e){case"dd":l=q.geogToDd(a,1,i,o,n);break;case"ddm":l=q.geogToDdm(a,1,i,o,n);break;case"dms":l=q.geogToDms(a,1,i,o,n);break;default:return console.warn(`invalid format: ${e}`),null}return l?n[0]:null}function Ki(t,e,o=0,i=!1){let n=[[t.x,t.y]],a=[],l=F(t.spatialReference),m=yo(e);return m===-1?(console.warn(`invalid conversionMode: ${e}`),null):(i&&(m|=D.PE_MGRS_ADD_SPACES),D.geogToMgrsExtended(l,1,n,o,!1,m,a)?a[0]:null)}function qi(t,e=0,o=!1){let i=[[t.x,t.y]],n=[],a=F(t.spatialReference);return qt.geogToUsng(a,1,i,e,!1,o,n)?n[0]:null}function Qi(t,e,o=!1){let i=[[t.x,t.y]],n=[],a=F(t.spatialReference),l=bo(e);return l===-1?(console.warn(`invalid conversionMode: ${e}`),null):(o&&(l|=G.PE_UTM_OPTS_ADD_SPACES),G.geogToUtm(a,1,i,l,n)?n[0]:null)}function F(t){let e=null;if(t||(t=$.WGS84),t.wkid){if(e=Kt.geogcs(t.wkid),!e)throw new it("coordinate-formatter:invalid-spatial-reference","wkid is not valid")}else{if(!t.wkt2&&!t.wkt)throw new it("coordinate-formatter:invalid-spatial-reference","wkid and wkt are missing");if(e=Kt.fromString(Ie.PE_TYPE_GEOGCS,t.wkt2||t.wkt),!e)throw new it("coordinate-formatter:invalid-spatial-reference","wkt is not valid")}return e}function yo(t){let e=-1;switch(t){case"automatic":e=D.PE_MGRS_STYLE_AUTO;break;case"new-180-in-zone-01":e=D.PE_MGRS_STYLE_NEW|D.PE_MGRS_180_ZONE_1_PLUS;break;case"new-180-in-zone-60":e=D.PE_MGRS_STYLE_NEW;break;case"old-180-in-zone-01":e=D.PE_MGRS_STYLE_OLD|D.PE_MGRS_180_ZONE_1_PLUS;break;case"old-180-in-zone-60":e=D.PE_MGRS_STYLE_OLD}return e}function bo(t){let e=-1;switch(t){case"latitude-band-indicators":e=G.PE_UTM_OPTS_NONE;break;case"north-south-indicators":e=G.PE_UTM_OPTS_NS}return e}var h="esri-tooltip",xo=`${h}-content`,wo=`${h}-content--input`,Co=`${h}-content__header`,To=`${h}-content__header__spacer`,re=`${h}-content__header__actions`,dt=`${h}-draw-header-actions`,ko=`${h}-table`,Do=`${h}-help-message`,Mo=`${h}-help-message__text`,So=`${h}-help-message__icon`;var ft=`${h}-field`,ht={base:ft,inputMode:`${ft}--input`,title:`${ft}__title`,value:`${ft}__value`},d=class extends M{constructor(){super(...arguments),this.hidden=!1,this.mode="feedback"}render(){return s("div",{class:this.classes({[ht.base]:!0,[ht.inputMode]:this.mode==="input"})},s("div",{class:ht.title,key:"title"},this.title),s("div",{class:ht.value,key:"value"},this.value))}};r([c()],d.prototype,"hidden",void 0),r([c()],d.prototype,"mode",void 0),r([c()],d.prototype,"title",void 0),r([c()],d.prototype,"value",void 0),d=r([u("esri.views.interactive.tooltip.components.TooltipField")],d);var jo={base:`${h}-value-by-value`},C=class extends M{constructor(){super(...arguments),this.divider="\xD7"}render(){return s("div",{class:jo.base},s("span",null,this.left),s("span",null,this.divider),s("span",null,this.right))}};r([c()],C.prototype,"left",void 0),r([c()],C.prototype,"divider",void 0),r([c()],C.prototype,"right",void 0),C=r([u("esri.views.interactive.tooltip.components.ValueByValue")],C);function se(t){let e="metric";if(t==null)return e;let o=t.map,i=(o&&"portalItem"in o?o.portalItem?.portal:null)??We.getDefault();switch(i.user?.units??i.units){case e:return e;case"english":return"imperial"}return ze(t.spatialReference)??e}function ae(t,e,o,i=2,n="abbr"){return Qe(t,X(e,o).value,o,i,n)}function Eo(t,e,o,i=2,n="abbr"){return Je(t,X(e,o).value,o,i,n)}function ti(t,e,o=2,i="abbr"){return je(t,e.value,e.unit,o,i)}function ei(t,e,o=2,i="abbr"){return to(t,e.value,e.unit,o,i)}function oi(t,e,o=2,i="abbr"){return eo(t,e.value,e.unit,o,i)}function ii(t,e,o=2,i="abbr"){return oo(t,e.value,e.unit,o,i)}function ni(t,e,o=2,i="abbr"){return ao(t,e.value,e.unit,o,i)}function ri(t,e,o=2,i="abbr"){return io(t,e.value,e.unit,o,i)}function si(t,e,o=2,i="abbr"){return no(t,e.value,e.unit,o,i)}function ai(t,e,o=2,i="abbr"){return ro(t,e.value,e.unit,o,i)}function li(t,e,o=2,i="abbr"){return so(t,e.value,e.unit,o,i)}function ci(t,e,o=2,i="abbr"){return lo(t,e.value,e.unit,o,i)}function vt(t,e,o,i=we,n=!0){return co(t.value,t.unit,t.rotationType,e,o,i,n)}function le(t,e,o,i,n="abbr"){switch(i=i??2,o){case"imperial":return ri(t,e,i,n);case"metric":return ti(t,e,i,n);default:return ae(t,e,o,i,n)}}function Lo(t,e,o,i=2,n="abbr"){switch(o){case"imperial":return si(t,e,i,n);case"metric":return ei(t,e,i,n);default:return Eo(t,e,o,i,n)}}function Io(t,e,o,i=2,n="abbr"){switch(o){case"imperial":return ai(t,e,i,n);case"metric":return oi(t,e,i,n);default:return ae(t,e,o,i,n)}}function Ro(t,e,o,i=2,n="abbr"){switch(o){case"imperial":return li(t,e,i,n);case"metric":return ii(t,e,i,n);default:return Eo(t,e,o,i,n)}}function Ao(t,e,o,i=2,n="abbr"){switch(o){case"imperial":return ci(t,e,i,n);case"metric":return ni(t,e,i,n);default:return ae(t,e,o,i,n)}}var _t=1,Po=6;function Vo(t,e){return{angleRelative:pi,direction:ui,directionRelative:mi,directionRelativeBilateral:di,latitudeDecimalDegrees:hi,longitudeDecimalDegrees:fi,area:(o,i)=>Ao(t,o,i??e.area),length:(o,i,n)=>le(t,o,i??e.length,n),lengthRelative:(o,i)=>Lo(t,o,i??e.length),totalLength:(o,i)=>le(t,o,i??e.length),verticalLength:(o,i)=>Io(t,o,i??e.verticalLength),verticalLengthRelative:(o,i)=>Ro(t,o,i??e.verticalLength),percentage:vi,scalar:zo,scale:gi}}function pi(t){return U(t,Ut({signDisplay:"exceptZero"},ce(_t)))}function ui(t){return vt(t,t.rotationType,_t)}function mi(t){let e=J(t);return U(e,Ut({style:"unit",unitDisplay:"narrow",unit:"degree",signDisplay:e>0?"never":"exceptZero"},ce(_t)))}function di(t){return vt(t,t.rotationType,_t)}function fi(t){return Oo(t,Go)}function hi(t){return Oo(t,Yo)}function Hn(t){return $o(t,Go)}function Un(t){return $o(t,Yo)}function Oo(t,e){return vt(X(t,"degrees"),"geographic",Po,e,!1)}function $o(t,e){let i=e.normalize(X(t,"degrees").value,void 0,!1);return zo(Y(i),Po)}function vi(t){return U(t.value,{style:"percent"})}function gi(t){return U(t,{style:"percent",maximumFractionDigits:0})}function zo(t,e){return U(t.value,ce(e))}function ce(t){return{minimumFractionDigits:t,maximumFractionDigits:t}}function Bn({createQuantity:t,sanitize:e}){return(o,i)=>{if(o==null)return null;e&&(o=e(o));let n=A(o);return n==null?null:t(n,i)}}function Gn(t){return t.replaceAll(/[*^~°º]/g,"")}var _i=t=>{let e=`[-+]?[0-9${t.thousands}]+`;return t.decimal!==""&&(e+=`${t.decimal}[0-9]+`),new RegExp(`^(${e}\\s*)${t.separator}(\\s*${e})$`,"i")},yi="\u202F",Ho=[];for(let t of[",","\\|","\\s+"])for(let e of["\\.",",",""])for(let o of["",",","\\.",yi,"\\s+"])t!==e&&t!==o&&e!==o&&Ho.push({separator:t,decimal:e,thousands:o,pattern:_i({decimal:e,thousands:o,separator:t})});function Uo(t){for(let{decimal:e,thousands:o,pattern:i}of Ho){i.lastIndex=0;let n=t.match(i);if(!n)continue;let a=A(Fo(n[1],e,o)),l=A(Fo(n[2],e,o));if(a!=null&&l!=null)return{x:Y(a),y:Y(l)}}return null}function Fo(t,e,o){let i=t.replaceAll(/[\s+]/g,"");return o!==""&&(i=i.replaceAll(o,"")),e!==""&&(i=i.replaceAll(e,".")),i}function Bo(t){if(!t||A(t)!=null||!W())return null;let e=Z(t),o=gt(e?.latitude),i=gt(e?.longitude);return i!=null&&o!=null?{latitude:o,longitude:i}:null}function Yn(t){return gt(go(t))}function Nn(t){return gt(_o(t))}function gt(t){return t!=null?ut(t,"degrees","geographic"):null}var Go=new Nt(-180,180),Yo=new Nt(-90,90);var pe=Symbol("dragHandles"),p=class extends M{constructor(){super(...arguments),this._focusAbortController=new AbortController,this._transitionInfo=null,this._mode="feedback",this._getFormatters=mo(Vo),this._onHeaderPointerDown=t=>{let e=t.target;e instanceof HTMLElement&&e?.tagName?.toLowerCase()!=="calcite-button"&&(this.removeHandles(pe),e.setPointerCapture(t.pointerId),this.tooltip.onDragStart(t.clientX,t.clientY),this.addHandles([O(e,"pointermove",({clientX:o,clientY:i})=>{this.tooltip.onDrag(o,i)}),O(e,["pointerup","pointercancel"],o=>{this.removeHandles(pe),e.releasePointerCapture(t.pointerId),this.tooltip.onDragEnd()}),O(e,"touchstart",o=>o.preventDefault())],pe))},this._onDiscard=()=>{this.destroyed||(this.tooltip.emit("discard"),this.info.clearInputValues(),this.exitInputMode())},this._onCommit=(t,e)=>{if(this.destroyed)return;if(this.tooltip.emit("commit",{type:e}),e==="commit-and-exit")return void this.exitInputMode();if(e==="commit-on-blur")return;let o=this._getFocusableElements(),i=o.length,n=o.indexOf(t);if(n===-1)return void this.exitInputMode();let a=((n+(e==="commit-and-next"?1:-1))%i+i)%i;yt(o.at(a))},this._onKeyDown=t=>{switch(t.code){case L.next:return this._onNextKey(t);case L.discard:return t.stopPropagation(),this._onDiscard()}}}get mode(){return this._mode}get _displayUnits(){let{displayUnits:t}=this.info.sketchOptions.values,e=se(this.tooltip.view);return{length:t.length??e,verticalLength:t.verticalLength??e,area:t.area??e}}get _inputUnitInfos(){let t=this._messagesUnits,e=m=>({unit:m,abbreviation:qe(t,m,"abbr")}),{inputUnits:o}=this.info.sketchOptions.values,i=se(this.tooltip.view),n=o.length??i,a=o.verticalLength??i,l=o.area??i;return{length:e(Ve(n)),verticalLength:e(Oe(a)),area:e($e(l)),angle:e("degrees")}}get _formatters(){return this._getFormatters(this._messagesUnits,this._displayUnits)}get fieldContext(){return{formatters:this._formatters,inputUnitInfos:this._inputUnitInfos,messages:this._messagesTooltip,sketchOptions:this.info.sketchOptions,onCommit:this._onCommit,onDiscard:this._onDiscard}}render(){let{visibleElements:t}=this.info.sketchOptions.tooltips,e=this._renderedContent,o=this._renderedActions,i=this._renderedHelpMessage,n=e.length>0,a=n||!!i,l=this.mode==="input";return s("div",{class:De(xo,l&&wo),onkeydown:this._onKeyDown,tabIndex:-1},l&&a&&t.header?s("div",{class:Co,"data-testid":"tooltip-header",key:"header",onpointerdown:this._onHeaderPointerDown},s("calcite-button",{appearance:"transparent","data-testid":"tooltip-back-button",iconFlipRtl:"both",iconStart:"chevron-left",key:"discard-button",kind:"neutral",onclick:this._onDiscard,scale:"s",tabIndex:-1}),o.length>0?s(f,null,s("div",{class:To,key:"spacer"}),s("div",{class:re,key:"actions"},o)):null):null,n?s("div",{class:ko,key:"content"},...e):null,i)}destroy(){this._focusAbortController.abort(),this._transitionInfo?.transition.skipTransition()}_renderActions(){return null}loadDependencies(){return B({button:()=>import("./chunk-BTQPJTPG.js"),icon:()=>import("./chunk-QXDSJABL.js"),input:()=>import("./chunk-PTLKWOPS.js")})}enterInputMode(t,e){return y(this,null,function*(){try{yield this._transitionTo("input",e),yield this._focusField(t)}catch(o){Gt(o)}})}exitInputMode(){return y(this,arguments,function*({focusOnView:t=!0}={}){try{let{container:e,info:o}=this;o.clearInputValues();let i=t?e?.closest(".esri-view")?.querySelector(".esri-view-surface"):null;yield this._transitionTo("feedback"),i instanceof HTMLElement&&i.focus()}catch(e){Gt(e)}})}_onNextKey(t){let e=this._getFocusableElements(),o=e.at(0),i=e.at(-1);o&&i&&(t.shiftKey?document.activeElement===o&&(t.preventDefault(),t.stopPropagation(),yt(i)):document.activeElement===i&&(t.preventDefault(),t.stopPropagation(),yt(o)))}get _renderedContent(){return No(this._renderContent())}get _renderedActions(){return No(this._renderActions())}get _renderedHelpMessage(){let{sketchOptions:t,visibleElements:e}=this.info;if(!e.helpMessage)return null;let o=t.tooltips.helpMessage??this._defaultHelpMessage;if(!o)return null;let i=t.tooltips.helpMessageIcon??"information";return s("div",{class:Do,key:"help-message"},i?s("calcite-icon",{class:So,icon:i,scale:"s"}):null,s("div",{class:Mo},o))}get _defaultHelpMessage(){let{helpMessage:t,viewType:e}=this.info;if(t==null)return null;let o=e==="3d"?"helpMessages3d":"helpMessages2d";return this._messagesTooltip?.sketch?.[o]?.[t]}_focusField(t){return y(this,null,function*(){this._focusAbortController?.abort(),this._focusAbortController=new AbortController;let{signal:e}=this._focusAbortController;yield this._waitForInputs(),ye(e);let o=this._getFocusableInputs(),i=t?o.find(n=>n.getAttribute("data-field-name")===t):o.at(0);yield yt(i)})}_transitionTo(t,e){return y(this,null,function*(){if(this._mode===t&&!this._transitionInfo)return;if(this._transitionInfo?.mode===t)return this._transitionInfo.transition.finished;this._transitionInfo?.transition.skipTransition();let o=()=>y(this,null,function*(){this.destroyed||(this._mode=t,yield Yt(),this.destroyed||(this.renderNow(),yield Yt(),this.destroyed||e?.()))});if(!this.domNode?.firstChild||!document.startViewTransition||po())return void(yield o());this.autoRenderingEnabled=!1;let i=this._transitionInfo={transition:document.startViewTransition(()=>y(this,null,function*(){this.destroyed||i!==this._transitionInfo||(this.autoRenderingEnabled=!0,yield o())})),mode:t};try{yield i.transition.finished}finally{i===this._transitionInfo&&(this._transitionInfo=null)}})}_waitForInputs(){return y(this,null,function*(){let t=()=>Array.from(this.domNode?.querySelectorAll("calcite-input")??[]);for(;t().length===0;)yield be(bi);yield nt()})}_getFocusableInputs(){return Array.from(this.domNode?.querySelectorAll("calcite-input:not([read-only]):not([disabled])")??[])}_getFocusableElements(){let t=this.domNode?.querySelector(`.${dt}`);return[...Array.from(t?.querySelectorAll(`.${re} calcite-button:not([disabled])`)??[]),...this._getFocusableInputs()]}};function yt(t){return y(this,null,function*(){yield t?.setFocus()})}function No(t){return(Array.isArray(t)?t:[t]).flat(10).filter(e=>!!e)}r([K("esri/core/t9n/Units"),c()],p.prototype,"_messagesUnits",void 0),r([K("esri/views/interactive/tooltip/t9n/Tooltip"),c()],p.prototype,"_messagesTooltip",void 0),r([c()],p.prototype,"info",void 0),r([c()],p.prototype,"tooltip",void 0),r([c()],p.prototype,"_mode",void 0),r([c()],p.prototype,"mode",null),r([c()],p.prototype,"_displayUnits",null),r([c()],p.prototype,"_inputUnitInfos",null),r([c()],p.prototype,"_formatters",null),r([c()],p.prototype,"fieldContext",null),r([c()],p.prototype,"_renderedContent",null),r([c()],p.prototype,"_renderedActions",null),r([c()],p.prototype,"_renderedHelpMessage",null),r([c()],p.prototype,"_defaultHelpMessage",null),p=r([u("esri.views.interactive.tooltip.content.TooltipContent")],p);var bi=20;var bt=class extends p{_renderContent(){let{area:t,radius:e,xSize:o,ySize:i,visibleElements:n}=this.info,a=this._messagesTooltip.sketch,l=this._formatters;return s(f,null,n.radius&&e!=null?s(d,{title:a.radius,value:l.length(e)}):null,n.size&&o!=null&&i!=null?s(d,{title:a.size,value:s(C,{left:l.length(o),right:l.length(i)})}):null,n.area?s(d,{title:a.area,value:l.area(t)}):null)}};bt=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawCircle")],bt);var b=`${h}-editable-field`,_={base:b,inputMode:`${b}--input`,feedbackMode:`${b}--feedback`,readOnly:`${b}--read-only`,locked:`${b}--locked`,title:`${b}__title`,value:`${b}__value`,valueContent:`${b}__value__content`,valueContentReadOnly:`${b}__value__content--read-only`,lockIcon:`${b}__lock-icon`,input:`${b}__input`,inputWrapper:`${b}__input-wrapper`,inputMessage:`${b}__input-message`,inputSuffix:`${b}__input-suffix`,button:`${b}__button`},ue={lock:"lock",unlock:"unlock"},x=class extends M{constructor(){super(...arguments),this._input=null,this._lock=null,this._onLockClick=()=>{this.field.toggleLock(this.context)},this._onLockAfterCreate=t=>{this._lock=t},this._onLockAfterRemoved=()=>{this._lock=null},this._onKeyDown=t=>{t.key===L.discard&&this.mode==="input"&&this._input&&this.context.onDiscard(this._input)},this._onInputKeyDown=t=>{let e=this._input;if(e)switch(t.key){case L.commit:return this.field.onCommit("commit-and-exit",e,this.context);case L.next:{t.preventDefault(),t.stopPropagation();let o=t.shiftKey?"commit-and-previous":"commit-and-next";return this.field.onCommit(o,e,this.context)}}},this._onInput=t=>{this.field.onInput(t.currentTarget.value)},this._onInputBlur=t=>{let e=this._input;e&&t.relatedTarget!==this._lock&&this.field.onCommit("commit-on-blur",e,this.context)},this._selectText=()=>{let t=()=>{this._input===document.activeElement&&this._input?.selectText()};t(),nt().then(t)},this._onAfterCreate=t=>{this._input=t,t.addEventListener("paste",this._onPaste),t.addEventListener("beforeinput",this._onBeforeInput)},this._onAfterRemoved=t=>{t.removeEventListener("paste",this._onPaste),t.removeEventListener("beforeinput",this._onBeforeInput)},this._onPaste=t=>{let e=t.clipboardData?.getData("text");e&&this.field.parse(e,this.context)!=null&&(t.stopPropagation(),this.field.onInput(e))},this._onBeforeInput=t=>{(t.inputType==="historyUndo"||t.inputType==="historyRedo")&&!this.field.dirty&&t.preventDefault()}}initialize(){this.addHandles(E(()=>this._rawDisplayValue,()=>{let{committed:t,inputValue:e}=this.field;t||e||this._input!==document.activeElement||this._selectText()}))}loadDependencies(){return B({button:()=>import("./chunk-BTQPJTPG.js"),icon:()=>import("./chunk-QXDSJABL.js"),input:()=>import("./chunk-PTLKWOPS.js"),"input-message":()=>import("./chunk-GYVR2P2U.js")})}render(){let{field:t,mode:e}=this,o=e==="input",{locked:i,readOnly:n}=t;return s("div",{class:this.classes({[_.base]:!0,[_.feedbackMode]:e==="feedback",[_.inputMode]:e==="input",[_.locked]:i,[_.readOnly]:n})},s("div",{class:_.title,key:"title"},this._title),s("div",{class:_.value,key:"value",onkeydown:this._onKeyDown},o?this._renderValueInputMode():this._renderValueFeedbackMode()))}get _formattedValue(){return this.field.getFormattedValue(this.context)||Xo}get _rawDisplayValue(){return this.field.getRawDisplayValue(this.context)}get _suffix(){return this.field.getSuffix(this.context)}get _title(){let{title:t}=this.field;return typeof t=="string"?t:t(this.context)}get _messages(){return this.context?.messages.sketch??{}}_renderValueFeedbackMode(){return s(f,null,s("div",{class:_.valueContent,key:"value-feedback"},this._formattedValue),this.field.locked&&this.mode!=="input"?s("calcite-icon",{class:_.lockIcon,icon:ue.lock,key:"icon",scale:"s"}):null)}_renderValueInputMode(){return this.field.readOnly?this._renderValueReadOnly():this._renderValueWritable()}_renderValueReadOnly(){return s("div",{class:this.classes(_.valueContent,_.valueContentReadOnly),key:"value-read-only"},this._formattedValue)}_renderValueWritable(){let{field:t}=this,e=this._messages,{name:o,invalid:i}=t;return s(f,null,s("div",{class:_.inputWrapper,key:"value-input"},s("calcite-input",{afterCreate:this._onAfterCreate,afterRemoved:this._onAfterRemoved,class:_.input,"data-field-name":o,"data-testid":`tooltip-field-${o}`,key:"input",onblur:this._onInputBlur,onfocus:this._selectText,onkeydown:this._onInputKeyDown,scale:"s",status:i?"invalid":"idle",type:"text",value:this._rawDisplayValue??Xo,onCalciteInputInput:this._onInput}),i?s("calcite-input-message",{class:_.inputMessage,scale:"s",status:"invalid"},e.invalidValue):null),s("div",{class:_.inputSuffix,key:"suffix"},this._suffix),this._renderedLockButton)}get _renderedLockButton(){let{name:t,locked:e,lockable:o}=this.field;if(!o)return s("div",{key:"no-lock-button"});let i=this._messages,n=e?i.unlockConstraint:i.lockConstraint;return s("calcite-button",{afterCreate:this._onLockAfterCreate,afterRemoved:this._onLockAfterRemoved,alignment:"center",appearance:"transparent",class:_.button,"data-testid":`tooltip-field-${t}-lock`,iconStart:e?ue.lock:ue.unlock,key:"lock-button",kind:"neutral",label:n,onclick:this._onLockClick,scale:"s",tabIndex:-1,title:n})}};r([c()],x.prototype,"field",void 0),r([c()],x.prototype,"context",void 0),r([c()],x.prototype,"mode",void 0),r([c()],x.prototype,"_input",void 0),r([c()],x.prototype,"_lock",void 0),r([c()],x.prototype,"_formattedValue",null),r([c()],x.prototype,"_rawDisplayValue",null),r([c()],x.prototype,"_suffix",null),r([c()],x.prototype,"_title",null),r([c()],x.prototype,"_messages",null),r([c()],x.prototype,"_renderedLockButton",null),x=r([u("esri.views.interactive.tooltip.components.TooltipEditableField")],x);var Xo="\u2014";function g(t){let e=t.fields.filter(o=>o?.visible===!0);return e.length===0?null:s(f,null,e.map(o=>s(x,{context:t.context,field:o,key:o.id,mode:t.mode})))}var xt=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.scale?e.scale:void 0],mode:o})}};xt=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawMesh")],xt);var wt=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{elevation:i,visibleElements:n}=e;return s(g,{context:t,fields:[n.coordinates?e.effectiveX:void 0,n.coordinates?e.effectiveY:void 0,n.elevation?i:void 0],mode:o})}};wt=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawPoint")],wt);var I=class extends M{constructor(t){super(t),this.visibleElements={}}render(){return s("div",{class:dt},this._isElementVisible("direction")?s(xi,{messages:this.messages,sketchOptions:this.sketchOptions}):null)}loadDependencies(){return B({button:()=>import("./chunk-BTQPJTPG.js"),dropdown:()=>import("./chunk-SOKGSD6A.js"),"dropdown-item":()=>import("./chunk-YQASGTZN.js"),"dropdown-group":()=>import("./chunk-JJCQWH2X.js")})}_isElementVisible(t){return this.visibleElements?.[t]??this.sketchOptions.tooltips.visibleElements[t]}};function xi(t){let{directionMode:e}=t.sketchOptions.values,o=t.messages?.sketch,i=o?.directionModeSelect?.title,n="absolute",a="relative";return s("calcite-dropdown",{key:"direction-mode",placement:"bottom-end",scale:"s",widthScale:"s",onCalciteDropdownSelect:l=>{let m=l.currentTarget.selectedItems?.[0]?.getAttribute("data-mode");t.sketchOptions.values.directionMode=m??"absolute"}},s("calcite-button",{alignment:"end",appearance:"transparent",iconStart:mt[e],kind:"neutral",label:i,scale:"s",slot:"trigger",title:i}),s("calcite-dropdown-group",{selectionMode:"single"},s("calcite-dropdown-item",{"data-mode":a,"data-testid":"tooltip-direction-mode-relative",iconStart:mt.relative,key:"relative",selected:e===a},o?.directionModeSelect?.relative),s("calcite-dropdown-item",{"data-mode":n,"data-testid":"tooltip-direction-mode-absolute",iconStart:mt.absolute,key:"absolute",selected:e===n},o?.directionModeSelect?.absolute)))}r([K("esri/views/interactive/tooltip/t9n/Tooltip"),c()],I.prototype,"messages",void 0),r([c()],I.prototype,"sketchOptions",void 0),r([c()],I.prototype,"visibleElements",void 0),I=r([u("esri.views.interactive.tooltip.components.DrawHeaderActions")],I);var Ct=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{xyMode:i,visibleElements:n}=e;return s(g,{context:t,fields:[...i==="direction-distance"?[n.direction?e.direction:void 0,n.distance?e.distance:void 0]:[n.coordinates?e.effectiveX:void 0,n.coordinates?e.effectiveY:void 0],n.elevation?e.elevation:void 0,n.area?e.area:void 0],mode:o})}_renderActions(){let{xyMode:t,sketchOptions:e}=this.info;return s(I,{sketchOptions:e,visibleElements:{direction:t==="direction-distance"}})}};Ct=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawPolygon")],Ct);var Tt=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{xyMode:i,visibleElements:n}=e;return s(g,{context:t,fields:[...i==="direction-distance"?[n.direction?e.direction:void 0,n.distance?e.distance:void 0]:[n.coordinates?e.effectiveX:void 0,n.coordinates?e.effectiveY:void 0],n.elevation?e.elevation:void 0,n.totalLength?e.totalLength:void 0],mode:o})}_renderActions(){let{xyMode:t,sketchOptions:e}=this.info;return s(I,{sketchOptions:e,visibleElements:{direction:t==="direction-distance"}})}};Tt=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawPolyline")],Tt);var kt=class extends p{_renderContent(){let{area:t,xSize:e,ySize:o,visibleElements:i}=this.info,n=this._messagesTooltip.sketch,a=this._formatters;return s(f,null,i.size&&e!=null&&o!=null?s(d,{title:n.size,value:s(C,{left:a.length(e),right:a.length(o)})}):null,i.area?s(d,{title:n.area,value:a.area(t)}):null)}};kt=r([u("esri.views.interactive.tooltip.content.TooltipContentDrawRectangle")],kt);var Dt=class extends p{_renderContent(){let{angle:t,visibleElements:e}=this.info,o=this._messagesTooltip.sketch;return s(f,null,e.rotation?s(d,{title:o.rotation,value:this._formatters.angleRelative(t)}):null)}};Dt=r([u("esri.views.interactive.tooltip.content.TooltipContentExtentRotate")],Dt);var Mt=class extends p{_renderContent(){let t=this.info,{visibleElements:e}=t,o=this._messagesTooltip.sketch,i=this._formatters;return s(f,null,e.size?s(d,{title:o.size,value:s(C,{left:i.length(t.xSize),right:i.length(t.ySize)})}):null,e.scale?s(d,{title:o.scale,value:s(C,{left:i.scale(t.xScale),right:i.scale(t.yScale)})}):null)}};Mt=r([u("esri.views.interactive.tooltip.content.TooltipContentExtentScale")],Mt);var St=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0],mode:o})}};St=r([u("esri.views.interactive.tooltip.content.TooltipContentMovePoint")],St);var Et=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.distance?e.distance:void 0,i.area?e.area:void 0,i.totalLength?e.totalLength:void 0],mode:o})}};Et=r([u("esri.views.interactive.tooltip.content.TooltipContentReshapeEdgeOffset")],Et);var Lt=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.area&&e.geometryType==="polygon"?e.area:null,i.totalLength&&e.geometryType==="polyline"?e.totalLength:null],mode:o})}};Lt=r([u("esri.views.interactive.tooltip.content.TooltipContentSelectedVertex")],Lt);var It=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.scale?e.scale:void 0],mode:o})}};It=r([u("esri.views.interactive.tooltip.content.TooltipContentTransformMesh")],It);var Rt=class extends p{_renderContent(){let{fieldContext:t,info:e,mode:o}=this,{visibleElements:i}=e;return s(g,{context:t,fields:[i.coordinates?e.effectiveX:void 0,i.coordinates?e.effectiveY:void 0,i.elevation?e.elevation:void 0,i.orientation?e.orientation:void 0,i.size?e.size:void 0],mode:o})}};Rt=r([u("esri.views.interactive.tooltip.content.TooltipContentTransformPoint")],Rt);var At=class extends p{_renderContent(){let{info:t}=this,{visibleElements:e}=t,o=this._messagesTooltip.sketch,i=this._formatters;return s(f,null,e.distance?s(d,{title:o.distance,value:i.length(t.distance)}):null)}};At=r([u("esri.views.interactive.tooltip.content.TooltipContentTranslate")],At);var Ft=class extends p{_renderContent(){let{distance:t,elevation:e,area:o,totalLength:i,visibleElements:n}=this.info,a=this._messagesTooltip.sketch,l=this._formatters;return s(f,null,n.distance?s(d,{title:a.distance,value:l.length(t)}):null,n.elevation&&e?.actual!=null?s(d,{title:a.elevation,value:l.verticalLength(e.actual)}):null,n.area&&o!=null?s(d,{title:a.area,value:l.area(o)}):null,n.totalLength&&i!=null?s(d,{title:a.totalLength,value:l.length(i)}):null)}};Ft=r([u("esri.views.interactive.tooltip.content.TooltipContentTranslateVertex")],Ft);var Pt=class extends p{_renderContent(){let{info:t}=this,{visibleElements:e}=t,o=this._messagesTooltip.sketch,i=this._formatters;return s(f,null,e.distance?s(d,{title:o.distance,value:i.length(t.distance)}):null)}};Pt=r([u("esri.views.interactive.tooltip.content.TooltipContentTranslateXY")],Pt);var Vt=class extends p{_renderContent(){let{info:t}=this,{visibleElements:e}=t,o=this._messagesTooltip.sketch;return s(f,null,e.distance?s(d,{title:o.distance,value:this._formatters.verticalLengthRelative(t.distance)}):null)}};Vt=r([u("esri.views.interactive.tooltip.content.TooltipContentTranslateZ")],Vt);function Zo(t,e){if(e==null)return null;let o=document.createElement("div");switch(e.type){case"draw-point":case"draw-multipoint":return new wt({tooltip:t,info:e,container:o});case"draw-polygon":return new Ct({tooltip:t,info:e,container:o});case"draw-polyline":return new Tt({tooltip:t,info:e,container:o});case"draw-mesh":return new xt({tooltip:t,info:e,container:o});case"draw-rectangle":return new kt({tooltip:t,info:e,container:o});case"draw-circle":return new bt({tooltip:t,info:e,container:o});case"extent-rotate":return new Dt({tooltip:t,info:e,container:o});case"extent-scale":return new Mt({tooltip:t,info:e,container:o});case"move-point":return new St({tooltip:t,info:e,container:o});case"selected-vertex":return new Lt({tooltip:t,info:e,container:o});case"transform-point":return new Rt({tooltip:t,info:e,container:o});case"transform-mesh":return new It({tooltip:t,info:e,container:o});case"translate":return new At({tooltip:t,info:e,container:o});case"translate-vertex":return new Ft({tooltip:t,info:e,container:o});case"translate-z":return new Vt({tooltip:t,info:e,container:o});case"translate-xy":return new Pt({tooltip:t,info:e,container:o});case"reshape-edge-offset":return new Et({tooltip:t,info:e,container:o})}}var j={base:`${h}`,ltr:`${h}--ltr`,rtl:`${h}--rtl`,debug:`${h}--debug`},wi=20,Ci=16,Ti="bottom-end",v=class extends Ce.EventedAccessor{constructor(t){super(t),this.info=null,this.options=null,this.position=null,this.content=null,this._focused=!1,this.outerContainer=document.createElement("div"),this.debug=!1,this._lastPosition=null,this._rtl=!1,this._prevXY=[0,0]}initialize(){let{outerContainer:t}=this;this.addHandles([E(()=>this.view.overlay?.surface,e=>{t.remove(),e?.appendChild(t),this._rtl=Me(e)},Wt),E(()=>this.info,(e,o)=>{if(this.content!=null&&e!=null&&o!=null&&e.type===o.type)this.content.info=e;else{Bt(this.content);let i=Zo(this,e);i?(this.content=i,i.container&&t.appendChild(i.container),this.exitInputMode()):this.content=null}},Wt),E(()=>({container:this.outerContainer,style:this._outerContainerStyle}),({container:e,style:o})=>{Object.assign(e.style,o)},Zt),E(()=>({outerContainer:this.outerContainer,placement:this.effectivePlacement,effectiveOffset:this._effectiveOffset,rtl:this._rtl,debug:this.debug}),({outerContainer:e,placement:o,effectiveOffset:i,rtl:n,debug:a})=>{let{classList:l}=e;l.add(j.base),l.toggle(j.rtl,n),l.toggle(j.ltr,!n),l.toggle(j.debug,a),this.outerContainer.style.setProperty("--offset",`${i}px`),Se(e),Mi(e,o)},Zt),Te(()=>this.mode==="feedback",()=>{this.position=null,this._clearOverride("effectivePlacement")},ke),O(this.outerContainer,"paste",e=>{this.emit("paste",e)}),O(this.outerContainer,["focusin","focusout"],()=>{setTimeout(()=>{this._focused=this.content?.container?.contains(document.activeElement)??!1})})])}destroy(){this.info=null,this.content=Bt(this.content),this.outerContainer.remove()}get mode(){return this.content?.mode??"feedback"}get focused(){return this._focused}get visible(){return this._outerContainerStyle.display!=="none"}get contentContainer(){return this.content?.container}get effectivePlacement(){let t=this.options?.placement;return t==="auto"?"bottom-end":t??Ti}get _screenPoint(){let{inputManager:t}=this.view;return t?.multiTouchActive?null:t?.latestPointerLocation}get _effectiveOffset(){return this.options?.offset??wi}get _outerContainerStyle(){let t=this.position??this._screenPoint;return this._lastPosition=te(t),t!=null&&this.content!=null?{display:"block",transform:`translate(${Math.round(t.x)}px, ${Math.round(t.y)}px)`}:{display:"none",transform:"none"}}clear(){this.info=null}enterInputMode(t){return y(this,null,function*(){let e=this.position??this._lastPosition??this._screenPoint,o=this.position=te(e),{effectivePlacement:i}=this;this._override("effectivePlacement",i);let n=()=>{o&&(this.position=ki(this.contentContainer,o,this._effectiveOffset,this.view),Object.assign(this.outerContainer.style,this._outerContainerStyle))};yield this.content?.enterInputMode(t,n)})}exitInputMode(t){return y(this,null,function*(){yield this.content?.exitInputMode(t)})}onDragStart(t,e){this._prevXY=[t,e]}onDrag(t,e){let o=t-this._prevXY[0],i=e-this._prevXY[1];this._prevXY=[t,e];let{position:n}=this;if(n){let{view:a}=this,l=t-a.position[0],m=e-a.position[1];if(l<0||l>a.width||m<0||m>a.height-Ci)return;this.position=jt(n.x+o,n.y+i)}}onDragEnd(){this._prevXY=[0,0]}};function ki(t,e,o,i){if(!t||!i.container)return e;let n=t.getBoundingClientRect(),{left:a,top:l}=i.container.getBoundingClientRect(),{x:m,y:R}=e,ot=n.left-a-o;ot<0&&(m-=ot);let V=n.right-a+o-i.width;V>0&&(m-=V);let z=n.top-l-o;z<0&&(R-=z);let H=n.bottom-l+o-i.height;return H>0&&(R-=H),jt(m,R)}r([c({nonNullable:!0})],v.prototype,"view",void 0),r([c()],v.prototype,"info",void 0),r([c()],v.prototype,"options",void 0),r([c()],v.prototype,"position",void 0),r([c()],v.prototype,"content",void 0),r([c({readOnly:!0})],v.prototype,"mode",null),r([c()],v.prototype,"_focused",void 0),r([c({readOnly:!0})],v.prototype,"focused",null),r([c({readOnly:!0})],v.prototype,"outerContainer",void 0),r([c({readOnly:!0})],v.prototype,"contentContainer",null),r([c({readOnly:!0})],v.prototype,"effectivePlacement",null),r([c()],v.prototype,"debug",void 0),r([c()],v.prototype,"_lastPosition",void 0),r([c()],v.prototype,"_screenPoint",null),r([c()],v.prototype,"_rtl",void 0),r([c()],v.prototype,"_effectiveOffset",null),r([c()],v.prototype,"_outerContainerStyle",null),v=r([u("esri.views.interactive.Tooltip")],v);var Di=["top","bottom","leading","trailing"].flatMap(t=>[Ot(`${t}-start`),Ot(t),Ot(`${t}-end`)]);function Ot(t){return`${j.base}--${t}`}function Mi({classList:t},e){Di.forEach(o=>t.remove(o)),t.add(Ot(e))}var Wo=v;function Np(t){let e=new Wo(t());return e.addHandles(E(()=>t(),({view:o,options:i,info:n})=>{e.view=o,i!==void 0&&(e.options=i),n!==void 0&&(e.info=n)})),e}function Xp(t,e){let o=ie(e.vertexSpace),{scale:i,orientation:n}=t,{transform:a}=e,l=Ii(a);o&&l!=null?(n.actual=ut(l,"degrees","arithmetic"),n.visible=!0):(n.actual=null,n.visible=!1),o?(i.actual=Y(qo(a)),i.visible=!0):(i.actual=null,i.visible=!1)}function Zp(t,e,o){if(!e||!ie(e.vertexSpace))return;let i=e.transform??=new Ne;Si(t,i,o),Ei(t,i,o)}function Si(t,e,o){let i=uo(t.orientation.actual),n=Ko(e.rotationAxis);if(i==null||n==null)return;let a=e.rotationAngle,l=i*n,m=(i-a)*n;a!==l&&(o?.onRotateStart(0),e.rotationAngle=l,o?.onRotate(m),o?.onRotateStop(m))}function Ei(t,e,o){let i=t.scale.actual?.value,n=qo(e);if(i==null||i===n)return;let{scale:a}=e,l;if(n===0)l=He(Ue);else{let m=i/n;l=Ge(w(),a,m)}o?.onScaleStart(a[0],a[1],a[2]),e.scale=l,o?.onScale(l[0],l[1],l[2]),o?.onScaleStop(l[0],l[1],l[2])}function Wp(t,e){let{x:o,y:i,z:n}=e,{x:a,y:l,z:m}=Li(t,e.spatialReference);return{dx:a==null||rt(a,o)?0:a-o,dy:l==null||rt(l,i)?0:l-i,dz:m==null||n==null||rt(m,n)?0:m-n}}function Li(t,e){let o,i;t.geographic?(o=J(t.longitude.actual),i=J(t.latitude.actual),st(e)&&(o!=null&&i!=null?[o,i]=lt(o,i,me):o!=null?o=lt(o,0,me)[0]:i!=null&&(i=lt(0,i,me)[1]))):(o=t.x.actual?.value,i=t.y.actual?.value);let n=t.elevation.actual,a=at(e);return{x:o,y:i,z:a!=null&&n!=null?Ke(n,a):void 0}}var me=[0,0];function Ii(t){if(!t)return 0;let e=Ko(t.rotationAxis);return e!=null?e*t.rotationAngle:null}function Ko(t){return oe(t,ee)?1:oe(t,Ri)?-1:null}var Ri=Ye(w(),ee);function qo(t){return t?Math.max(...t.scale):1}function Kp(t,e){return!(t.type!=="key-down"||t.key!==L.enterInputMode||!e||!Ai(e.info))&&(e.enterInputMode(),t.preventDefault(),t.stopPropagation(),!0)}function Ai(t){let e=t?.sketchOptions;if(!e)return!1;let{inputEnabled:o,visibleElements:i}=e.tooltips;return o&&t.editableFields.some(({name:n})=>n==="x"||n==="y"?i.coordinates:i[n])===!0}function qp(t,e){let o=null;return _e([t.on("paste",i=>y(this,null,function*(){o?.abort(),o=Xt(()=>y(this,null,function*(){W()||(yield ne()),Fi(i,t.info,e)}))})),Xt(()=>ne()),ge(()=>o?.abort())])}function Fi(t,e,o){if(!e||!("geographic"in e))return;let i=t.clipboardData?.getData("text");if(!i)return;let n=a=>{t.stopPropagation(),t.preventDefault(),o?.onBeforePaste(),a(),o?.onAfterPaste()};if(e.geographic){let a=Bo(i);a&&n(()=>{e.longitude.applyValue(a.longitude),e.latitude.applyValue(a.latitude)})}else{let a=Uo(i);a&&n(()=>{e.x.applyValue(a.x),e.y.applyValue(a.y)})}}function de(t){return Re(t)?Ae(t)||st(t)||Fe(t)||Pe(t)?Xe:t:Ze(t)}var S;function Qo(t){return Pi(t,S.Horizontal)}function Pi(t,e){let{hasZ:o,spatialReference:i}=t,n=de(i),a=0,l=Jt(n);if(l==null)return null;let m=e===S.Direct?Oi:Ht;for(let R of t.paths){if(R.length<2)continue;let ot=R.length-1;for(let V=0;V<ot;++V){let z=R[V];T[0]=z[0],T[1]=z[1],T[2]=o?z[2]:0;let H=R[V+1];k[0]=H[0],k[1]=H[1],k[2]=o?H[2]:0;let ve=m(T,k,i);if(ve==null)return null;a+=ve.value}}return N(a,l)}function Jo(t,e){let{spatialReference:o}=t;return Qt(o,e.spatialReference)?(T[0]=t.x,T[1]=t.y,T[2]=t.hasZ?t.z:0,k[0]=e.x,k[1]=e.y,k[2]=e.hasZ?e.z:0,Ht(T,k,o)):null}function pu(t,e){let{spatialReference:o}=t;return Qt(o,e.spatialReference)?(T[0]=t.x,T[1]=t.y,T[2]=t.hasZ?t.z:0,k[0]=e.x,k[1]=e.y,k[2]=e.hasZ?e.z:0,$i(T,k,o)):null}function uu(t){return t!=null?Vi(t.hasZ?t.z:0,t.spatialReference):null}function Vi(t,e){let o=at(e);return o!=null?N(t??0,o):null}function Oi(t,e,o){let i=he(t,e,o,S.Direct);return i!=null?N(i.direct,i.unit):null}function Ht(t,e,o){let i=he(t,e,o,S.Horizontal);return i!=null?N(i.horizontal,i.unit):null}function $i(t,e,o){let i=he(t,e,o,S.Vertical);return i!=null?N(i.verticalSigned,i.unit):null}function he(t,e,o,i){let n=de(o),a=Jt(n);if(a==null)return null;let l=e[2]-t[2];if(i===S.Vertical)return{verticalSigned:l,unit:a};if(!pt(t,o,fe,n)||!pt(e,o,$t,n))return null;if(i===S.Direct)return{direct:ct($t,fe),unit:a};if(Be(zt,t[0],t[1],e[2]),!pt(zt,o,zt,n))return null;let m=ct(zt,$t);return i===S.Horizontal?{horizontal:m,unit:a}:{direct:ct($t,fe),horizontal:m,vertical:Math.abs(l),unit:a}}(function(t){t[t.Direct=0]="Direct",t[t.Horizontal=1]="Horizontal",t[t.Vertical=2]="Vertical"})(S||(S={}));var T=w(),k=w(),fe=w(),$t=w(),zt=w();function vu(t){return fo(t)??Qo(t)}function gu(t,e){return ho(t,e)??Jo(t,e)}function _u(t,e,o){return tt[0]=t[0],tt[1]=t[1],tt[2]=t.length===3?t[2]:0,et[0]=e[0],et[1]=e[1],et[2]=e.length===3?e[2]:0,vo(tt,et,o)??Ht(tt,et,o)}var tt=w(),et=w();var P=class extends xe{constructor(t){super(t),this.helpMessage=void 0,this.viewType=void 0}get visibleElements(){return this.sketchOptions.tooltips.visibleElements}get allFields(){return[]}get editableFields(){return this.allFields.filter(t=>t.visible&&!t.readOnly)}clearInputValues(){this.allFields.forEach(t=>t.clearInputValue())}};r([c()],P.prototype,"sketchOptions",void 0),r([c()],P.prototype,"visibleElements",null),r([c()],P.prototype,"helpMessage",void 0),r([c()],P.prototype,"viewType",void 0),r([c()],P.prototype,"allFields",null),r([c()],P.prototype,"editableFields",null),P=r([u("esri.views.interactive.tooltip.infos.SketchTooltipInfo")],P);export{ne as a,Z as b,Ni as c,Xi as d,Zi as e,Wi as f,Ki as g,qi as h,Qi as i,se as j,vt as k,le as l,Hn as m,Un as n,Bn as o,Gn as p,Yn as q,Nn as r,gt as s,Np as t,Xp as u,Zp as v,Wp as w,Kp as x,qp as y,Fi as z,P as A,de as B,pu as C,uu as D,Vi as E,$i as F,vu as G,gu as H,_u as I};
