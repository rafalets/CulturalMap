import{f as O}from"./chunk-K57Y3IIR.js";import{D as S}from"./chunk-G3YWARR2.js";import{c as T,g as b}from"./chunk-Y34QJIHM.js";import{b as h}from"./chunk-EDAGF7R6.js";import{a as A}from"./chunk-VC7OIMIK.js";import{a as c}from"./chunk-3Q427ME6.js";import{l as E,q as F}from"./chunk-3BZAI7HK.js";import{d as _,f as a,y as w}from"./chunk-SKMO433W.js";import{a as M}from"./chunk-NOQEJXLK.js";import{b as m,c as x}from"./chunk-5WKDXHVH.js";import{a as R,b as C}from"./chunk-7B2UKJ5N.js";import{a as d}from"./chunk-NHSDW26F.js";import{a as n}from"./chunk-BCREO4Q5.js";import{a as P}from"./chunk-3SDSCSDJ.js";import{g as v}from"./chunk-VOFKUGRY.js";import{N as u,ia as g,ka as f}from"./chunk-IG66NQHW.js";function G(o){let{value:t,operations:e}=o;return{operations:e,value:e.create(t)}}function U(o,t,e){return o.operations.setExtent(o.value,t,e.value),e}function j(o,t){return o.operations.getExtent(o.value,t),t}function N(o){return{operations:o,value:o.create()}}function B(o,t,e=N(o)){return e.operations=o,o.copy(t,e.value),e}function L(o){return B(F,E(0,0,0,u(o).radius))}var V=2**50;function Z(){return B(b,T([0,0,0],[V,0,0],[0,V,0]))}function D(o,t,e){return o.operations.axisAt(o.value,t,n.Z,e)}function I(o,t,e,r){return o.operations.axisAt(o.value,t,e,r)}function Y(o,t,e){return o.operations.intersectRay(o.value,t,e)}function k(o,t,e){return o.operations.intersectRayClosestSilhouette(o.value,t,e)}function q(o,t){return o.operations.altitudeAt(o.value,t)}function y(o,t,e,r){return o.operations.setAltitudeAt(o.value,t,e,r)}function z(o,t,e,r){return t!==r&&R(r,t),x(l,r[12],r[13],r[14]),y(o,l,e,l),r[12]=l[0],r[13]=l[1],r[14]=l[2],r}function p(o,t,e){return o.operations.elevate(o.value,t,e.value)}var l=d();var nt=d();var H=class o{constructor(t,e,r,s){this.viewingMode=t,this.spatialReference=e,this.unitInMeters=r,this._coordinateSystem=s,this._tmpCoordinateSystem=G(s),this.referenceEllipsoid=u(e),this.sphericalPCPF=h(e)}set extent(t){t&&U(this._coordinateSystem,t,this._coordinateSystem)}get extent(){return j(this._coordinateSystem,P())}getAltitude(t){return q(this._coordinateSystem,t)}setAltitude(t,e,r=t){return y(this._coordinateSystem,r,e,t)}setAltitudeOfTransformation(t,e){z(this._coordinateSystem,e,t,e)}worldUpAtPosition(t,e){return D(this._coordinateSystem,t,e)}worldBasisAtPosition(t,e,r){return I(this._coordinateSystem,t,e,r)}basisMatrixAtPosition(t,e){let r=this.worldBasisAtPosition(t,n.X,a.get()),s=this.worldBasisAtPosition(t,n.Y,a.get()),i=this.worldBasisAtPosition(t,n.Z,a.get());return C(e,r[0],r[1],r[2],0,s[0],s[1],s[2],0,i[0],i[1],i[2],0,0,0,0,1),e}headingAtPosition(t,e){let r=this.worldUpAtPosition(t,a.get()),s=this.worldBasisAtPosition(t,n.Y,a.get()),i=_(e,s,r);return v(i)}intersectManifoldClosestSilhouette(t,e,r){return p(this._coordinateSystem,e,this._tmpCoordinateSystem),k(this._tmpCoordinateSystem,t,r),r}intersectManifold(t,e,r){p(this._coordinateSystem,e,this._tmpCoordinateSystem);let s=a.get();return Y(this._tmpCoordinateSystem,t,s)?m(r,s):null}intersectInfiniteManifold(t,e,r){if(this.viewingMode===c.Global)return this.intersectManifold(t,e,r);p(this._coordinateSystem,e,this._tmpCoordinateSystem);let s=this._tmpCoordinateSystem.value,i=a.get();return w(s.plane,t,i)?m(r,i):null}toRenderCoords(t,e,r){return S(t)?M(t,e,this.spatialReference):A(t,e,r,this.spatialReference)}fromRenderCoords(t,e,r=null){return S(e)?(r!=null&&(e.spatialReference=r),O(t,this.spatialReference,e)?e:null):A(t,this.spatialReference,e,r)?e:null}static create(t,e){switch(t){case c.Local:return new o(c.Local,e,g(e),Z());case c.Global:return new o(c.Global,e,1,L(e))}}static renderUnitScaleFactor(t,e){return f(t)/f(e)}};export{H as a};
