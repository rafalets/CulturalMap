import{l as m,m as c,o as v}from"./chunk-47GHT6OF.js";var f;(function(d){let t=(s,n,l,r)=>{let o=n,e=n,g=l>>>1,u=s[o-1];for(;e<=g;){e=o<<1,e<l&&r(s[e-1],s[e])<0&&++e;let p=s[e-1];if(r(p,u)<=0)break;s[o-1]=p,o=e}s[o-1]=u},h=(s,n)=>s<n?-1:s>n?1:0;function i(s,n,l,r){n===void 0&&(n=0),l===void 0&&(l=s.length),r===void 0&&(r=h);for(let e=l>>>1;e>n;e--)t(s,e,l,r);let o=n+1;for(let e=l-1;e>n;e--){let g=s[n];s[n]=s[e],s[e]=g,t(s,o,e,r)}}function*a(s,n,l,r){n===void 0&&(n=0),l===void 0&&(l=s.length),r===void 0&&(r=h);for(let e=l>>>1;e>n;e--)t(s,e,l,r),yield;let o=n+1;for(let e=l-1;e>n;e--){let g=s[n];s[n]=s[e],s[e]=g,t(s,o,e,r),yield}}d.sort=i,d.iterableSort=a})(f||(f={}));var _=f;var w=1.5,b=1.1,y=class{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new m,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),t.deallocator!==void 0&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>k(this)))}toArray(){return this.data.slice(0,this.length)}filter(t){let h=new Array;for(let i=0;i<this._length;i++){let a=this.data[i];t(a)&&h.push(a)}return h}at(t){if((t=Math.trunc(t)||0)<0&&(t+=this._length),!(t<0||t>=this._length))return this.data[t]}includes(t,h){let i=this.data.indexOf(t,h);return i!==-1&&i<this.length}get length(){return this._length}set length(t){if(t>this._length){if(this._allocator){for(;this._length<t;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=t}else{if(this._deallocator)for(let h=t;h<this._length;++h)this.data[h]=this._deallocator(this.data[h]);this._length=t,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(t){this.data[this._length++]=t}pushArray(t,h=t.length){for(let i=0;i<h;i++)this.data[this._length++]=t[i]}fill(t,h){for(let i=0;i<h;i++)this.data[this._length++]=t}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));let t=this.data[this._length];return++this._length,t}unshift(t){this.data.unshift(t),this._length++,k(this)}pop(){if(this.length===0)return;let t=this.data[this.length-1];return this.length=this.length-1,this._shrink(),t}remove(t){let h=c(this.data,t,this.length,this._hint);if(h!==-1)return this.data.splice(h,1),this.length=this.length-1,t}removeUnordered(t){return this.removeUnorderedIndex(c(this.data,t,this.length,this._hint))}removeUnorderedIndex(t){if(!(t>=this.length||t<0))return this.swapElements(t,this.length-1),this.pop()}removeUnorderedMany(t,h=t.length,i){this.length=v(this.data,t,this.length,h,this._hint,i),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(t,h){if(t>=this.length||h>=this.length||t===h)return;let i=this.data[t];this.data[t]=this.data[h],this.data[h]=i}sort(t){_.sort(this.data,0,this.length,t)}iterableSort(t){return _.iterableSort(this.data,0,this.length,t)}some(t,h){for(let i=0;i<this.length;++i)if(t.call(h,this.data[i],i,this.data))return!0;return!1}find(t,h){let{data:i,length:a}=this;for(let s=0;s<a;++s)if(t.call(h,i[s]))return i[s]}filterInPlace(t,h){let i=0;for(let a=0;a<this._length;++a){let s=this.data[a];t.call(h,s,a,this.data)&&(this.data[a]=this.data[i],this.data[i]=s,i++)}if(this._deallocator)for(let a=i;a<this._length;a++)this.data[a]=this._deallocator(this.data[a]);return this._length=i,this._shrink(),this}forAll(t,h){let{data:i,length:a}=this;for(let s=0;s<a;++s)t.call(h,i[s],s,i)}forEach(t,h){this.data.slice(0,this.length).forEach(t,h)}map(t,h){let i=new Array(this.length);for(let a=0;a<this.length;++a)i[a]=t.call(h,this.data[a],a,this.data);return i}reduce(t,h){let i=h;for(let a=0;a<this.length;++a)i=t(i,this.data[a],a,this.data);return i}has(t){let h=this.length,i=this.data;for(let a=0;a<h;++a)if(i[a]===t)return!0;return!1}*[Symbol.iterator](){for(let t=0;t<this.length;t++)yield this.data[t]}};function k(d){d.data.length>w*d.length&&(d.data.length=Math.floor(d.length*b))}export{y as a};
