import{h as s}from"./chunk-ONYJLWAD.js";import{a as g}from"./chunk-47GHT6OF.js";import{f as a}from"./chunk-VTHXE323.js";var c=class{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding=s.KTX2_ENCODING}};function l(t){return t?.type==="encoded-mesh-texture"}function w(t){return a(this,null,function*(){let n=new Blob([t]),o=yield n.text();return JSON.parse(o)})}function y(t,n){return a(this,null,function*(){if(n===s.KTX2_ENCODING)return new c(t);let o=new Blob([t],{type:n}),r=URL.createObjectURL(o);switch(n){case"image/jpeg":r+="#.jpg";break;case"image/png":r+="#.png"}let e=new Image;if(g("esri-iPhone"))return new Promise((i,p)=>{let d=()=>{u(),i(e)},m=h=>{u(),p(h)},u=()=>{URL.revokeObjectURL(r),e.removeEventListener("load",d),e.removeEventListener("error",m)};e.addEventListener("load",d),e.addEventListener("error",m),e.src=r});try{e.src=r,yield e.decode()}catch{console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(r),e})}export{c as a,l as b,w as c,y as d};
