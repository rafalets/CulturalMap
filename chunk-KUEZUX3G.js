import{a as M}from"./chunk-3SPBADUG.js";import{k as h,m as g,n as y,w as v}from"./chunk-GL53GSPS.js";import{c as m,e as d}from"./chunk-LNVVFNTC.js";import{h as p}from"./chunk-7N3ZKWML.js";import{ga as f,ia as c}from"./chunk-IG66NQHW.js";import{t as u}from"./chunk-HHDFN2GK.js";function V({edits:t,mode:e,relationships:r,shape:o,templatePart:s},n=""){if(s===null)return;let{template:a}=s;if(!y(a))throw new u("shared-template:template-not-loaded","A template part's template must be loaded before use");if(g(a)){if(!m(o))throw new u("shared-template:invalid-geometry","Preset templates must have a point geometry");M({geometry:o,template:a,edits:t,relationships:r,rotation:0,mode:e,tag:n})}else h(a)&&v({geometry:o,template:a,edits:t,relationships:r,tag:n})}function B(t,e){if(!t||!d(t))return null;if(!e.hasZ&&!e.hasM)return t;let r=null,o=null,s=e.hasZ&&e.hasM?3:2;switch(e.type){case"point":r=e.hasZ?e.z:null,o=e.hasM?e.m:null;break;case"polygon":case"polyline":{let a=e.type==="polygon"?e.rings:e.paths;for(let i of a)for(let l of i)e.hasZ&&(r===null||l[2]>r)&&(r=l[2]),e.hasM&&(o===null||l[s]>o)&&(o=l[s])}break;case"multipoint":for(let a of e.points)e.hasZ&&(r===null||a[2]>r)&&(r=a[2]),e.hasM&&(o===null||a[s]>o)&&(o=a[s]);break;default:return t}let n=b(t.rings,e.hasZ,e.hasM,r,o);return new p({rings:n,spatialReference:t.spatialReference,hasZ:e.hasZ,hasM:e.hasM})}function D(t){let e=1;return(t.spatialReference.vcsWkid||t.spatialReference.latestVcsWkid)&&(e=f(t.spatialReference)/c(t.spatialReference)),e}function x(t){let e=!1;return t.byNumber!==void 0&&(e=t.byNumber===!0),e}function N(t){let e=0;return t.count!==void 0&&(e=t.count),e}function O(t,e){let r=0;return e?t.proportional!==void 0&&(r=t.proportional):t.distanceValue!==void 0&&(r=t.distanceValue),e&&(r/=100),r}function T(t){return t.isProportional===!0}function q(t){return t.createUnique!==!1}function C(t){let e=0;return t.offsetDistance!==void 0&&(e=t.offsetDistance),t.side!==void 0&&t.side===1&&(e*=-1),e}function E(t){return t.vertexBeforeOffset===!0}function b(t,e,r,o,s){let n=[];for(let a of t)n.push(P(a,e,r,o,s));return n}function P(t,e,r,o,s){let n=[];for(let a of t){let i=[a[0],a[1]];e&&(i[2]=o),r&&(i[e?3:2]=s),n.push(i)}return n}export{V as a,B as b,D as c,x as d,N as e,O as f,T as g,q as h,C as i,E as j};
