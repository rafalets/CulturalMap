import{a as d,d as u}from"./chunk-7R33MKVL.js";import{N as c,a as l}from"./chunk-D2LVMNOU.js";import{t as i}from"./chunk-HHDFN2GK.js";import{f as o}from"./chunk-VTHXE323.js";var h=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,m={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function w(e){return e in m}function f(e){if(w(e)){let n=m[e];return n===!0?e:n}return null}var a=[],t=new Map;function g(e){for(let n of t.keys())p(e.pattern,n)&&t.delete(n)}function k(e){return a.includes(e)||(g(e),a.unshift(e)),l(()=>{let n=a.indexOf(e);n>-1&&(a.splice(n,1),g(e))})}function v(e){return o(this,null,function*(){let n=d();t.has(e)||t.set(e,L(e,n));let s=t.get(e);return s&&(yield z.add(s)),s})}function x(e){if(!h.test(e))return null;let n=h.exec(e);if(n===null)return null;let[,s,r]=n;return f(s+(r?"-"+r.toUpperCase():""))??f(s)}function L(e,n){return o(this,null,function*(){let s=[];for(let r of a)if(p(r.pattern,e))try{return yield r.fetchMessageBundle(e,n)}catch(_){s.push(_)}throw s.length?new i("intl:message-bundle-error",`Errors occurred while loading "${e}"`,{errors:s}):new i("intl:no-message-bundle-loader",`No loader found for message bundle "${e}"`)})}function p(e,n){return typeof e=="string"?n.startsWith(e):e.test(n)}u(()=>{t.clear()});var z=new class{constructor(){this._numLoading=0,this._dfd=null}waitForAll(){return o(this,null,function*(){this._dfd&&(yield this._dfd.promise)})}add(e){return this._increase(),e.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=c())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};export{k as a,v as b,x as c};
