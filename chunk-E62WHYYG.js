import{a as g}from"./chunk-BCREO4Q5.js";import{r as m}from"./chunk-IG66NQHW.js";import{i as p}from"./chunk-47GHT6OF.js";function R(n){if(!n)return null;if(Array.isArray(n))return n;let e=n.hasZ,i=n.hasM;if(n.type==="point")return i&&e?[n.x,n.y,n.z,n.m]:e?[n.x,n.y,n.z]:i?[n.x,n.y,n.m]:[n.x,n.y];if(n.type==="polygon")return n.rings.slice();if(n.type==="polyline")return n.paths.slice();if(n.type==="multipoint")return n.points.slice();if(n.type==="extent"){let o=n.clone().normalize();if(!o)return null;let s=!1,a=!1;return o.forEach(r=>{r.hasZ&&(s=!0),r.hasM&&(a=!0)}),o.map(r=>{let t=[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]];if(s&&r.hasZ){let l=.5*(r.zmax-r.zmin);for(let u=0;u<t.length;u++)t[u].push(l)}if(a&&r.hasM){let l=.5*(r.mmax-r.mmin);for(let u=0;u<t.length;u++)t[u].push(l)}return t})}return null}function y(n,e){let i=e[0]-n[0],o=e[1]-n[1];if(n.length>2&&e.length>2){let s=n[2]-e[2];return Math.sqrt(i*i+o*o+s*s)}return Math.sqrt(i*i+o*o)}function x(n,e,i){let o=n[0]+i*(e[0]-n[0]),s=n[1]+i*(e[1]-n[1]);return n.length>2&&e.length>2?[o,s,n[2]+i*(e[2]-n[2])]:[o,s]}function S(n,e,i,o){return z(n,e,i[o],i[o+1])}function z(n,e,i,o){let[s,a]=e,[r,t]=i,[l,u]=o,f=l-r,c=u-t,M=f*f+c*c,P=(s-r)*f+(a-t)*c,h=Math.min(1,Math.max(0,P/M));return n[0]=r+f*h,n[1]=t+c*h,n}function Z(n,e,i,o,s,a){let r=i,t=o,l=s-r,u=a-t;if(l!==0||u!==0){let f=((n-r)*l+(e-t)*u)/(l*l+u*u);f>1?(r=s,t=a):f>0&&(r+=l*f,t+=u*f)}return l=n-r,u=e-t,l*l+u*u}function D(n,e){return x(n,e,.5)}function E(n){let e=n.length,i=0;for(let o=0;o<e-1;++o)i+=y(n[o],n[o+1]);return i}function F(n,e){if(e<=0)return n[0];let i=n.length,o=0;for(let s=0;s<i-1;++s){let a=y(n[s],n[s+1]);if(e-o<a){let r=(e-o)/a;return x(n[s],n[s+1],r)}o+=a}return n[i-1]}function C(n,e=g.X,i=g.Y){let o=0,s=n.length,a=n[0];for(let r=1;r<s;r++){let t=n[r];o+=(t[e]-a[e])*(t[i]+a[i]),a=t}if(!d(n)){let r=n[0];o+=(r[e]-a[e])*(r[i]+a[i])}return o>=0}function d(n){let e=n.length;return e<3||p(n[0],n[e-1])}function W(n){"rings"in n&&(q(n),v(n))}function q(n){if(!("rings"in n))return!1;let e=!1;for(let i of n.rings)d(i)||(i.push(i[0].slice()),e=!0);return e}function v(n){if(!("rings"in n)||n.rings.length===0||C(n.rings[0]))return!1;for(let e of n.rings)e.reverse();return!0}function b(n){return n.type!=="polygon"&&n.type!=="polyline"||O(n.type==="polygon"?n.rings:n.paths,n.spatialReference),n}function O(n,e){let i=m(e);if(!i)return;let o=i.valid[0],s=i.valid[1],a=s-o;for(let r of n){let t=1/0,l=-1/0;for(let f of r){let c=A(f[0],o,s);t=Math.min(t,c),l=Math.max(l,c),f[0]=c}let u=l-t;a-u<u&&r.forEach(f=>{f[0]<0&&(f[0]+=a)})}}function A(n,e,i){let o=i-e;return n<e?i-(e-n)%o:n>i?e+(n-e)%o:n}function k(n,e){if(n===e)return!0;if(n.type!==e.type)return!1;if(n.type==="point"||n.type==="mesh"||n.type==="extent")return!0;if(n.type==="multipoint")return n.points.length===e.points.length;let[i,o]=n.type==="polyline"?[n.paths,e.paths]:[n.rings,e.rings];return i.length===o.length&&i.every((s,a)=>s.length===o[a].length)}export{R as a,y as b,S as c,z as d,Z as e,D as f,E as g,F as h,C as i,W as j,q as k,b as l,O as m,k as n};
