import{a as se}from"./chunk-VDKRSX77.js";import{F as _e}from"./chunk-E57FTRWF.js";import{f as y}from"./chunk-VTHXE323.js";var _,m=new Array(128).fill(void 0);function w(n){return m[n]}m.push(void 0,null,!0,!1);var j=m.length;function Le(n){n<132||(m[n]=j,j=n)}function l(n){let e=w(n);return Le(n),e}function g(n){j===m.length&&m.push(m.length+1);let e=j;return j=m[e],m[e]=n,e}var Oe=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Oe.decode();var P=null;function F(){return P!==null&&P.byteLength!==0||(P=new Uint8Array(_.memory.buffer)),P}function p(n,e){return n>>>=0,Oe.decode(F().subarray(n,n+e))}function E(n,e){return n>>>=0,F().subarray(n/1,n/1+e)}var ge=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>{_.__wbindgen_export_1.get(n.dtor)(n.a,n.b)});function Ve(n,e,t,r){let i={a:n,b:e,cnt:1,dtor:t},o=(...s)=>{i.cnt++;let d=i.a;i.a=0;try{return r(d,i.b,...s)}finally{--i.cnt==0?(_.__wbindgen_export_1.get(i.dtor)(d,i.b),ge.unregister(i)):i.a=d}};return o.original=i,ge.register(o,i,i),o}function Ne(n,e,t){_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h6f3c6e2a403d1e3d(n,e,g(t))}function Ye(){_.enable_tracing()}var c=0,G=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Xe=typeof G.encodeInto=="function"?function(n,e){return G.encodeInto(n,e)}:function(n,e){let t=G.encode(n);return e.set(t),{read:n.length,written:t.length}};function h(n,e,t){if(t===void 0){let d=G.encode(n),u=e(d.length,1)>>>0;return F().subarray(u,u+d.length).set(d),c=d.length,u}let r=n.length,i=e(r,1)>>>0,o=F(),s=0;for(;s<r;s++){let d=n.charCodeAt(s);if(d>127)break;o[i+s]=d}if(s!==r){s!==0&&(n=n.slice(s)),i=t(i,r,r=s+3*n.length,1)>>>0;let d=F().subarray(i+s,i+r);s+=Xe(n,d).written,i=t(i,r,s,1)>>>0}return c=s,i}var k=null;function a(){return(k===null||k.buffer.detached===!0||k.buffer.detached===void 0&&k.buffer!==_.memory.buffer)&&(k=new DataView(_.memory.buffer)),k}function I(n,e){try{return n.apply(this,e)}catch(t){_.__wbindgen_exn_store(g(t))}}function $e(n,e,t,r){_.wasm_bindgen__convert__closures__invoke2_mut__h367b7e3d952c2b06(n,e,g(t),g(r))}var T=null;function je(){return T!==null&&T.byteLength!==0||(T=new Float64Array(_.memory.buffer)),T}function Je(n,e){return n>>>=0,je().subarray(n/8,n/8+e)}var M=null;function Be(){return M!==null&&M.byteLength!==0||(M=new Uint32Array(_.memory.buffer)),M}function Qe(n,e){return n>>>=0,Be().subarray(n/4,n/4+e)}function v(n,e){n>>>=0;let t=a(),r=[];for(let i=n;i<n+4*e;i+=4)r.push(l(t.getUint32(i,!0)));return r}var q=null;function Ke(){return q!==null&&q.byteLength!==0||(q=new Uint16Array(_.memory.buffer)),q}function A(n,e){let t=e(2*n.length,2)>>>0;return Ke().set(n,t/2),c=n.length,t}function Ze(n,e){let t=e(4*n.length,4)>>>0,r=a();for(let i=0;i<n.length;i++)r.setUint32(t+4*i,g(n[i]),!0);return c=n.length,t}function f(n,e){if(!(n instanceof e))throw new Error(`expected instance of ${e.name}`);return n.ptr}function S(n,e){let t=e(8*n.length,8)>>>0;return je().set(n,t/8),c=n.length,t}function W(n,e){let t=e(4*n.length,4)>>>0;return Be().set(n,t/4),c=n.length,t}function b(n){return n==null}function ae(n,e){let t=e(1*n.length,1)>>>0;return F().set(n,t/1),c=n.length,t}function Ce(n,e,t){let r=h(n,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;return l(_.readMetadata(r,i,g(e),g(t)))}function He(n){let e=ae(n,_.__wbindgen_malloc),t=c;return l(_.readMetadataFromFile(e,t))}function et(n,e,t,r,i){let o=h(n,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;f(r,R);var d=r.__destroy_into_raw();let u=0;return b(i)||(f(i,x),u=i.__destroy_into_raw()),l(_.readFile(o,s,g(e),g(t),d,u))}function tt(n,e){let t=0;b(n)||(f(n,x),t=n.__destroy_into_raw());let r=ae(e,_.__wbindgen_malloc),i=c;return l(_.readFileFromBinary(t,r,i))}var _t=Object.freeze({None:0,0:"None",Snappy:1,1:"Snappy"}),O=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),nt=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],de=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_columndescriptor_free(n>>>0,1)),U=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,de.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,de.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_columndescriptor_free(e,0)}name(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}physicalType(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_physicalType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}logicalType(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_logicalType(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}encodings(){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_encodings(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=v(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}pageEncodings(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_pageEncodings(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=v(e,t).slice(),_.__wbindgen_free(e,4*t,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}numValues(){return _.columndescriptor_numValues(this.__wbg_ptr)}compression(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_compression(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}compressedSize(){return _.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return _.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_nullCount(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getBigInt64(r+8,!0);return e===0?void 0:t}finally{_.__wbindgen_add_to_stack_pointer(16)}}distinctCount(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_distinctCount(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getBigInt64(r+8,!0);return e===0?void 0:t}finally{_.__wbindgen_add_to_stack_pointer(16)}}minValue(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_minValue(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=E(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}maxValue(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.columndescriptor_maxValue(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=E(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}},ce=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_fieldmetadata_free(n>>>0,1)),B=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ce.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ce.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_fieldmetadata_free(e,0)}get name(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}get index(){return _.fieldmetadata_index(this.__wbg_ptr)}get type(){let e=_.fieldmetadata_esri_type(this.__wbg_ptr);return nt[e]}get physicalType(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_physical_type(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}get logicalType(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.fieldmetadata_logical_type(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}},we=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filemetadata_free(n>>>0,1)),R=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,we.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,we.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_filemetadata_free(e,0)}version(){return _.filemetadata_version(this.__wbg_ptr)}numRows(){return _.filemetadata_numRows(this.__wbg_ptr)>>>0}numFields(){return _.filemetadata_numFields(this.__wbg_ptr)>>>0}numColumns(){return _.filemetadata_numColumns(this.__wbg_ptr)>>>0}createdBy(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_createdBy(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=p(e,t).slice(),_.__wbindgen_free(e,1*t,1)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}keyValueMetadata(e){try{let i=_.__wbindgen_add_to_stack_pointer(-16),o=h(e,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filemetadata_keyValueMetadata(i,this.__wbg_ptr,o,s);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let d;return t!==0&&(d=p(t,r).slice(),_.__wbindgen_free(t,1*r,1)),d}finally{_.__wbindgen_add_to_stack_pointer(16)}}keys(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_keys(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);let i;return e!==0&&(i=v(e,t).slice(),_.__wbindgen_free(e,4*t,4)),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}getFieldIndex(e){let t=h(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c,i=_.filemetadata_getFieldIndex(this.__wbg_ptr,t,r);return i===16777215?void 0:i}getFieldByIndex(e){let t=_.filemetadata_getFieldByIndex(this.__wbg_ptr,e);return t===0?void 0:B.__wrap(t)}getFields(){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.filemetadata_getFields(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=v(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}},le=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_filewriter_free(n>>>0,1)),re=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,le.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,le.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_filewriter_free(e,0)}static new(e,t){let r=Ze(e,_.__wbindgen_malloc),i=c,o=_.filewriter_new(r,i,t);return n.__wrap(o)}writeKeyValue(e,t){let r=h(e,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c,o=h(t,_.__wbindgen_malloc,_.__wbindgen_realloc),s=c;_.filewriter_writeKeyValue(this.__wbg_ptr,r,i,o,s)}writeI32Page(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,Y);var r=t.__destroy_into_raw();_.filewriter_writeI32Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeI64Page(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,X);var r=t.__destroy_into_raw();_.filewriter_writeI64Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF32Page(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,L);var r=t.__destroy_into_raw();_.filewriter_writeF32Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeF64Page(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,V);var r=t.__destroy_into_raw();_.filewriter_writeF64Page(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeGeometryPage(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,N);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeStringPage(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,$);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeBytesPage(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16);f(t,D);var r=t.__destroy_into_raw();_.filewriter_writeBytesPage(o,this.__wbg_ptr,e,r);var i=a().getInt32(o+0,!0);if(a().getInt32(o+4,!0))throw l(i)}finally{_.__wbindgen_add_to_stack_pointer(16)}}finish(){try{let o=this.__destroy_into_raw(),s=_.__wbindgen_add_to_stack_pointer(-16);_.filewriter_finish(s,o);var e=a().getInt32(s+0,!0),t=a().getInt32(s+4,!0),r=a().getInt32(s+8,!0);if(a().getInt32(s+12,!0))throw l(r);var i=E(e,t).slice();return _.__wbindgen_free(e,1*t,1),i}finally{_.__wbindgen_add_to_stack_pointer(16)}}},ue=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_geometryinfodescriptor_free(n>>>0,1)),x=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ue.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ue.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_geometryinfodescriptor_free(e,0)}get geometryType(){let e=_.__wbg_get_geometryinfodescriptor_geometryType(this.__wbg_ptr);return e===4?void 0:e}set geometryType(e){_.__wbg_set_geometryinfodescriptor_geometryType(this.__wbg_ptr,b(e)?4:e)}get wkbIndex(){let e=_.__wbg_get_geometryinfodescriptor_wkbIndex(this.__wbg_ptr);return e===16777215?void 0:e}set wkbIndex(e){_.__wbg_set_geometryinfodescriptor_wkbIndex(this.__wbg_ptr,b(e)?16777215:e)}get lngIndex(){let e=_.__wbg_get_geometryinfodescriptor_lngIndex(this.__wbg_ptr);return e===16777215?void 0:e}set lngIndex(e){_.__wbg_set_geometryinfodescriptor_lngIndex(this.__wbg_ptr,b(e)?16777215:e)}get latIndex(){let e=_.__wbg_get_geometryinfodescriptor_latIndex(this.__wbg_ptr);return e===16777215?void 0:e}set latIndex(e){_.__wbg_set_geometryinfodescriptor_latIndex(this.__wbg_ptr,b(e)?16777215:e)}get xIndex(){let e=_.__wbg_get_geometryinfodescriptor_xIndex(this.__wbg_ptr);return e===16777215?void 0:e}set xIndex(e){_.__wbg_set_geometryinfodescriptor_xIndex(this.__wbg_ptr,b(e)?16777215:e)}get inWkid(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_inWkid(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);return e===0?void 0:t>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set inWkid(e){_.__wbg_set_geometryinfodescriptor_inWkid(this.__wbg_ptr,!b(e),b(e)?0:e)}get outWkid(){try{let r=_.__wbindgen_add_to_stack_pointer(-16);_.__wbg_get_geometryinfodescriptor_outWkid(r,this.__wbg_ptr);var e=a().getInt32(r+0,!0),t=a().getInt32(r+4,!0);return e===0?void 0:t>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set outWkid(e){_.__wbg_set_geometryinfodescriptor_outWkid(this.__wbg_ptr,!b(e),b(e)?0:e)}static new(){let e=_.geometryinfodescriptor_new();return n.__wrap(e)}setMultiscaleInfo(e){f(e,C);var t=e.__destroy_into_raw();_.geometryinfodescriptor_setMultiscaleInfo(this.__wbg_ptr,t)}},be=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_multiscaleinfo_free(n>>>0,1)),C=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,be.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,be.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_multiscaleinfo_free(e,0)}static new(){let e=_.multiscaleinfo_new();return n.__wrap(e)}push(e,t,r,i,o){_.multiscaleinfo_push(this.__wbg_ptr,e,t,r,i,o)}},pe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderbytes_free(n>>>0,1)),D=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,pe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,pe.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderbytes_free(e,0)}static new(){let e=_.pagebuilderbytes_new();return n.__wrap(e)}push(e){var t=b(e)?0:ae(e,_.__wbindgen_malloc),r=c;_.pagebuilderbytes_push(this.__wbg_ptr,t,r)}},fe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf32_free(n>>>0,1)),L=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,fe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,fe.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderf32_free(e,0)}static new(){let e=_.pagebuilderbytes_new();return n.__wrap(e)}push(e){_.pagebuilderf32_push(this.__wbg_ptr,!b(e),b(e)?0:e)}},ye=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderf64_free(n>>>0,1)),V=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ye.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ye.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderf64_free(e,0)}static new(){let e=_.multiscaleinfo_new();return n.__wrap(e)}push(e){_.pagebuilderf64_push(this.__wbg_ptr,!b(e),b(e)?0:e)}},he=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuildergeometry_free(n>>>0,1)),N=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,he.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,he.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuildergeometry_free(e,0)}static new(){let e=_.pagebuilderbytes_new();return n.__wrap(e)}writeXY(e,t){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.pagebuildergeometry_writeXY(i,this.__wbg_ptr,e,t);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePBF(e,t,r,i){try{let s=_.__wbindgen_add_to_stack_pointer(-16),d=S(e,_.__wbindgen_malloc),u=c,z=W(t,_.__wbindgen_malloc),te=c;_.pagebuildergeometry_writePBF(s,this.__wbg_ptr,d,u,z,te,r,i);var o=a().getInt32(s+0,!0);if(a().getInt32(s+4,!0))throw l(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolygon(e,t){try{let i=_.__wbindgen_add_to_stack_pointer(-16),o=S(e,_.__wbindgen_malloc),s=c,d=W(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolygon(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writePolyline(e,t){try{let i=_.__wbindgen_add_to_stack_pointer(-16),o=S(e,_.__wbindgen_malloc),s=c,d=W(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writePolyline(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeMultipoint(e,t){try{let i=_.__wbindgen_add_to_stack_pointer(-16),o=S(e,_.__wbindgen_malloc),s=c,d=W(t,_.__wbindgen_malloc),u=c;_.pagebuildergeometry_writeMultipoint(i,this.__wbg_ptr,o,s,d,u);var r=a().getInt32(i+0,!0);if(a().getInt32(i+4,!0))throw l(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}writeNone(){_.pagebuildergeometry_writeNone(this.__wbg_ptr)}},me=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi32_free(n>>>0,1)),Y=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,me.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,me.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderi32_free(e,0)}static new(){let e=_.pagebuilderbytes_new();return n.__wrap(e)}push(e){_.pagebuilderi32_push(this.__wbg_ptr,!b(e),b(e)?0:e)}},Ie=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderi64_free(n>>>0,1)),X=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,Ie.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,Ie.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderi64_free(e,0)}static new(){let e=_.multiscaleinfo_new();return n.__wrap(e)}push(e){_.pagebuilderi64_push(this.__wbg_ptr,!b(e),b(e)?0:e)}},ke=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pagebuilderstring_free(n>>>0,1)),$=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ke.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ke.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pagebuilderstring_free(e,0)}static new(){let e=_.pagebuilderbytes_new();return n.__wrap(e)}push(e){var t=b(e)?0:h(e,_.__wbindgen_malloc,_.__wbindgen_realloc),r=c;_.pagebuilderstring_push(this.__wbg_ptr,t,r)}},Fe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_pageencodingdescriptor_free(n>>>0,1)),J=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,Fe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,Fe.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_pageencodingdescriptor_free(e,0)}pageType(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_pageType(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}encoding(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.pageencodingdescriptor_encoding(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}count(){return _.pageencodingdescriptor_count(this.__wbg_ptr)}},ve=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetchunk_free(n>>>0,1)),Q=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ve.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ve.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_parquetchunk_free(e,0)}size(){return _.parquetchunk_size(this.__wbg_ptr)>>>0}hasField(e){return _.parquetchunk_hasField(this.__wbg_ptr,e)!==0}readX(e){return _.parquetchunk_readX(this.__wbg_ptr,e)}readY(e){return _.parquetchunk_readY(this.__wbg_ptr,e)}readCoords(e){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readCoords(i,this.__wbg_ptr,e);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return t!==0&&(o=Je(t,r).slice(),_.__wbindgen_free(t,8*r,8)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readLengths(e){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetchunk_readLengths(i,this.__wbg_ptr,e);var t=a().getInt32(i+0,!0),r=a().getInt32(i+4,!0);let o;return t!==0&&(o=Qe(t,r).slice(),_.__wbindgen_free(t,4*r,4)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}readGeometryTransformed(e,t,r,i,o){let s=_.parquetchunk_readGeometryTransformed(this.__wbg_ptr,e,t,r,i,o);return s===0?void 0:K.__wrap(s)}boundsXMin(e){return _.parquetchunk_boundsXMin(this.__wbg_ptr,e)}boundsYMin(e){return _.parquetchunk_boundsYMin(this.__wbg_ptr,e)}boundsXMax(e){return _.parquetchunk_boundsXMax(this.__wbg_ptr,e)}boundsYMax(e){return _.parquetchunk_boundsYMax(this.__wbg_ptr,e)}readAttribute(e,t){return l(_.parquetchunk_readAttribute(this.__wbg_ptr,e,t))}},Re=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_parquetfile_free(n>>>0,1)),Ae=class Se{static __wrap(e){e>>>=0;let t=Object.create(Se.prototype);return t.__wbg_ptr=e,Re.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,Re.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_parquetfile_free(e,0)}metadata(){let e=_.parquetfile_metadata(this.__wbg_ptr);return R.__wrap(e)}rowGroups(){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.parquetfile_rowGroups(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=v(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}readChunksWithCallback(e,t){let r=A(e,_.__wbindgen_malloc),i=c;return l(_.parquetfile_readChunksWithCallback(this.__wbg_ptr,r,i,g(t)))}readFirstChunk(e){let t=A(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readFirstChunk(this.__wbg_ptr,t,r))}readAllChunks(e){let t=A(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_readAllChunks(this.__wbg_ptr,t,r))}updateChunks(e){let t=A(e,_.__wbindgen_malloc),r=c;return l(_.parquetfile_updateChunks(this.__wbg_ptr,t,r))}},xe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_quantizedgeometry_free(n>>>0,1)),K=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,xe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,xe.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_quantizedgeometry_free(e,0)}readCoordsUnsafe(){return l(_.quantizedgeometry_readCoordsUnsafe(this.__wbg_ptr))}readLengthsUnsafe(){return l(_.quantizedgeometry_readLengthsUnsafe(this.__wbg_ptr))}},ze=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rangeproviderjs_free(n>>>0,1)),ie=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,ze.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,ze.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_rangeproviderjs_free(e,0)}static new(e,t){let r=_.rangeproviderjs_new(g(e),g(t));return n.__wrap(r)}static withFetch(){let e=_.rangeproviderjs_withFetch();return n.__wrap(e)}},Pe=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_rowgroup_free(n>>>0,1)),Z=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,Pe.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,Pe.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_rowgroup_free(e,0)}columns(){try{let i=_.__wbindgen_add_to_stack_pointer(-16);_.rowgroup_columns(i,this.__wbg_ptr);var e=a().getInt32(i+0,!0),t=a().getInt32(i+4,!0),r=v(e,t).slice();return _.__wbindgen_free(e,4*t,4),r}finally{_.__wbindgen_add_to_stack_pointer(16)}}},Te=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(n=>_.__wbg_schemafield_free(n>>>0,1)),H=class n{static __wrap(e){e>>>=0;let t=Object.create(n.prototype);return t.__wbg_ptr=e,Te.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof n?e.__destroy_into_raw():0}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,Te.unregister(this),e}free(){let e=this.__destroy_into_raw();_.__wbg_schemafield_free(e,0)}static tryNew(e,t){try{let o=_.__wbindgen_add_to_stack_pointer(-16),s=h(e,_.__wbindgen_malloc,_.__wbindgen_realloc),d=c,u=h(t,_.__wbindgen_malloc,_.__wbindgen_realloc),z=c;_.schemafield_tryNew(o,s,d,u,z);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);if(a().getInt32(o+8,!0))throw l(i);return n.__wrap(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}name(){let e,t;try{let o=_.__wbindgen_add_to_stack_pointer(-16);_.schemafield_name(o,this.__wbg_ptr);var r=a().getInt32(o+0,!0),i=a().getInt32(o+4,!0);return e=r,t=i,p(r,i)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(e,t,1)}}};function rt(n,e){return y(this,null,function*(){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return yield WebAssembly.instantiateStreaming(n,e)}catch(r){if(n.headers.get("Content-Type")=="application/wasm")throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}let t=yield n.arrayBuffer();return yield WebAssembly.instantiate(t,e)}{let t=yield WebAssembly.instantiate(n,e);return t instanceof WebAssembly.Instance?{instance:t,module:n}:t}})}function We(){let n={wbg:{}};return n.wbg.__wbg_new_abda76e883ba8a5f=function(){return g(new Error)},n.wbg.__wbg_stack_658279fe44541cf6=function(e,t){let r=h(w(t).stack,_.__wbindgen_malloc,_.__wbindgen_realloc),i=c;a().setInt32(e+4,i,!0),a().setInt32(e+0,r,!0)},n.wbg.__wbg_error_f851667af71bcfc6=function(e,t){let r,i;try{r=e,i=t,console.error(p(e,t))}finally{_.__wbindgen_free(r,i,1)}},n.wbg.__wbindgen_object_drop_ref=function(e){l(e)},n.wbg.__wbindgen_is_function=function(e){return typeof w(e)=="function"},n.wbg.__wbg_self_3093d5d1f7bcb682=function(){return I(function(){return g(self.self)},arguments)},n.wbg.__wbg_window_3bcfc4d31bc012f8=function(){return I(function(){return g(window.window)},arguments)},n.wbg.__wbg_globalThis_86b222e13bdf32ed=function(){return I(function(){return g(globalThis.globalThis)},arguments)},n.wbg.__wbg_global_e5a3fe56f8be9485=function(){return I(function(){return g(global.global)},arguments)},n.wbg.__wbindgen_is_undefined=function(e){return w(e)===void 0},n.wbg.__wbg_newnoargs_76313bd6ff35d0f2=function(e,t){return g(new Function(p(e,t)))},n.wbg.__wbindgen_object_clone_ref=function(e){return g(w(e))},n.wbg.__wbindgen_number_new=function(e){return g(e)},n.wbg.__wbindgen_string_new=function(e,t){return g(p(e,t))},n.wbg.__wbg_call_1084a111329e68ce=function(){return I(function(e,t){return g(w(e).call(w(t)))},arguments)},n.wbg.__wbg_call_89af060b4e1523f2=function(){return I(function(e,t,r){return g(w(e).call(w(t),w(r)))},arguments)},n.wbg.__wbg_call_7de908392845a9a5=function(){return I(function(e,t,r,i,o){return g(w(e).call(w(t),w(r),w(i),w(o)))},arguments)},n.wbg.__wbg_valueOf_563b3487b1b116aa=function(e){return w(e).valueOf()},n.wbg.__wbg_buffer_b7b08af79b0b0974=function(e){return g(w(e).buffer)},n.wbg.__wbg_new_b85e72ed1bfd57f9=function(e,t){try{var r={a:e,b:t},i=(o,s)=>{let d=r.a;r.a=0;try{return $e(d,r.b,o,s)}finally{r.a=d}};return g(new Promise(i))}finally{r.a=r.b=0}},n.wbg.__wbg_resolve_570458cb99d56a43=function(e){return g(Promise.resolve(w(e)))},n.wbg.__wbg_then_95e6edc0f89b73b1=function(e,t){return g(w(e).then(w(t)))},n.wbg.__wbg_then_876bb3c633745cc6=function(e,t,r){return g(w(e).then(w(t),w(r)))},n.wbg.__wbg_newwithbyteoffsetandlength_b5293b0eedbac651=function(e,t,r){return g(new Int16Array(w(e),t>>>0,r>>>0))},n.wbg.__wbg_new_ea1883e1e5e86686=function(e){return g(new Uint8Array(w(e)))},n.wbg.__wbg_newwithbyteoffsetandlength_874df3e29cb555f9=function(e,t,r){return g(new Uint32Array(w(e),t>>>0,r>>>0))},n.wbg.__wbg_length_8339fcf5d8ecd12e=function(e){return w(e).length},n.wbg.__wbg_set_d1e79e2388520f18=function(e,t,r){w(e).set(w(t),r>>>0)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(p(e,t))},n.wbg.__wbindgen_memory=function(){return g(_.memory)},n.wbg.__wbindgen_array_new=function(){return g([])},n.wbg.__wbindgen_array_push=function(e,t){w(e).push(l(t))},n.wbg.__wbindgen_uint8_array_new=function(e,t){var r=E(e,t).slice();return _.__wbindgen_free(e,1*t,1),g(r)},n.wbg.__wbg_queueMicrotask_48421b3cc9052b68=function(e){return g(w(e).queueMicrotask)},n.wbg.__wbindgen_cb_drop=function(e){let t=l(e).original;return t.cnt--==1?(t.a=0,!0):!1},n.wbg.__wbg_queueMicrotask_12a30234db4045d3=function(e){queueMicrotask(w(e))},n.wbg.__wbg_parquetchunk_new=function(e){return g(Q.__wrap(e))},n.wbg.__wbg_parquetfile_new=function(e){return g(Ae.__wrap(e))},n.wbg.__wbg_filemetadata_new=function(e){return g(R.__wrap(e))},n.wbg.__wbg_fieldmetadata_new=function(e){return g(B.__wrap(e))},n.wbg.__wbg_rowgroup_new=function(e){return g(Z.__wrap(e))},n.wbg.__wbg_schemafield_unwrap=function(e){return H.__unwrap(l(e))},n.wbg.__wbg_columndescriptor_new=function(e){return g(U.__wrap(e))},n.wbg.__wbg_pageencodingdescriptor_new=function(e){return g(J.__wrap(e))},n.wbg.__wbindgen_closure_wrapper1827=function(e,t,r){return g(Ve(e,t,163,Ne))},n}function Ge(n,e){return _=n.exports,Ee.__wbindgen_wasm_module=e,k=null,T=null,q=null,M=null,P=null,_.__wbindgen_start(),_}function it(n){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module:n}=n:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));let e=We();return n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n)),Ge(new WebAssembly.Instance(n,e),n)}function Ee(n){return y(this,null,function*(){if(_!==void 0)return _;n!==void 0&&(Object.getPrototypeOf(n)===Object.prototype?{module_or_path:n}=n:console.warn("using deprecated parameters for the initialization function; pass a single object instead"));let e=We();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));let{instance:t,module:r}=yield rt(yield n,e);return Ge(t,r)})}var ot=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:U,CompressMode:_t,FieldMetadata:B,FileMetadata:R,FileWriter:re,GeometryInfoDescriptor:x,GeometryType:O,MultiScaleInfo:C,PageBuilderBytes:D,PageBuilderF32:L,PageBuilderF64:V,PageBuilderGeometry:N,PageBuilderI32:Y,PageBuilderI64:X,PageBuilderString:$,PageEncodingDescriptor:J,ParquetChunk:Q,ParquetFile:Ae,QuantizedGeometry:K,RangeProviderJs:ie,RowGroup:Z,SchemaField:H,default:Ee,enable_tracing:Ye,initSync:it,readFile:et,readFileFromBinary:tt,readMetadata:Ce,readMetadataFromFile:He},Symbol.toStringTag,{value:"Module"})),ne=null;function oe(){return y(this,null,function*(){return ne||(ne=at()),ne})}function at(){return y(this,null,function*(){let n=yield Promise.resolve().then(()=>ot);return yield n.default({module_or_path:se("esri/libs/parquet/pkg/arcgis_parquet_bg.wasm")}),n})}var Ue=n=>function(e,t,r){return y(this,null,function*(){let i=n(),{data:o}=yield _e(e,{responseType:"array-buffer",query:i,headers:{range:`bytes=${t}-${r}`}});return o})},De=n=>function(e){return y(this,null,function*(){let t=n(),{data:r}=yield _e(e,{responseType:"native",method:"head",query:t}),i=r.headers.get("Content-Length");if(i==null)throw new Error("Unable to parse content length");return parseInt(i,10)})},ee=class n{static create(e,t){return y(this,null,function*(){let r=yield oe(),i=yield r.readMetadata(e,Ue(t),De(t));return n.fromFileMetadata(i)})}static fromFileMetadata(e){let t=[];for(let r=0;r<e.numFields();r++){let i=e.getFieldByIndex(r);t.push({name:i.name,type:i.type,alias:i.name,index:i.index}),i.free()}return new n(e,t)}constructor(e,t){this._inner=e,this.fields=t}destroy(){this._inner.free()}[Symbol.dispose](){this.destroy()}get size(){return this._inner.numRows()}getFieldIndex(e){return this._inner.getFieldIndex(e)}tryReadGeoMetadata(){let e=this._inner.keyValueMetadata("geo");return e==null?null:JSON.parse(e)}tryReadEsriMetadata(){let e=this._inner.keyValueMetadata("esri");return e==null?null:JSON.parse(e)}};function st(n){switch(n){case"esriGeometryPoint":return O.Point;case"esriGeometryPolygon":return O.Polygon;case"esriGeometryPolyline":return O.Polyline;case"esriGeometryMultipoint":return O.Multipoint;default:throw new Error(`InternalError: Found unexpected GeometryType: ${n}`)}}function Me(n,e,t){let r=x.new();if(r.geometryType=st(n.geometryType),n.type==="location")r.latIndex=e.getFieldIndex(n.latitudeFieldName),r.lngIndex=e.getFieldIndex(n.longitudeFieldName);else{if(n.primaryFieldName==null)throw new Error("InternalError: A primary field name or set of location fields must be defined");if(r.wkbIndex=e.getFieldIndex(n.primaryFieldName),n.multiscale){let i=C.new();for(let o of n.multiscale.levels){let[s,d]=o.transform.translate,[u,z]=o.transform.scale,te=e.getFieldIndex(o.column);i.push(te,s,d,u,z)}r.setMultiscaleInfo(i)}}return r.inWkid=n.spatialReference.wkid,t&&(r.outWkid=t.wkid),r}var qe=class n{static create(e,t){return y(this,null,function*(){let r=yield oe(),i=Ue(t.getCustomParameters),o=De(t.getCustomParameters),s=yield Ce(e,i,o),d=Me(t.geometryInfo,s,t.outSpatialReference),u=yield r.readFile(e,i,o,s,d);return new n(u,ee.fromFileMetadata(u.metadata()))})}static fromFile(e,t,r){return y(this,null,function*(){let i=yield oe(),o=yield i.readMetadataFromFile(e),s=t?Me(t,o,r):void 0,d=yield i.readFileFromBinary(s,e);return new n(d,ee.fromFileMetadata(d.metadata()))})}constructor(e,t){this.inner=e,this.metadata=t}destroy(){this.inner.free(),this.metadata.destroy()}[Symbol.dispose](){this.destroy()}};export{qe as a};
